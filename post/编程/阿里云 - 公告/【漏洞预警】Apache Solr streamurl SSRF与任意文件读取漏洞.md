
---
title: 【漏洞预警】Apache Solr stream.url SSRF与任意文件读取漏洞
categories: 
    - 编程
    - 阿里云 - 公告
author: 阿里云 - 公告
comments: false
date: Thu, 18 Mar 2021 02:51:31 GMT
thumbnail: 'https://knowledgecloud.oss-cn-hangzhou.aliyuncs.com/kc/kc-media/kc-oss-1616036380269-image.png'
---

<div>   
<p>2021年3月18日，阿里云应急响应中心监测到Apache Solr存在SSRF与文件读取漏洞。</p><p><br><strong>漏洞描述</strong></p><p>Apache Solr是一个开源的搜索服务，使用Java语言开发。Apache Solr的某些功能存在过滤不严格，在Apache Solr未开启认证的情况下，攻击者可直接构造特定请求开启特定配置，并最终造成SSRF或文件读取漏洞。<strong>阿里云应急响应中心提醒Solr用户尽快采取安全措施阻止漏洞攻击。</strong></p><p><br></p><p></p><p><strong>漏洞评级</strong></p><p>Apache Solr stream.url SSRF与任意文件读取漏洞 中危</p><p><br></p><p></p><p>漏洞细节：公开</p><p>漏洞POC：公开</p><p>漏洞EXP：公开</p><p>在野利用：未知</p><p></p><p><br><strong>漏洞复现</strong></p><p><img src="https://knowledgecloud.oss-cn-hangzhou.aliyuncs.com/kc/kc-media/kc-oss-1616036380269-image.png" width="834" height="416" referrerpolicy="no-referrer"></p><p><br></p><p><strong>影响版本</strong></p><p>Apache Solr 所有版本</p><p><br></p><p><strong>安全版本</strong></p><p>官方不予修复，暂无安全版本。</p><p><br></p><p><strong>安全建议</strong></p><p>1. 增加身份验证/授权，可参考官方文档：<a href="https://lucene.apache.org/solr/guide/8_6/authentication-and-authorization-plugins.html" target="_blank" class>https://lucene.apache.org/solr/guide/8_6/authentication-and-authorization-plugins.html</a></p><p>2. 禁止Solr API 以及管理 UI 直接对公网开放。设置防火墙，以便只允许受信任的计算机和人员访问。</p><p><br></p><p><strong>相关链接</strong></p><p><a href="https://issues.apache.org/jira/browse/SOLR" target="_self" class>https://issues.apache.org/jira/browse/SOLR</a><br><br><br><strong>云盾</strong><a href="https://yundunnext.console.aliyun.com/?spm=5176.2020520001.aliyun_sidebar.28.49f316d0Dm8OZE&p=waf#/waf/cn/buy" target="_blank" class><strong>WAF</strong></a><strong>已可防护该类漏洞，并提供7天免费漏洞应急服务，为您争取漏洞修复时间，应急开通地址：</strong><a style="background-color:transparent" href="https://c.tb.cn/I3.XzCtR" target="_blank" class><strong>https://c.tb.cn/I3.XzCtR</strong></a></p><p style="text-align:start;line-height:24px"><strong>阿里云</strong><a style="font-size:14px;font-weight:400;letter-spacing:normal;text-align:start;white-space:normal;color:rgb(0, 183, 211);background-color:transparent;margin:0px;margin-bottom:0px;margin-top:0px;margin-left:0px;margin-right:0px;padding:0px;padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px" href="https://yundunnext.console.aliyun.com/?p=sasnext#/vulManage/cn-hangzhou" target="_blank" class><strong>云安全中心</strong></a><strong>应急漏洞模块已支持对该漏洞一键检测</strong><br><strong>阿里云</strong><a style="font-size:14px;font-weight:400;letter-spacing:normal;text-align:start;white-space:normal;color:rgb(0, 183, 211);background-color:rgb(255, 255, 255);margin:0px;margin-bottom:0px;margin-top:0px;margin-left:0px;margin-right:0px;padding:0px;padding-bottom:0px;padding-top:0px;padding-left:0px;padding-right:0px" href="https://yundunnext.console.aliyun.com/?p=cfwnext#/overview/safe" target="_blank" class><strong>云防火墙</strong></a><strong>已可防御此漏洞攻击</strong></p><p></p><p></p><p>我们会关注后续进展，请随时关注官方公告。</p><p>如有任何问题，可随时通过工单或服务电话95187联系反馈。</p><p style="text-align:right">阿里云应急响应中心</p><p style="text-align:right">2021.3.18</p>  
</div>
            