
---
title: '这个新格式比JPEG强50倍，但还是干不掉30年前的JPEG'
categories: 
 - 新媒体
 - 虎嗅
 - 首页资讯
headimg: 'https://img.huxiucdn.com/article/content/202201/16/085629310073.png?imageView2/2/w/1000/format/png/interlace/1/q/85'
author: 虎嗅
comments: false
date: Sun, 16 Jan 2022 02:35:00 GMT
thumbnail: 'https://img.huxiucdn.com/article/content/202201/16/085629310073.png?imageView2/2/w/1000/format/png/interlace/1/q/85'
---

<div>   
<p><span class="text-remarks" label="备注">本文来自微信公众号：</span><a href="https://mp.weixin.qq.com/s/RRtVSBkJ1QKNUA48A1tYOA" target="_blank" rel="nofollow" style="text-decoration: none;"><span class="text-remarks">差评（ID：chaping321）</span></a><span class="text-remarks">，作者：世超、亚南，编辑：小鑫鑫，题图来自：视觉中国</span></p><p>前阵子有个开发者推出了一种新的图像格式，试图挑战现在图片格式界的王者 .PNG 跟 .JPEG 。</p><p>这个新的图像格式的名字相当好。</p><p>就叫：相当好<span class="text-remarks" label="备注">（The Quite OK）</span>图像格式。<br></p><p label="图片备注" class="text-img-note">简称：QOI ▼</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085629310073.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="815" data-h="416" src="https://img.huxiucdn.com/article/content/202201/16/085629310073.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>开发者声称 QOI 能够将图像无损压缩到与 PNG 相似的大小，同时提供 20-50 倍的编码速度和 3-4 倍的解码速度。</p><p>总之，<strong>又快又好。</strong></p><p>对于这个格式在性能上比现在的王者们更猛这一点，世超并不怀疑。</p><p><strong>咱们最常用格式都是多年前的产物，JPEG 的首次发布是 29 年前，而 PNG 的首次发布是 25 年前。</strong></p><p>JPEG 作为一种有损压缩格式，压缩时会损失画质，<strong>一直压，一直损，</strong>到“电子包浆”为止，还可能会变绿。</p><p>尽管会导致细节色彩信息丢失，可 JPEG 能把图像体积压缩到够小。<br></p><p>在那个上网时间寸秒寸金，网络传输速度理论值近似龟爬的时代， JPEG 迅速捕获网民们的心，风靡一时。</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085633616002.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="701" data-h="417" src="https://img.huxiucdn.com/article/content/202201/16/085633616002.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>在人类历史上，崭新领先的技术不断驱逐陈旧落后的技术是一种运行规律。</p><p><strong>但在图像格式领域，这种规律仿佛失灵了。</strong></p><p>尽管长江后浪不断推涌着前浪，但20年、30年过去了，都没能把前浪拍死在沙滩上。</p><p>举几个例子。</p><p>2018 年 12 月，Netflix<span class="text-remarks" label="备注">（ 网飞 ）</span>发布了 AVIF 图像，在他们所发布的技术播客中，称之为“下一代图像编码算法”。</p><p label="图片备注" class="text-img-note">这是柯达数据集的原始图像 ↓ ↓</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085635231347.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="841" data-h="558" src="https://img.huxiucdn.com/article/content/202201/16/085635231347.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>咱们先看 20KB 大小这个量级的对比。</p><p>这是 AVIF 格式，约 19.32KB 。</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085637499965.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="839" data-h="548" src="https://img.huxiucdn.com/article/content/202201/16/085637499965.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>下面这张是 JPEG ，大小为 19.95KB 。</p><p>比 AVIF 格式还大一丢丢，但图像效果嘛……</p><p>说句毫无细节可言，不过分吧？</p><p label="图片备注" class="text-img-note">存在大色块的涂抹、变色▼</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085640374924.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="844" data-h="559" src="https://img.huxiucdn.com/article/content/202201/16/085640374924.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>而在 40KB 这个体积量级，网飞也放出了一组图。</p><p label="图片备注" class="text-img-note">这次 JPEG 格式的，看上去好像跟原图差不多了？ ↓ ↓</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085642636563.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="768" data-h="512" src="https://img.huxiucdn.com/article/content/202201/16/085642636563.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>但，如果你仔细观察观察天空，以及屋顶边缘边上的噪点，会发现还是有一丢丢区别。<br></p><p label="图片备注" class="text-img-note">40KB 量级</p><p label="图片备注" class="text-img-note">JPEG 跟 AVIF 对比图▼</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085644533236.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="783" data-h="534" src="https://img.huxiucdn.com/article/content/202201/16/085644533236.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>尽管 AVIF 优势明显，但即便是现在，又有多少人知道 AVIF ？<br></p><p>时间再稍稍推远一些。</p><p>2017 年“宇宙级”手机厂苹果宣布从 iOS11 开始 iPhone 照片格式改为 HEIF 。</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085646300745.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="393" data-h="276" src="https://img.huxiucdn.com/article/content/202201/16/085646300745.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>同等画质下， HEIF 的大小几乎是 JPEG 的二分之一。</p><p>把时间再往前推， 2000 年 JPEG 推出了算法升级版 JPEG 2000 ，试图取代 JPEG 。<br></p><p>然而 22 年过去，至今仍然只有少数浏览器，以及数字影院、网络地图等部分领域应用。</p><p>JPEG2000 的性能是否更优异存疑，毕竟它编解码效率饱受诟病。</p><p>但性能上靠谱的格式，厂商也会因为担心专利风险，或是被兼容性困扰，种种原因导致它们也无法被大规模推广开来。</p><p>就拿 HEIF 来说，你甚至无法在全世界使用人数最多的操作系统上无障碍使用它。</p><p>想用？没问题。先下个扩展组件……</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085655220686.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="458" data-h="618" src="https://img.huxiucdn.com/article/content/202201/16/085655220686.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>但，你几乎找不到一个打不开 JPEG 格式的设备。</p><p>同样古早的，还有GIF。<br></p><p>这个格式 1987 年发布， 1989 年发布最后一个版本，比世超年纪还大。</p><p label="图片备注" class="text-img-note">也由于此，GIF 的文件头一般都是 GIF87a 或 GIF89a ↓ ↓</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085656168149.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="340" data-h="120" src="https://img.huxiucdn.com/article/content/202201/16/085656168149.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>GIF 格式作为古早的格式缺点也很明显，比如图像只支持 8bit 颜色，每一帧最多只能有 256 种颜色。</p><p>为了 “ 克服 ” 这些缺点，这些年有过不少新解决方案。<br></p><p>诞生于 2004 年的 APNG 支持 24bit 图像，可以容纳 1600 多万种颜色，还支持 8bit 透明度。</p><p>尽管性能不赖，但即便是这个格式 “ 十岁 ” 的时候，大家对比它跟 GIF 时，还是那句话：<strong>设备不支持啊。</strong></p><p label="图片备注" class="text-img-note">2014 年的回答▼</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085657415689.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="879" data-h="415" src="https://img.huxiucdn.com/article/content/202201/16/085657415689.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>就拿浏览器来说，APNG 诞生的前几年，只有火狐支持它。</p><p>什么意思呢，大概就是在 Chrome 、 Safari 这些主流浏览器上打开 APNG 格式的图像，它们会让你洗洗睡。</p><p label="图片备注" class="text-img-note">恶搞一下，不要认真 ~ ▼</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085659127596.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="720" data-h="343" src="https://img.huxiucdn.com/article/content/202201/16/085659127596.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>当然，现在的情况早已发生改变了。</p><p>2016 年前后苹果家 Safari 开始支持 APNG， 2018 年前后 Chromium 也加入了，现在主流浏览器基本都对 APNG 开绿灯。</p><p class="img-center-box"><img class="lazyImg" _src="https://img.huxiucdn.com/article/content/202201/16/085700883033.png?imageView2/2/w/1000/format/png/interlace/1/q/85" data-w="1000" data-h="447" src="https://img.huxiucdn.com/article/content/202201/16/085700883033.png?imageView2/2/w/1000/format/png/interlace/1/q/85" referrerpolicy="no-referrer"></p><p>类似的解决方案还有 WebP 。</p><p>WebP 于 2010 年推出，除了有优秀的图像数据压缩算法，同时支持有损压缩和无损压缩，还可以搞动画。</p><p>是不是听起来都还不错？</p><p>所以 Mozilla 社区推崇 APNG ，Chrome 力挺自己的 WebP ，都觉得自己的格式好。<br></p><p>世超以前看过一个梗，大概是这样。</p><p>——“我们有 9 个标准，太复杂了，而且都有各自的缺陷，必须统一标准。” </p><p>——“好的，我们现在有 10 个标准了。”</p><p><strong>总之，为了利益，谁都不服气谁，最后标准没有统一，反而越来越多，当初的标准大佬“躺赢”。</strong></p><p>技术日新月异，飞速发展， 20 多年前被开发出来的图像格式，综合来说，在技术层面上很难比得上新诞生的格式。</p><p><strong>但技术落后却不影响，王者们仍然靠着“兼容”的优势继续成为主流。</strong></p><p>多少有点戏剧。<br></p><p>至于文章开头那位相当好图像格式能不能成为主流嘛，要世超来说，有点悬。尽管它有一项很关键的优势，<strong>免费开源。</strong></p><p>但为了成为“标准”，不少背靠互联网大佬们的图像格式在专利上也相对开放。</p><p>有天然用户基础的格式还没成功，其他的格式难度当然是更大了。</p><p>纵然新生图像格式们，带着新技术和壮志“逐鹿中原”，但可以预见的是，老派图像格式的王朝不会轻易结束。</p><p>不过——<br></p><p>尽管新技术的科普需要时间，也许这个时间会很漫长，可是它终会到来。看看 Type-C 接口你就懂了。</p><p>当 .JPEG 被越来越多的网友调侃是文物的时候。</p><p>当 Twitter 用 MP4 取代 GIF 的时候。</p><p>时代已经在改变了。</p><p><span class="text-remarks" label="备注">部分参考资料、图片来源：</span></p><p><span class="text-remarks" label="备注">twitter ： @milohartnoll</span></p><p><span class="text-remarks" label="备注">netflixtechblog.com </span></p><p><span class="text-remarks" label="备注">adobe.com </span></p><p><span class="text-remarks" label="备注">caniuse.com </span></p><p><span class="text-remarks" label="备注">本文来自微信公众号：</span><a href="https://mp.weixin.qq.com/s/RRtVSBkJ1QKNUA48A1tYOA" target="_blank" rel="nofollow" style="text-decoration: none;"><span class="text-remarks">差评（ID：chaping321）</span></a><span class="text-remarks">，作者：世超、亚南，编辑：小鑫鑫</span></p>  
</div>
            