
---
title: '【Web3 学习笔记】#4 区块链：从创世纪到热带雨林'
categories: 
 - 新媒体
 - Matters
 - 最新、熱議、精華
headimg: 'https://assets.matters.news/embed/623ce72a-69ea-41bd-a1ea-acd65b78399f.png'
author: Matters
comments: false
date: Tue, 12 Apr 2022 15:43:32 GMT
thumbnail: 'https://assets.matters.news/embed/623ce72a-69ea-41bd-a1ea-acd65b78399f.png'
---

<div>   
<p>在上上周的学习小组中，@MatDev 做了题为 <a href="https://www.dropbox.com/scl/fi/fnpi6kre9kc7moig4x4j8/Public-chains.paper?dl=0&rlkey=7fidy8mmu1w23oepcre4qcu9g" rel="noopener noreferrer" target="_blank">Public Chains</a> 的报告， 知识点都比较“硬”，我学得比较吃力，这篇笔记写了两周多，终于勉强将自己的理解整理成文，个别技术要点也许不尽准确，欢迎各位同学指正。</p><h2>创世纪</h2><p>历史上，米、丝绸、贝壳、贵重金属……这些自身有一定经济价值的物品，都曾经被当作过货币。自身价值几乎为0的纸张成为通行货币，这是一个重大的历史事件，揭示了金钱的秘密：钱长成什么样、自身有什么价值，统统不重要，<strong>只要足够多的人信它，它就有用。</strong>我们今天的无数交易都在网络上进行，货币变成了计算机里的一串数字。我们之所以都相信这些数字是有实际价值的，是因为这些数字有各个国家的中央银行背书。然而2008～2010那几年，美国次贷危机和欧债危机爆发，相关政府机构没有及时惩戒造成危机金融机构，反而让普通纳税人成了冤大头，越来越多人丧失了对政府主导的金融体系的信任。区块链是在这样的背景下诞生的：在没有央行和政府背书的情况下，怎样建立一个可信任的pear-to-pear交易系统？</p><p>Bitcoin既是第一个区块链技术的落地实施，也是第一个用于交易的加密货币。它的设计最起码确保了两件事：（1）根据它的算法协议，Bitcoin的总量有上限，确保了它作为一种资产的稀缺性，被成为「<strong>数字黄金</strong>」，也即是具有保值的能力。（2）新区块的产生需要消耗大量的计算资源，并且要得到整个区块网络上各个节点的共识，因此难以被骇客攻击或造假，具有公信力。</p><p>在头一批Bitcoin产生出来之后，它的价值并不清晰。2010年5月，住在佛罗里达州的 laszlo 在<a href="https://bitcointalk.org/index.php?topic=137.0" rel="noopener noreferrer" target="_blank">加密币论坛</a>里说，愿意出10,000个Bitcoin买两盒送货上门的比萨。住在加州的jercos 打电话给佛州的Papa John's 比萨店订购了两盒送去 laszlo家，满足了这笔交易。这个里程碑象征着在<strong>没有中央机构背书的情况下，两个陌生人单凭对区块链共同的信任完成了实物交易</strong>。2011年，17岁的俄裔加拿大中学生Vitalik Buterin 给 Bitcoin Weekly写专栏，每篇文章挣5颗币（当时折算3.5美元）。今天，一颗Bitcoin价值 42,350美元。（我们在马特市挣的 Like Coin 啥时候能涨成这样儿呀？😂）</p><p>在接下来的几年，Vitalik 一边给周刊供稿，一边思考区块链和加密币的相关问题。Bitcoin 本身的功能非常单纯：付款、收款、记账。Vitalik 在2013～2014年间提出，可以把区块链技术用来执行 software-defined 的合约，这样这个区块链本身就成为了一台超级计算机，而在上面运行的软体可以依赖区块链的特性，<strong>无需第三方介入即可完成复杂的交易</strong>。当时设想的应用情景有，买卖房地产，执行保险赔付，身份验证……等等。这就有了 Smart Contract，<strong>智能合约</strong>这个概念。Vitalik 和小伙伴们创立的 Etheruem 区块链（以太坊）是智能合约的先行者。今天的众多衍生应用都建立在以太坊上。</p><p>如果说比特币的设计思路让它成为了<strong>数字黄金</strong>，以太坊的愿景则是成为<strong>数字燃料</strong>，在各种应用场景中提供赋能与激励机制。自智能合约这个概念出现之后，区块链界就开始出现了百花齐放的景象，也开始有越来越多的应用进入到大众的视野。</p><figure class="image"><img src="https://assets.matters.news/embed/623ce72a-69ea-41bd-a1ea-acd65b78399f.png" data-asset-id="623ce72a-69ea-41bd-a1ea-acd65b78399f" referrerpolicy="no-referrer"><figcaption><span>Source: https://cosmos.network/intro</span></figcaption></figure><p>这张从<a href="https://cosmos.network/intro" rel="noopener noreferrer" target="_blank">Cosmos Network</a>抓下来的图很形象地总结了这一章节：第一代区块链比特币，解决的是<strong>去中心化定价</strong>的问题，第二代区块链以太坊，在定价的基础上衍生出<strong>去中心化合约执行</strong>，第三代区块链在前辈巨人的肩上，探索去中心化 everything 的可能。</p><h2>热带雨林</h2><p>一入币圈深似海啊，每天都有新链发布，看得人眼花缭乱。这百家争鸣的景象既让人兴奋，又让人迷失。套用一句中国互联网热钱汹涌时期的行话：站在风口上，猪都能飞起来。股神巴菲特说：退潮的时候，谁在裸泳？我们只能摸着石头过河，走一步看一步。</p><p>区块链技术本身有不少技术性问题，要实现智能合约的种种愿景，还有很长的路要走。众多后来出现的区块链都是在用各种方法<strong>降低能耗</strong>、<strong>提高运算速度</strong>、<strong>扩大规模化</strong>、<strong>提升批量处理的能力</strong>。我会列举几个我知道的链，对比一下它们主要想解决的问题以及设计思路。</p><p><strong>为以太坊扩容：Polygon</strong></p><p>以太坊成熟以来，随着一波NFT、DeFi、Game Fi 热潮之后ETH的价格越来越贵，并且当网络拥挤的时候，燃油费也越来越高，每笔交易收费$25~$70不等。对于大客户来说当然是个小case，但当你买的NFT也就$100左右的时候，这笔燃油费就让人望而却步了。我第一次认识Polygon是在Open Sea上面买NFT的时候，它们引入了Polygon网络作为付款备选。</p><p>Polygon是以 Proof of Stake 认可机制建立在以太坊上（Proof of Work）的二级链。它大概的原理是把自己链上的多笔交易先集合起来，再一次性送到以太坊上去验证。它的交易费是以太坊燃油费的几十分之一再加几乎可以忽略不计的自家燃油费。（更多阅读：<a href="https://www.coindesk.com/learn/polygon-and-matic-whats-the-difference/" rel="noopener noreferrer" target="_blank">Polygon and Matic: What's the difference</a>）</p><p>有了更快速低价的网络，Polygon 吸引了更多的应用开发者。著名的去中心加密币兑换机 Uniswap 就是建立在Polygon网络上。</p><p><strong>注意：</strong>Polygon上的原生币叫做MATIC。我们最近<a href="https://matters.news/@hi176/the-space-is-coming-soon-beta-%E6%B8%AC%E8%A9%A6%E5%85%AC%E9%96%8B%E6%8B%9B%E5%8B%9F-bafyreianyj7an7wkb3nlqby5lhjhgfscbcxwrbrnbopsknzartoauet2ni" rel="noopener noreferrer" target="_blank">在beta 测试的Space Game</a>，使用的测试币$SPACE 是用 MATIC 换来的。因此我猜测 Space Game 也是建立在Polygon 网络上？（<a class="mention" href="https://matters.news/@hi176" target="_blank" data-display-name="Matty" data-user-name="hi176" data-id="VXNlcjo4MQ">﻿<span>@Matty </span>﻿</a>对吗？对吗？）</p><p><strong>以太坊的竞争者：Solana</strong></p><p>除了Polygon这种在以太坊上修二级链的思路，还有Solana这样的直接新开一条一级链与以太坊竞争。去年以太坊上的NFT市场热到不行的时候，不少艺术家朋友转战Solana上的交易市场。Solana 采用的是 <a href="https://www.investopedia.com/solana-5210472" rel="noopener noreferrer" target="_blank">Proof of Stake 以及 Proof of History 这两种认可机制</a>。在运算效率上，它每秒交易量（TPS）可达50,000，平均燃油费$0.00025。没有对比就没有伤害：Maximum Ethereum TPS, 15; Highest gas fee per transaction: $70。</p><p>尽管Solana 冲劲十足，在很短的时间内成为了第五大公链，但以太坊毕竟有 First Mover 优势，依然牢牢占据第二大公链的位置。同时，面对诸多竞争，以太坊也早已开始了从Proof of Work 向 Proof of Stake 转型。据<a href="https://ethereum.org/en/upgrades/merge/" rel="noopener noreferrer" target="_blank">官方播报</a>，以太坊预计今年第二季度全面升级为PoS，此次升级称为 The Merge，噱头做得也挺足的，到时候应该会给链圈带来不小的震动。</p><p><strong>交通枢纽，多链生态圈：Cosmos</strong></p><p>马特市里的赞赏公民应该对 Cosmos 不陌生 😂 我们熟悉的 <a href="https://about.like.co/" rel="noopener noreferrer" target="_blank">Like Coin链</a> 就是建立在Cosmos上的二级链。虽说 Cosmos 和 Solana一样都是在以太坊之外新开的一级链，但是Cosmos并不打算与以太坊竞争。它从设计之初就打算做成一个交通枢纽，让各种链、应用、币……都能够在<strong>没有周转中心的情况下</strong>畅通地互通有无。与之相关的是它开发的 <a href="https://ibcprotocol.org/" rel="noopener noreferrer" target="_blank">Inter-Blockchain Communication 协议（IBC）</a>，让加密资产能够快捷低廉地转移。（<a href="https://www.kraken.com/en-us/learn/what-is-cosmos-atom" rel="noopener noreferrer" target="_blank">更多简介</a>）</p><p>建立在 Cosmos 上的 <a href="https://app.osmosis.zone/" rel="noopener noreferrer" target="_blank">Osmosis Exchange</a>，一个类似Uniswap的去中心交易所，采用了IBC协议来提升币种间兑换的效率。但Osmosis并不仅仅是一个交易所，它还提供了各种挖矿、Stake的功能。关于此，<a class="mention" href="https://matters.news/@daisy" target="_blank" data-display-name="Daisy" data-user-name="daisy" data-id="VXNlcjo2MDQ">﻿<span>@Daisy</span>﻿</a> 写了不少 <a href="https://matters.news/@daisy/like-coin-%E6%B5%81%E5%8B%95%E6%80%A7%E6%8C%96%E7%A4%A6-osmosis-%E8%83%8C%E6%99%AF-%E5%B9%A3%E7%B6%93%E6%BF%9F-bafyreibti6qqb3fhcr2w2gv7xcvx2qy5yk67qygbsv7wbxnrl6nzkzrtfy" rel="noopener noreferrer" target="_blank">研究Osmosis的文章</a>。</p><p><strong>私有链：Digital Yuan</strong></p><p>我们以上讲的所有例子都是公有链，也就是说任何人都可以参与挖矿，有了一定积蓄还能参与网络的管理投票，这是一个近乎于乌托邦的理想。但是区块链也可以用于私营企业内部记账，很多公链也都推出了企业版应用。自建私有链跟开放、去中心的理念是相悖的，问题很多，详见 <a class="mention" href="https://matters.news/@mingnhsu" target="_blank" data-display-name="許明恩" data-user-name="mingnhsu" data-id="VXNlcjo0NzA">﻿<span>@許明恩</span>﻿</a> <a href="https://matters.news/@mingnhsu/%E7%82%BA%E4%BB%80%E9%BA%BC%E8%AA%AA%E7%A7%81%E6%9C%89%E9%8F%88%E6%B2%92%E5%85%AC%E4%BF%A1%E5%8A%9B-%E4%BB%A5%E6%9E%97%E5%8B%99%E5%B1%80-%E7%8D%A8%E8%A3%81-%E5%8D%80%E5%A1%8A%E9%8F%88%E7%82%BA%E4%BE%8B-bafyreiggavyxa6epqkzmgeo4y4roxohptbgjm3ukwdnhtebip66brrdnf4" rel="noopener noreferrer" target="_blank">为什么说私有链没有公信力？</a></p><p>你如果不开放，那你这条链上产生的币又有什么意义呢？</p><p>诶别说，除非你是一个强国哦！这样你就可以先把以上所有的公有链定为非法，再把你的私有区块链做成1984里那种无所不在的审查系统，交易数据、资金流向统统被你的央行看在眼里，再加上人脸识别、定点追踪、大数据AI，不知不觉就锁定了违法分子，不仅非常有利于维护金融稳定，打击妄图转移资金到境外的非法暴民，更是社会稳定的基石。</p><figure class="image"><img src="https://assets.matters.news/embed/f42ef517-6d18-4e10-ba40-7e20ec8b43a1.png" data-asset-id="f42ef517-6d18-4e10-ba40-7e20ec8b43a1" referrerpolicy="no-referrer"><figcaption><span>今年1月4日，数字人民币上线试用 ｜ 来源：新华网</span></figcaption></figure><p><br></p><hr><p><br></p><h2>书单：</h2><p><a href="https://www.goodreads.com/en/book/show/50175330-the-infinite-machine" rel="noopener noreferrer" target="_blank">The Infinite Machine: How an Army of Crypto-hackers Is Building the Next Internet with Ethereum</a></p><p><a href="https://www.goodreads.com/book/show/2714607-the-ascent-of-money" rel="noopener noreferrer" target="_blank">The Ascent of Money: A Financial History of the World</a></p><p><br></p><hr><p><br></p><h2>附录：</h2><p>上周 <a class="mention" href="https://matters.news/@zeckli" target="_blank" data-display-name="zeckli" data-user-name="zeckli" data-id="VXNlcjo1NA">﻿<span>@zeckli</span>﻿</a> 介绍了不同的 <a href="https://paper.dropbox.com/doc/Web3-Class-Series-Storage-Systems--BfN4rY7j4qCBxNs_p5py02wuAg-YNoE4z4gPEFiOgIACeJXx" rel="noopener noreferrer" target="_blank">Storage System</a>，挺有意思，不过涉及到的底层技术太多，我就不单独开篇做笔记了，写在这附录里留档。</p><p>说到去中心存储，很容易想到古早的p2p文档下载协议 BitTorrent——只要有更多台计算机节点都存储了某个文档并将其metadata上传至共享网络，那么想下载这个文档的人就可以更快地下载这个文档，用分流的方式增加网络数据传输速度。几年前出现的星际存储IPFS网络则在此理念上研发了新的技术支持：将一个文档切割成片段，并编好密码表格（DHT: Distributed Hash Table），分布存储到不同的IPFS节点上——这些节点也包括正在使用这个文档的用户。</p><p>IPFS和Bittorrent的区别在于，以前我们看电影要用Bittorrent把整个电影文档下载到自己的主机上才能看——也就是说文档本身在BitTorrent的网络里是完整的存在。但是在IPFS网络里，我们可以在网络上观看电影的同时参与文档分流——电影文档此时已经被切割成小碎片了，因此我们无须下载整个视频文件。</p><p>我们Matters上写的文章都是存储在IPFS网络中。它这种分布式存储的特质，不容易因为一台服务器被攻击就丢失所有数据，因此有了对抗中文审查一说。</p><p>由区块链衍生的NFT也有一些永续存储的特征，因此两者常被比较。但其实它们是完全不同的技术。但是他们可以互补：IPFS提供存储，区块链提供激励机制。</p><p>对此我懂得不多，直接抄 <a class="mention" href="https://matters.news/@guo" target="_blank" data-display-name="刘果" data-user-name="guo" data-id="VXNlcjo1NTk">﻿<span>@刘果</span>﻿</a> 在我们学习会Discord上的发言吧：</p><blockquote>Arweave 核心是它的激勵機制，主打“永久存儲”；它自己也有一套 address 數據的方案，但也可以用 IPFS，所以是可以用 Arweave 來把數據 pin 在 IPFS 上的。Arweave 的“永久存儲”有很多“未知”，比如：1. 它先計算出 200 年的存儲成本讓你支付，然後它假設未來存儲成本無限接近於 0，所以這就叫“永久了”（但是實際上存儲在未來會免費嗎？）；2. blockweave 中 recall 數據區塊是概率的，白皮書中認為可以通過算法把丟包率降到很低（但實際上如何證明這一點、或者計算出丟包率呢？）。這裡的永久存儲同時意味著昂貴的存儲價格（因為要付200年），但是 Arweave 基金會通過 AR 投資了很多項目讓它們先免費給用戶存；同時有一點是，Arweave 的礦工很少，實際上 serve 數據的都是 Arweave 自己的服務器。</blockquote><blockquote>所以 Arweave 更適合和 Filecoin 和 Crust Network 對比。後兩者邏輯更簡單，像是存儲空間的 airbnb，同時也有人在上面實現了和 Arweave 的「永久」邏輯；Arweave 則更新穎，也有更多未知。</blockquote><blockquote>從使用者的角度，開發者自己的話常常就會選擇 IPFS，因為能明白它的機制，it just work；而 nft 這樣需要“永久存儲”概念的項目則常常選擇 Arweave。我自己覺得 Arweave 的設計當中漏洞非常多；如果要兼顧可靠性和“永久存儲”這個安全感的話，一個好辦法就是用 Arweave pin IPFS（前提是從 Arweave 基金會拿到錢免費幫用戶存，不然用戶也不會自己付錢）</blockquote>  
</div>
            