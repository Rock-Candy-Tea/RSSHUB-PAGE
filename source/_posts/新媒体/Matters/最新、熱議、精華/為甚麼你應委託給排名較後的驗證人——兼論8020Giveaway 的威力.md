
---
title: '為甚麼你應委託給排名較後的驗證人——兼論#8020Giveaway 的威力'
categories: 
 - 新媒体
 - Matters
 - 最新、熱議、精華
headimg: 'https://assets.matters.news/embed/bf906b48-ae1a-4afd-96d7-093a7c7566ed.png'
author: Matters
comments: false
date: Tue, 08 Feb 2022 17:11:43 GMT
thumbnail: 'https://assets.matters.news/embed/bf906b48-ae1a-4afd-96d7-093a7c7566ed.png'
---

<div>   
<p>早前<a class="mention" href="https://matters.news/@pikachuexech" target="_blank" data-display-name="PikachuEXE" data-user-name="pikachuexech" data-id="VXNlcjo3MzA5NA">﻿<span>@PikachuEXE</span>﻿</a> 的<a href="https://matters.news/@pikachuexech/%E5%90%89%E5%A8%83%E5%A8%83%E5%B9%A3-huahua-%E9%A9%97%E8%AD%89%E4%BA%BA%E8%88%89%E8%BE%A6%E5%80%8B%E4%BA%BA%E7%A9%BA%E6%8A%95-bafyreihwshnbd7plo2byj4myj2ukdvjklc44wljzzmg7c5rpjkk2damfsu" rel="noopener noreferrer" target="_blank">吉娃娃幣（$HUAHUA）驗證人舉辦個人空投</a>已講解甚麼是#8020Giveaway 活動，如果還未知道是甚麼，一定要去看一看。本文的內容適合大部份Cosmos生態上的鏈，但主要會以芝娃娃鏈為例。</p><h2>為甚麼要辦這活動</h2><p>引述PikachuEXE的翻譯：</p><blockquote>頭4位驗證人擁有>33%質押，只要它們同時下線，整個驗證人網絡都無法達成共識(即網絡停止運作)</blockquote><p>為甚麼頭4位的驗證人下線，便整個驗證網絡無法達成共識？</p><h2>拜占庭容錯機制</h2><p>我們都知道，Cosmos 鏈的技術叫Proof-of-Stake(PoS)，簡單來說，每當要產生新的區塊時，鏈上的驗證人會以他們委託的比重作為機率，隨機選出一位驗證人(P)提議新的區塊，然後經過大家同意後，所有人便會把這個新的區塊寫進鏈上。但如何讓大家同意呢？</p><p>回答這個問題前，我們先要處理，驗證人P和其他驗證人是否誠實或不會出錯呢？如果驗證人P是不誠實的話，由於他的資料會因他不誠實而出錯，當大家捉到他的錯處時，他便會受罰。如果其他驗證人不誠實，和驗證人P一樣，他也會被揪出來，最後接受懲罰。這就是Slashing機制。最常會提的不誠實行為是Double sign，即同一個驗證人在同一個Block上有兩個不同的簽署。節點會被終身監禁</p><p>但出錯的情況就有點不一樣，因為出錯的原因可能是剛好掉線，因此，區塊鏈對驗證人出錯有一定的容許程度。當然，長期出錯也會有相對的懲罰。</p><p>既然我們不能避免有驗證人不小心出錯，我們如何保持鏈上的交通暢順，讓所有人都盡快同意新的區塊，讓資料順利傳送？這就有賴拜占庭容錯機制(Byzantine Fault Tolerance, BFT)了。BFT教我們，在一個群體中傳遞一個信息，只要(無論有心或無意)傳遞錯誤的信息所佔的比重不多於三分之一，該信息便算為可靠。(詳細的不說，這是很深亦很有歷史的學術問題，有興趣可以自行Google。還有，真正使用的是叫Practical Byzantine Fault Tolerant (PBFT) algorithm )</p><p>不同的區塊鏈使用BFT的方法也有一些不同。因為本文是針對Cosmos生態(和芝娃娃鏈)，我們只需要知道Tendermint 的BFT 是如何運作。</p><h2>Tendermint 共識算法</h2><p>回到剛才的問題：</p><blockquote>每當要產生新的區塊時，鏈上的驗證人會以他們委託的比重作為機率，隨機選出一位驗證人(P)提議新的區塊，然後經過大家同意後，所有人便會把這個新的區塊寫進鏈上。但如何讓大家同意呢？</blockquote><figure class="image"><img src="https://assets.matters.news/embed/bf906b48-ae1a-4afd-96d7-093a7c7566ed.png" data-asset-id="bf906b48-ae1a-4afd-96d7-093a7c7566ed" referrerpolicy="no-referrer"><figcaption><span>每當一個新區塊產生時發生的事(來源：https://blog.cosmos.network/consensus-compare-casper-vs-tendermint-6df154ad56ae)</span></figcaption></figure><p>上圖解釋了每個新區塊出現時發生的情況。以下用文字簡述，每當驗證人P提出新區塊時，驗證人們要先投票(pre-vote)是否認同這個區塊，如果同意超2/3的總委託比重(<strong>注意：不是驗證人人數，而是驗證人所代表的委託比重</strong>)，大家便會預備把這區塊寫進鏈上 (pre-commit)，當2/3比重的驗證人預備好，大家便會寫進鏈上，新的區塊正式形成。如果不成功，會重新找一個新的驗證人P'提出一個新的區塊，整個程序會不停重覆，直至成功。在芝娃娃鏈上，這個過程在6秒內便發生了。(題外話：Osmosis 鏈上，每當發放獎勵時，這個過程一直都難以成功，所以便花上了好幾分鐘的時間)</p><h2>關鍵的1/3</h2><p>因此，如果比重佔超過1/3的驗證人們同心不簽署新的區塊，那這條鏈便完蛋了。要有多少驗證人才能夠佔1/3的比重呢？以芝娃娃鏈為例：</p><figure class="image"><img src="https://assets.matters.news/embed/6c1a4a3b-d22e-40d8-bb51-1adfe4773e0c.png" data-asset-id="6c1a4a3b-d22e-40d8-bb51-1adfe4773e0c" referrerpolicy="no-referrer"><figcaption><span>截至9/2/2022 HKT 0010, mintscan上的Validator 頁</span></figcaption></figure><p>原來只需要頭五名的驗證人同時下線，整條芝娃娃鏈便玩完了。(Cosmos 是頭七名，Crypto.org Chain 是頭四名，Osmosis, Likecoin也是 是頭五名) 頭幾名驗證人的影響力是十分巨大。</p><h2>8020的問題</h2><p>在芝娃娃鏈上 (某些Cosmos生態的鏈也有類似問題)，截至現在，頭25名的驗證人所擁人的委託量，佔了總委託量的80%。換句說話說，縱使有100名驗證人，26-100名的驗證人(特別是50名以後)對鏈的影響力遠比頭25名低。可以說權力集中了在少數人的身上，100個名額是完全用不上的。</p><h2>#8020Giveaway的威力</h2><p>因此，芝娃娃鏈上的驗證人Jabbey 提出了#8020Giveaway，期望把排名較前的驗證人影響力降低。他在一月二十九日提出這個活動，當時關鍵1/3是頭四名驗證人，頭80%委託數由頭20名驗證人包辦。短短一星期，頭四變頭五，20變25。而且，位於80-100的驗證人的總委託數上升了不少。(利申：SF RES Land 是其中一個最受益的節點)而社群亦在短短幾日提出並通過<a href="https://www.mintscan.io/chihuahua/proposals/4" rel="noopener noreferrer" target="_blank">Proposal 4</a>，會注入5M Huahua社區基金到這活動彩池。他會在Twiter定期Update 這活動的最新情況，有興趣的人不要錯過。</p><p>若單作為委託者，老實不會思考共識問題云云，不會特別考慮要委託給排名較低的驗證人。但這個活動卻能有效讓委託變得「無咁中心化」(只是沒有那麼，現在還是很集中)。因此，我認為這個活動最有意義的地方在於藉此讓委託者學習要委託給排名較後又可靠的驗證人(他在原Post 有說明甚麼是可靠的驗證人)。</p><h2>#8020Giveaway的隱憂</h2><p>Edit: 下圖獲Jabbey 授權，翻譯自他的Twitter</p><figure class="image"><img src="https://assets.matters.news/embed/f0833614-6c44-437e-9fe0-a7764c421de0.jpeg" data-asset-id="f0833614-6c44-437e-9fe0-a7764c421de0" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><h2><br></h2><h2>結論</h2><p>說到底，作為委託者(Staker)，我們要好好善用你手上的一票，讓你所支持的鏈能真正去中心化地健康成長。個人認為，按以上觀點，Likecoin Chain的生態是相對健康的，驗證人的委託數相對平均 (....就....除了第一名吧) (題外話：Civic Liker的節點上線後會不會有大變呢？每人2萬都頗多的)。大家記得把你的幣好好委託！</p><p><br></p><p>參考：</p><p><a href="https://blog.cosmos.network/consensus-compare-casper-vs-tendermint-6df154ad56ae" rel="noopener noreferrer" target="_blank">https://blog.cosmos.network/consensus-compare-casper-vs-tendermint-6df154ad56ae</a></p><p><br></p><p><br></p><p>後記：<br class="smart">其實本文是個人學習記錄，為了好好思考Chihuahua 應否增加驗證人名額而學習到的東西。把學到的寫出來，為要加深學習記憶和確保自己真的學到了</p><hr><p>我是Chihuahua驗證人<a href="https://chihuahua.sq-face-res.ml/" rel="noopener noreferrer" target="_blank">SF RES Land</a>，期望能用Chihuahua收窄數碼鴻溝，歡迎支持我<br class="smart"><a href="https://chihuahua.sq-face-res.ml/" rel="noopener noreferrer" target="_blank">SF RES Land</a> is Chihuahua Validator, striving for narrow the digital divide by Chihuahua. Please support me.</p><p>Delegate to SF RES Land:<br class="smart">1) <a href="https://chihuahua.omniflix.co/" rel="noopener noreferrer" target="_blank">https://chihuahua.omniflix.co/</a> 按Delegate，找SF RES Land<br class="smart">2) 用Cosmostation app 中的Delegate</p>  
</div>
            