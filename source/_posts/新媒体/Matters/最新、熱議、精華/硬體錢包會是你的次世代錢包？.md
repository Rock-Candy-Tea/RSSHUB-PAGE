
---
title: '硬體錢包會是你的次世代錢包？'
categories: 
 - 新媒体
 - Matters
 - 最新、熱議、精華
headimg: 'https://picsum.photos/400/300?random=9283'
author: Matters
comments: false
date: Thu, 01 Sep 2022 00:40:57 GMT
thumbnail: 'https://picsum.photos/400/300?random=9283'
---

<div>   
<p>透過先前的活動[1]與文章[2]，我們得知了使用軟體錢包，處處充斥著風險。難道一定得用上硬體錢包嗎？又憑什麼說「硬體錢包會是你的次世代錢包」？</p><p>註：「次世代」即為「下個世代」，源於日語；硬體錢包又稱為冷錢包，軟體錢包又稱為熱錢包，為求易理解，此後皆採前者名稱。</p><ol><li><a href="https://matters.news/@hi176/293594" rel="noopener noreferrer" target="_blank">Matters Lab Discord 資安課</a>＋<a href="https://www.craft.do/s/eAQ1Ic5hWAayqM" rel="noopener noreferrer" target="_blank">資安小問答</a></li><li>後續的圍爐文章「<a href="https://matters.news/@denkeni/303659" rel="noopener noreferrer" target="_blank">錢包資安篇：初探</a>」</li></ol><h2>硬體錢包是什麼？</h2><p>從「<a href="https://matters.news/@denkeni/246623" rel="noopener noreferrer" target="_blank">區塊鏈原理：私鑰是印章</a>」這篇文中，我們得知真正要保護的是私鑰，而助記詞（mnemonic code）是用來生成私鑰的一組單字有序組合，通常是我們最終需要保護的東西。</p><p>在使用私鑰「簽章」的過程中，會使用私鑰透過密碼學演算法來「運算」。軟體錢包之所以不夠安全，是因為機密助記詞與私鑰儲存、簽章運算都在作業系統上，因此除了需要相信軟體錢包夠安全，還得要連上網路的作業系統環境夠安全，在傳統電腦上更要相信其他第三方軟體夠安全，才不致讓機密私鑰被洩漏出去。</p><p>因此，最直覺的解法之一是：我們能否將機密私鑰和密碼學運算，放到獨立且隔離的區域來儲存與執行？</p><p>首先可能會想到，只要用紙筆手抄私鑰，按照密碼學演算法來「手動」計算就最安全啦！可惜的是這些演算法過於複雜，不太可能每次都手按計算機算出來。</p><p>或是用一台不連網的獨立裝置，專門負責儲存與運算，透過近距離傳輸方式（QR code 掃描、USB 有線連接、無線藍牙或 NFC 等）來互傳資訊，譬如將簽章傳送到連網裝置上的錢包 app 去執行交易。</p><p><a href="https://airgap.it/" rel="noopener noreferrer" target="_blank">AirGap</a> 就提供了這樣的解決方案，拿一台舊裝置安裝《AirGap Vault》後，負責離線儲存與運算，再用另一台連線裝置安裝《AirGap Wallet》或其他支援的錢包 app 接收運算結果，來操作各種交易。為了最大化其安全性，應讓舊裝置「回復原廠設定並全程離線」，並用實體線連接到 Mac，只透過《Apple Configurator》來下載、安裝或更新《AirGap Vault》。上述操作流程聽起來似乎仍嫌麻煩，至於 AirGap 優點則是免費，而且是開放原始碼軟體。</p><p>因此，最常見推薦的方案是使用硬體錢包，由一套獨立運作的專屬晶片裝置，來負責儲存與運算。我們首先信任的是硬體製造商與其搭配的軟韌體，因此只從官方渠道購買相當重要，避免有心人士從中做手腳。由於機密私鑰儲存和密碼學運算都只發生在硬體錢包裡，與連網的作業系統隔絕，使得駭客極難入侵盜取。</p><p>當今 Web3 是多鏈世界，因此需要確認硬體錢包是否支援你常用的區塊鏈，甚至是否支援你常用的軟體錢包（其中機密助記詞與私鑰的生成、儲存、與密碼學運算都將改由硬體錢包負責）。</p><p>時下的智慧型手機裡，其實早已運作與硬體錢包類似的方案：你的指紋或臉部辨識資料，都是極具個人隱私的生物特徵，僅能由獨立的安全晶片（Apple Secure Enclave 或 ARM Trustzone）來負責加密儲存與辨識，我們才得以安心地使用指紋或臉部辨識，而不用擔心指紋或臉部個資外洩。</p><h2>認證機制的演化</h2><p>要證明自己是錢包持有人，需要持有機密私鑰與運算密碼學簽章。這種公私鑰機制不僅是密碼學貨幣的認證基礎，更是傳統帳號系統的未來演化方向。</p><p>過往我們都是用密碼來登入傳統帳號系統，然而這仍導致密碼有外洩的風險，因此除了密碼管理軟體與 2-Factor Authentication（2FA）之外，更催生了同樣以公私鑰機制為基礎的認證方式，最知名的業界方案便是 YubiKey 硬體金鑰。以上詳情可參考我的這篇文章「<a href="https://www.bnext.com.tw/article/58351/about-password" rel="noopener noreferrer" target="_blank">大家都該認識的密鑰管理學</a>」，不再贅述。</p><p><a href="https://developer.apple.com/passkeys/" rel="noopener noreferrer" target="_blank">蘋果</a>、<a href="https://blog.google/technology/safety-security/one-step-closer-to-a-passwordless-future/" rel="noopener noreferrer" target="_blank">Google</a> 與<a href="https://www.microsoft.com/en-us/security/business/solutions/passwordless-authentication" rel="noopener noreferrer" target="_blank">微軟</a>三大作業系統廠商，<a href="https://fidoalliance.org/apple-google-and-microsoft-commit-to-expanded-support-for-fido-standard-to-accelerate-availability-of-passwordless-sign-ins/" rel="noopener noreferrer" target="_blank">已共同承諾</a>將會進一步強化跨裝置同步私鑰「passkeys」的使用體驗，以便順利推廣至大眾，促使更多網站也支援「無密碼（passwordless）」登入的 WebAuthn 標準。</p><p>其中，蘋果預計於今年秋天正式推出的 passkeys，就可透過 iCloud 鑰匙圈（Keychain）來跨裝置同步。這種公私鑰機制的使用體驗與安全性，都更勝過傳統密碼的認證方式，因為不會將私鑰曝露於網路傳輸中，還可強化抵禦釣魚網站的威脅。</p><p>此外，由於手機通常已具備前述的安全晶片，而足以達到接近硬體錢包的私鑰儲存安全性，或許未來手機廠商會考慮內建硬體錢包功能？儘管目前蘋果 App Store 政策對於密碼學貨幣<a href="https://developer.apple.com/app-store/review/guidelines/#cryptocurrencies" rel="noopener noreferrer" target="_blank">仍多有限制</a>，官方的密碼學開源套件 Swift Crypto <a href="https://github.com/apple/swift-crypto/issues/8" rel="noopener noreferrer" target="_blank">仍在辯論是否要納入區塊鏈常用的規格</a>，而目前 Secure Enclave <a href="https://developer.apple.com/documentation/security/certificate_key_and_trust_services/keys/protecting_keys_with_the_secure_enclave" rel="noopener noreferrer" target="_blank">仍只支援美國國家標準暨技術研究院（NIST）的規格</a>。</p><p>然而，若是貨幣的未來站在密碼學貨幣這一邊，那麼無論是哪種形式的硬體錢包，都將成為下個世代人們的錢包。</p><h2>貨幣是什麼？</h2><p>當我們已習慣用網路銀行或行動支付時，可曾想過銀行裡的存款，難道真完整對應了當初存入的紙鈔硬幣？答案是沒有，銀行有「準備金」的制度，使得絕大部分資產可以用於對外借貸或再投資等等，只有小部分資產作為準備金，用於因應存戶提領存款。這部分推薦通俗日劇《半澤直樹》，可以順道瞭解銀行的制度與精神。</p><p>此外，貨幣的發行有準則嗎？你可能聽過美國在 1971 年放棄了金本位，自此貨幣發行權完全由國家授予專門機構，負責因應總體經濟狀況來決定「法定貨幣」發行量。譬如近年常聽到「量化寬鬆」—— 也就是增印鈔票，促進貨幣流通，但也會導致通貨膨脹（因為貨幣總量變多導致幣價下跌，物價因而攀升）。</p><p>另有一支奧地利經濟學派，則認為「貨幣供給的多寡都無所謂」[1]，支持回歸「金本位」—— 也就是有多少黃金存量，就發行多少貨幣，並進而批判國家政府干預貨幣帶來的問題；甚至還有人認為幕後黑手是國際銀行家[2]。「比特幣的構思是屬於奧地利學派的：它與金本位掛鉤，又使貨幣去國家化」[3]，故比特幣又曾被稱為「數位黃金」。</p><p>為什麼要以「黃金」為貨幣發行基準呢？過往人類歷史上也曾用過貝殼、銀兩、金幣等作為貨幣，其中貴金屬（金、銀）的化學性質穩定、總存量穩定、且易分割的特性，成為人類交易貨幣的首選，「私人鑄造的金幣直到 1848 年都還在加州流通」[1]，後來才發展成以黃金為儲備所發行的貨幣，乃至當前放棄金本位的法定貨幣。</p><p>綜上所述，密碼學貨幣就是重新賦予人民失去已久的「鑄幣權」，促使人們重新思考總體經濟與貨幣發行權的議題。尤其，過去的貨幣政策變革，都沒有想像中遙遠。</p><p>誠如「密碼學無政府主義宣言（<a href="https://groups.csail.mit.edu/mac/classes/6.805/articles/crypto/cypherpunks/may-crypto-manifesto.html" rel="noopener noreferrer" target="_blank">The Crypto Anarchist Manifesto</a>）」所述：</p><blockquote>These developments will alter completely the nature of government regulation, the ability to tax and control economic interactions, the ability to keep information secret, and will even alter the nature of trust and reputation.</blockquote><h2>結語：走向未來經濟的密碼學貨幣安全</h2><p>在傳統貨幣金融裡，我們信任的是政府與銀行機構；在密碼學貨幣金融裡，通常會提倡盡可能減少信任階層，由自己負起責任，妥善保管機密助記詞與私鑰，避免託管密碼學貨幣給中心化交易所，也就是常聽到的「Not your keys, not your coins.」。</p><p>那麼去國家政府化的密碼學貨幣，該如何安全地交易呢？如前所述，現階段最佳解是硬體錢包。該如何安全地保存呢？正如上個世代的人們可能會購入金條金塊，放進保險櫃或是託管，這個世代的人們將需要學習如何妥善保護「機密助記詞」。正如許多人建議應寫於實體紙張上，更有廠商推出金屬製的「機密助記詞」專用記錄用品，進一步防水防火、抵抗天災。</p><p>我想起比特幣早期投資者「溫克沃斯兄弟」曾這樣保管私鑰[4]：</p><blockquote>印著三分之一長度的比特幣私鑰⋯⋯三塊碎片必須彼此分開存放在不同銀行的不同保險箱裡。<br class="smart"><br class="smart">此外，溫克沃斯兄弟也在不同地區複製四套，以便消除最後一種導致單點失效的可能性，同時還能提高整體容錯能力。<br class="smart"><br class="smart">總共有十二個保險箱，分布在三家不同的銀行機構、全美四個不同地區，這樣他們的安全設計才算完滿。</blockquote><p>如此一來，銀行機構反而退化為物件託管中心了呢。</p><h2>後記</h2><p>這是一篇原本預定為圍爐限定的上鎖文章，因為結合 Matters「<a href="https://matters.news/@hi176/321081" rel="noopener noreferrer" target="_blank">夏日慶之冷錢包巡禮：Web3 資安徵文比賽</a>」活動，特別免費釋出完整全文，也感謝現有圍爐成員的支持。</p><p>如果你也喜歡這樣的分析，歡迎免費追蹤我的圍爐「<a href="https://matters.news/~denkenlab" rel="noopener noreferrer" target="_blank">Web3 實驗室</a>」，或是<a href="https://matters.news/@denkeni/239612" rel="noopener noreferrer" target="_blank">付費加入圍爐</a>，一起學習與討論更多內容。</p><p>P.S. 本文為「作者保留所有權利」，無視 Matters 版權聲明版型。</p><h2>參考書籍</h2><ol><li>Murray N. Rothbard，《貨幣簡史：你不能不知道的通膨真相》，第 2 章，P.51、P.46。</li><li>宋鴻兵，《貨幣戰爭：誰掌握了貨幣，誰就能主宰這個世界》。</li><li>Gian Volpicelli，《加密貨幣的政治與經濟：比特幣、以太坊、穩定幣和臉書幣將如何改變全球金融系統》，第一章，P.30。</li><li>Ben Mezrich，《比特幣富豪：洗錢、豪賭、黑市交易、一夕暴富，顛覆世界的加密貨幣致富秘辛》，第 11 章：反向搶劫。</li></ol>  
</div>
            