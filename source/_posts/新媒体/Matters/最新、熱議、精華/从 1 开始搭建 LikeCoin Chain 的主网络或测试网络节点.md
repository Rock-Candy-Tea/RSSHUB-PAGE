
---
title: '从 1 开始搭建 LikeCoin Chain 的主网络或测试网络节点'
categories: 
 - 新媒体
 - Matters
 - 最新、熱議、精華
headimg: 'https://assets.matters.news/embed/f4f99d1a-019c-45fd-9773-0b58735ae203.png'
author: Matters
comments: false
date: Mon, 10 Jan 2022 16:39:47 GMT
thumbnail: 'https://assets.matters.news/embed/f4f99d1a-019c-45fd-9773-0b58735ae203.png'
---

<div>   
<p><a href="https://likecoin.bigdipper.live/proposals/4" rel="noopener noreferrer" target="_blank">LikeCoin Chain 的第四号提案</a>就通过了可以让 LikeCoin 持有者直接提出提案和投票的机制，但直到新版 FoTan 链完成升级以后才能在技术上实现。到了现在嘛……持份者直接投票是可以轻松做到了，但是还没见到有验证人以外的持份者提出过提案。咱觉得可能的原因是因为提出提案的门槛还有些高。</p><p>是保证金吗？现在也不一定是了。因为之前的 <a href="https://likecoin.bigdipper.live/proposals/10" rel="noopener noreferrer" target="_blank">10 号提案（下调保证金下限到 10 万 LikeCoin）</a>和 17 号提案（<a href="https://likecoin.bigdipper.live/proposals/17" rel="noopener noreferrer" target="_blank">允许验证人外的持份者为提案存入保证金</a>）已经帮大家降低很多难度了。于是接下来摆在大家面前的障碍就是……现在没有一个方便的方式提交提案呀。</p><p>以现在的状况，在赞赏公民共和国提出提案大概有这么几步：</p><ul><li>把提案的文本内容上传到 IPFS 上。</li><li>制作一份提案的元数据，包括提案的类型和摘要等信息。</li><li>通过 LikeCoin Chain 的主网络节点提出提案（上传元数据）并存入保证金。</li></ul><p>于是就需要一个主网络节点了，就成功的把这个标题引出来了。（笑）</p><blockquote>当然啦，也许后面会有人开发出更方便的工具完成这些步骤也说不定。</blockquote><h2><strong>所以什么是（主）网络节点？</strong></h2><blockquote>这一部分的内容是咱自己的理解，未必是完全正确的。</blockquote><p>大家可能听到更多的是验证人节点吧，其实验证人节点也是一种特殊的主网络节点，它比普通的节点多了一项验证交易的任务。而其它的像是进行各种交易和提供链上应用的活动，就要依靠这些主网络节点了，当然也有很大的机会是那些验证人节点就是。</p><p>LikeCoin Chain 的官方文档上指导的也是从一个正常运行的主网络节点创建验证人的步骤，所以主网络节点是进入区块链活动的重要部分啦。当然如果汝有成本和时间进行维护的话，从主网络节点开始成为一个验证人节点也好。</p><h2><strong>开始之前</strong></h2><p>虽然架设主网络节点甚至验证人节点没有什么特别的要求，但是物理上的需求还是有的。首先就是有一台具有公共 IP 地址的电脑。TCP 26656 端口对外部开放。</p><p>如果汝不知道 IP 地址是什么，公共 IP 地址和私有 IP 地址是什么的话，那下面的内容也不用看了。（笑）虽然家用网络能满足这个要求的可能很少，不过网络上有提供虚拟专用服务器（缩写 VPS）的服务供应商，他们通常会提供公共 IP 地址给他们销售的 VPS。</p><p>如果汝有意愿开始尝试呢，咱推荐的 VPS 商有下面两个：</p><ul><li><a href="https://m.do.co/c/efc8045bae05" rel="noopener noreferrer" target="_blank">DigitalOcean:</a> 好像没啥特别的，就是之前用过觉得还可以这样子。</li><li><a href="https://www.linode.com/?r=65e44685b6e1d48eb2392f2298423f143637b073" rel="noopener noreferrer" target="_blank">Linode:</a> 咱的节点现在就在上面。</li></ul><p>从上面的链接进入完成注册和信用卡验证的话，可以获得 100$ 的试用机会，有效期是 60 天。如果使用掉的试用金超过 25$ 的话，咱也能从它们那里得到一笔佣金，应该是个双赢的交换吧。</p><p>以及还需要一点基础的 Linux 知识和操作方法。这个就……（又是一个大坑）虽然咱会努力把下面的操作过程说清楚啦。</p><h2><strong>新建虚拟机之 DigitalOcean 篇</strong></h2><p>打开 DigitalOcean 的控制台，点击 Create 菜单下面的 Create Droplet 。</p><figure class="image"><img src="https://assets.matters.news/embed/f4f99d1a-019c-45fd-9773-0b58735ae203.png" data-asset-id="f4f99d1a-019c-45fd-9773-0b58735ae203" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>选择一个系统映像。咱这里选择的是 Debian 11，就是因为咱以前用过啦。</p><figure class="image"><img src="https://assets.matters.news/embed/21dabd9a-531b-41e7-8571-2bcf611d4143.png" data-asset-id="21dabd9a-531b-41e7-8571-2bcf611d4143" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>虽然 Marketplace 有预先安装好 Docker 的 Ubuntu 系统映像，但是咱觉得有必要从安装 Docker 开始，所以就没有用。</p><p>以及如果汝已经有了其它 Linux 发行版的经验的话，就选汝自己用着最顺手的发行版就好了。除了安装 Docker 这部分以外，其它的部分应该在不同的发行版上都可以用。</p><p>接下来，选择一个虚拟机大小，就先从 Basic 系列开始吧。</p><figure class="image"><img src="https://assets.matters.news/embed/3de2b74d-a3bc-4e44-b67e-978ad2617e75.png" data-asset-id="3de2b74d-a3bc-4e44-b67e-978ad2617e75" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>LikeCoin 的文档里对 CPU 内存和存储的需求是这么写的：</p><blockquote>1 core machine with 2 GB RAM, running Linux or Mac, with Docker and Docker Compose (version >= 1.28) installed.</blockquote><p>所以应该从 1CPU / 2GiB RAM 的计划开始选择，当然如果汝有意愿运行主网络节点的话，可以尝试更高配置的计划。</p><blockquote>At least 100 GB storage for chain data. (Estimated storage requirement: 40 GB per year)</blockquote><p>这个是统计 Sheungwan 链的数据总结出来的，考虑到 FoTan 加入了 ISCN 注册功能，对储存空间的需求可能会更高。咱的话……在设置好 Pruning （定期清理缓存）的选项以后，目前的占用大概在 150GiB 左右吧。</p><p>新的测试网络的话……目前占用在 30G 左右，考虑到测试网络上的交易没有主网络那么多。如果汝只想先尝试一下测试网络的话，上面计划自带的存储空间应该够用，如果汝有志愿长期在测试网络运行节点的话，就可能需要看上面的大小了。</p><p>那么问题来了……自带大容量存储的计划好贵啊怎么办？咱推荐的这两家都有单独购买储存空间（Block Storage）附加到虚拟机上的功能，价格嘛还算可以接受。只是这种附加上去的存储的速度可能没有那么快，存储的速度不够快的话就有可能会遗漏区块。如果汝有有志愿运行主网络上的节点的话，可能需要先测试一下附加存储的速度。</p><figure class="image"><img src="https://assets.matters.news/embed/c18579c1-3298-40f8-b49a-b2064077af9c.png" data-asset-id="c18579c1-3298-40f8-b49a-b2064077af9c" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>如果汝有附加存储的需求的话，点击下面的 Add block storage 按钮附加一个存储设备，输入汝需要的大小。</p><p>下面的两个选项分别是选择是否自动格式化和挂载到虚拟机上。如果汝不知道这里要做什么的话，就保持默认设置就好。</p><figure class="image"><img src="https://assets.matters.news/embed/c1d7d796-bf78-4f7a-a67b-b912ae4902ec.png" data-asset-id="c1d7d796-bf78-4f7a-a67b-b912ae4902ec" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>选择一个虚拟机位于的数据中心位置，咱没有分别测试过，应该都差不多。不过距离自己比较近的位置应该连接的延迟会小一点。</p><figure class="image"><img src="https://assets.matters.news/embed/3b7298fa-dae2-47ad-b091-d88264c2f844.png" data-asset-id="3b7298fa-dae2-47ad-b091-d88264c2f844" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>虚拟网络和附加选项。如果不确定它们的作用是什么的话，就保持默认就好。</p><p> (那个 IPv6 和 Monitoring (可以在管理界面看到虚拟机的资源占用状况)可以考虑选上。) </p><figure class="image"><img src="https://assets.matters.news/embed/5e46adc7-ed8d-49fe-b895-5a71e6e8e2fa.png" data-asset-id="5e46adc7-ed8d-49fe-b895-5a71e6e8e2fa" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>选择一种登录方法， SSH 密钥登录比密码更安全，但是需要一些额外设置，所以这次就先从 密码开始了。 </p><p>在下面为 root 用户输入一个密码。</p><figure class="image"><img src="https://assets.matters.news/embed/570919ba-9c97-4df4-9472-b353bd03b25b.png" data-asset-id="570919ba-9c97-4df4-9472-b353bd03b25b" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>其它的一些选项，例如虚拟机的数量、名称、方便管理的标签等等，这个看自己的偏好来吧。</p><p>如果汝有打算运行主网络节点并且有预算的话，可以选择下面的备份功能。（虽然因为备份不含 Block Storage 的数据，依然不能掉以轻心）</p><p>全部完成以后，点击下面的绿色按钮创建虚拟机。</p><figure class="image"><img src="https://assets.matters.news/embed/ca7fb63b-8b4b-44cd-a349-039016904079.png" data-asset-id="ca7fb63b-8b4b-44cd-a349-039016904079" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>可以在虚拟机的管理界面上确认虚拟机的 IP 地址，待会儿连接的时候可能需要它。</p><h2><strong>新建虚拟机之 Linode 篇</strong></h2><p>打开 Linode 的管理面板，点击 Create Linode。</p><figure class="image"><img src="https://assets.matters.news/embed/e52b003c-151e-41c1-93dd-18e85405a575.png" data-asset-id="e52b003c-151e-41c1-93dd-18e85405a575" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>选择一个发行版和区域。</p><blockquote>如果汝计划运行主网络节点或者有需求附加存储的话，目前 Linode 只有 Atlanta (USA), Newark (USA), Frankfurt (Germany) 和 Toronto (Canada) 这四个地方的虚拟机可以附加 NVMe 驱动的存储设备。</blockquote><figure class="image"><img src="https://assets.matters.news/embed/85d5306e-6633-4b93-9729-5117bbe0a124.png" data-asset-id="85d5306e-6633-4b93-9729-5117bbe0a124" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>选择一个计划，对于上面提及过的基本需求来说， Shared CPU 里的 Linode 2GB 是个不错的起点。如果汝有计划运行主网络节点的话，Dedicated CPU 里的 Dedicated 4 GB 应该够用。（咱目前就是这个，除了硬盘不够了以外）</p><figure class="image"><img src="https://assets.matters.news/embed/e46f0fc5-3c19-4f49-af5d-e73c000e257b.png" data-asset-id="e46f0fc5-3c19-4f49-af5d-e73c000e257b" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>设置虚拟机的名称，给 root 用户设置一个密码。</p><figure class="image"><img src="https://assets.matters.news/embed/d274d5f5-353c-494a-8bff-2cd556ec1b09.png" data-asset-id="d274d5f5-353c-494a-8bff-2cd556ec1b09" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><p>设置虚拟网络、备份和私有 IP 地址的选项，有需要的话可以自己设置。</p><p>点击右边的 Create Linode ，稍等片刻以后就能看到虚拟机的 IP 地址了。</p><figure class="image"><img src="https://assets.matters.news/embed/03e6bd2e-0b4c-4ca3-9ecd-a99f4a792423.png" data-asset-id="03e6bd2e-0b4c-4ca3-9ecd-a99f4a792423" referrerpolicy="no-referrer"><figcaption><span></span></figcaption></figure><hr><p><br></p><p>考虑到这篇文章的长度已经很长了（因为有很多图的缘故），所以连接到虚拟机、安装 Docker 等步骤就在下一篇文章再叙了。</p><p>以及为了避免一个服务提供商发生问题导致整个网络挂掉等意外的缘故，其实是不推荐大家都在某几个服务提供商那里搭建网络节点的。不过自己操作一次以后，也许汝自己找到了更合适的商家以后也能自己举一反三也说不定。</p><p>至于那几家大公司开的云计算平台嘛，哪里都好，就是太贵……</p>  
</div>
            