
---
title: '熱門排行源碼初步解讀'
categories: 
 - 新媒体
 - Matters
 - 最新、熱議、精華
headimg: 'https://picsum.photos/400/300?random=8668'
author: Matters
comments: false
date: Mon, 29 Mar 2021 11:22:33 GMT
thumbnail: 'https://picsum.photos/400/300?random=8668'
---

<div>   
<p><a href="https://github.com/thematters/matters-server/blob/develop/db/migrations/20210316165506_update_article_hottest_view.js" target="_blank">源碼位置</a></p><p>熱門分數由兩個部分組成：</p><ul><li>閱讀時間</li><li>最近支持時間</li></ul><h2>閱讀時間</h2><p>公式大致為<strong>3天內的閱讀時間/發表至今時間（最多算3天）</strong></p><p>另外會依發是否為圍爐文章，有不同加成</p><ul><li>一天內發表的圍爐：6倍</li><li>其他：1倍</li></ul><h2>最近支持時間</h2><p>分為<strong>一般支持</strong>與<strong>matty支持</strong>計算，兩者取最大值</p><ul><li>一般支持：要求是港幣支持或100LIKE以上才列入計算</li><li>matty支持：無支持類型要求</li></ul><p>此分數會隨時間衰減，公式為<strong>decay^最近支持距今小時數</strong></p><p>一般支持的decay為0.8，matty支持的decay為0.95</p><h2>兩種分數的結合</h2><p>公式為：閱讀時間分數+(全部文章中最高的閱讀時間分數)*最近支持時間分數</p><p>所以剛獲得支持的文章，基本上都能跳到接近熱門第一的位置</p><h2>最佳（？）支持策略</h2><ul><li>使用港幣1元支持，因為100LIKE>1HKD</li><li>不要連續支持同一篇文章，等分數下降後再次支持</li></ul><h2>待研究</h2><ul><li>閱讀時間計算方式（是否有上限之類的）</li></ul>  
</div>
            