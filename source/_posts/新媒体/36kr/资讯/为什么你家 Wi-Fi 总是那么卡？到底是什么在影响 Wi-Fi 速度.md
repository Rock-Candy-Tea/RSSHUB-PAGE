
---
title: '为什么你家 Wi-Fi 总是那么卡？到底是什么在影响 Wi-Fi 速度'
categories: 
 - 新媒体
 - 36kr
 - 资讯
headimg: 'https://img.36krcdn.com/20220222/v2_20d967c3d24a4b6c89d798e3e80ac422_img_000'
author: 36kr
comments: false
date: Tue, 22 Feb 2022 07:24:53 GMT
thumbnail: 'https://img.36krcdn.com/20220222/v2_20d967c3d24a4b6c89d798e3e80ac422_img_000'
---

<div>   
<p>近两年来，随着 Wi-Fi 6 以及 Mesh 组网技术的成熟和普及，高端路由器的价格也逐渐亲民，从科技爱好者到普通家庭都用上了支持新一代 Wi-Fi 技术的无线路由器。特别是 2022 年，使用 Wi-Fi 6E 技术的路由器开始进入市场，很多厂商也给自己的路由器打上了「万兆无线路由器」的称号。这样的宣传自然会让很多消费者认为无线网络取代有线网络指日可待。 </p> 
<p>然而真的是这样吗，所谓的万兆无线路由器究竟可以跑出多少快的速度？这些问题看完本文你应该能有新的理解。 </p> 
<h2 label="一级标题" style>📳 <strong style="letter-spacing: 0px;"> 无线网络速度由什么决定 </strong><span style="letter-spacing: 0px;"></span></h2> 
<p>家用无线路由器是一个高度集成的一体机，整合了： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>路由器与防火墙：提供三层功能，包括入网以及保护外界入侵。</p></li> 
 <li><p>交换机：多 LAN 口提供了二层也就是局域网功能。</p></li> 
 <li><p>无线接入点：Access Point 简称 AP，也就是发射 Wi-Fi 信号，让无线设备接入网络的功能。</p></li> 
</ul> 
<p>本文主要讨论家用无线路由器中的无线接入点功能，下文简称为 AP。在聊实际速度之前，我们先需要理解一下决定 Wi-Fi 速率的各种因素。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_20d967c3d24a4b6c89d798e3e80ac422_img_000" referrerpolicy="no-referrer"></p> 
<h2 label="一级标题" style><strong>Wi-Fi 协议</strong></h2> 
<p>Wi-Fi 协议是最近被提及最多的，因为在 Wi-Fi 5 时代以及之前，协议名称均由 IEEE 的 802.11 协议规则标准命名，而非简单的数字代表代数。直到 2018 年 Wi-Fi 6 协议的推出，802.11n 与 802.11ac 才被<a class="project-link" data-id="81906" data-name="一起" data-logo="https://img.36krcdn.com/20210709/v2_647b9860d6f7437caf1be2501d37698a_img_000" data-refer-type="1" href="https://www.36dianping.com/space/4772100123" target="_blank">一起</a>更名称 Wi-Fi 4 与 Wi-Fi 5，所以大家的感知可能不强。 </p> 
<p>目前 Wi-Fi 通讯协议的世代和其对应的 802.11 标准如下： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>Wi-Fi 6：IEEE 802.11ax</p></li> 
 <li><p>Wi-Fi 5：IEEE 802.11ac</p></li> 
 <li><p>Wi-Fi 4：IEEE 802.11n</p></li> 
</ul> 
<p>影响 Wi-Fi 速率的主要因素之一就是 <strong>AP 与终端之间采用的 Wi-Fi 协议</strong>。 </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>两种协议的极限条件下，Wi-Fi 5 的理论速率上限为 3466 Mbps，而 Wi-Fi 6 可以最高达到 9600 Mbps。</p></li> 
 <li><p>使用相同的终端和无线接入点，分别使用 Wi-Fi 5/6 协议连接，Wi-Fi 6 的理论速率相较于 Wi-Fi 5 提升约 38% 。</p></li> 
</ul> 
<p>有关于 Wi-Fi 6 的详细科普可以阅读 这篇文章。 </p> 
<h2 label="一级标题" style><strong>频率</strong></h2> 
<p>Wi-Fi 信号的传输依赖于一定频率的无线电波。目前 Wi-Fi 6 协议中支持三种频段的无线信号，而 Wi-Fi 6E 协议则多支持一种 6GHz 的高频无线电波： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>2.4GHz：2.4GHz 频段在 IEEE 802.11a 中就得到了应用，由于频率较低，2.4GHz 可以获得不错的覆盖范围。值得注意的是 2.4GHz 仅有 Wi-Fi 4 和 Wi-Fi 6 协议支持。</p></li> 
 <li><p>5.2GHz/5.8GHz：这两个频段一般统称为 5GHz，也是目前最常用的高速 Wi-Fi 频率，相比 2.4GHz，5GHz 覆盖面积大幅度降低，但速度提升巨大且有更大的频率范围，干扰也更少。</p></li> 
 <li><p>6GHz：6GHz 是 Wi-Fi 6E 标准下新划分给 Wi-Fi 的频率，相比于 5GHz，Wi-Fi 6E 协议下的 6GHz 频段并没有速度提升，但是增加了大量的频段，减少了同频干扰，覆盖面积相较于 5GHz 略有下降。</p></li> 
</ul> 
<p>频率越高，单位时间无线电波负载的信息量就越大，因此速度也就越快，相同频宽下 5GHz 的理论速率相较于 2.4GHz 约有一倍的提升。 </p> 
<h2 label="一级标题" style><strong>频宽和 MIMO</strong></h2> 
<p>2.4GHz 和 5GHz 不仅在频率上会产生速度差异，所能使用的频宽宽度也有差异。 </p> 
<p>频宽（Bandwidth）指信号所占据的 频带 宽度。<strong>这里可以简单的把频宽想象成高速公路的车道数量，车道数量越多，单位时间可以行驶的流量也就越大</strong>。 </p> 
<p>2.4GHz 仅支持 20Mhz 与 40MHz 的频宽，而在 5GHz/6GHz 下，则能额外支持更大的 80Mhz 和160Mhz（160Mhz 仅有 5.2 GHz 支持）；频宽和理论速度呈线性增长，频宽越宽理论速率越大。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_4132512d508d40a3967f3b36140e0e21_img_000" referrerpolicy="no-referrer"></p> 
<p>MIMO 理解起来相对复杂，但是可以简单的想像成成天线数量，Wi-Fi 技术中，每<a class="project-link" data-id="3969340" data-name="一条" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3969340" target="_blank">一条</a>天线都可以负责一个链路的数据传输，当天线越多传输速率也就越快。<strong>和频宽一样，大家不妨把 MIMO 想象成「立体」的车道，天线数量的翻倍也会带来 Wi-Fi 速度吞吐量的翻倍</strong>。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_3e84497fd6f14985af9179c59a52ecfd_img_000" referrerpolicy="no-referrer"></p> 
<h2 label="一级标题" style><strong>正交振幅调制 QAM</strong></h2> 
<p>QAM 技术在本文不做过多展开，在 Wi-Fi 5 到 Wi-Fi 6 协议的进步中，最大支持的协议从 256-QAM 提升到了 1024-QAM，这一提升使得速度提升约为 25%。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_ac0a3563ed2a4ff385ea552bf9f6c6d2_img_000" referrerpolicy="no-referrer"></p> 
<p>近期也有提前支持的 4k-QAM 的终端出现，相较于 1024-QAM 速度提升 20%。 </p> 
<h2 label="一级标题" style><strong style="letter-spacing: 0px;">总结</strong></h2> 
<p>我们可以将 Wi-Fi 想象成城市道路——2.4GHz 就是城市的主干道，干扰严重且在城市中心因此运行效率不高；5GHz 则是城市的绕城高速，车辆较少且没有限速，因此数据可以走的很快；频宽和 MIMO 则是一组立体多车道，两者直接增加了车流量。 </p> 
<p>我们把上面的参数整合一下，就可以<a class="project-link" data-id="95377" data-name="得到" data-logo="https://img.36krcdn.com/20210807/v2_966db147ab4646ef82349f069ce61219_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/95377" target="_blank">得到</a>一个无线接入点的无线速率公式了， </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_d93506ce27ab4a8795a9b434cb05b50c_img_000" referrerpolicy="no-referrer"></p> 
<p>在 5GHz 下： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>Wi-Fi 5 3x3 MIMO 80Mhz 256 QAM 的无线接入点，最高支持 1300 Mbps</p></li> 
 <li><p>Wi-Fi 6 4x4 MIMO 160Mhz 1024 QAM 的无线接入点，最高支持 4804 Mbps</p></li> 
</ul> 
<p>如果你增加或者减少 MIMO 的数量或者频宽的宽度，最大速率也会呈比例降低： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>Wi-Fi 5 Wave 2 2x2 MIMO 160Mhz 256 QAM，最高支持 1733 Mbps</p></li> 
 <li><p>Wi-Fi 6 4x4 MIMO 80Mhz 1024 QAM，最高支持 2402 Mbps</p></li> 
</ul> 
<h3 label="二级标题" style><strong>无线路由器的参数代表了什么</strong></h3> 
<p>在解密无线网络的实际速率之前，我们需要先讲解一下无线路由器的各项参数究竟代表了什么。 </p> 
<p>首先我们以一款旗舰级无线路由器「<a class="project-link" data-id="121888" data-name="小米" data-logo="https://img.36krcdn.com/20200729/v2_7ad3d765f1d844018b8f4e75c4c8050d_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/121888" target="_blank">小米</a> AX9000」为例： </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_d3b295d90eb8442bb21f073f1cf62ad2_img_000" referrerpolicy="no-referrer"></p> 
<p>商品名为：AX9000，其中： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>AX：代表支持最高的 Wi-Fi 规格为 IEEE 802.11ax 也就是 Wi-Fi 6 协议。</p></li> 
 <li><p>9000：代表其硬件最高支持的<strong>聚合</strong>连接速率为 9000 Mbps，也就是 1125 MB/s 的传输速率。</p></li> 
</ul> 
<p>而 9000 = 4804 + 2402 + 1196 + 576，相信这一串数字你并不陌生，在上文已经详细讲解了 Wi-Fi 6 协议能达到的各类速率，这边在详细解释一下： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>4804Mbps：在 5.2GHz 下 4x4 MIMO 160MHz 1024-QAM 的规格下能够达到的理论速率</p></li> 
 <li><p>2402 Mbps：在 5.8GHz 下 4x4 MIMO 80MHz 1024-QAM 的规格下能够达到的理论速率</p></li> 
 <li><p>1196 Mbps：在 2.4GHz 下 4x4 MIMO 40MHz 1024-QAM 的规格下能够达到的理论速率</p></li> 
 <li><p>576 Mbps：AIoT 天线速率，不能被终端使用。</p></li> 
</ul> 
<p>9000 兆是由该路由器所有支持的频段中硬件支持的最高速率加和而成，命名方式也符合 IEEE 的规定，但是这并不代表该无线路由器可以跑出 9000 Mbps 的速率。 </p> 
<h2 label="一级标题" style><strong>实际握手速率与终端支持</strong></h2> 
<p>此外我们需要注意两点，一是高速 Wi-Fi 不仅需要 AP 支持，也需要<strong>终端设备</strong>支持。另一点则是 Wi-Fi 终端在同一时间只能在<strong>一个频段</strong>工作，因此我的设备在这台无线路由器上理论能达到的最高速率为选择在 5.2GHz 频段下使用 160Mhz、使用 4x4 MIMO 的终端，这样的硬件条件下 Wi-Fi 速率可以协商到 <strong>4804Mbps </strong>的理论速率。 </p> 
<p>由于目前市面上还没有支持 4x4 MIMO 的 Wi-Fi 6 终端出现，主流设备仍然是 2x2 MIMO，因此我们的速率会再打一个对折，如果使用诸如小米 12 Pro 这样的支持 160MHz 的移动终端，则可以达到 <strong>2402Mbps</strong>。 </p> 
<p>终端设备诸如 iPhone，在 iPhone 11 系列之后均支持 Wi-Fi 6 协议，只不过仅支持 2x2 MIMO 80Mhz，因此使用 iPhone 11 以后的支持 Wi-Fi 6 的终端设备，仅能达到 <strong>1201Mbps</strong>。 </p> 
<p>而诸如 MacBook Pro 16-inch 2019 这样仅支持 3x3 Wi-Fi 5 的老设备，仅能达到 Wi-Fi 5 的 <strong>1300Mbps</strong>。 </p> 
<p>以上速率均为终端和路由器之间的协商速率，或者也称为 PHY 速率或者握手速率，这一速率一定<strong>大于</strong>在现实环境中可以跑出的无线网络速率。 </p> 
<h2 label="一级标题" style><strong style="letter-spacing: 0px;">Wi-Fi 的一些其它「开销」</strong></h2> 
<p>握手速率或者 PHY 速率我们可以理解成电动车的 NEDC 续航里程，根据实际环境的不同速率也会产生折扣。 </p> 
<p>由于 Wi-Fi 开销过于复杂，本文不做深入讨论，仅列举几种最为明显的开销类型： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p><strong>TCP/IP 开销</strong> ：在所有有线或无线网络中，TCP/IP 连接的开销约为 5%。这 5% 来自设置连接和解决正在交换的数据包和帧所需的所有数据。在标准帧尺寸下，有线 1Gbps 连接的 TCP 吞吐量约为940-950 Mbps。</p></li> 
 <li><p><strong>信标帧</strong> ：这是 AP 向客户端设备宣传网络的方式。为了确保范围内的所有设备都能理解它们，AP 以最低的支持数据速率发送管理流量，如信标帧。这扩大了广播的范围，降低了速度传输的速率，消耗了宝贵的广播时间。</p></li> 
 <li><p><strong>半双工</strong> ：基于OFDM的 Wi-Fi 是半双工的，这意味着一次只能传输一台设备，并且只能向一个方向传输。可以比喻，Wi-Fi 是一款对讲机，而不是电话，这意味着同一时间只能有一人说话。以太网是全双工的，允许同时向双向传输。Wi-Fi 是半双工并不意味着吞吐量被减半，但它确实意味着 Wi-Fi 设备不能进行多任务处理。下载大型文件时，客户端设备必须花许多短暂的保护间隔将 TCP 确认帧传输回其 AP，或允许其他人传输。Wi-Fi 设备无法同时下载和上传数据，也无法在其终端传输中通讯。MU-MIMO 和 OFDMA 技术部分地解决了这个问题。</p></li> 
 <li><p><strong>干扰与重传</strong> ：除了（大部分）是半双工外，Wi-Fi 还是一种共享媒体。当一台设备在通道上传输时，范围内的所有其他设备都必须等待轮到他们。如果多个设备同时传输，可能会发生碰撞，导致传输混乱。当碰撞发生时，设备需要随机等待一段时间才能重新传输。协调共享介质的使用和处理碰撞消耗了宝贵的广播时间，导致每个人的有效吞吐量较低。比如蓝牙就会和 2.4GHz Wi-Fi 互相干扰，USB 3.0 也会影响到 5GHz Wi-Fi 信号。</p></li> 
 <li><p><strong>帧间的调制区别</strong>：当看到 1200Mbps 的链接速率时，并不意味着传输过程中每帧都以 1024-QAM 调制发送。链接速率更像平均速度限制。随着通道条件的变化或传输失败，单个帧可能会被发送到高于或低于当前链接速率值。</p></li> 
</ul> 
<h2 label="一级标题" style><strong>EIRP：无线信号发射能力</strong></h2> 
<p>EIRP 是一种描述 AP 发射信号能力的参数： </p> 
<blockquote> 
 <p>等效全向辐射功率（英语：equivalent isotropically radiated power，EIRP），或叫有效全向辐射功率（英语：effective isotropically radiated power，EIRP），是 无线电 通信领域的一个常见概念，它指的是 天线 在某个指定方向上的辐射功率，理想状态下等于 发射器 的发射功率乘以天线的增益。 </p> 
</blockquote> 
<p>通常信号强度以对数单位 dBm 表示，因此 EIRP = 发射功率 + 天线增益 - 损耗值 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_fbde745f3aae4c53bb8ee3d30c7f6520_img_000" referrerpolicy="no-referrer"></p> 
<p>EIRP 在一定程度上可以描述 AP 的无线信号发射能力。我国工信部对于 Wi-Fi 的 EIRP 有明确的限制： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>2.4 GHz 下，EIRP 限制在 100mW 也就是 20dBm</p></li> 
 <li><p>5 GHz 下，EIRP 限制在 200mW 以下 也就是 23dBm</p></li> 
</ul> 
<p>需要注意的是，这里限制的功率是 AP 所有天线的总功率，因此在多根天线同时工作的时候，每根天线的发射功率也会相应打下折扣。其所带来的影响的就是 Wi-Fi 降低连接的速率。 </p> 
<h2 label="一级标题" style><strong>墙面阻隔、距离与信号强度</strong></h2> 
<p>信号强度也是影响实际 Wi-Fi 速度的重要原因之一，我们的终端接收到的信号也和 EIRP 一样都以对数单位 dBm 表示，不过因为实际接收到的信号折损很大，一般在 AP 周围一米以内（无遮挡）可以接受到 -30 ~ -25 dBm 的 5GHz 信号。 </p> 
<p>在空间中可以参考下图： </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_eab93048aa3840ad893b3f507b87b7e5_img_000" referrerpolicy="no-referrer"></p> 
<p>国内房屋的非承重混凝土墙壁会对信号造成 12-20dBm 的衰减，承重墙则更多： </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_b1b9cbbe35044e47b27d39874c0db5b3_img_000" referrerpolicy="no-referrer"></p> 
<p>而无线网络的频宽和调制技术的敏感程度如下： </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_cfdff4fba7b4406d8042457b4e70fe5b_img_000" referrerpolicy="no-referrer"></p> 
<p>如此这些影响 Wi-Fi 速率的因素存在，我们不必做过多组合计算，只需要知道，理想环境下，实际连接速度最大约为理论速度的 70%-80%，正常环境下： </p> 
<ul style="list-style-type: disc;" class=" list-paddingleft-2"> 
 <li><p>80 MHz 信道上的 2x2 设备可以实现 1201 Mbps 的最大协商速率，实际吞吐量约为 800-900 Mbps。</p></li> 
 <li><p>160 MHz信道上的 2x2 设备可以实现 2402 Mbps 的最大协商速率，实际吞吐量约为 1400-1600 Mbps。</p></li> 
</ul> 
<h2 label="一级标题" style><strong>总结</strong></h2> 
<p>看到这里相信你已经对与 Wi-Fi 的实际传输速率有了一定的概念，回到本文最开始的问题，万兆无线路由器真的能跑出万兆吗，答案肯定是否定的：现在市场上的无线路由器由于其命名规则，均为聚合速率，在实际使用中最优秀的终端设备配合最好的 AP 也仅能在理想环境下达到 1.4Gbps-1.6Gbps 的传输速度。 </p> 
<p>而多设备（2x2 160Mhz Wi-Fi 6）同时使用同一个 AP 进行交换吞吐时，也会受限于 AP 的交换能力和天线功耗的限制，实际也只能达到 1Gbps 的速度。 </p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220222/v2_7e2b705d4eff4629ad3dcd8b41f4560d_img_000" referrerpolicy="no-referrer"></p> 
<p>本文所有讨论的情况均在较为理想的环境中，现实生活中的 Wi-Fi 传输过程比理想环境复杂，更多的频段干扰以及更多的信噪比都是影响 Wi-Fi 速度的重大因素。 </p> 
<h3 label="二级标题" style>原文链接 </h3> 
<p>https://sspai.com/post/71581?utm_source=wechat&utm_medium=social </p> 
<p>本文来自<a class="project-link" data-id="3968527" data-name="微信" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968527" target="_blank">微信</a>公众号 <a target="_blank" rel="noopener noreferrer" href="http://mp.weixin.qq.com/s?__biz=MzU4Mjg3MDAyMQ==&mid=2247531006&idx=1&sn=75bfbe44c0fb6f1931f584fcc0844b4c&chksm=fdb38c94cac40582ea18bcb889f6f0a8a358923f4f3f80e136d47f7b5031e0336465a6b32107#rd">“少数派”（ID：sspaime）</a>，<span style="letter-spacing: 0px;">作者：EstrellaXD ，责编：广陵止息 </span><span style="letter-spacing: 0px;">，36氪经授权发布。</span></p>  
</div>
            