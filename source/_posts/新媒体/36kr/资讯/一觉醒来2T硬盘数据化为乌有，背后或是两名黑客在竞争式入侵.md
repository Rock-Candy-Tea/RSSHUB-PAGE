
---
title: '一觉醒来2T硬盘数据化为乌有，背后或是两名黑客在竞争式入侵'
categories: 
 - 新媒体
 - 36kr
 - 资讯
headimg: 'https://img.36krcdn.com/20210701/v2_85d960322e9e408ca8716ba9eda8264e_img_000'
author: 36kr
comments: false
date: Thu, 01 Jul 2021 09:11:07 GMT
thumbnail: 'https://img.36krcdn.com/20210701/v2_85d960322e9e408ca8716ba9eda8264e_img_000'
---

<div>   
<p>本文来自<a class="project-link" data-id="3968527" data-name="微信" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968527" target="_blank">微信</a>公众号<a target="_blank" rel="noopener noreferrer" href="https://mp.weixin.qq.com/s/J7koNIQODeNgV_oQsZao4w">“量子位”（ID:QbitAI）</a>，作者：博雯，36氪经授权发布。</p> 
<p>一觉醒来，几个T的硬盘数据化为乌有。</p> 
<p>不说暗无天日吧，也至少是惨绝人寰了。</p> 
<p>毫不夸张的说，上周四的6月24日，西部数据硬盘的My Book Live用户就是这样的心情。</p> 
<p class="image-wrapper"><img data-img-size-val="300,262" src="https://img.36krcdn.com/20210701/v2_85d960322e9e408ca8716ba9eda8264e_img_000" referrerpolicy="no-referrer"></p> 
<p>调查后一看，果然是有黑客利用安全漏洞入侵了设备，才导致硬盘被格式化。</p> 
<p>而<a class="project-link" data-id="180894" data-name="安全技术" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/180894" target="_blank">安全技术</a>人员深入追查后，居然还发现可能有两名黑客在互掐式入侵！</p> 
<h2>一觉醒来……诶我数据呢？</h2> 
<p>西部数据*（Western Digital）*，全球知名硬盘厂商。</p> 
<p>机械硬盘起家，一顿操作之后把产品线扩展到了移动硬盘、固态硬盘、NAS硬盘等多个领域。</p> 
<p>而My Book Live就是NAS硬盘中的一员。它容量够大，还能远程管理硬盘中的数据，建立属于用户自己的个人云。</p> 
<p>但对于My Book Live用户来说，上周四绝对是一个噩梦。</p> 
<p>因为他们一觉醒来一脸懵逼：诶我硬盘数据怎么没了？！</p> 
<p class="image-wrapper"><img data-img-size-val="1080,306" src="https://img.36krcdn.com/20210701/v2_8fda490a2daa42de9e4dda1eebb6381a_img_000" referrerpolicy="no-referrer"></p> 
<p>不仅硬盘惨遭格式化，在网页登录管理控制端时还会声明登录密码无效。</p> 
<p class="image-wrapper"><img data-img-size-val="909,492" src="https://img.36krcdn.com/20210701/v2_bc9199907dca491cb880ebcde559b65d_img_000" referrerpolicy="no-referrer"></p> 
<p>西部数据官方很快做出回应：</p> 
<p class="image-wrapper"><img data-img-size-val="1080,629" src="https://img.36krcdn.com/20210701/v2_c8c6fd04f70a4160bc4cd965b1d9f015_img_000" referrerpolicy="no-referrer"></p> 
<p>由于My Book Live使用时是通过一根以太网线连接到<a class="project-link" data-id="162448" data-name="本地网" data-logo="https://img.36krcdn.com/20201111/v2_0a7aa01154ac44409ee7a91dbd7ed2df_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/162448" target="_blank">本地网</a>络的，因此这份声明可以简单概括为：</p> 
<p>入侵事件我们正在查，大家先拔网线！</p> 
<p>当然，官方也确定了这一事实：是黑客入侵导致了部分My Book Live设备被恢复出厂设置，数据也被全部擦除。</p> 
<h2>两个漏洞，两名黑客</h2> 
<p>能被黑客入侵，那肯定就是存在安全漏洞了。</p> 
<p>西数技术人员在发布的公告中指出，入侵者利用的是CVE-2018-18472这一命令注入漏洞。</p> 
<p>利用这一漏洞，可以在没有用户交互的前提下获得root远程命令执行的权限。</p> 
<p>换句话说，只要知道硬盘的IP地址，就可以对其进行任意操作，连登陆密码也不需要破解。</p> 
<p>但问题是，这一漏洞在2018年就已经由安全技术人员发现并公开了，只是官方一直没有采取相应措施。</p> 
<p class="image-wrapper"><img data-img-size-val="1080,273" src="https://img.36krcdn.com/20210701/v2_627ae3c0b6ef4018be36c7ff958a63e3_img_000" referrerpolicy="no-referrer"></p> 
<p>西部数据对此的解释是：</p> 
<blockquote> 
 <p>CVE-2018-18472这份漏洞报告影响的是2010年至2012年间销售的My Book Live设备。这些产品从 2014 年开始就已不再销售，也不再被我们的软件支持生命周期所覆盖。</p> 
</blockquote> 
<p class="image-wrapper"><img data-img-size-val="66,53" src="https://img.36krcdn.com/20210701/v2_8d0b69000c0f432d996d3dd231ac2005_img_000" referrerpolicy="no-referrer"></p> 
<p>就像是对官方的回应，5天之后，技术人员从这次被黑的两台设备中再次发现了第二个漏洞！</p> 
<p class="image-wrapper"><img data-img-size-val="1080,544" src="https://img.36krcdn.com/20210701/v2_1c3a7d570df247e382b4f58c1e9c6e1f_img_000" referrerpolicy="no-referrer"></p> 
<p class="img-desc">△从这两台设备中提取的日志文件</p> 
<p>这个新漏洞存在于一个包含了执行重置的PHP脚本的文件中，这一脚本允许用户恢复所有的默认配置，并擦除存储在设备上的所有数据。</p> 
<p>但现在，用于保护这一重置命令的代码被注释掉了：</p> 
<p class="image-wrapper"><img data-img-size-val="696,148" src="https://img.36krcdn.com/20210701/v2_faed66eebbe54700b7781cf1ffda160d_img_png" referrerpolicy="no-referrer"></p> 
<p>技术人员在分析上述两份日志文件之后，认为这两台设备受到了利用未授权重置这一新漏洞的攻击。</p> 
<p>这就出现了一个很令安全人员困扰的问题：</p> 
<p>明明已经通过「命令注入漏洞」获得root权限了，为什么还要再使用「未授权重置漏洞」进行擦除和重置呢？</p> 
<p>再返回看看第一个漏洞，它在入侵设备时增加了这几行代码：</p> 
<p class="image-wrapper"><img data-img-size-val="691,221" src="https://img.36krcdn.com/20210701/v2_dbd7137ab0fc4b3b9f4af1e4311e702c_img_png" referrerpolicy="no-referrer"></p> 
<p>这样修改后，只要没有与某一特定的加密SHA1哈希值相对应的密码，任何人都不能利用这一漏洞。</p> 
<p>而在其他被黑的设备中，被入侵修改的文件则使用了对应其他哈希值的不同密码。</p> 
<p>因此，安全公司Censys的首席技术官Derek Abdin提出了一个假设：</p> 
<p>在黑客A通过命令注入漏洞让设备感染恶意软件，形成了一种「僵尸网络」后，第二位黑客B又利用未授权重置这一新漏洞，实行了大规模的重置和擦除。</p> 
<p>黑客B明显是一位竞争者，他试图控制、或是破坏黑客A的僵尸网络。</p> 
<p>这次入侵可能是两名黑客在互掐！</p> 
<h2>官方：将为受攻击用户提供数据恢复服务</h2> 
<p>不管两位黑客出于什么目的在互扯头花，西数My Book Live用户已经表示真的遭不住了。</p> 
<p>发出第一声呐喊的用户的2T数据已经木大了。</p> 
<p class="image-wrapper"><img data-img-size-val="1080,425" src="https://img.36krcdn.com/20210701/v2_294e2026ed36421fbeac8460a7d39c7d_img_000" referrerpolicy="no-referrer"></p> 
<p>而相同遭遇的用户还有更多：</p> 
<p class="image-wrapper"><img data-img-size-val="1080,172" src="https://img.36krcdn.com/20210701/v2_9ae9efb2fd914093b47d09268b3e86c8_img_000" referrerpolicy="no-referrer"></p> 
<p>很多网友也对这西数硬盘的不作为感到极其不满：</p> 
<blockquote> 
 <p>3年了，一个REC漏洞还是没修好。这意味着你硬盘上所有的数据都有可能被泄露给攻击者。</p> 
</blockquote> 
<p class="image-wrapper"><img data-img-size-val="1080,361" src="https://img.36krcdn.com/20210701/v2_408ec96e879f4472b05ca5fed4e7870f_img_000" referrerpolicy="no-referrer"></p> 
<p>西部数据官方对此作何回应呢？</p> 
<p>他们在29日表示，将从7月份开始对数据丢失的用户提供数据恢复服务。</p> 
<p class="image-wrapper"><img data-img-size-val="1080,346" src="https://img.36krcdn.com/20210701/v2_4fa78052090648e098cdd2b428b3aaa8_img_000" referrerpolicy="no-referrer"></p> 
<p>而在做了技术分析之后，西部数据认为“没有任何证据表明西部数据的云服务、固件更新服务器或客户凭证被泄露”。</p> 
<p>同时也表示：</p> 
<blockquote> 
 <p>在这次攻击中被利用的漏洞仅限于My Book Live系列，该系列于2010年推向市场，并在2015年获得最后的固件更新。这些漏洞不影响我们目前的My Cloud产品系列。</p> 
</blockquote> 
<p class="image-wrapper"><img data-img-size-val="1080,483" src="https://img.36krcdn.com/20210701/v2_4f1cdab1d10d4066b3164f7c2cf916c1_img_000" referrerpolicy="no-referrer"></p> 
<p>最后，他们还提到了一项以旧换新计划，用于支持My Book Live用户升级到My Cloud设备。</p> 
<p>参考链接：[1]https://arstechnica.com/gadgets/2021/06/hackers-exploited-0-day-not-2018-bug-to-mass-wipe-my-book-live-devices/[2]https://arstechnica.com/gadgets/2021/06/mass-data-wipe-in-my-book-devices-prompts-warning-from-western-digital/[3]https://community.wd.com/t/action-required-on-my-book-live-and-my-book-live-duo/268147</p> 
<p>My Book Live日志文件：https://github.com/dangoodin/My-Book-Live</p>  
</div>
            