
---
title: '我写了一个程序，我难过的时候，电脑会自动给我发猫猫的照片'
categories: 
 - 新媒体
 - 36kr
 - 资讯
headimg: 'https://img.36krcdn.com/20220224/v2_b687eae17d7d432ab1efb8262846da8b_img_000'
author: 36kr
comments: false
date: Thu, 24 Feb 2022 06:35:17 GMT
thumbnail: 'https://img.36krcdn.com/20220224/v2_b687eae17d7d432ab1efb8262846da8b_img_000'
---

<div>   
<p>最近，国内外糟心的事太多了，每天看得文摘菌郁郁寡欢。</p> 
<p>每次这个时候，文摘菌都会去<a class="project-link" data-id="72045" data-name="朋友家" data-logo="https://img.36krcdn.com/20210807/v2_be7e9982ef1d450087d088907360c308_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/72045" target="_blank">朋友家</a>吸猫，吸着吸着就感觉神清气爽了，可谓一剂良药。</p> 
<p class="image-wrapper"><img data-img-size-val="280,258" src="https://img.36krcdn.com/20220224/v2_b687eae17d7d432ab1efb8262846da8b_img_000" referrerpolicy="no-referrer"></p> 
<p>最近文摘菌发现，吸猫治愈这个事，还不是个例。</p> 
<p>去年，日本一对夫妇就在推特上分享了自己的生活小窍门，其中一个就是生气的时候暂停存档，先吸猫平复一下心情再说，就像这样：</p> 
<p class="image-wrapper"><img data-img-size-val="1080,1440" src="https://img.36krcdn.com/20220224/v2_79b78d54430b4410ad435b40171d3ef8_img_000" referrerpolicy="no-referrer"></p> 
<p>甚至有网友评论表示，吸猫有助于世界和平。</p> 
<p class="image-wrapper"><img data-img-size-val="1080,409" src="https://img.36krcdn.com/20220224/v2_a519cccd3ef64686ba19994125cfa5ac_img_000" referrerpolicy="no-referrer"></p> 
<p>不过，吸猫虽好，可不要贪杯噢。</p> 
<p>今年1月份的时候，就有一名女子因为吸猫患上了“<strong>鹦鹉热</strong>”。得了“鹦鹉热”的人大多是因为不小心吸入了鸟类干燥粪便中的衣原体，虽然吸猫不一定会有这样的“副作用”，但小心驶得万年船。</p> 
<p>那么问题来了，有没有什么方法能够安全吸猫，最好能在心情抑郁的瞬间就能吸到猫呢？</p> 
<p>最近，有个名叫Andrew Healey的博主就在博客上分享了自己做的一个项目，只要他在电脑前露出了伤心难过的表情，电脑就会立马给他发送猫猫的照片，雪中送炭不过如此了。</p> 
<p>效果大概是这个样子：</p> 
<p class="image-wrapper"><img data-img-size-val="375,667" src="https://img.36krcdn.com/20220224/v2_6d03d049a56743c1952fea20a0fec9cb_img_000" referrerpolicy="no-referrer"></p> 
<p>好了好了，文摘菌知道很多人已经等不及了，我们现在就来看看这个项目到底是怎么完成的。</p> 
<h2 label="一级标题" style><strong>手把手教你“科学”吸猫</strong></h2> 
<p>在吸猫之前，我们得让电脑知道我们现在很伤心，这样它才会给我们发猫猫照片。</p> 
<p>在面部表情识别这块，Healey选择了开源的<strong>vladmandic/human</strong>，该数据库中提供了一个API来获取一些常见情绪的权重。</p> 
<p><img src="https://img.36krcdn.com/20220224/v2_5585477638ec47ae94f1190827f00ad9_img_png" data-img-size-val="1017,85" referrerpolicy="no-referrer"></p> 
<p>他将情绪简单地分为“好”与“坏”，这样对电脑来说会更容易区分和识别，同时系统会给每种情绪进行评分，总分在-1（非常差）和1（非常好）之间。</p> 
<p>由于不想每次因为打喷嚏就随意触发系统运行，Healey还添加了一个<strong>3秒追踪平均值</strong>来评估当前的情绪。</p> 
<p>在添加的<strong>调试控制台</strong>中，就能看到这些情绪分数，就像这样：</p> 
<p class="image-wrapper"><img data-img-size-val="1080,619" src="https://img.36krcdn.com/20220224/v2_e770330dce9741a29b6df7b1046ff671_img_000" referrerpolicy="no-referrer"></p> 
<p>在系统发送一张猫猫照片之后，它也会进入<strong>5分钟</strong>的待机时间，然后才会重新开始工作。</p> 
<p>Healey将所有前端代码写在一个index.html原型文件中，主循环以<strong>30-40 FPS</strong>的速度运行。</p> 
<p><img src="https://img.36krcdn.com/20220224/v2_d9d6da83ce0e4bd2b28e2a37b80ef019_img_png" data-img-size-val="1018,517" referrerpolicy="no-referrer"></p> 
<p>第一步完成了，接下来我们要让电脑给我们发送猫猫照片。</p> 
<p>在这里，Healey使用的是<strong>Pushover</strong>，该程序目前在程序员家庭自动化项目中还挺受欢迎的。</p> 
<p><img src="https://img.36krcdn.com/20220224/v2_dd59a9a4703a4b07aa69d440c438e82a_img_png" data-img-size-val="2061,581" referrerpolicy="no-referrer"></p> 
<p>随后，Healey将两个API粘合在<a class="project-link" data-id="81906" data-name="一起" data-logo="https://img.36krcdn.com/20210709/v2_647b9860d6f7437caf1be2501d37698a_img_000" data-refer-type="1" href="https://www.36dianping.com/space/4772100123" target="_blank">一起</a>以获取消息数据。随机名称来自网站randomuser。</p> 
<h3 label="二级标题" style>网站地址：</h3> 
<p>https://randomuser.me/api/</p> 
<h3 label="二级标题" style>随机猫猫照片：</h3> 
<p>https://api.thecatapi.com/v1/images/search</p> 
<p>实际上，获得照片后还需要调整图像大小，因为Cat API致力于提供高分辨率的照片，通常能有<strong>5MB</strong>。</p> 
<p>以下就是最终<a class="project-link" data-id="95377" data-name="得到" data-logo="https://img.36krcdn.com/20210807/v2_966db147ab4646ef82349f069ce61219_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/95377" target="_blank">得到</a>这个函数的方式：</p> 
<p><img src="https://img.36krcdn.com/20220224/v2_b464edf326354f66b913a9447f151185_img_png" data-img-size-val="1018,202" referrerpolicy="no-referrer"></p> 
<p>Healey使用PythonSimpleHTTPRequestHandler来提供静态文件，这与one-liner提供文件时运行的服务器相同python -m http.server。</p> 
<p>Healey的计划是不为此运行后端，虽然这仍然是一个可以实现的目标，但他发现用Python编写API粘合代码更快。当他意识到还需要一个API路由来处理“send cat”时，他正要安装Flask，但似乎可以......通过添加这个 hack 继续使用这个简单的服务器：</p> 
<p><img src="https://img.36krcdn.com/20220224/v2_bf17be2fced847c495572133ebde3465_img_png" data-img-size-val="1014,402" referrerpolicy="no-referrer"></p> 
<h2 label="一级标题" style><strong>超越地域和文化，AI识别16种面部表情</strong></h2> 
<p>说到面部识别，此前Nature就发表了一篇论文，证实了人类情感表达跨越地域和文化边界的普遍性。</p> 
<p class="image-wrapper"><img data-img-size-val="981,545" src="https://img.36krcdn.com/20220224/v2_9d29db7e44ec4f8e916414078adc9ba9_img_000" referrerpolicy="no-referrer"></p> 
<p label="图片描述" classname="img-desc" class="img-desc" style>论文链接：<span style="letter-spacing: 0px;">https://www.nature.com/articles/s41586-020-3037-7 </span></p> 
<p>一般来说，人类面部有<strong>43块</strong>不同的肌肉，这些肌肉可以被激活在眼睛、鼻子、嘴巴、下巴、下巴和眉毛周围，从而做出数千种不同的表情。 </p> 
<p>为了研究这些表情，加州大学伯克利分校和<a class="project-link" data-id="3968996" data-name="谷歌" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968996" target="_blank">谷歌</a>的研究人员使用被称为“深度神经网络”的机器学习技术，分析了YouTube上约<strong>600万</strong>个视频片段中的面部表情，这些视频来自北美、中美、南美、非洲、欧洲、中东和亚洲的<strong>144个</strong>国家。</p> 
<p>同时，研究人员还创建了一个在线互动地图，展示了该算法如何跟踪与<strong>16</strong>种情绪相关的面部表情变化，包括娱乐、愤怒、敬畏、专注、困惑、蔑视、满足、欲望、失望、怀疑、得意、兴趣、痛苦、悲伤、惊讶和胜利。</p> 
<p class="image-wrapper"><img data-img-size-val="1080,508" src="https://img.36krcdn.com/20220224/v2_e7f07feb77c24199b56eeee0e6dba056_img_000" referrerpolicy="no-referrer"></p> 
<p>研究人员还发现，无论身处世界各地，这16种面部表情都出现在类似的情境中。每个人都倾向于以类似的方式欢呼、哭泣、集中注意力和庆祝，没有一群人会因受惊而微笑、耸肩或因高兴而皱眉。 </p> 
<p>也就是说，我们用来表达情绪反应的<strong>70%</strong>的表情是跨文化共享的。 </p> 
<p>所以，不要担心电脑看不<a class="project-link" data-id="76636" data-name="懂你" data-logo="https://img.36krcdn.com/20210807/v2_a3ae83f62e304b9e8e52e7975494e63c_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/76636" target="_blank">懂你</a>的表情，难过的时候你就难过给它看，然后好好吸猫放松一下~</p> 
<p>love&peace！ </p> 
<p class="image-wrapper"><img data-img-size-val="640,1081" src="https://img.36krcdn.com/20220224/v2_0e293c9f99864f7f9c59817b6f885cdd_img_000" referrerpolicy="no-referrer"></p> 
<h3 label="二级标题" style>相关报道：</h3> 
<p>https://healeycodes.com/when-im-sad-my-computer-sends-me-a-cat </p> 
<p>https://twitter.com/NEKOLAND13/status/1442795503859613697 </p> 
<p class="editor-note">本文来自<a class="project-link" data-id="3968527" data-name="微信" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968527" target="_blank">微信</a>公众号<a target="_blank" rel="noopener noreferrer nofollow" href="https://mp.weixin.qq.com/s?__biz=MjM5MTQzNzU2NA==&mid=2651710851&idx=1&sn=0ecb6b8cf3cbe8f30eb985939e3ba945&chksm=bd4cc2108a3b4b0674114b39d27f2d64d52b3fb2e05080095a946dcee8ffca2acc0f80e7102c#rd">“大数据文摘”（ID:BigDataDigest）</a>，作者：Caleb，36氪经授权发布。</p>  
</div>
            