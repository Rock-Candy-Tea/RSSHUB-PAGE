
---
title: '聊天截图厚码也不安全，大神写了算法分分钟给你还原'
categories: 
 - 新媒体
 - 36kr
 - 资讯
headimg: 'https://img.36krcdn.com/20220217/v2_f2d773486f2c48c3bdcf43b50544e7bf_img_000'
author: 36kr
comments: false
date: Thu, 17 Feb 2022 08:08:21 GMT
thumbnail: 'https://img.36krcdn.com/20220217/v2_f2d773486f2c48c3bdcf43b50544e7bf_img_000'
---

<div>   
<p>讲个恐怖的故事。</p> 
<p>早上跟同事在<a class="project-link" data-id="3968527" data-name="微信" data-logo="https://img.36krcdn.com/20200916/v2_811751a081924fa9af8741ce120bd7bf_img_png" data-refer-type="2" href="https://36kr.com/projectDetails/3968527" target="_blank">微信</a>闲谈，聊起了一位女同事最近的变化。</p> 
<p>结果他反手就把文字打上<strong>马赛克</strong>，截图丢进了群里：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_f2d773486f2c48c3bdcf43b50544e7bf_img_000" referrerpolicy="no-referrer"></p> 
<p>还欠欠儿地补了一刀：</p> 
<blockquote> 
 <p>@XXX，他说你坏话了呦~</p> 
</blockquote> 
<p>万万没想到，这位同事气势汹汹地走了过来，竟然直接点出了“秘密文字”的内容。</p> 
<p>当时的我是这样的：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_157a9e3f8dd748fc835d8676c44dc2ef_img_000" referrerpolicy="no-referrer"></p> 
<p>见状，这位老师补充道：</p> 
<blockquote> 
 <p>都什么年代了，以为打马赛克我就认不出来了？<strong>分分钟还原</strong>好吧！</p> 
</blockquote> 
<p>……</p> 
<p>好奇如我，马上对这个技术展开了一番“调查”。</p> 
<p>（PS：聊天原图在文末揭晓）</p> 
<h2><strong>如何还原打了马赛克的文字？</strong></h2> 
<p>还别说，国外一家公司的首席研究员Dan Petro（下文简称Dan），这两天就发布了这么一篇帖子。</p> 
<p>他直接点出了重点：</p> 
<blockquote> 
 <p>打马赛克（像素化），是一种非常不好、不安全，而且会泄露敏感数据的方法。</p> 
</blockquote> 
<p>为了验证他的说法，Dan亲自下场写了一个名为<strong> Unredacter</strong> 的工具。</p> 
<p>然后现场演示了一下，这个工具是如何一<a class="project-link" data-id="74575" data-name="点一点" data-logo="https://img.36krcdn.com/20210807/v2_aeb6a16f07374395a5327342e9468b5c_img_000" data-refer-type="2" href="https://36kr.com/projectDetails/74575" target="_blank">点一点</a>把打了马赛克的文字还原的：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_be07b8629f7549e7a35fb9bcd0126c18_img_000" referrerpolicy="no-referrer"></p> 
<p>从上面的示例中，不难看出，即便原文打了厚厚的一层马赛克，在这个工具面前依旧像“裸奔”一样。</p> 
<p>或许你会说，这玩意儿操作起来会很复杂吧？</p> 
<p>不不不。</p> 
<p>非常之简单，仅仅是2个步骤：</p> 
<ul> 
 <li>用npm install安装依赖项</li> 
 <li>用npm start来启动</li> 
</ul> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_ab6b3e361e684a448e192c1fd2b385d5_img_000" referrerpolicy="no-referrer"></p> 
<p>虽然在Dan之前，已经有类似的工具存在了，例如<strong> Depix</strong>。</p> 
<p>但一个非常现实的问题就是，Depix还原的文字，从视觉效果上并不是很好：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_f3387fc724674b30836a3651de548a88_img_000" referrerpolicy="no-referrer"></p> 
<p>Depix还原出来的文字，有些地方的还是糊糊的。</p> 
<p>因此，国外Jumpsec Lab的一位研究员指出了这个问题，并且还附上了一道比较有意思的挑战：</p> 
<blockquote> 
 <p>如果你破解了密码，请联系我们。</p> 
</blockquote> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_6c2e6adcaaca4fd8a42f0c3e9cecaa6a_img_000" referrerpolicy="no-referrer"></p> 
<p>这样的挑战便引起了Dan极大的兴趣，这也就是他开发Unredacter的原因。</p> 
<p>于是，在Unredacter的加持下，Dan顺利攻破了这项挑战：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_5ca4a684dc624245a5008e994b0e1ed3_img_000" referrerpolicy="no-referrer"></p> 
<p>而后Dan联系上了这位研究员，在邮件的回复中，也证实了Dan的结果是正确的：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_59b7b8407f874083807a08ce0184e33d_img_000" referrerpolicy="no-referrer"></p> 
<p>不仅如此，Dan还介绍说，像类似用涂抹方式来打的马赛克，无论是在GiMP、Photoshop或者其它编辑器中，结果都是一样的。</p> 
<p>因此，他的破解方法应当是具备一定的通用性。</p> 
<p>当然，生活中我们或多或少都会有“打码”的需求，既然马赛克不安全，那有没有更好的方式呢？</p> 
<p>Dan对此的答复是：</p> 
<blockquote> 
 <p>用黑色条来遮挡。</p> 
</blockquote> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_e78ac395ee434f489f27af4e5748071b_img_000" referrerpolicy="no-referrer"></p> 
<h2><strong>还有还原打了马赛克的图片</strong></h2> 
<p>其实“还原马赛克”这件事，AI界早就有所研究。</p> 
<p>例如杜克大学提出的<strong> PLUSE</strong>便是其中之一，还登顶了CVPR。</p> 
<p>但它修复的并不是文字，而是人像，例如：</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_317e5f0ff141487d93379bfac3342adf_img_000" referrerpolicy="no-referrer"></p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_1acee159d6de4bf895e066864a0c2ea5_img_000" referrerpolicy="no-referrer"></p> 
<p>从原理角度来看，它本质上是<strong>生成对抗网络</strong>（GAN）。</p> 
<p>PLUSE主要是根据模糊的马赛克像素，“画”出新的一张张不存在的人脸，再压缩回马赛克状态跟原图比一比，把相似的版本拿出来展示。</p> 
<p>当然，这项技术也并非完美，也有翻车的时候。</p> 
<p>例如网友就拿马里奥试了试，结果……</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_6a5606ba4a674894b37d21d297914505_img_000" referrerpolicy="no-referrer"></p> 
<p>Emmm……这“味道”，不一般。</p> 
<h2><strong>One More Thing</strong></h2> 
<p>最后，来揭晓一下开头故事的答案。</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_7c80e861fd5e4328bd9d0f88059d33fc_img_000" referrerpolicy="no-referrer"></p> 
<p>着实是个惨痛的教训了……</p> 
<p class="image-wrapper"><img data-img-size-val src="https://img.36krcdn.com/20220217/v2_a2a7ac02342b405d97baa329e4a6d705_img_000" referrerpolicy="no-referrer"></p> 
<h3>项目地址：</h3> 
<p>https://github.com/bishopfox/unredacter</p> 
<h3>参考链接：</h3> 
<p>[1]https://bishopfox.com/blog/unredacter-tool-never-pixelation</p> 
<p>[2]https://labs.jumpsec.com/can-depix-deobfuscate-your-data/</p> 
<p>[3]https://arxiv.org/abs/2003.03808</p> 
<p>本文来自微信公众号 <a target="_blank" rel="noopener noreferrer" href="http://mp.weixin.qq.com/s?__biz=MzIzNjc1NzUzMw==&mid=2247612668&idx=5&sn=b284c327d5894b58395a16a4ef1203f9&chksm=e8d18f8edfa60698f9ffb3a1d516bad4d32cb1fcf999158e415a235babd68274e302c965f03e#rd">“量子位”（ID：QbitAI）</a>，作者：金磊，36氪经授权发布。</p>  
</div>
            