
---
title: '路径分析：如何将用户的网站行为轨迹可视化呈现？'
categories: 
 - 新媒体
 - 鸟哥笔记
 - 首页
headimg: 'https://qnssl.niaogebiji.com/16664886476073b4ca516444.66462515.png'
author: 鸟哥笔记
comments: false
date: Mon, 12 Apr 2021 03:04:21 GMT
thumbnail: 'https://qnssl.niaogebiji.com/16664886476073b4ca516444.66462515.png'
---

<div>   
<div style="height: 6px"></div>
                        <p></p><section><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;"><strong>“</strong> 路径分析，对于理解用户的流量行为特点，是最直观、高效的分析方式之一。<strong>”</strong></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">关于BI分析系统中的各类特殊分析项，很久之前分享过《用户归因分析》、《用户行为漏斗分析》，今天和大家聊聊流量分析中常用的用户的路径分析，以及如何在BI系统中产品化。</p></section></section></section></section></section></section></section></section><p></p><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">01 什么是路径分析</h1></section></section></section></section><p></p><section><section powered-by="xiumi.us"><section><section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">首先，什么是用户路径分析呢？</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">（1）路径分析的概念</h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">似乎这个从表述上来讲，就很容易理解了。其实就是用户在站内或者App内的不同页面、不同模块、不同操作事件之间，流转来及流转去的分析。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">通过路径分析，我们可以很好地发现用户的流转特点，发现用户是从哪些环节、哪些页面流失、或者发生了阻碍，从而有针对性地优化产品，提升业绩。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">比如，我们发现很多用户在加购后没有进行支付，我们就可以通过路径分析，看看用户加购后，都去哪里了、发生了什么操作。如此，有可能找到支付率低的原因所在。</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（2）和漏斗分析的区别</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">由于之前分享过《漏斗分析》，那路径分析和漏斗分析有啥区别呢？</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><img src="https://qnssl.niaogebiji.com/16664886476073b4ca516444.66462515.png" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">上图左边是漏斗分析，右边是典型的路径分析。大家有看出差别吗？</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">对，漏斗分析是固化了具体的分析过程或者业务环节，然后分析这几个大的业务环节的转化；而路径分析，是固化了用户的路径顺序，在每个路径次序中，都包含了各个主要业务环节，因此在每一步中，出现的业务环节很有可能都是类似的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">总而言之，漏斗分析看重的是业务环节之间的留存关系，而路径分析看重的是用户在不同业务环节中的顺序及流失关系。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">理论上讲，漏斗分析可以作为路径分析的一个概况来看。</p><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">02 路径分析的可视化呈现</h1></section></section></section></section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">用户的路径分析中，比较常见的可视化呈现，就是桑基图。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">关于桑基图，这里简单说两句。其实是因1898年Matthew Henry Phineas Riall Sankey绘制的“蒸汽机的能源效率图”而闻名，此后便以其名字命名为“桑基图”。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">桑基图主要是用来显示流向和数量。最大的特点，就是开始与结束是保持总量守恒的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">比如下面的这个例子，就是桑基图：</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><img src="https://qnssl.niaogebiji.com/5059139196073b4caebfeb0.29477929.jpeg" width="600" height="359" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">从这个图里，我们能清晰看出全体用户是从哪个地方来，经过一步一步的环节后，到了哪里去。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">另外一种和桑基图比较相似的图，是和弦图。如下示例：</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><img src="https://qnssl.niaogebiji.com/1779225106073b4cbbcfae3.93304773.jpeg" width="600" height="496" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">和弦图主要是呈现从一个内容转移到另外所有内容的情况，呈现不了桑基图多层环节的内容，仅仅是一个环节。</p><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">03 路径分析的产品设计</h1></section></section></section></section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">上面讲到了路径分析主要的可视化呈现是桑基图。其实对于做分析报告而言，有一张恰当的桑基图就可以呈现很多信息了。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">但产品化和做分析报告不一样。产品化要满足的是更丰富的应用场景，实现灵活的交互式分析。这是BI系统中路径分析的基本要求。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">那么关于BI分析系统中的路径分析模块，该如何进行产品设计呢？我们看看行业的产品设计。</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（1）谷歌分析的路径分析</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">下图是GA的路径分析模块：</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><img src="https://qnssl.niaogebiji.com/3327869366073b4cc843bc8.37750562.png" width="600" height="230" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">首先，GA支持节点类型的选择。用户可以选择事件、也可以选择页面，并且针对详细程度、聚合程度进行自定义调整。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">其次，点击某个节点，可以进行更深入的分析。</p><ul class=" list-paddingleft-2"><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;"><strong>突出显示途经此处的流量</strong>：突出显示该部分流量在整个流程中产生的所有连接</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;"><strong>仅查看此细分（仅限维度节点）</strong>：仅显示来自该维度/细分的流量</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;"><strong>查看通过此处的流量：</strong>显示来到该节点或出自该节点的所有连接。在此模式中，可以在路径中的该节点之前或之后添加其他步骤。</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;"><strong>群组详细信息：</strong>显示该节点中组合到一起的元素，如各个网页或事件。此选项用于查看详细信息（出站流量、排名靠前的网页、入站流量、渠道进入次数、渠道退出次数等）。</p></li></ul><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（2）神策数据的路径分析</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">下图是神策数据的路径分析模块：</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><strong><img src="https://qnssl.niaogebiji.com/15976975066073b4cd88dd33.40076993.png" width="700" height="370" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" style="width: 700px; height: auto;" referrerpolicy="no-referrer"></strong></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">其实大的逻辑，和GA的桑基图没有本质的区别，细节上，比GA还是会有一些减少。但从体验上，不得不说还是挺不错的。起码比较容易上手。GA可能还是翻译或者文化不同吧，总需要一个适应的过程。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">神策的路径分析中，支持了多种方式的筛选操作。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px; text-align: center;"><img src="https://qnssl.niaogebiji.com/19864500046073b4ce414779.42743307.png" width="500" height="239" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" alt="鸟哥笔记,数据运营,首席数据科学家,数据指标,数据分析,数据建设,数据运营" style="width: 500px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">这里包括以下：</p><ul class=" list-paddingleft-2"><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">事件范围的筛选</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">起始事件的确定</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">用户细分的筛选</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">session的时长设置</p></li></ul><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">这些筛选其实能满足正常分析人员绝大部分的分析诉求了。尤其是session的间隔设置，这个我觉得还是挺惊艳的。回头仔细调研一下技术的实现。毕竟session间隔的随意设置，个人觉得对计算的要求还是很高的。</p><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">04 路径分析的数据逻辑</h1></section></section></section></section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">上面讲了很多产品设计侧面的内容。很便捷的交互式操作背后，是大量的数据处理逻辑，这里可以简述一二。</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（1）良好的序列数据及会话切割</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">想象一下，要实现路径分析，数据该如何处理？</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">首先，要对所有的行为日志进行会话（session）的划分。划分的目的是为了实现区分一次次独立的行为。通常的划分方式是，30分钟或者多久没有操作，本次会话就结束了。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">其次，基于划分成一段段的会话，进行数据处理和汇总分析。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">以作者之前的经验，在每个session中的事件记录，会按照时间顺序标记序列号。如此可以实现序列的分析。但对于神策分析中的自由设置session间隔是如何实现的，我确实也没想到。因为正常情况下，session的划分逻辑是固定的。</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（2）数据计算要求较高</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">通过刚才的示例我们也看到了，在分析过程中，有可能进行各种条件的筛选、各种人群的细分、各种逻辑的设置，这对于计算的要求无疑是很高的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">具体背后的技术架构层的设计，是很重要的内容。</p><h3 label="三级标题" style="background-image: url("/img/article/h3_icon.png"); background-size: 8px 20px; margin: 25px 0px 20px; padding-left: 12px; font-size: 16px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; background-position: 0px 5px; background-repeat: no-repeat no-repeat;"><strong>（3）涉及的主要算法</strong></h3><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">路径分析的主要算法包括以下几种：<br></p><ul class=" list-paddingleft-2"><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">社会网络分析方法：也叫链接分析，在社会网络分析方法中，最常见最成熟的一种方法就是中心性分析方法，中心性是对于社会关系网中参与者的著名成都进行度量的标准，与网络搜索和超链接分析有非常紧密的关系 <br></p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">基于序列的关联分析：又称序列分析，这种分析方法时在关联分析的基础上，进一步考虑了关联品之间的先后顺序，即只分析先后顺序的关联关系。</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">最朴素的遍历方法：因为最直观、最直接、最容易让人理解，把某个页面的所有来源以及相应的流量大小整理出来，同时把浏览该页面的下一个页面的所有去向和相应的流量整理出来</p></li></ul><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">关于路径分析，今天先分享到这里吧。欢迎继续关注~<br></p><p label="图片描述" style="font-size: 12px; color: rgb(129, 131, 134); text-align: center; font-weight: 300; line-height: 30px; margin-bottom: 25px;">-END-<br></p></section></section></section></section><p></p>                        <div style="height: 1px"></div>
                      
</div>
            