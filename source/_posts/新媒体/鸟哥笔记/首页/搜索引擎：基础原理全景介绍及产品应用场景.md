
---
title: '搜索引擎：基础原理全景介绍及产品应用场景'
categories: 
 - 新媒体
 - 鸟哥笔记
 - 首页
headimg: 'https://qnssl.niaogebiji.com/110154916261c4a1e2e1a440.05150763.png'
author: 鸟哥笔记
comments: false
date: Wed, 29 Dec 2021 06:19:30 GMT
thumbnail: 'https://qnssl.niaogebiji.com/110154916261c4a1e2e1a440.05150763.png'
---

<div>   
<div style="height: 6px"></div>
                        <p></p><section><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">“ 简单聊聊搜索引擎相关的内容。”</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">好久没有聊关于模型、算法相关的内容了。之前分享过围绕机器学习的常见算法，比如《层次聚类模型》、《K-means聚类模型》、《线性回归模型》、《逻辑回归模型》、《朴素贝叶斯分类》等。</p></section></section></section></section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">四年前，我也主导做过一款金融垂直搜索引擎的产品，对搜索有一些简单的了解。因此后面会尝试分享几篇搜索推荐相关的算法，本篇以搜索的基础原理切入，简单聊聊搜索的基础内容，适合小白入门。</p></section></section></section></section><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; text-align: center; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">01什么是搜索引擎</h1></section></section></section></section><p></p><section><section powered-by="xiumi.us"><section><section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">是的，提到搜索引擎，我想大家应该都能想到【百度】、【谷歌】，他们都是搜索引擎。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/110154916261c4a1e2e1a440.05150763.png" width="500" height="336" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 500px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">例如上图，左侧呈现的内容便是搜索结果list。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">其实，还有一种搜索引擎，虽然大家也一直在用，但真的关注过嘛？例如像京东的商品搜索：</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/148718641361c4a1e3a30fb0.61826364.png" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">因此，总结下来，搜索引擎主要包括两类：一类是类似百度、Google这种的专门的搜索引擎，搜索即公司的主要业务；另一类是作为网站内部的一个功能模块，用于服务主流业务的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">目前专职做搜索引擎的公司，其实也不是很多了，国内主要就是百度、搜狗搜索、360搜索这些，行业的集中度已经很高了。（下图仅供参考）</p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/129875064661c4a1e436c9d1.47579619.jpeg" width="600" height="360" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">但网站内部的搜索功能，基本每家公司都在做，大家但凡使用的成熟一点的互联网APP或者网站，都会提供搜索服务，搜索已经成为信息检索的主流手段了。不信大家打开手机的美团、知乎、腾讯视频等等，首页核心位置都会提供搜索入口。</p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/127488219261c4a1e4ace555.50318522.png" width="600" height="330" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">专业的搜索引擎和站内搜索功能，异同点有哪些呢？</p><ul class=" list-paddingleft-2"><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">差异点：主要是两者的检索目标内容是有差别的。专业搜索引擎更加综合，目标是满足用户对于信息（尤其是文本信息）的检索诉求；站内搜索主要的检索对象基本就是网站的服务内容。视频网站搜索的就是视频，外卖网站搜索的就是店铺，电商网站搜索的就是商品等。由于检索的内容、不同网站的业务目标都有差别，因此各个网站内部的搜索逻辑肯定也是千差万别。</p></li><li><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">相同点：就是都是搜索引擎。核心的技术及大的框架都是基本一致的。</p></li></ul><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; text-align: center; background-position: 0px 5px; background-repeat: no-repeat no-repeat;">02搜索服务的核心过程</h1></section></section></section></section><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">下面我们聊聊一个搜索服务的核心流程都有哪些。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">（1）数据的获取+处理</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">对于专门的搜索引擎来讲，数据及信息的获取主要指的是爬虫的操作。即下图的sp左侧部分。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/22211340361c4a1e5501c45.06184057.png" width="600" height="475" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">各位朋友有没有想过，百度可以实时返回你查询的关键词或者句子，是怎么做到的呢？比如你百度搜索【数据科学】，是实时去全网上全找一圈吗？当然不是。哪怕计算资源再多、计算效率再快，也不可能在短时间内告诉你靠谱的结果。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">因此，为了解决效率的问题，所有的搜索引擎都是提前将各类网站的数据爬下来，进行处理加工，等待用户的查询操作。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">这里需要做的数据处理加工工作其实是非常多的，比如需要对网页的重复内容进行去重，比如需要对所有的网页进行文本解析、语义识别，比如需要对文本进行索引的建立以便于后续的关键词检索等等。这里就不展开了，后面我们有机会逐一分享。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/79719263861c4a1e5e1c7e4.36767430.jpeg" width="600" height="338" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">而对于网站内部的搜索功能模块来讲，数据的获取其实是比较容易的，不需要爬取，都是自己公司数据库中现成的数据。我们以电商网站的搜索举例，要搜索的都是商品，因此主要针对商品数据进行处理就好。而商品的数据肯定有商品表，基础信息已经很丰富了，足够满足搜索的基础应用。相对专业搜索引擎而言，数据处理的难度是小了很多。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">（2）搜索query解析</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">无论用户是否进行搜索，上面的第一个环节都是需要做的基础工作。当用户进行搜索操作时，需要进行的处理的是本环节：query解析。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">所谓的query解析，就是理解和分析用户输入的搜索语句（query），到底是个啥意思。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">比如输入【数据科学家的主要工作内容是啥】，搜索引擎只是冷冰冰的机器，它是不理解这句话是啥含义的，那它怎么能给你靠谱的答案呢？</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/206975000661c4a1e662b115.97816668.png" width="600" height="425" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">其实很多朋友也能想到，直接基于关键词进行匹配呗~是的，大的逻辑没毛病，但是真正落地就会发现，有很多细节问题。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">比如，关键词匹配，那首先我得知道【数据科学家的主要工作内容是啥】有哪些关键词对不？这就得进行分词了。所谓的分词，就是对query进行切分为符合常识的关键词，这是典型的NLP（自然语言处理）中的知识内容。比如上面切分成【数据】+【科学】+【家的】+【主要】……还是【数据】+【科学家】+……这是完全不一样的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">再比如下面的【研究生物学】的切分，更是五花八门了。分词相关的NLP算法，后面详细分享，这里只是抛个砖。</p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/90227537461c4a1e73f61b0.91979602.jpeg" width="600" height="266" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">再比如，【数据科学家的主要工作内容是啥】这句话，其中有【的】、【是啥】这种词，如果进行关键词匹配是不是会有影响？毕竟这种语气词既没有啥重要性，在网页中出现的频率又高。这里就涉及了核心关键词的提取、权重判断等。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">再比如下面这个搜索【我和我的爷辈】，可能是我输入错了，但是query猜出我可能搜的是【我和我的父辈】，进行了纠正，如果一根筋的搜索，是不可能出来这个结果的。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/67856259761c4a1e7b4f707.46757811.png" width="600" height="348" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">综上，在query解析这个环节，主要需要搞定的是用户输入的语句，如何对语句进行处理，使得机器能够理解语句的含义，便于后续高效地搜索到相关的结果。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">当然，基于关键词是比较基础的了，现在更多地朝着知识图谱、问答的方向迈进，更加符合真正的搜索需求。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">（3）内容检索召回+排序</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">上面两个环节，一个环节是从服务端出发，进行数据的处理加工；一个环节是从用户端出发，进行用户搜索语句的理解。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">下面就到了第三个重要环节：基于处理后的用户的搜索内容，到处理完的库中检索结果，把相关的内容都找出来，并按照一定的规则进行排序。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">这个内容是搜索引擎的核心内容。因此不同的公司、不同网站的搜索引擎逻辑都会差别比较大，而排序逻辑更是千差万别。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">需要排序这个事情应该比较好理解，理论上，我们是给匹配到检索内容的结果进行打分，分值高的排在前面。用户肯定是想要看到最相关、或者我们想让用户看到最重要的内容在前面，越往后用户看到的几率越小。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">因此，针对如何提升排序这个事情，就诞生了一个专门的行业、职位：SEO优化（Search Engine Optimization），即提升相关内容的网站排名。对于淘宝卖家而言，需要提升自己家商品在淘宝天猫的搜索排名，会进行各种关键词、指标的优化；网站为了提升自己的百度搜索排名，也会进行各种标题等优化。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/180057117861c4a1e8545d19.31062073.jpeg" width="600" height="304" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">所以为了保障网站的排名公平，防止大家针对排序规则钻空子，往往各家网站的搜索排序规则、打分权重等都是比较保密的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">（4）搜索结果呈现</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">最后一个环节，主要就是产品功能层面的内容了，即针对搜索返回的排序好的结果，进行良好的产品化呈现。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">比如知乎搜索【薇娅】：</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/138172354561c4a1e8d1e500.62018624.png" width="600" height="498" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">在首页（综合）模块都是各类型搜索结果的top合集：包括讨论相关的内容、问答相关的内容、视频相关等。这种呈现方式是多类型网站比较主流的混合呈现方式。因此，对于搜索而言，每种不同方式也是一个单独的搜索引擎，然后不同的结果进行产品化的merge。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">当然，随着技术的越发完善，用户体验不断提升，搜索也会有了各种特型呈现。比如我们在百度搜索【北京青岛】：</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/59331746061c4a1e97d8ad4.87042644.png" width="600" height="451" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">这里不再是按照上面的环节进行单纯的检索，而是对某些特定类型的关键词进行了特殊化呈现，这属于在基础搜索服务上的补充。上面这个案例的规则应该是用户输入的query中包含2个城市名称，则触发该特型呈现。感兴趣的朋友可以自己试试【山东山西】、【中国日本】、【北京深圳青岛】等，都是没有特型的，哈哈。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">特型呈现对于用户的体验而言是巨大的提升，但对于搜索引擎而言，需要不断的积累，不断地增加，是个很长期的事情。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">当然，不止搜索引擎有特型，其他网站内部搜索也是可以有特型呈现的。比如下面淘宝搜索某个品牌名称，除了商品list，还会增加旗舰店店铺的大流量入口（虽然这是个广告位）。</p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/44244525361c4a1eab26d32.59490037.png" width="600" height="406" border="0" vspace="0" title="搜索引擎：基础原理全景介绍及产品应用场景" alt="搜索引擎：基础原理全景介绍及产品应用场景" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">关于搜索相关的技术内容，今天就先介绍这些。搜索涉及的内容非常庞大，不是一篇文章可以讲清楚的，这篇文章主要目的是对搜索的整体框架有个简单的了解，明白搜索的基础工作原理。后面有机会我们再一一展开，分享更多细节的内容。也是比较有趣的。</p><p label="正文" style="font-size: 16px; color: rgb(33, 38, 41); margin-bottom: 25px;">今天的文章就这些，感谢大家关注~<br></p><p label="图片描述" style="font-size: 12px; color: rgb(129, 131, 134); text-align: center; font-weight: 300; line-height: 30px; margin-bottom: 25px;">-END-<br></p></section></section></section></section><p></p>                        <div style="height: 1px"></div>
                      
</div>
            