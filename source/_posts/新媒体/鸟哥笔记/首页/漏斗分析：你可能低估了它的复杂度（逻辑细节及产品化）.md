
---
title: '漏斗分析：你可能低估了它的复杂度（逻辑细节及产品化）'
categories: 
 - 新媒体
 - 鸟哥笔记
 - 首页
headimg: 'https://qnssl.niaogebiji.com/217966270614c1a7f7aa4d6.02856659.png'
author: 鸟哥笔记
comments: false
date: Thu, 23 Sep 2021 06:18:32 GMT
thumbnail: 'https://qnssl.niaogebiji.com/217966270614c1a7f7aa4d6.02856659.png'
---

<div>   
<div style="height: 6px"></div>
                        <p><strong>“</strong> 漏斗分析应该是互联网中的最基础的分析了。<strong>”</strong><br></p><section><section powered-by="xiumi.us"><section><section><section><section powered-by="xiumi.us"><section><section><p><br></p></section></section></section></section><p>与《归因分析》《用户路径分析》不同的是，大部分互联网从业者，都听过漏斗分析。但对于漏斗分析的细节，你确定了解吗？漏斗分析可不只是简单的几个递减、转化率哦~下面，和大家一起聊聊具体的逻辑。</p></section></section></section></section><section><section powered-by="xiumi.us"><section><section><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; text-align: center;">01 什么是漏斗分析</h1></section></section></section></section><section><section powered-by="xiumi.us"><section><section><p>提到漏斗分析，大家都能想到下图：</p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/217966270614c1a7f7aa4d6.02856659.png" width="500" height="320" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 500px; height: auto;" referrerpolicy="no-referrer"></p><p>从图中我们可以了解到漏斗分析的基础特征：（1）是分多层、多环节的（2）各环节是有转化率（或者流失）效应的（3）环节之间有先后顺序</p><p><br></p><p>总结一下，漏斗分析是分析用户从起始到终点环节，过程当中每一步环节的转化（或者流失）情况。通过漏斗，可以找出全链路业务的问题环节所在，从而进行针对性优化。</p><p><br></p><p>说到这里，大家可能也都是了解的。但是，如果谈到细节逻辑呢？比如，用户从漏斗中间环节进入，是否要计算？在给定的范围内如果发生了其他未定义的行为，该如何处理？等等。下面咱们来具体聊聊。</p><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; text-align: center;">02  漏斗分析的计算逻辑</h1><p>这里介绍一下漏斗分析的详细逻辑。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（1）明确时间范围等筛选条件</h2><p>这是计算漏斗的第一步。</p><p><br></p><p>常用的筛选条件主要是时间范围及用户类型。当然，其他的筛选维度（比如设备类别等）理论上也是可以支持的，但时间范围的筛选是漏斗计算必不可少的。是统计近7天的漏斗转化，还是近30天的转化？等等。</p><p><br></p><p>确定好时间范围，将时间范围内的数据搂出来，是计算漏斗的首要前提。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（2）确定漏斗的划分阶段及条件</h2><p>确定好了时间范围，接下来需要确定漏斗的整体阶段划分。</p><p><br></p><p>每个漏斗，至少需要包含两个阶段（不然称不上漏斗）。每个阶段，基本设定就是【事件类型】+【筛选条件】。</p><p><br></p><p>关于筛选条件，通常来讲都是针对当前阶段进行的限制。但有时多个阶段之间需要进行打通。拿电商的环节举例。有时分析师想看的是浏览、加购且下单了同一个sku的数据（因为有可能有用户浏览了A商品，但是加购下单了B商品，这种情况不是我们想统计的漏斗转化），那这时，在筛选条件这需进行特殊处理，即打通多个阶段之间的关联。<br></p><p><br></p><p>在神策中，是用【属性关联】的概念实现了多个阶段的筛选逻辑处理。</p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/1137374685614c1a7ff017b4.35000677.png" width="600" height="396" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p><br></p><p>这一个步骤，相当于把用户全量行为中，符合本次漏斗的行为数据筛选出来，以备后续的计算。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（3）关于漏斗的类型</h2><p>接下来，进入到漏斗流程的计算环节。</p><p><br></p><p>假设我们想看的转化流程是A→B→C→D→E。那么如果经过上面几个数据处理之后，有以下几个路径，我们该怎么处理呢？</p><p><br></p><p>路径1：A→B→C</p><p><br></p><p>路径2：C→D→E</p><p><br></p><p>路径3：A→B→D→E</p><p><br></p><p>路径4：A→B→X→C→D</p><p><br></p><p>在聊上面路径之前，先聊一下漏斗的分类：【封闭式漏斗】和【开放式漏斗】。</p><p><br></p><p>所谓封闭式漏斗，就是只有从整体漏斗的第一个阶段进入的路径，才统计在漏斗当中。因此在这种逻辑下，路径2就不会统计在我们漏斗分析中了，因为没有从第一阶段发起。通常情况下，我们进行漏斗分析，都是基于封闭式进行的，这样可以确保看到每个环节的真实转化。<br></p><p><br></p><p>所谓开放式漏斗，就是从整体漏斗中的任意一个环节进入的路径，均计入整体漏斗的统计。这种逻辑下，路径2是会统计到漏斗中的，哪怕是单独的发生一个环节（例如C）也会计入整体。这其实是广义的漏斗概念。但是很多场景下是有这个需求的（回头分享我正在做的针对大促场景项目，正是基于开放式的逻辑）。</p><p><br></p><p>因此，在封闭式漏斗下，路径3会处理为在B环节发生了流失；而在开放式漏斗中，路径3 其实是处理成了两个环节：A→B，D→E，然后分别计入到漏斗中。</p><p><br></p><p>路径1就不用赘述了，无论是啥类别，都是记为C环节的流失。那路径4呢？请继续看。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（4）两个相邻阶段之间的逻辑</h2><p>到这里，我们还要关注一下两个相邻阶段之间的逻辑。主要包括其他环节干扰的处理，以及窗口期逻辑。</p><p><br></p><p>路径4的关键是两个阶段中间发生了其他的行为环节X。这个需要定义是否纳入计算。在神策中，这种环节是直接剔除的，因此认为路径4完成了漏斗；但是在GA中，进行了更灵活的处理，支持用户决定是否通过。<br></p><p><br></p><p>另外一个，就是决定是否要设置窗口期。所谓窗口期，即完成两个阶段之间的时间间隔。若大于某个阈值，即使符合我们上面的各类条件，也不认为是完成了漏斗转化。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（5）漏斗的统计</h2><p>最后，就是计算各阶段的用户数量、进而计算一下转化率等，是水到渠成的事了，这里就不赘述了。关键还是上面环节的数据计算，比较复杂。<br></p><p><br></p><p>以上是漏斗分析中的主要计算逻辑。</p><h1 label="一级标题" style="background-image: url("/img/article/h1_icon.png"); background-size: 16px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 22px; font-size: 20px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px; text-align: center;">03  产品化实现及行业案例</h1><p>我们这里主要以Google analysis和神策分析为例，看一下两个典型BI产品中的漏斗分析，是如何设计的。</p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（1）Google Analysis</h2><p>GA中的漏斗分析主要有两个：一个是在普通版中的漏斗分析，一个是在GA360（即付费版本）中的自定义漏斗分析。<br></p><p><br></p><p>关于漏斗分析，主要的功能配置项有以下：</p><p><br></p><p style="text-align: center;"><img src="https://qnssl.niaogebiji.com/1264686680614c1a804eefa9.48374024.png" width="600" height="500" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p><br></p><p>谷歌分析的截图，实在是没有了，就有以下的参考图了：<br></p><p><br></p><p style="text-align:center;"><img src="https://qnssl.niaogebiji.com/1757144745614c1a80d2af11.23298213.png" width="600" height="405" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><h2 label="二级标题" style="background-image: url("/img/article/h2_icon.png"); background-size: 8px 20px; background-position: 0px 5px; background-repeat: no-repeat; margin: 25px 0px 20px; padding-left: 12px; font-size: 18px; font-weight: 600; color: rgb(33, 38, 41); line-height: 30px;">（2）神策分析</h2><p>神策分析，能调研的内容范围多一些。</p><p><br></p><p>首先看一下神策漏斗分析的报告页：<br></p><p><br></p><p style="text-align: center;"><img src="https://qnssl.niaogebiji.com/910544910614c1a81219fc2.59355351.png" width="600" height="245" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p><br></p><p>上面针对各个主要模块，进行了标注，就不详细展开了。总体来讲，产品设计的是比较合理的，用户既可以看到漏斗情况，又可以针对每个漏斗环节进行详细分析。</p><p><br></p><p>这里针对漏斗的计算逻辑，说一下，神策直接使用了【封闭式漏斗】，没有给用户可选的余地。这是个比较强的逻辑，但也比较通用吧。<br></p><p><br></p><p>下面是创建漏斗的过程：<br></p><p><br></p><p style="text-align: center;"><img src="https://qnssl.niaogebiji.com/2014598970614c1a81692617.62821847.png" width="600" height="284" border="0" vspace="0" title="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" alt="鸟哥笔记,数据运营,首席数据科学家,案例分析,数据分析,数据模型,案例分析,分析方法,产品分析,数据分析" style="width: 600px; height: auto;" referrerpolicy="no-referrer"></p><p><br></p><p>神策在这里可以设定窗口期，但是针对的是整体漏斗第一步到最后一步的窗口，而不是任意两个阶段之间的。另外，在报告页，时间筛选时，用户可以不使用窗口期。</p><p><br></p><p>对于【关联属性】在上文中有截图了，个人觉得这个还是挺好的一个设计。但用户的理解需要一点基础才行。<br></p><p><br></p><p>以上是关于漏斗分析及产品化的一些分享，欢迎大家继续关注~<br></p></section></section></section></section><p label="图片描述" style="font-size: 12px; color: rgb(129, 131, 134); text-align: center; font-weight: 300; line-height: 30px; margin-bottom: 25px;">-END-</p>                        <div style="height: 1px"></div>
                      
</div>
            