
---
title: 'B站_焊武帝爆_火出圈：耗时半年纯手工拼晶体管自制CPU 可跑程序'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://inews.gtimg.com/newsapp_bt/0/13809642819/1000'
author: cnBeta
comments: false
date: Sun, 25 Jul 2021 08:08:41 GMT
thumbnail: 'https://inews.gtimg.com/newsapp_bt/0/13809642819/1000'
---

<div>   
一个人，到底能肝到什么程度？最近B站上大火的一个视频，或许给了这个问题一个完美诠释：纯！手！工！自制CPU！这位叫做“奶味的”Up主，耗时整整半年，用他那双勤劳的双手，“逐点”焊接，最终打造出了一个完整CPU！<br>
<p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642819/1000" referrerpolicy="no-referrer"></p><p>手工做一个CPU能用么？</p><p>当然可以，他还做了一个demo展示，来看一下效果吧。</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642884/0" referrerpolicy="no-referrer"></p><p>纯手工“肝”出一个CPU，还成功运行了流水灯效果，直接引发了一大波网友们的惊呼：</p><p>肝帝！焊武帝！</p><p>人长在肝上了！</p><p>（感受下这满屏的Respect）</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642847/0" referrerpolicy="no-referrer"></p><p>接下来，让我们一同看下“肝帝”自制CPU的完整过程。</p><p>纯手工自制CPU</p><p>其实在发布这个视频之前，Up主便在贴吧中“开玩笑”的说了句：</p><p>CPU太贵了，买了显卡就买不起CPU，手工捏个出来……</p><p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642808/1000" referrerpolicy="no-referrer"></p><p>万万没想到，真的是说干就干。</p><p>据这位Up主介绍，他主要采用了3个原材料：</p><p>二极管、三极管和电阻。</p><p>通常来讲，CPU的结构可以大致分为运算逻辑部件、寄存器部件和控制部件等。</p><p>而他最先“下手”的，就是CPU的寄存器部分。</p><p>Up主设计了一个6位的移位寄存器：</p><p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642817/1000" referrerpolicy="no-referrer"></p><p>它的作用不仅能用来存储，还能在时钟信号的控制下，将数据进行进行逐次右移或左移。</p><p>简单来说就像是一个交警叔叔，当数据从一个方向进来的时候，这个移位寄存器可以指挥它什么时候该往哪里走。</p><p>Up主处理的第二个结构，是程序计数器 （PC）。</p><p>它作用简单来说，就是记录程序运行的位置。</p><p>而这也是整个项目下来最耗时、最复杂的部分，花了整整3个月之久。</p><p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642812/1000" referrerpolicy="no-referrer"></p><p>程序计数器涉及的功能那可就多了。</p><p>像最基本的就是挨个字节读完指令后，计数要自动+1；而CPU重启之后，计数便会清零。</p><p>而且在不同的条件之下，还要能实现直接跳转、调用函数、函数返回等功能。</p><p>听着就有够复杂的了。</p><p>奈何，除此之外，还时常伴随着各种各样的“玄学问题”。</p><p>Up主就举了个例子：</p><p>花了一个多星期才在最深处找到一只焊反的二极管……</p><p>但功夫不负有心人，在经历3个月令人头秃的时光之后，最复杂的模块还是被他搞定了。</p><p>上电测试也没有问题：</p><p>然后就是硬盘（ROM）和内存（RAM）。</p><p>这是CPU外的比较庞大两个部分要手搓一个不太现实。</p><p>因此，Up主用上了比较容易操作的hm628512来做ROM和RAM：</p><p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642813/1000" referrerpolicy="no-referrer"></p><p>△左：RAM和指针 右：ROM</p><p>再将ROM和RAM组装上去，现在CPU的基础模块已经基本完成了。</p><p>接下来就是打造指令译码器。</p><p>它主要是用于把传到这里的CPU指令，进行解析运行：</p><p>再把做加减乘除的运算器（ALU）加上去：</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642837/0" referrerpolicy="no-referrer"></p><p>最后还得再焊一个通用缓存上去：</p><p><img src="https://inews.gtimg.com/newsapp_bt/0/13809642829/1000" referrerpolicy="no-referrer"></p><p>现在，这个全部由三极管、二极管和电阻焊接而成的CPU就完成了！</p><p>看到这密密麻麻的元件，工程量的浩大就不用多说。</p><p>也难怪能让一众网友直呼“肝帝”了。</p><p>还有纯手写最原始代码</p><p>以为纯手工焊接就完了？</p><p>不不不，还有更硬核的。</p><p>因为这个CPU的指令集和架构都是自主研发的，所以没有适配的编程语言。</p><p>那怎么能让它跑起来呢？</p><p>这位Up主的对策是：</p><p>纯手写最原始代码——二进制编程！</p><p>噫吁嚱！噫吁嚱！</p><p>这一手露的，直接引发了网友们的第二波高潮：</p><p>手写指令集，牛皮！这才是真·写代码！</p><p>直接上机械码，太狠了吧！</p><p>然后……然后……</p><p>Up主竟然就开启了上古编程模式——“扣”程序！</p><p>面对此情此景，怎么一句“绝绝子”了得。</p><p>……</p><p>一切准备工作就绪。</p><p>接下来，便是见证奇迹的时刻。</p><p>亮灯，跑起！</p><p>但最开始，程序的运行并不是一帆风顺。</p><p>即便大神重启了几次，跑马灯的效果偶尔还是出现问题。</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642836/0" referrerpolicy="no-referrer"></p><p>但bug很快被找到了：</p><p>有个地方断开了。</p><p>与此同时，因为还没有I/O接口，所以测试使用的灯是临时寄存器的灯。</p><p>而且左移指令和跳转指令都使用了同一组灯。</p><p>因此，流水灯的效果就不是非常明显。</p><p>于是，大神重新编程，使CPU跳转到0X0F处运行。</p><p>如此一来，在跳转时灯就是灭的，给左移指令让出了一条路。</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642848/0" referrerpolicy="no-referrer"></p><p>一切修改完毕，重新“扣”程序，启动！</p><p>这一次，就没有任何的异常了。</p><p><img src="https://inews.gtimg.com/newsapp_match/0/13809642840/0" referrerpolicy="no-referrer"></p><p>走进“肝帝”大神</p><p>在看完这波“神级”操作之后，想必大家都想了解这位大神。</p><p>量子位帮你实现这个梦想。</p><p>大神原名林乃卫，广西北海人。</p><p>做这个项目的灵感，来源于在他写代码时分析可执行文件中的二进制。</p><p>那时候大神便萌生出了一想法：</p><p>CPU是怎么执行这一串0101的？</p><p>在结合数电课程的知识之后，大神猜测到了大致的原理，于是就想试一试。</p><p>最初他想用门级电路来做的，但是感觉难度不是很高，又想把整个过程从零开始理解透。</p><p>于是，便决定从最基础的模拟电路开始。</p><p>而整个过程最难的部分，便是“器件每一级的连接”和“CPU的运行速度”：</p><p>在此之前没有看过关于CPU原理方面的书籍，是靠自己对门电路的理解而设计的一套电路 ，想设计一套属于自己的架构。</p><p>从最基础的三极管开关到门级电路，网上找的电路图根本没法用，需要自己设计。虽然设计好后理论通过了，但是门级之间组合成功能级器件就有新的问题，功能级的电路再多个 组合起来成为功能模块又会产生新的问题，模块与模块之间连接更会产生新的问题。</p><p>这每一级的问题都很有可能要修改基础电路，然后又会从头开始产生新的问题。</p><p>因为没有专业的设备去调试，我用的是一盏LED和蜂鸣器，想尽办法也将速度提高到100kHz左右 而已,这是十分慢的，过程也十分艰难。</p><p>至于器件方面，大神均是从网上购得，然后再将它们一点一点地焊接成为模块。</p><p>这个CPU大致耗费了1000多个三极管、2000多个二极管，电阻数量也达到了2000多，焊点近万。</p><p>目前的费用大概花了1000多元。</p><p>而网友在弹幕中调侃居多的，还有制程方面的问题。</p><p>据大神介绍：</p><p>要是非得给它定个工艺制程，那就是2.54mm，比先进的3纳米大了将近1百万倍。</p><p>最后，Up主还表示，将在接下来的工作中，持续完善CPU的功能，让它能够运行更加复杂的程序。</p><p>对此，你期待了吗？</p>   
</div>
            