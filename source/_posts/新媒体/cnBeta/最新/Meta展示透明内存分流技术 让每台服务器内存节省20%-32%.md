
---
title: 'Meta展示透明内存分流技术 让每台服务器内存节省20%-32%'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://static.cnbetacdn.com/article/2022/0621/042e1b7c82bd276.webp'
author: cnBeta
comments: false
date: Tue, 21 Jun 2022 00:11:28 GMT
thumbnail: 'https://static.cnbetacdn.com/article/2022/0621/042e1b7c82bd276.webp'
---

<div>   
在今天发布的博文中，Meta 工程团队展示了名为透明内存分流（<a href="https://engineering.fb.com/2022/06/20/data-infrastructure/transparent-memory-offloading-more-memory-at-a-fraction-of-the-cost-and-power/" target="_blank">Transparent Memory Offloading</a>，简称 TMO）的
Linux 内核技术，目前已经在 Facebook/Meta 服务器中投入使用。在 Meta 的数据中心内，这种 TMO
功能在其数百万台服务器中为每台服务器节省了 20~32% 的内存。<br>
 <p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/042e1b7c82bd276.webp" referrerpolicy="no-referrer"></p><p style="text-align: left;">对于 TMO 技术，Meta 官方对其的描述为：</p><blockquote style="text-align: left;"><p style="text-align: left;">一种新的 Linux 内核机制，可实时测量由于 CPU、内存和 I/O 资源短缺而导致的工作丢失。在此信息的指导下，在没有任何应用知识的情况下，TMO 会自动调整内存量以卸载到异构设备，例如压缩内存或 <a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https://list.jd.com/list.html?cat=670,677,11303" target="_blank">SSD</a>。它根据设备的性能特征和应用程序对较慢内存访问的敏感性来执行此操作。 TMO 不仅从应用程序容器而且从提供基础设施级功能的 Sidecar 容器中全面识别卸载机会。</p><p style="text-align: left;">TMO 已经在生产环境中运行了一年多，在我们庞大的数据中心机群中的数百万台服务器上节省了 20% 到 32% 的总内存。我们已经成功地将 TMO 的操作系统组件上传到 Linux 内核中。</p></blockquote><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/431184dda9c80f7.webp" referrerpolicy="no-referrer"></p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/b96b02cd9a68a0d.webp" referrerpolicy="no-referrer"></p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/b3db4f8ca466af0.webp" referrerpolicy="no-referrer"></p><p style="text-align: left;">Linux 内核方面的工作包括内核中的压力失速信息 (PSI)，然后在用户空间中，他们将“Senpai”作为用户空间代理。</p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/dbbeeb2cf641aae.webp" referrerpolicy="no-referrer"></p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/5bf7ded4bfe9aab.webp" referrerpolicy="no-referrer"></p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/5a56872a6c38f74.webp" referrerpolicy="no-referrer"></p><p style="text-align:center"><img src="https://static.cnbetacdn.com/article/2022/0621/0ed5af804dfd900.webp" referrerpolicy="no-referrer"></p><p style="text-align: left;">分流通常是在 NVMe 固态驱动器上完成的，从每 GB 费用来看它比服务器内存更便宜。即将推出的具有 Compute Express Link (CXL) 的服务器平台在使用透明内存卸载方面也具有很大的潜力。</p>   
</div>
            