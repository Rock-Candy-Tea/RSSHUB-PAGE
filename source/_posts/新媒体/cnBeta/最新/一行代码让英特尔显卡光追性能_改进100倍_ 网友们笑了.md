
---
title: '一行代码让英特尔显卡光追性能_改进100倍_ 网友们笑了'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://n.sinaimg.cn/sinakd20220813s/212/w928h84/20220813/1d88-ce80923b5398820111ffc1fafe46bd5d.png'
author: cnBeta
comments: false
date: Sat, 13 Aug 2022 06:52:24 GMT
thumbnail: 'https://n.sinaimg.cn/sinakd20220813s/212/w928h84/20220813/1d88-ce80923b5398820111ffc1fafe46bd5d.png'
---

<div>   
英特尔近日合并了一个光线追踪的修复程序到开源的Mesa Vulkan驱动程序中，这个合并请求目前已经登陆Mesa 22.2。同时，修改这个程序的英特尔Linux图形驱动程序工程师Lionel Landwerlin说道：<br>
 <blockquote><p>这个合并请求就好像将光线追踪性能提升了 “100 倍”（没有开玩笑）。</p></blockquote><p>但网友们似乎不是很认可性能提升“100倍”这个说法。</p><blockquote><p>我不会将这次操作称为优化，他们仅仅是修改了错误，将硬件正确编程了而已。</p></blockquote><p><img src="https://n.sinaimg.cn/sinakd20220813s/212/w928h84/20220813/1d88-ce80923b5398820111ffc1fafe46bd5d.png" id="0" referrerpolicy="no-referrer"><br></p><p>啊，明明性能提升了这么多，怎么还被阴阳怪气了。</p><p>这一切都得从那一行“消失的代码”说起。</p><p><strong>一行代码引发的惨案</strong></p><p>简单来说，英特尔就是少敲了一行用来把光线追踪数据转移到显卡显存上的代码。</p><p>在没有这么一行代码的情况下，Vulkan驱动会将光线追踪数据转移到较慢的系统内存中。这种持续复杂的传输会显著降低光线追踪的性能。</p><p>而这次改动呢，就只是修复了一个Bug：添加一个分配标志，把本就应该分配给GPU的的光线追踪内存分配了出去。</p><p>分配标志名为“ANV_BO_ALLOC_LOCAL_MEM”的标志，可以确保光线追踪使用VRAM，因此性能提升了“100倍”。</p><p><img src="https://n.sinaimg.cn/sinakd20220813s/329/w1080h849/20220813/d8b6-bebcb3b100e4c785ade866a4e5e8cd06.png" alt="△图注：图源Future" id="1" referrerpolicy="no-referrer"><br>△图注：图源Future</p><p>Mesa 22.2版本将在未来几周内推出，英特尔和其他公司将对驱动程序进行进一步改进，以便在8月左右发布时的稳定性。</p><p><strong>One More Thing</strong></p><p>英特尔干的“糟心事”可不止这一件。它最近出的显卡Arc A380在测试中也饱受诟病，有网友使用其进行游戏，用最新的驱动程序，体验感也极差。</p><p>有博主甚至在论坛上专门发帖吐槽：在目前的状态下，很难相信像英特尔这样有信誉的大公司能把这样的产品卖给一个客户。</p><p><img src="https://n.sinaimg.cn/sinakd20220813s/581/w1080h301/20220813/621a-4ba3c0a12d524578741c9227d62017d8.png" id="2" referrerpolicy="no-referrer"><br></p><p>不得不吐槽的有2D<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https%3A%2F%2Flist.jd.com%2Flist.html%3Fcat%3D737%2C738%2C751" target="_blank">风扇</a>控制，即使在零负载下，风扇也会继续旋转，每次重新启动后都会以不同的速度旋转。</p><p><img src="https://n.sinaimg.cn/sinakd20220813s/200/w1080h720/20220813/4fd4-429e546638dfe6549502460f2ea48e29.png" alt="△图注：图源computerbase" id="3" referrerpolicy="no-referrer"><br>△图注：图源computerbase</p><p>除此之外，在所有锐龙系统上，Arc A380根本无法使用。因为Intel的显卡驱动在<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https://amd-cpu.jd.com/" target="_blank">AMD</a>平台上还不支持Resizable BAR，所以只有Intel CPU和主板可以处理。</p><p>更严重的是，测试Arc A380经常会遇到崩溃的状况，而且是系统必须重新启动才能继续。博主称仅在测试的第一天，这种情况就不下15次。</p><p>参考链接：</p><p>[1]</p><p>https://www.tomshardware.com/news/intel-gpu-100x-performance-ray-tracing#xenforo-comments-3771159</p><p>[2] https://www.phoronix.com/news/Intel-Vulkan-RT-100x-Improve</p><p>[3] https://www.computerbase.de/2022-07/intel-arc-a380-review-test/3/</p>   
</div>
            