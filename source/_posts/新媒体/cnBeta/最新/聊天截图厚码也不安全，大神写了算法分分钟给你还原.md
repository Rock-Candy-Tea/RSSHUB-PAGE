
---
title: '聊天截图厚码也不安全，大神写了算法分分钟给你还原'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://n.sinaimg.cn/sinakd20220217s/248/w1080h768/20220217/a2bd-fa297578b6b014cad6469aea7f7cce73.png'
author: cnBeta
comments: false
date: Thu, 17 Feb 2022 06:19:24 GMT
thumbnail: 'https://n.sinaimg.cn/sinakd20220217s/248/w1080h768/20220217/a2bd-fa297578b6b014cad6469aea7f7cce73.png'
---

<div>   
讲个恐怖的故事。
早上跟同事在微信闲谈，聊起了一位女同事最近的变化。<strong>结果他反手就把文字打上马赛克，截图丢进了群里：</strong><br>
 <p><img src="https://n.sinaimg.cn/sinakd20220217s/248/w1080h768/20220217/a2bd-fa297578b6b014cad6469aea7f7cce73.png" id="0" referrerpolicy="no-referrer"><br></p><p>还欠欠儿地补了一刀：</p><blockquote><p>@XXX，他说你坏话了呦~</p></blockquote><p>万万没想到，这位同事气势汹汹地走了过来，竟然直接点出了“秘密文字”的内容。</p><p>当时的我是这样的：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/120/w448h472/20220217/dc56-fb3f56a253abdcf39524f0e2cdb22ec1.png" id="1" referrerpolicy="no-referrer"><br></p><p>见状，这位老师补充道：</p><blockquote><p>都什么年代了，以为打马赛克我就认不出来了？分分钟还原好吧！</p></blockquote><p>……</p><p>好奇如我，马上对这个技术展开了一番“调查”。</p><p>（PS：聊天原图在文末揭晓）</p><p>如何还原打了马赛克的文字？</p><p>还别说，国外一家公司的首席研究员Dan Petro（下文简称Dan），这两天就发布了这么一篇帖子。</p><p>他直接点出了重点：</p><blockquote><p>打马赛克（像素化），是一种非常不好、不安全，而且会泄露敏感数据的方法。</p></blockquote><p>为了验证他的说法，Dan亲自下场写了一个名为 Unredacter 的工具。</p><p>然后现场演示了一下，这个工具是如何一点一点把打了马赛克的文字还原的：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/305/w707h398/20220217/f76e-005a9df88e01118d483c26922aa5e766.gif" id="2" referrerpolicy="no-referrer"><br></p><p>从上面的示例中，不难看出，即便原文打了厚厚的一层马赛克，在这个工具面前依旧像“裸奔”一样。</p><p>或许你会说，这玩意儿操作起来会很复杂吧？</p><p>不不不。</p><p>非常之简单，仅仅是2个步骤：</p><p>用npm install安装依赖项</p><p>用npm start来启动</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/568/w880h488/20220217/c7f1-3a74821090707efd27f5cc85afaff8bc.png" id="3" referrerpolicy="no-referrer"><br></p><p>虽然在Dan之前，已经有类似的工具存在了，例如 Depix。</p><p>但一个非常现实的问题就是，Depix还原的文字，从视觉效果上并不是很好：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/784/w1080h504/20220217/574e-02e717917674e5614c8fb7cd14246bfd.png" id="4" referrerpolicy="no-referrer"><br></p><p>Depix还原出来的文字，有些地方的还是糊糊的。</p><p>因此，国外Jumpsec Lab的一位研究员指出了这个问题，并且还附上了一道比较有意思的挑战：</p><blockquote><p>如果你破解了密码，请联系我们。</p></blockquote><p><img src="https://n.sinaimg.cn/sinakd20220217s/433/w1080h153/20220217/3d04-db36d077a45a4e360fca615b4832ae1d.png" id="5" referrerpolicy="no-referrer"><br></p><p>这样的挑战便引起了Dan极大的兴趣，这也就是他开发Unredacter的原因。</p><p>于是，在Unredacter的加持下，Dan顺利攻破了这项挑战：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/138/w600h338/20220217/ddab-5d02d487c7883adcd6616ccab5c0f9b6.gif" id="6" referrerpolicy="no-referrer"><br></p><p>而后Dan联系上了这位研究员，在邮件的回复中，也证实了Dan的结果是正确的：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/644/w1080h364/20220217/1c66-5c4c06a98d87c1ce061930976b35aab5.png" id="7" referrerpolicy="no-referrer"><br></p><p>不仅如此，Dan还介绍说，像类似用涂抹方式来打的马赛克，无论是在GiMP、Photoshop或者其它编辑器中，结果都是一样的。</p><p>因此，他的破解方法应当是具备一定的通用性。</p><p>当然，生活中我们或多或少都会有“打码”的需求，既然马赛克不安全，那有没有更好的方式呢？</p><p>Dan对此的答复是：</p><blockquote><p>用黑色条来遮挡。</p></blockquote><p><img src="https://n.sinaimg.cn/sinakd20220217s/637/w1080h357/20220217/6cde-eb0edec663772edab991c4c74b479084.png" alt="还有还原打了马赛克的图片" id="8" referrerpolicy="no-referrer"><br>还有还原打了马赛克的图片</p><p>其实“还原马赛克”这件事，AI界早就有所研究。</p><p>例如杜克大学提出的 PLUSE便是其中之一，还登顶了CVPR。</p><p>但它修复的并不是文字，而是人像，例如：</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/26/w1080h546/20220217/c699-0b23926b709e611c04d929698e9e07c3.png" id="9" referrerpolicy="no-referrer"><br></p><p><img src="https://n.sinaimg.cn/sinakd20220217s/21/w1080h541/20220217/1f40-179f958e17762d220b99fcadb268943b.png" id="10" referrerpolicy="no-referrer"><br></p><p>从原理角度来看，它本质上是生成对抗网络（GAN）。</p><p>PLUSE主要是根据模糊的马赛克像素，“画”出新的一张张不存在的人脸，再压缩回马赛克状态跟原图比一比，把相似的版本拿出来展示。</p><p>当然，这项技术也并非完美，也有翻车的时候。</p><p>例如网友就拿马里奥试了试，结果……</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/711/w470h241/20220217/272c-01229f541c63c9e76fed034419cbd039.png" id="11" referrerpolicy="no-referrer"><br></p><p>Emmm……这“味道”，不一般。</p><p>One More Thing</p><p>最后，来揭晓一下开头故事的答案。</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/614/w824h590/20220217/ea7b-bab60cb7abfad4d62ff0b9b5de737fd5.png" id="12" referrerpolicy="no-referrer"><br></p><p>着实是个惨痛的教训了……</p><p><img src="https://n.sinaimg.cn/sinakd20220217s/344/w750h394/20220217/d92a-9a2c39ac75ae7ad92da90b07fe4407b9.gif" alt="项目地址：" id="13" referrerpolicy="no-referrer"><br>项目地址：</p><p>https://github.com/bishopfox/unredacter</p><p>参考链接：</p><p>[1]https://bishopfox.com/blog/unredacter-tool-never-pixelation</p><p>[2]https://labs.jumpsec.com/can-depix-deobfuscate-your-data/</p><p>[3]https://arxiv.org/abs/2003.03808</p>   
</div>
            