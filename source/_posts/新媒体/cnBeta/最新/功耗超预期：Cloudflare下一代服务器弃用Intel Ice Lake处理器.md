
---
title: '功耗超预期：Cloudflare下一代服务器弃用Intel Ice Lake处理器'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://static.cnbetacdn.com/thumb/article/2021/0902/ffb072663ce0ab3.jpg'
author: cnBeta
comments: false
date: Thu, 02 Sep 2021 09:00:52 GMT
thumbnail: 'https://static.cnbetacdn.com/thumb/article/2021/0902/ffb072663ce0ab3.jpg'
---

<div>   
由于占用太多的资源，Cloudflare 表示自制的服务器将不再使用英特尔的处理器。在本周二发布的博文中，公司平台运营工程师 Chris Howells 表示自 2020 年年中以来 Cloudflare 就着手第 11 代服务器的设计。<br>
 <p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/ffb072663ce0ab3.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/ffb072663ce0ab3.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align: left;">Howells 表示：“我们评估了<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https://intel.jd.com/" target="_blank">英特尔</a>的最新一代 Ice Lake 至强处理器。尽管英特尔的芯片在原始性能方面相比 <a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https://amd-cpu.jd.com/" target="_blank">AMD</a> 更有竞争力，但每台服务器的功耗却高出几百瓦--这是很巨大的” 。在最终的评估之后，Cloudflare 采用了 AMD 的 64 核 Epyc 7713，用于其部署在全球 200 多个边缘地点的服务器。</p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/4c98f22dd31edc4.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/4c98f22dd31edc4.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/28b4448a0b79402.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/28b4448a0b79402.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align: left;">出于省电方面的考量，Cloudflare 在新设计中也从三盘切换到双盘。一对 1.92TB 的<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https://samsung.jd.com/" target="_blank">三星</a>硬盘取代了之前设计中的三块三星的960GB单元。净收益是一兆字节的容量，并减少了六瓦的电力消耗。</p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/b1373de51610f3f.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/b1373de51610f3f.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/8f60a9e7ad3d990.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/8f60a9e7ad3d990.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align: left;">Howellls的帖子还显示，测试产生的数据显示，为其服务器配备512GB的内存并没有产生足够的性能提升来证明这笔费用是合理的。因此，该公司决定采用 384GB 的内存，但确实从 DDR4-2933 跳到了 DDR4-3200，因为成本的轻微增加带来了合理的性能提升。</p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/1ee8daa3736bee0.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/1ee8daa3736bee0.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/6cc5e9207ec9fd7.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/6cc5e9207ec9fd7.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align: left;">Cloudflare 坚持使用 Mellanox ConnectX-4 双端口 25G 以太网适配器。Howells 写道：“我们调查了更高速度的以太网，但我们目前认为这没有好处”。这并不是对快速以太网的抨击，而是 Cloudflare 的高度分布式架构所做出的决定，它消除了对更高速度的需求和更快套件的更高成本。</p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/334ad7b50eacc04.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/334ad7b50eacc04.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align:center"><a href="https://static.cnbetacdn.com/article/2021/0902/e27a2a19ddcf820.jpg" target="_blank"><img src="https://static.cnbetacdn.com/thumb/article/2021/0902/e27a2a19ddcf820.jpg" referrerpolicy="no-referrer"></a></p><p style="text-align: left;">新服务器的一个变化是使用OpenBMC来部署固件。Howells写道：“随着对源代码的访问，我们已经能够配置BMC的功能，如<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https%3A%2F%2Flist.jd.com%2Flist.html%3Fcat%3D737%2C738%2C751" target="_blank">风扇</a>PID控制器，让BIOS POST代码记录和访问，并管理网络端口和设备。虽然我们目前的BMC是一个行业标准，但我们觉得OpenBMC更适合我们的需要，并给我们带来了一些优势，例如允许我们处理上游的安全问题，而不依赖我们的供应商”。</p>   
</div>
            