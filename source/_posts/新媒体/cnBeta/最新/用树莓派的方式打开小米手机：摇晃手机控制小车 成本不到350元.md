
---
title: '用树莓派的方式打开小米手机：摇晃手机控制小车 成本不到350元'
categories: 
 - 新媒体
 - cnBeta
 - 最新
headimg: 'https://n.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/35ef-9ee8fe1c6536a0cc19f031e135e20e14.gif'
author: cnBeta
comments: false
date: Wed, 15 Dec 2021 07:20:23 GMT
thumbnail: 'https://n.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/35ef-9ee8fe1c6536a0cc19f031e135e20e14.gif'
---

<div>   
人体姿态控制见得多了，<span style>手机姿态控制</span>的来一个？左右前后倾斜手机，面前的小车也跟着移动：看这灵活的身姿，转个弯也毫无问题：绝对正儿八经的“手机遥控器”，可以倒翻小车看看这个轮胎转动：<br>
 <p><img id="0" src="https://n.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/35ef-9ee8fe1c6536a0cc19f031e135e20e14.gif" referrerpolicy="no-referrer"><br></p><p><img id="1" src="http://f.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/d872-19f24d1d4716a6fc76cee558ffd57fb3.gif" referrerpolicy="no-referrer"><br></p><p><img id="2" src="https://n.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/6b02-e851a2fd9ca31b876664ff452458ec20.gif" referrerpolicy="no-referrer"><br></p><p>再一看，诶，车上又有我们熟悉的树莓派：</p><p><img id="3" src="https://n.sinaimg.cn/sinakd20211215s/688/w776h712/20211215/746c-d532294844726c51647f958ba019f14c.png" referrerpolicy="no-referrer"><br></p><p>这就是油管主MohammadReza Sharifi用树莓派DIY的“手机姿态控制”的机器小车。</p><p>而整个项目的花销只有大概40英镑，不到350元！</p><p>手机加速计操控小车</p><p>那么，这个拿手机当遥控器的小车在结构上有什么特殊之处呢？</p><p>Sharifi老哥公布了他所采用的全部材料：</p><p>树莓派×1</p><p>HC05蓝牙模块×1</p><p>L298电机驱动器×1</p><p>机器人底盘×1（还是非常便宜的塑料材质）</p><p>直流齿轮马达×4</p><p>跳线×n</p><p><img id="4" src="https://n.sinaimg.cn/sinakd20211215s/586/w346h240/20211215/5017-aad7f4ff5081f15531f3819080845a13.png" referrerpolicy="no-referrer"><br></p><p>嗯……毕竟总成本只有约40英镑，还要啥自行车呢。</p><p>而安装在底板上的价格不到3英镑的Raspberry Pi Pico，无疑就是小车的核心了。</p><p><img id="5" src="https://n.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/3774-7b3467387a880ebe193072eac6a7750d.gif" referrerpolicy="no-referrer"><br></p><p>这是树莓派今年年初发布的微型处理器新品，基于其自研的RP2040芯片构建，搭载双核ARM Cortex M0+处理器，运行频率133MHz，内置26<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&euid=&t=https%3A%2F%2Flist.jd.com%2Flist.html%3Fcat%3D737%2C794%2C798%26ev%3D4155_110018%26sort%3Dsort_rank_asc%26trans%3D1%26JL%3D2_1_0%23J_crumbsBar" target="_blank">4K</a>B的片上RAM。</p><p>和以往的树莓派产品相比，Raspberry Pi Pico更擅长低时延的I/O通信和模拟信号输入。</p><p><img id="6" src="https://n.sinaimg.cn/sinakd20211215s/114/w1000h714/20211215/0ce3-c95307d4655f54fe9a83ab390cf33ce0.png" referrerpolicy="no-referrer"><br></p><p>而Sharifi老哥就是打算用Raspberry Pi Pico实时处理运动数据，并将信息发送给小车的电机驱动程序，带着小车跑起来的。</p><p>那么树莓派接收到的运动信息又从何而来呢？</p><p>智能手机中的加速计。</p><p>这是手机内部的一个传感器组件，用于检测手机受到的加速度的大小和方向。</p><p>（很多人会把加速计功能叫做重力感应功能，这是因为手机静置时只受到重力加速度）</p><p><img id="7" src="https://n.sinaimg.cn/sinakd20211215s/733/w349h384/20211215/f422-a744f43e2f2bb42d7de307bbacd62ff3.png" referrerpolicy="no-referrer"><br></p><p>这就是Sharifi老哥的“手机姿态控制”的完整思路，即通过蓝牙设备将手机加速计的运动数据传给树莓派，再控制机器小车移动。</p><p>三小时编写代码</p><p>要在手机加速计和Raspberry Pi Pico之间传递数据，当然还是得靠代码。</p><p>Sharifi老哥使用的是一个叫做MIT App Inventor的代码开发平台：</p><p><img id="8" src="https://n.sinaimg.cn/sinakd20211215s/90/w1080h610/20211215/a423-2c9e9b9a940cc4a9ab4e2ca3522ce9d5.png" referrerpolicy="no-referrer"><br></p><p>这是由一个基于模块的可视化编码平台，可以相对轻松地开发移动设备应用程序：</p><p><img src="https://n.sinaimg.cn/sinakd20211215s/516/w850h466/20211215/57c2-5e324287b63982e5b9f104e7e7cb67ce.gif" id="9" referrerpolicy="no-referrer"><br></p><p>在确定手机加速度计的角速度和加速度的大小，以及机器小车的相对坐标轴这些任务上，Sharifi老哥花了不少时间。</p><p>不过最终他还是在三小时内完成了构思和编程。</p><p>像这样，手机连接蓝牙，打开开发好的App：</p><p><img id="10" src="http://f.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/39de-9631bf1e65ed249ad213ea5bf8ab031a.gif" referrerpolicy="no-referrer"><br></p><p>和设备成功连接之后，转动手机，四个小轮胎也就跟着开始转了：</p><p><img id="11" src="http://f.sinaimg.cn/sinakd20211215s/190/w640h350/20211215/5fff-123e577295f0d98f2f7a08ef4a24a095.gif" referrerpolicy="no-referrer"><br></p><p>这一次的项目是基于Sharifi老哥自己的<a data-link="1" href="https://c.duomai.com/track.php?site_id=242986&aid=450&euid=&t=http%3A%2F%2Fwww.mi.com%2F" target="_blank">Redmi</a> Note 9 Pro手机的Android开发项目。</p><p>他表示，下一步打算用Python整一个iOS程序，争取早日把<a data-link="1" href="https://apple.pvxt.net/c/1251234/435400/7639?u=https%3A%2F%2Fwww.apple.com%2Fcn%2Fiphone%2F" target="_blank">iPhone</a>也变成遥控器。</p><p>视频：</p><p><a href="https://www.youtube.com/watch?v=VSJwZKd9ECw" _src="https://www.youtube.com/watch?v=VSJwZKd9ECw" target="_blank">https://www.youtube.com/watch?v=VSJwZKd9ECw</a></p><p>下载：</p><p><a href="https://github.com/mohammadreza-sharifi/Control-Raspberry-Pi-Pico-Robot-using-Android-Phone-Accelerometer" _src="https://github.com/mohammadreza-sharifi/Control-Raspberry-Pi-Pico-Robot-using-Android-Phone-Accelerometer" target="_blank">https://github.com/mohammadreza-sharifi/Control-Raspberry-Pi-Pico-Robot-using-Android-Phone-Accelerometer</a></p><p>参考链接：</p><p><a href="https://www.raspberrypi.com/news/raspberry-pi-pico-robot/" _src="https://www.raspberrypi.com/news/raspberry-pi-pico-robot/" target="_blank">https://www.raspberrypi.com/news/raspberry-pi-pico-robot/</a></p>   
</div>
            