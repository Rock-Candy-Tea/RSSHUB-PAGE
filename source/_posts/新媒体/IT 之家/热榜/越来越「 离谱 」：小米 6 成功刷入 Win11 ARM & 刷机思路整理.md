
---
title: '越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理'
categories: 
 - 新媒体
 - IT 之家
 - 热榜
headimg: 'https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153258_796.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9'
author: IT 之家
comments: false
date: Tue, 19 Oct 2021 09:26:52 GMT
thumbnail: 'https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153258_796.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9'
---

<div>   
<h2 data-vmark="37c2">前言 —— 刷机成果</h2><p data-vmark="1ab5">之前在IT之家上看到了<a href="https://www.ithome.com/0/580/864.htm" target="_blank">小米 MIX 2 成功刷入 Windows 11 ARM</a> 的新闻，这时我手中同样是骁龙 835 的小米 6 也跃跃欲试，顺着新闻我找到了<a href="https://github.com/lumingyu0423/edk2-MSM8998" target="_blank">骁龙 835 UEFI 的项目地址</a>。这个项目并没有像骁龙 845 的项目那样提供出编译好的 BOOT 镜像，所以需要自行编译，编译 BOOT 就用了一个下午的时间。</p><p data-vmark="1ab5">编译好之后便开始刷机，先来看一下最终成果吧！</p><p data-vmark="7cac"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153258_796.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="ff16"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153306_330.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="62e7"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153411_786.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="a961"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153418_428.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="3d4e"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_153423_478.jpg?x-bce-process=image/watermark,image_aW1nL3dhdGVybWFyay9xdy9xdzEwMC5wbmc=,g_9" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="c967"><span class="accentTextColor">下面是给小米 6 刷 Windows11 ARM 的思路整理。</span></p><h2 data-vmark="b8b9">一、重新分区</h2><p data-vmark="d177">因为之前有过给小米平板 4 扩容 system 分区的经验，所以这一步对我来说非常简单，将 userdata 分区删除，之后分出四个新的分区:<br> - <span class="accentTextColor">esp 分区</span> 大小 800MB （后来听说 300MB 就可以） <span class="accentTextColor">fat32 格式</span>。<br> - <span class="accentTextColor">win 分区</span> 大小 40GB （我的是 64GB 版本，128GB 版本可以加大） <span class="accentTextColor">NTFS 格式</span>。<br> - <span class="accentTextColor">pe 分区</span> 大小 8GB （pe 系统其实 4GB 就足够了，但是我在网上找了一圈没有找的小米 6 能开的 pe 的资源，mix2s 用的那个 pe 在小米 6 上卡在启动页面进不去（后来听说是需要删除部分驱动才行）。最后直接使用镜像当 pe 了，所以要大点） <span class="accentTextColor">fat32 格式</span>。<br> - <span class="accentTextColor">userdata 分区</span> 大小 8GB （虽然我是 64GB 版本，但 userdata 分区一定要有，再小也要有，不然出现问题会很麻烦，只能 9008 了，我就因为有一次没分 userdata 而 9008 了一次）<span class="accentTextColor">ext4 格式</span>。<br>分完区后还需要对 esp、pe、userdata 分区进行格式化。</p><h2 data-vmark="6d85">二、编译 boot 和下载镜像<br></h2><p data-vmark="7f63">boot 我使用的是这个<a href="https://github.com/lumingyu0423/edk2-MSM8998" target="_blank">项目</a>进行编译的，镜像是在 UUP 下载的，这两项的下载速度都非常感人。</p><h2 data-vmark="d0a9">三、挂载 pe 、安装镜像并刷入 boot</h2><p data-vmark="9f12">前面提到我是直接使用镜像文件当做了 pe，所以这里将镜像里除了那个.exe 以外的文件先复制到 userdata，再在 TWRP 的终端里用命令将 pe 分区挂载到 mnt，然后用命令将镜像文件复制的 pe 分区，之后去安装，将 boot 镜像刷到 boot 分区，然后就可以重启系统了。</p><h2 data-vmark="9d77">四、为 esp 分区分配磁盘符，使用 Dism++ 释放镜像</h2><p data-vmark="e8bf">重启开机后就进入了安装引导界面，我曾试过使用这个安引导界面进行安装，但安装时无法识别自建的 esp 分区 (可能是当时没有分配磁盘符)，然后在安装引导将原来的 win 分区重建了，但安装成后无法引导到 Windows 系统，之后在 MrMiles 大佬的指导下在启动引导里使用终端，为 esp 分区分配磁盘符，并用 Dsim++ 将镜像释放，之后禁用 boot 签名，重启。</p><h2 data-vmark="0115">五、开机，进入 Windows 11</h2><p data-vmark="8a12">第一次开机的时候在准备就绪的位置卡主不动了，被我强制重启，再次开机就报错重启，无限循环。后来又是在 MrMiles 大佬的帮助下，在卡住的页面打开了终端，直接进入了安装；然而又卡在 “海内存知己，天涯若比邻” 页面；最后使用注册表跳过了 Windows Hello 之后遍进入了系统。而第二次安装的时候为 esp 分区做上了标记，就顺利进入了 Windows Hello。</p><h2 data-vmark="4266">写在最后</h2><p data-vmark="10df">目前 Window 11 ARM 在小米 6 上运行是比较卡顿的，PEP 驱动不工作，也没有 GPU 驱动，这次刷机基本上耗费我两天的时间，虽然得到的是一个并不完美的系统， 但我体验到了成功的快乐，就像在IT之家《 MIX 2 刷入 Windows 11 ARM 》那篇文章的一条评论一样。</p><p data-vmark="7d6c"><img src="https://img.ithome.com/mpimg/content/34067336/2021/10/20211019_160450_232.jpg" title="越来越「 离谱 」：小米 6 成功刷入 Win11 ARM & 刷机思路整理 " referrerpolicy="no-referrer"></p><p data-vmark="e9bf">说实话我在看到这个评论真的破防了，刷机的快乐或许就开机的一瞬间吧！</p><p data-vmark="eace">最后再次感谢 MrMiles 在我刷机给我的帮助，同时也感谢这个 BOOT 项目的开发者团队的付出，让我们这些 “刷机佬” 又能感受到刷机的快乐！</p>
          
</div>
            