
---
title: '微软 Win11 应用商店上架 Windows Linux 子系统（WSL）：程序升级更快，无需升级操作系统'
categories: 
 - 新媒体
 - IT 之家
 - 热榜
headimg: 'https://img.ithome.com/newsuploadfiles/2021/10/574897b7-4560-4cdc-9d1c-4f3460f25c17.png'
author: IT 之家
comments: false
date: Mon, 11 Oct 2021 22:56:59 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2021/10/574897b7-4560-4cdc-9d1c-4f3460f25c17.png'
---

<div>   
<p data-vmark="a26b"><a class="s_tag" href="https://www.ithome.com/" target="_blank">IT之家</a> 10 月 12 日消息 微软官方今天宣布，Windows Subsystem for Linux (WSL) 作为应用程序在微软商店中普遍提供给 <a class="s_tag" href="https://win11.ithome.com/" target="_blank">Windows 11</a> PC。WSL 预览版登陆微软商店有一个很大的优势：现在你可以更快地获得最新的 WSL 更新和功能，而不需要升级 Windows 操作系统。</p><p data-vmark="8560"><img src="https://img.ithome.com/newsuploadfiles/2021/10/574897b7-4560-4cdc-9d1c-4f3460f25c17.png" w="800" h="596" title="微软 Win11 应用商店上架 Windows Linux 子系统（WSL）：程序升级更快，无需升级操作系统" width="800" height="596" referrerpolicy="no-referrer"></p><p data-vmark="12cb">IT之家获悉，这一变化将这些二进制文件从 Windows 镜像的一部分转移到从应用商店安装程序的一部分。这使得 WSL 与 Windows 版本脱钩，用户可以通过微软商店进行更新。</p><p data-vmark="82ba">一旦目前的预览版功能最终确定下来，包括 GUI 应用支持、GPU 计算和 Linux 文件系统驱动器安装等，你不需要更新整个 Windows 操作系统，也不需要加入 Windows Insider 预览版，只需要从微软商店更新 WSL 应用即可。</p><h2 data-vmark="519d">如何在微软商店安装和使用 WSL</h2><p data-vmark="f063">首先要确保你拥有这些先决条件：</p><ul class=" list-paddingleft-2"><li><p data-vmark="a521">正在使用 Windows 11 版本或更高版本（Windows Build 22000 或更高）</p></li><li><p data-vmark="5d7e">启用虚拟机平台的可选组件</p></li><li><p data-vmark="7114">你可以通过在 PowerShell 提示符下运行：dism.exe/online/enable-feature/featurename:VirtualMachinePlatform /all 来完成。</p></li><li><p data-vmark="f732">点击<a href="https://aka.ms/wslstorepage" target="_blank">这个链接</a>进入 WSL 商店页面，点击安装来安装 WSL，然后你可以安装一个选择的 <a href="https://aka.ms/wslstore" target="_blank">Linux 发行版</a>来开始使用它。</p></li></ul><h2 data-vmark="d5ca">下面是微软商店 WSL 发布说明</h2><ul class="ai-word-checked list-paddingleft-2"><li><p data-vmark="b168"><a href="https://aka.ms/wslg" target="_blank">WSLg</a> 现在作为 WSL 应用程序的一部分被捆绑在一起。</p></li><li><p data-vmark="75b8">更新 Microsoft.WSLg 到 1.0.29 版本。</p></li><li><p data-vmark="d6d0">为 WSLg 切换到 msrdc.exe。</p></li><li><p data-vmark="6890">为 ARM64 启用 virtio 以启用 WSLg 共享内存。</p></li><li><p data-vmark="5428">允许 WSLG 使用的环境变量被 WSLENV 覆盖。</p></li><li><p data-vmark="b6c1">新的 wsl.exe -mount 功能。</p></li><li><p data-vmark="29cb">增加 mount --vhd，使挂载 VHD 文件更容易。</p></li><li><p data-vmark="a4ac">为 wsl.exe --mount 实现文件系统检测。如果在使用 wsl.exe -mount 时没有指定--type，这一改变实现了文件系统类型检测。</p></li><li><p data-vmark="0f80">为 wsl.exe --mount 增加 -name 功能。这项修改增加对通过 WSL 挂载磁盘时可选择命名挂载点的支持。</p></li><li><p data-vmark="f958">更新 Linux 内核到 5.10.60.1。</p></li><li><p data-vmark="7238">启用额外的 USB 内核配置选项，以便通过 USB 与 Arduino 进行交互。</p></li><li><p data-vmark="731d">更新到上游稳定内核版本 5.10.60。</p></li></ul><p data-vmark="e919">启用 virtio-pmem，支持 PCI BAR 相关地址。</p><p data-vmark="817b">在 Hyper-V 下启用 ARM64 的 vPCI 支持。</p><p data-vmark="c376">启用 io_uring 支持。</p><p data-vmark="6a78">启用 USB over IP 支持。</p><p data-vmark="1913">启用 x86_64 的准虚拟化自旋锁支持。</p><p data-vmark="1f44">刷新 dxgkrnl 驱动程序，以获得错误 Bug 修复和代码清理。</p><p data-vmark="de52">启用对 NFSv4.1 的 NFS 客户端支持，改进 9p 或 fstab 挂载失败时的错误信息。</p><ul class=" list-paddingleft-2"><li><p data-vmark="0358">修复 ARM64 上的 \wsl$\ 和 \wsl.localhost\ 问题。</p></li><li><p data-vmark="908f">切换到 mkfs.ext4 而不是预先格式化的 ext4 VHD。</p></li><li><p data-vmark="c5ce">切换到使用 mkswap 和 swapon 而不是自定义交换文件逻辑。[GH 5476]</p></li><li><p data-vmark="13f7">添加逻辑，动态更新 NAT 网络的 MTU。</p></li><li><p data-vmark="0f7b">修复/etc/wsl.conf generateResolvConf 不能按预期工作的问题 [GH 6977]</p></li><li><p data-vmark="0c92">增加了进度指示器辅助功能，用于在转换过程中显示带有动画圆点的请等待信息，向用户显示 WSL 仍在运行。</p></li><li><p data-vmark="9935">切换 wslhost.exe 为 win32 应用程序。</p></li><li><p data-vmark="0862">切换 wsl.exe --install 不需要-distribution 参数，但保留了对它的支持，以避免破坏现有的脚本。</p></li><li><p data-vmark="d6ca">添加 wsl.exe --version 命令</p></li><li><p data-vmark="2bb3">在 wsl.exe --status 和 wsl.exe --version 中增加了 Windows 版本。</p></li><li><p data-vmark="8d3a">清理 wsl.exe 的无效参数处理，使语法错误更容易自我诊断。</p></li><li><p data-vmark="4df2">如果应用程序是通过 tile 启动的，在关闭控制台窗口前提示用户进行输入。</p></li><li><p data-vmark="2ff5">为 wslg.exe 添加错误信息对话框。</p></li><li><p data-vmark="25e8">简化不支持的命令行参数的打印。</p></li><li><p data-vmark="93ba">如果用户在已经安装了 WSL 的情况下运行 wsl.exe -install，则打印一个更好的错误信息。</p></li><li><p data-vmark="4f77">为不存在自定义内核和不支持自定义内核（ARM64）添加特殊的错误代码。</p></li><li><p data-vmark="b12b">更新 wsl.exe --update，以便与已解除的软件包一起工作--这将启动商店页面。</p></li><li><p data-vmark="303c">改进了 localhost relay 稳定性和性能。</p></li><li><p data-vmark="8a4d">额外的性能和稳定性改进。</p></li></ul><p data-vmark="e769">下面是视频：</p><p data-vmark="4a2e"><a class="ithome_super_player" contenteditable="false" target="_blank" data-timestamp="1633992921778" data-vpreview-url="https://f.video.weibocdn.com/LT5ws3eclx07QwKSh56M010412010HfO0E010.mp4?label=mp4_720p&template=1280x720.25.0&trans_finger=1f0da16358befad33323e3a1b7f95fc9&ori=0&ps=1BThihd3VLAY5R&Expires=1633996521&ssig=CtyUdpVOgo&KID=unistore,video" href="https://weibo.com/7518947256/KCkPIiOuN?from=page_1005057518947256_profile&wvr=6&mod=weibotime&type=comment"></a></p>
          
</div>
            