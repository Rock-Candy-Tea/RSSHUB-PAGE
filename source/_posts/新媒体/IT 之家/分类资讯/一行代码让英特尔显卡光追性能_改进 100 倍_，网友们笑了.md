
---
title: '一行代码让英特尔显卡光追性能_改进 100 倍_，网友们笑了'
categories: 
 - 新媒体
 - IT 之家
 - 分类资讯
headimg: 'https://img.ithome.com/newsuploadfiles/2022/8/b86a5e5f-f218-4aa6-97fb-bad367879fda.png'
author: IT 之家
comments: false
date: Sat, 13 Aug 2022 05:03:57 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2022/8/b86a5e5f-f218-4aa6-97fb-bad367879fda.png'
---

<div>   
<p data-vmark="ee8d">将光线追踪性能大幅提升“100 倍”，英特尔做到了！英特尔近日合并了一个光线追踪的修复程序到开源的 Mesa Vulkan 驱动程序中，<strong>这个合并请求目前已经登陆 Mesa 22.2</strong>。</p><p data-vmark="bc13">同时，修改这个程序的英特尔 Linux 图形驱动程序工程师 Lionel Landwerlin 说道：</p><blockquote><p data-vmark="9c44">这个合并请求就<strong>好像将光线追踪性能提升了 “100 倍”</strong>（没有开玩笑）。</p></blockquote><p data-vmark="3bd2">但网友们似乎不是很认可性能提升“100 倍”这个说法。</p><blockquote><p data-vmark="fb94">我不会将这次操作称为优化，他们仅仅是修改了错误，将硬件正确编程了而已。</p></blockquote><p data-vmark="00f2" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/8/b86a5e5f-f218-4aa6-97fb-bad367879fda.png" w="928" h="84" title="一行代码让英特尔显卡光追性能“改进 100 倍”，网友们笑了" width="928" height="74" referrerpolicy="no-referrer"></p><p data-vmark="4010">啊，明明性能提升了这么多，怎么还被阴阳怪气了。这一切都得从那一行“消失的代码”说起。</p><h2 data-vmark="9258">一行代码引发的惨案</h2><p data-vmark="afc8">简单来说，英特尔就是少敲了一行用来把光线追踪数据转移到显卡显存上的代码。</p><p data-vmark="6414">在没有这么一行代码的情况下，<strong>Vulkan 驱动会将光线追踪数据转移到较慢的系统内存中</strong>。这种持续复杂的传输会显著降低光线追踪的性能。</p><p data-vmark="15db">而这次改动呢，就只是修复了一个 Bug：添加一个分配标志，把本就应该分配给 GPU 的光线追踪内存分配了出去。</p><p data-vmark="b930">分配标志名为“ANV_BO_ALLOC_LOCAL_MEM”的标志，可以确保光线追踪使用 VRAM，因此性能提升了“100 倍”。</p><p data-vmark="fb2d" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/8/cc96ad71-e44e-4052-808f-414f7074f45d.png" w="1080" h="849" title="一行代码让英特尔显卡光追性能“改进 100 倍”，网友们笑了" width="1080" height="645" referrerpolicy="no-referrer"></p><p data-vmark="1b5f" style="text-align: center;">△ 图注：图源 Future</p><p data-vmark="f328">Mesa 22.2 版本将在未来几周内推出，英特尔和其他公司将对驱动程序进行进一步改进，<strong>以便在 8 月左右发布时的稳定性</strong>。</p><h2 data-vmark="6a86">One More Thing</h2><p data-vmark="78e2">英特尔干的“糟心事”可不止这一件。它最近出的显卡 Arc A380 在测试中也饱受诟病，有网友使用其进行游戏，用最新的驱动程序，体验感也极差。</p><p data-vmark="5386">有博主甚至在论坛上专门发帖吐槽：在目前的状态下，很难相信像英特尔这样有信誉的大公司能把这样的产品卖给一个客户。</p><p data-vmark="8789" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/8/37aecc7e-57ab-4ca6-ad96-69c08acb2512.png" w="1080" h="301" title="一行代码让英特尔显卡光追性能“改进 100 倍”，网友们笑了" width="1080" height="229" referrerpolicy="no-referrer"></p><p data-vmark="e829">不得不吐槽的有 2D 风扇控制，即使在零负载下，风扇也会继续旋转，每次重新启动后都会以不同的速度旋转。</p><p data-vmark="348a" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/8/49c0d67d-b4a2-4c88-9cae-956ddd0f146e.png" w="1080" h="720" title="一行代码让英特尔显卡光追性能“改进 100 倍”，网友们笑了" width="1080" height="547" referrerpolicy="no-referrer"></p><p data-vmark="f81f" style="text-align: center;">△ 图注：图源 computerbase</p><p data-vmark="9207">除此之外，在所有锐龙系统上，Arc A380 根本无法使用。因为 Intel 的显卡驱动在 AMD 平台上还不支持 Resizable BAR，所以只有 Intel CPU 和主板可以处理。</p><p data-vmark="7b97">更严重的是，测试 Arc A380 经常会遇到崩溃的状况，而且是系统必须重新启动才能继续。博主称仅在测试的第一天，这种情况就不下 15 次。</p><p data-vmark="bbda">参考链接：</p><ul class=" list-paddingleft-2"><li><p data-vmark="1a99">[1] <span class="link-text-start-with-http">https://www.tomshardware.com/news/intel-gpu-100x-performance-ray-tracing#xenforo-comments-3771159</span></p></li><li><p data-vmark="4211">[2] <span class="link-text-start-with-http">https://www.phoronix.com/news/Intel-Vulkan-RT-100x-Improve</span></p></li><li><p data-vmark="4655">[3] <span class="link-text-start-with-http">https://www.computerbase.de/2022-07/intel-arc-a380-review-test/3/</span></p></li></ul>
          
</div>
            