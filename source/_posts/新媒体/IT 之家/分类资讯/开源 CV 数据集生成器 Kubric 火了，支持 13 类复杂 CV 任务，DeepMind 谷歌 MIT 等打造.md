
---
title: '开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造'
categories: 
 - 新媒体
 - IT 之家
 - 分类资讯
headimg: 'https://img.ithome.com/newsuploadfiles/2022/3/2d78d116-2d8e-40f4-9f84-fe88c8c9c9b0.png'
author: IT 之家
comments: false
date: Sat, 19 Mar 2022 12:12:04 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2022/3/2d78d116-2d8e-40f4-9f84-fe88c8c9c9b0.png'
---

<div>   
<p data-vmark="9dd4">这年头，AI 玩家们想找到合适的图像数据集，简直是越来越难了。不仅数据质量参差不齐，合适的数据类型也难找（如光流图、深度图等）。</p><p data-vmark="2bfa">为了解决这些问题，来自谷歌、MIT、DeepMind、MILA 和剑桥大学等 11 家机构的 34 名研究人员，联手打造了一个名叫 Kubric 的数据集生成器，不仅能自己渲染，而且图像效果也非常真实。</p><p style="text-align: center;" data-vmark="b709"><img src="https://img.ithome.com/newsuploadfiles/2022/3/2d78d116-2d8e-40f4-9f84-fe88c8c9c9b0.png" w="1080" h="977" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="742" referrerpolicy="no-referrer"></p><p data-vmark="6361">不仅各种图像数据都能做，像语义分割、深度图或光流图这种“特殊数据”都能一键生成：</p><p style="text-align: center;" data-vmark="5ba2"><img src="https://img.ithome.com/newsuploadfiles/2022/3/8e07a2d1-3def-443b-84ab-5dba764c045f.gif" w="480" h="494" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="480" height="494" referrerpolicy="no-referrer"></p><p data-vmark="901f">还能控制渲染的真实度，渲染出的视频可以达到以假乱真的效果：</p><p style="text-align: center;" data-vmark="9fdd"><img src="https://img.ithome.com/newsuploadfiles/2022/3/b793a931-1efb-406a-a7c5-3eecf25243c9.gif" w="480" h="485" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="480" height="485" referrerpolicy="no-referrer"></p><p data-vmark="2737">据作者们表示，目前 Kubric 支持 13 类 CV 任务的数据类型生成，效果也不比用已有数据集训练出来的差。这样的一个数据集生成器，到底要怎么上手？</p><h3 data-vmark="e572">可生成 13 类 CV 任务所需数据</h3><p data-vmark="0b0a">先来看看这个 Kubric 数据集生成器究竟是个啥。简单来说，它有点像是一个专为图像 AI 打造的“数据车间”，基于跨平台开源物理引擎 PyBullet 和 3D 图像渲染软件 Blender 打造。</p><p style="text-align: center;" data-vmark="4963"><img src="https://img.ithome.com/newsuploadfiles/2022/3/22958950-1acc-4f30-b5a3-2f9add2a9825.png" w="1080" h="372" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="282" referrerpolicy="no-referrer"></p><p data-vmark="9e96">其中，PyBullet 给用户提供了一个模拟 3D 物体运动的平台，例如两个球之间的弹性碰撞参数就可以用它来模拟。（当然，除了 PyBullet 以外，也可以扩展到其他物理引擎如 MuJoCo 上）</p><p data-vmark="b85f">Blender 则是一个渲染 3D 动画的平台，但它的优势在于操作方便，而且既可以做出照片级逼真的渲染图像，也可以输出 3D 动画效果。（例如有设计师拿它设计服装纹理）</p><p data-vmark="d142">可能这时候你会问，Kubric 相比自己手动渲染视频或图像数据集，方便在哪？一方面，Kubric 自带一系列预处理的基础图像数据库。除了 11 个基础 3D 模型以外：</p><p style="text-align: center;" data-vmark="07cd"><img src="https://img.ithome.com/newsuploadfiles/2022/3/9f98c519-a85a-4c1b-86e1-991b4e6f66f1.png" w="1080" h="129" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="98" referrerpolicy="no-referrer"></p><p data-vmark="f6bf">还内置了 Google Scanned Objects（GSO）室内家具物品数据集中的一系列模型，以及包含背景、光照、材料纹理等参数的 Polyhaven 数据集，还有 ShapeNet 数据集等（包含 55 种常见的物品类型及 51300 个 3D 模型）。也就是说，如果你对渲染不太了解，也能利用内置的数据库快速生成想要的图像。</p><p data-vmark="e473">另一方面，Kubric 直接提供了从“渲染数据”到输出“AI 训练数据”的管道，省去了将渲染图像转成特殊数据（如深度图、光流图）、或是额外收集如视场、相机参数、光照等数据的麻烦。这也使得 Kubric 支持生成 13 类 CV 任务所需的图像数据，具体包括光流、NeRF、姿态估计、3D 重建等。</p><p style="text-align: center;" data-vmark="5def"><img src="https://img.ithome.com/newsuploadfiles/2022/3/ea5f4ac0-805f-4209-95a5-2c29b8eafc4c.png" w="1080" h="716" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="544" referrerpolicy="no-referrer"></p><p data-vmark="2f03">没错，即使这些生成的图像中有 2D 也有 3D 类型，需要的数据量也从 MB 到 TB 级别不等，但 Kubric 都能满足。嗯，作者们还专门针对各种视觉任务，用 Kubric 生成的数据集一个个试了试，强调“用他们生成的数据集效果更好”。</p><p style="text-align: center;" data-vmark="14a6"><img src="https://img.ithome.com/newsuploadfiles/2022/3/61a10e54-9d32-4907-8026-38ae79ffadc8.png" w="1080" h="623" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="473" referrerpolicy="no-referrer"></p><p style="text-align: center;" data-vmark="753a">△Kubric 生成的光流图</p><p data-vmark="65eb">那么，这样的数据集生成器究竟要怎么用呢？</p><h3 data-vmark="0ed1">自带 Python 接口</h3><p data-vmark="3d07">作者提供了一些简单的操作流程。在安装之后，第一步就是创建默认场景：</p><p style="text-align: center;" data-vmark="d9e4"><img src="https://img.ithome.com/newsuploadfiles/2022/3/8bf5a162-afb4-4474-a500-9874c1771780.png" w="1080" h="82" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="62" referrerpolicy="no-referrer"></p><p data-vmark="e630">然后，再通过这两步，分别创建一块地板、和一个球体（也可以换成其他形状）：</p><p style="text-align: center;" data-vmark="b098"><img src="https://img.ithome.com/newsuploadfiles/2022/3/64e5774b-0905-40b7-a2ba-56da60dc04a8.png" w="1080" h="80" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="61" referrerpolicy="no-referrer"></p><p data-vmark="ff10">接下来就是在场景中加一个照明，以及渲染摄像头采集图像：</p><p style="text-align: center;" data-vmark="89f4"><img src="https://img.ithome.com/newsuploadfiles/2022/3/d22fdfc1-5bd2-4197-a2dd-1a1f1150142e.png" w="1080" h="78" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="59" referrerpolicy="no-referrer"></p><p data-vmark="49cb">导出文件后，就能获取一个 3D 球体的图像了：</p><p style="text-align: center;" data-vmark="c3b2"><img src="https://img.ithome.com/newsuploadfiles/2022/3/766ffcff-6e41-44f7-b07e-dabde758e1b9.png" w="1080" h="638" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="484" referrerpolicy="no-referrer"></p><p data-vmark="cf09">△Blender 中的效果</p><p data-vmark="8c2d">如果需要深度图、灰度图等特殊图层的话，也是几行代码就能搞定：</p><p style="text-align: center;" data-vmark="52ca"><img src="https://img.ithome.com/newsuploadfiles/2022/3/8e032fa9-d57e-41aa-8b3b-e53f9152a67b.png" w="1080" h="131" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="99" referrerpolicy="no-referrer"></p><p data-vmark="025e">比自己手动导出要更方便一些：</p><p style="text-align: center;" data-vmark="05d9"><img src="https://img.ithome.com/newsuploadfiles/2022/3/e83895cf-6181-40f1-8bc4-2be1f413b3aa.png" w="1080" h="362" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="275" referrerpolicy="no-referrer"></p><p data-vmark="33a1">当然，如果还是感觉上手较难，作者也直接提供了示例代码，改改参数就能用：</p><p style="text-align: center;" data-vmark="6ff9"><img src="https://img.ithome.com/newsuploadfiles/2022/3/4403aea5-1984-49f3-b7a7-a9839945edcf.png" w="1080" h="571" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="1080" height="434" referrerpolicy="no-referrer"></p><p data-vmark="a6b8">在原基础上，再加 5 行代码就能直接运行出动态视频版：</p><p style="text-align: center;" data-vmark="6447"><img src="https://img.ithome.com/newsuploadfiles/2022/3/cb838770-8255-41cb-aa59-d47831f6513a.gif" w="480" h="257" title="开源 CV 数据集生成器 Kubric 火了，支持 13 类复杂 CV 任务，DeepMind 谷歌 MIT 等打造" width="480" height="257" referrerpolicy="no-referrer"></p><p data-vmark="e0f6">看起来，做完数据集后，即使不懂渲染的也能成为半个行家了（doge）</p><p data-vmark="c655">目前新的一批内置数据集还在施工中，感兴趣的小伙伴可以先上手试玩~</p><p data-vmark="07ce">项目地址：</p><p data-vmark="b44e"><span class="link-text-start-with-http">https://github.com/google-research/kubric</span></p><p data-vmark="56c9">论文地址：</p><p data-vmark="30e7"><span class="link-text-start-with-http">https://arxiv.org/abs/2203.03570</span></p><p data-vmark="a3ab">参考链接：</p><p data-vmark="9ccd"><span class="link-text-start-with-http">https://twitter.com/taiyasaki/status/1501288630697877504</span></p>
          
</div>
            