
---
title: 'GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript _ TypeScript'
categories: 
 - 新媒体
 - IT 之家
 - 分类资讯
headimg: 'https://img.ithome.com/newsuploadfiles/2022/3/38e7bd97-98d4-4e2b-a959-b89bb6df23a6.png'
author: IT 之家
comments: false
date: Wed, 09 Mar 2022 11:48:45 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2022/3/38e7bd97-98d4-4e2b-a959-b89bb6df23a6.png'
---

<div>   
<p data-vmark="0b97">今天，GitHub 更新一项实验版新功能。用上机器学习后，新版 <span class="accentTextColor">CodeQL 代码扫描服务</span>可以帮开发者发现更多安全漏洞。</p><p data-vmark="81fe">目前在 JavaScript 和 TypeScript 存储库上开发测试，以后会逐步增加各种语言支持。</p><p data-vmark="5556" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/38e7bd97-98d4-4e2b-a959-b89bb6df23a6.png" w="1080" h="647" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="1080" height="491" referrerpolicy="no-referrer"></p><p data-vmark="5b94">在测试期间，CodeQL 已经从 12,000 个存储库中发现了超过 20,000 个安全问题，包括远程代码执行（RCE）、SQL 注入和跨站脚本（XSS）漏洞。</p><h2 data-vmark="6920">如何使用</h2><p data-vmark="363b">GitHub 的 CodeQL 代码扫描<span class="accentTextColor">对于公共存储库是</span><span class="accentTextColor">免费的</span>。</p><p data-vmark="6ae9">目前，新的 JavaScript / TypeScript 分析工具，已向 security-extended 和 security-and-quality 分析套件的所有用户推出。</p><p data-vmark="ff54">如果你已经在使用这些套件，那么将自动使用新的机器学习技术进行分析。</p><p data-vmark="04f0">如果你之前没使用过，可按照以下步骤启用 CodeQL。</p><p data-vmark="1815">1、在你的存储库主页下，单击 <span class="accentTextColor">Security</span>。</p><p data-vmark="63aa" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/2b61da05-c587-4da8-ac2d-b37aaec7b262.png" w="1080" h="124" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="1080" height="94" referrerpolicy="no-referrer"></p><p data-vmark="01cc">3、在 Code scanning alerts 右侧，点击 <span class="accentTextColor">Set up code scanning</span>。如果缺少这一项，需要由存储库管理员启用 GitHub 高级安全性。</p><p data-vmark="e41c" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/d7bfe63f-e452-40d4-8446-ec08f40a948a.png" w="840" h="209" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="840" height="204" referrerpolicy="no-referrer"></p><p data-vmark="5617">4、在“Get started with code scanning”下，单击在 CodeQL Analysis 中的 Set up this workflow。</p><p data-vmark="f4d0" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/9bd198de-756f-43c6-b213-74f6e533de95.png" w="1080" h="563" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="1080" height="427" referrerpolicy="no-referrer"></p><p data-vmark="8f52">5、使用 Start commit 下拉菜单，输入文件名并提交。</p><p data-vmark="3e61" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/f164aa7d-96a7-416d-b647-bff02f83761a.png" w="544" h="682" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="544" height="682" referrerpolicy="no-referrer"></p><p data-vmark="c713">6、选择直接提交到默认分支，还是创建一个新分支并启动拉取请求。</p><p data-vmark="52bf" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/1b958b10-f0d8-436c-867d-b32d2b1b7eb3.png" w="507" h="434" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="507" height="434" referrerpolicy="no-referrer"></p><p data-vmark="c2d0">8、单击提交新文件。</p><p data-vmark="73d7">代码扫描分析成功后，用户将在“Security”选项卡中看到<span class="accentTextColor">安全警报信息</span>。</p><p data-vmark="fb6c" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/33c1b4fa-2325-4980-aa5b-ad10c7cf70dc.png" w="1024" h="451" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="1024" height="361" referrerpolicy="no-referrer"></p><h2 data-vmark="a14d">为何用 ML 能产生更好效果</h2><p data-vmark="a489">为了检测存储库中的漏洞，CodeQL 引擎首先构建了一个数据库，对代码的特殊关系表示进行编码，然后在数据库上执行一系列 CodeQL 查询。</p><p data-vmark="b596">但随着开源生态系统的快速发展，长尾效应越来越明显。</p><p data-vmark="2988">安全专家不断扩展和改进这些查询，对其他常见库和已知模式进行建模。然而，手动建模很耗时，而且总会有一些无法手动建模的不太常见的库和私有代码。</p><p data-vmark="27b7">这时候机器学习就派上了用场。通过给定大量训练代码片段，每个查询都标记为正面或负面样本，为每个片段提取特征，并训练深度学习模型对新示例进行分类。</p><p data-vmark="8f57" style="text-align: center;"><img src="https://img.ithome.com/newsuploadfiles/2022/3/a112b439-4c9b-470b-a215-f1bb26e0d4f5.png" w="960" h="540" title="GitHub 免费提供机器学习扫描代码漏洞，现已支持 JavaScript / TypeScript" width="960" height="461" referrerpolicy="no-referrer"></p><p data-vmark="c1cc">GitHub 不是将每个代码片段简单地视为一串单词或字符，直接应用标准 NLP 技术对这些字符串进行分类，而是利用 CodeQL 访问有关底层源代码的大量信息，为每个代码片段生成一组丰富的 feature，然后像 NLP 那样对它们进行标记和子标记。</p><p data-vmark="fd0d">由此从训练数据中生成一个词汇表，并将索引列表输入到深度学习分类器中，输出当前样本是每种漏洞的概率。</p><p data-vmark="4a41">虽然现在基于 ML 的漏洞扫描仅适用于 JavaScript / TypeScript，但 GitHub 承诺未来会支持更多语言，现在 CodeQL 已经支持了 Python、Go、C / C++ 在内的多种流行语言。</p><p data-vmark="fbe3">最后，GitHub 还强调，虽然全新工具可以发现更多漏洞，但也有可能提高误报率（召回率约为 80%，精度约为 60%）。未来这项功能会随着时间推移而改善。</p><p data-vmark="3653"><strong>参考链接：</strong></p><p data-vmark="1f5f">[1]<span class="link-text-start-with-http">https://github.blog/2022-02-17-code-scanning-finds-vulnerabilities-using-machine-learning/</span></p><p data-vmark="3888">[2]<span class="link-text-start-with-http">https://github.blog/2022-02-17-leveraging-machine-learning-find-security-vulnerabilities/</span></p><p data-vmark="b0d6">[3]<span class="link-text-start-with-http">https://docs.github.com/en/code-security/code-scanning/automatically-scanning-your-code-for-vulnerabilities-and-errors/setting-up-code-scanning-for-a-repository</span></p>
          
</div>
            