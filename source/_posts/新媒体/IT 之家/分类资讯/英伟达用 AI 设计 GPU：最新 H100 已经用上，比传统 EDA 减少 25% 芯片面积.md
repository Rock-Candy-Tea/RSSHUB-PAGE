
---
title: '英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积'
categories: 
 - 新媒体
 - IT 之家
 - 分类资讯
headimg: 'https://img.ithome.com/newsuploadfiles/2022/7/3b5d9a04-ad57-4d8a-b6ab-e2c51484844c.jpg'
author: IT 之家
comments: false
date: Sat, 16 Jul 2022 06:46:43 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2022/7/3b5d9a04-ad57-4d8a-b6ab-e2c51484844c.jpg'
---

<div>   
<div class="tougao-user">感谢IT之家网友 <a href="https://m.ithome.com/html/app/open.html?url=ithome%3A%2F%2Fuserpage%3Fid%3D2023890" rel="nofollow">极光星夜</a> 的线索投递！</div>
            <p data-vmark="ebac">英伟达终于揭晓：H100 竟有近 13000 条电路，是 AI 设计的？！</p><p style="text-align: center;" data-vmark="1586"><img src="https://img.ithome.com/newsuploadfiles/2022/7/3b5d9a04-ad57-4d8a-b6ab-e2c51484844c.jpg" w="332" h="152" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="332" height="152" referrerpolicy="no-referrer"></p><p data-vmark="947a">在最新论文中，他们介绍了如何用深度强化学习 agent 设计电路的方法。据研究人员称，这种方法还属业内首次。</p><p style="text-align: center;" data-vmark="7131"><img src="https://img.ithome.com/newsuploadfiles/2022/7/5e1175e6-6470-4450-a635-fb2771c449d3.gif" w="640" h="314" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="640" height="314" referrerpolicy="no-referrer"></p><p data-vmark="9d88">值得一提的是，这篇文章包含参考文献在内，仅有短短 6 页。不少网友表示，太酷了！</p><p style="text-align: center;" data-vmark="cd38"><img src="https://img.ithome.com/newsuploadfiles/2022/7/06d023ea-1163-446b-ac76-5d28e83294a6.png" w="944" h="402" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="944" height="349" referrerpolicy="no-referrer"></p><h3 data-vmark="0fd5">靠玩游戏来学习构建电路架</h3><p data-vmark="d20a">随着摩尔定律变慢，开发其他技术来提高芯片性能变得愈发重要。设计更小、更快、功耗更低的算术电路，就是其中的方式之一。基于这样的背景，研究人员提出了 PrefixRL—— 用深度强化学习优化并行前缀电路。</p><p style="text-align: center;" data-vmark="6422"><img src="https://img.ithome.com/newsuploadfiles/2022/7/6318a2f2-44ce-421a-967d-6f45b6fa904c.png" w="1080" h="300" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="1080" height="228" referrerpolicy="no-referrer"></p><p data-vmark="6cc2">据研究人员介绍，他们不仅证明了 AI 可以从头开始设计电路，而且比 EDA 工具设计得更小、更快。</p><p style="text-align: center;" data-vmark="6a23"><img src="https://img.ithome.com/newsuploadfiles/2022/7/90c09fd2-92ba-4ac9-8026-e7bf13cb67de.png" w="587" h="294" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="587" height="294" referrerpolicy="no-referrer"></p><p data-vmark="edf9">最新英伟达 Hopper 架构就拥有 13000 个 AI 设计电路的实例。来具体看看这项研究。</p><p data-vmark="6562">本文主要研究了一种流行的并行前缀电路，着重讨论了电路的两大特性：电路面积和延迟。已有的优化基本思路，是使用电路发生器将前缀图形转换为带有导线和逻辑门的电路，再用物理综合工具进一步优化。他们将算术电路设计看作是一个强化学习任务，训练一个 agent 来优化两大特性。对于前缀电路，还设计了一个环境。</p><p style="text-align: center;" data-vmark="3bfe"><img src="https://img.ithome.com/newsuploadfiles/2022/7/075442b2-8494-4035-9dbd-1346fc70bd08.png" w="706" h="382" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="706" height="382" referrerpolicy="no-referrer"></p><p data-vmark="4b4e">在这个环境中 agent 玩构建电路架构（前缀图形）的游戏，可以从中添加 or 删除节点，会因为电路面积最小化和低延迟而获得奖励。</p><p data-vmark="ced4">研究人员使用 Q-Learning 算法来训练 agent。首先将前缀图表示成网格，网格中的每个元素都映射到电路中的节点。输入和输出均为网格，只不过输入网格中的每个元素表示节点是否存在，输出每个元素则表示用于添加或删除节点的 Q 值。</p><p style="text-align: center;" data-vmark="db7f"><img src="https://img.ithome.com/newsuploadfiles/2022/7/f49f301f-5517-47fb-93ad-9f68c2f54675.png" w="1080" h="867" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="1080" height="658" referrerpolicy="no-referrer"></p><p data-vmark="de66">在实际训练中，PrefixRL 是一项计算要求很高的任务：物理模拟每个 GPU 需要 256 个 CPU，训练 64b 用例花费超 32000 个 GPU 小时。为此，研究人员还开发了个分布式强化学习训练平台 Raptor。</p><p style="text-align: center;" data-vmark="bf36"><img src="https://img.ithome.com/newsuploadfiles/2022/7/dd81dad4-0950-4b5b-9cad-7bf2bbc5f02b.png" w="1080" h="539" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="1080" height="409" referrerpolicy="no-referrer"></p><p data-vmark="a94b">结果显示，<span class="accentTextColor">在相同延迟、效能下 PrefixRL 加法器面积比 EDA 工具加法器面积减少了 25%。</span></p><p style="text-align: center;" data-vmark="eebf"><img src="https://img.ithome.com/newsuploadfiles/2022/7/8b49bea2-6a5a-4e54-a4db-e1d765e570ae.gif" w="1080" h="432" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="1080" height="328" referrerpolicy="no-referrer"></p><h3 data-vmark="f957">研究团队</h3><p data-vmark="f7d2">本次研究来自英伟达应用深度学习研究小组。他们希望这个方法有希望让 AI 应用到实际电路设计问题当中去。</p><p data-vmark="bf6a">近年来，AI 设计芯片这件事儿很多科技公司都已经在展开。最典型如谷歌，去年 6 月在 Nature 上发表了一篇文章：A graph placement methodology for fast chip design。文中表示，AI 能在 6 个小时内生成芯片设计图，而且比人类设计得更好。</p><p style="text-align: center;" data-vmark="6964"><img src="https://img.ithome.com/newsuploadfiles/2022/7/6d6a66b3-ccda-455c-86a9-0023696e501d.png" w="1080" h="372" title="英伟达用 AI 设计 GPU：最新 H100 已经用上，比传统 EDA 减少 25% 芯片面积" width="1080" height="282" referrerpolicy="no-referrer"></p><p data-vmark="55e0">还有像三星、新思、cadence 等企业也都有相应的解决方案。</p><p data-vmark="2e75">前阵子在英伟达 GTC 大会上，首席科学家、计算机架构大师 Bill Dally 就分享了 AI 在芯片设计上的几种应用。包括预测电压降、预测寄生参数、布局布线、自动化标准单元迁移。</p><p data-vmark="45bb">不过，即便进展频频，也有不少质疑的声音出现，比如，设计能力跟人类比还差点。对于 AI 设计芯片这事儿，你怎么看？</p><p data-vmark="ec22">参考链接：</p><p data-vmark="bb48">[1]<span class="link-text-start-with-http">https://developer.nvidia.com/blog/designing-arithmetic-circuits-with-deep-reinforcement-learning/</span></p><p data-vmark="2a44">[2]<span class="link-text-start-with-http">https://arxiv.org/pdf/2205.07000.pdf</span></p><p data-vmark="c094">[3]<span class="link-text-start-with-http">https://twitter.com/rjrshr/status/1545446397759016962</span></p><p data-vmark="eb69">[4]<span class="link-text-start-with-http">https://www.hpcwire.com/2022/04/18/nvidia-rd-chief-on-how-ai-is-improving-chip-design/</span></p>
          
</div>
            