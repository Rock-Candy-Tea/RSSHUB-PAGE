
---
title: '图解 _ 你管这破玩意叫计算机？'
categories: 
 - 新媒体
 - IT 之家
 - 分类资讯
headimg: 'https://img.ithome.com/newsuploadfiles/2022/9/d1860b3f-e2fe-4bff-880b-4116392d6c9b.jpg'
author: IT 之家
comments: false
date: Sun, 25 Sep 2022 05:42:24 GMT
thumbnail: 'https://img.ithome.com/newsuploadfiles/2022/9/d1860b3f-e2fe-4bff-880b-4116392d6c9b.jpg'
---

<div>   
<p class="it-news-source-tip" data-vmark="085f"><span class="font-color-greytip">本文来自微信公众号：<a href="https://mp.weixin.qq.com/s/_Xc-KfyJumxCwHSJxgUpKw" target="_blank">低并发编程 （ID：dibingfa）</a>，作者：闪客</span></p><p data-vmark="0c59"><strong>我和小宇早恋了，我们家住隔壁。</strong></p><p style="text-align: center;" data-vmark="c9e4"><img src="https://img.ithome.com/newsuploadfiles/2022/9/d1860b3f-e2fe-4bff-880b-4116392d6c9b.jpg" w="455" h="318" title="图解 | 你管这破玩意叫计算机？" width="455" height="318" referrerpolicy="no-referrer"></p><h2 data-vmark="f318">一、编码与电路 —— 信号的转换</h2><p data-vmark="5fc7">晚上父母会把手机没收，但我们还想继续聊天，又不敢发出声音，于是我们想到了这个办法...</p><p style="text-align: center;" data-vmark="b818"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg7067wg20cu08vtby.gif" w="462" h="319" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="462" height="319"></p><p data-vmark="fb9f">我们把所有的中文都用灯泡的亮灭组合来表示，同时约定好每隔一秒读取一次灯泡的状态并记录下来，这是我们的暗号。</p><p data-vmark="b49e"><strong>我</strong>：亮亮灭灭亮</p><p data-vmark="6c32"><strong>喜</strong>：灭亮亮灭灭</p><p data-vmark="6f86"><strong>欢</strong>：亮灭亮灭亮</p><p data-vmark="8339"><strong>你</strong>：亮亮亮灭灭</p><p data-vmark="eab3">这样，我们虽然没有了手机，依然可以日以继日地聊天，虽然效率很低，但依然很快乐。</p><p data-vmark="c05c">我和小宇就这样在不经意间，将语言转换成为了灯泡的亮灭组合，这个过程叫做<strong>编码</strong>。</p><h2 data-vmark="f82d">二、门电路 —— 信号的关联</h2><p data-vmark="6a46">我和小宇就这样一直秘密保持着通话，直到上了大学，父母再也管不了我们用手机了。</p><p data-vmark="eb5c">但这么多年的小灯泡通话，使我们总觉得事情没那么简单，于是我们开始了一些新的探索。</p><p style="text-align: center;" data-vmark="4ae4"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg7ejnxg20fa06yjvx.gif" w="550" h="250" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="250"></p><p data-vmark="1309">我们增加了一个开关。此时当两个开关同时闭合时，灯泡才会亮。</p><p data-vmark="ba34">这样两个开关与灯泡之间，不再是之前简单的对应关系了，而是有了<strong>逻辑</strong>。</p><p data-vmark="34c5">开关的断开与闭合分别对应着电路的断开与连通。而小灯泡的不亮与亮，也分别对应着电路的断开与连通。那这两者就可以统一，不再依赖于具体的实物表现了。</p><p style="text-align: center;" data-vmark="f9c1"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg7ihsjg20fa05ktf3.gif" w="550" h="200" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="200"></p><p data-vmark="9c5e">还有，开关的连通与断开，是主动的。而小灯泡的连通与断开，是被动的，是结果。</p><p data-vmark="1eaf">我们把开关这里的连通与断开称为<strong>输入端</strong>，把灯泡的连通与断开称为<strong>输出端</strong>，并且将整个电路都封装在一个图形里，可以得到如下抽象：</p><p style="text-align: center;" data-vmark="37c5"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg7pg6sg20fa05kjrj.gif" w="550" h="200" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="200"></p><p data-vmark="64d2">我们决定把这种电路叫做<strong>门电路</strong>，上面这个叫<strong>与门</strong>。</p><p data-vmark="0227">为了今后更为抽象的探索，我们将电路连通表示为数字 1，电路断开表示为数字 0。</p><p data-vmark="3fc0">我们将这种表示方式称为<strong>二进制</strong>。</p><table><tbody><tr class="ue-table-interlace-color-single firstRow"><td width="52"><p style="text-align: center;" data-vmark="477f"><strong>输入 A</strong></p></td><td width="51"><p style="text-align: center;" data-vmark="103d"><strong> 输入 B</strong></p></td><td width="29"><p style="text-align: center;" data-vmark="f743"><strong> 输出</strong></p></td></tr><tr class="ue-table-interlace-color-double"><td width="52"><p style="text-align: center;" data-vmark="8a08">0</p></td><td width="51"><p style="text-align: center;" data-vmark="d337">0</p></td><td width="49"><p style="text-align: center;" data-vmark="8f4b">0</p></td></tr><tr class="ue-table-interlace-color-single"><td width="52"><p style="text-align: center;" data-vmark="b5d2">0</p></td><td width="51"><p style="text-align: center;" data-vmark="3007">1</p></td><td width="49"><p style="text-align: center;" data-vmark="42b1">0</p></td></tr><tr class="ue-table-interlace-color-double"><td width="52"><p style="text-align: center;" data-vmark="ac71">1</p></td><td width="51"><p style="text-align: center;" data-vmark="5450">0</p></td><td width="49"><p style="text-align: center;" data-vmark="c509">0</p></td></tr><tr class="ue-table-interlace-color-single"><td width="52"><p style="text-align: center;" data-vmark="8960">1</p></td><td width="51"><p style="text-align: center;" data-vmark="866f">1</p></td><td width="49"><p style="text-align: center;" data-vmark="8df6">1</p></td></tr></tbody></table><p style="text-align: center;" data-vmark="0601"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg7tfrxg20fa05k748.gif" w="550" h="200" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="200"></p><p data-vmark="a144">慢慢地，我们发现了越来越多的玩法。</p><p style="text-align: center;" data-vmark="dd1b"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg85xfig20fa07i799.gif" w="550" h="270" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="270"></p><p data-vmark="e15f">上面这种电路，我把他抽象成如下门电路形状，叫做<strong>或门</strong>。</p><p style="text-align: center;" data-vmark="0ddc"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg8dy25g20fa05k3yo.gif" w="550" h="200" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="550" height="200"></p><p data-vmark="1095">之后便一发不可收拾，我和小宇设计了越来越多的门电路，我们发现，只要是我们能想到的逻辑关系，都可以设计成对应的门电路。</p><p style="text-align: center;" data-vmark="63dc"><img src="https://img.ithome.com/newsuploadfiles/2022/9/022d8848-fb4d-47ba-b1b4-22318d53d865.jpg" w="564" h="180" title="图解 | 你管这破玩意叫计算机？" width="564" height="180" referrerpolicy="no-referrer"></p><h2 data-vmark="a563">三、加法器 —— 信号的计算</h2><p data-vmark="ea75">十进制数可以转换成二进制数，而二进制数又可以对应到门电路的输入端与输出端。</p><p data-vmark="a7e8">于是我和小宇有了一个大胆的想法，能不能设计一个计算加法的电路呢？</p><p data-vmark="c7f9">我们首先从最简单的一位二进制数相加开始：</p><p data-vmark="0b93">0+0=0；0+1=1；1+0=1；1+1=10</p><p data-vmark="e7b3">变成一张表格如下</p><table><tbody><tr class="ue-table-interlace-color-single firstRow"><td width="53"><p style="text-align: center;" data-vmark="15ad"><strong>加数 A</strong></p></td><td width="50"><p style="text-align: center;" data-vmark="fcac"><strong> 加数 B</strong></p></td><td width="68"><p style="text-align: center;" data-vmark="9d0f"><strong> 加和</strong><strong>输</strong><strong>出</strong></p></td><td width="68"><p style="text-align: center;" data-vmark="ad72"><strong>进位输出</strong></p></td></tr><tr class="ue-table-interlace-color-double"><td width="53"><p style="text-align: center;" data-vmark="056b">0</p></td><td width="50"><p style="text-align: center;" data-vmark="ee61">0</p></td><td width="68"><p style="text-align: center;" data-vmark="a236">0</p></td><td width="68"><p style="text-align: center;" data-vmark="c340">0</p></td></tr><tr class="ue-table-interlace-color-single"><td width="53"><p style="text-align: center;" data-vmark="332a">0</p></td><td width="50"><p style="text-align: center;" data-vmark="3bce">1</p></td><td width="68"><p style="text-align: center;" data-vmark="ae36">1</p></td><td width="68"><p style="text-align: center;" data-vmark="34c7">0</p></td></tr><tr class="ue-table-interlace-color-double"><td width="53"><p style="text-align: center;" data-vmark="c775">1</p></td><td width="50"><p style="text-align: center;" data-vmark="b931">0</p></td><td width="68"><p style="text-align: center;" data-vmark="a0d4">1</p></td><td width="68"><p style="text-align: center;" data-vmark="b2cb">0</p></td></tr><tr class="ue-table-interlace-color-single"><td width="53"><p style="text-align: center;" data-vmark="6a5c">1</p></td><td width="50"><p style="text-align: center;" data-vmark="fc3e">1</p></td><td width="68"><p style="text-align: center;" data-vmark="05f9">0</p></td><td width="68"><p style="text-align: center;" data-vmark="0fee">1</p></td></tr></tbody></table><p data-vmark="810b">即我们需要设计出一种电路，可以达到表中的输入与输出效果。</p><p data-vmark="f49b">经过不懈努力，终于发现这个电路可以由<strong>异或门</strong>和<strong>与门</strong>两个门电路组成。</p><p style="text-align: center;" data-vmark="b7b2"><img src="https://img.ithome.com/newsuploadfiles/2022/9/aed8149e-291b-46d2-80d6-1f21527a3f90.jpg" w="700" h="460" title="图解 | 你管这破玩意叫计算机？" width="700" height="460" referrerpolicy="no-referrer"></p><p data-vmark="9797">这个装置实现了二进制的一位加法，但它并不完美，因为只考虑了这两个数的进位输出，但没有考虑上一位的进位，所以只能叫<strong>半加器</strong>。</p><p style="text-align: center;" data-vmark="8b4f"><img src="https://img.ithome.com/newsuploadfiles/2022/9/b9c672a7-6a32-4221-b49a-980245e8fe3d.jpg" w="550" h="200" title="图解 | 你管这破玩意叫计算机？" width="550" height="200" referrerpolicy="no-referrer"></p><p data-vmark="249a">如果将前一个进位考虑进来，只需再多一个半加器，并且拼接一个或门即可。</p><p style="text-align: center;" data-vmark="1b9c"><img src="https://img.ithome.com/newsuploadfiles/2022/9/f537a360-531e-446d-9c06-3871d7526d0a.jpg@s_2,w_820,h_212" w="930" h="240" title="图解 | 你管这破玩意叫计算机？" srcset="https://img.ithome.com/newsuploadfiles/2022/9/f537a360-531e-446d-9c06-3871d7526d0a.jpg 2x" width="930" height="212" referrerpolicy="no-referrer"></p><p data-vmark="1030">此时我们已经建立好了一个完美的一位加法器，并自豪地称之为<strong>全加器</strong>。</p><p style="text-align: center;" data-vmark="d413"><img src="https://img.ithome.com/newsuploadfiles/2022/9/2bd966f2-50de-4ad5-8b74-6f45d9db482e.jpg" w="550" h="200" title="图解 | 你管这破玩意叫计算机？" width="550" height="200" referrerpolicy="no-referrer"></p><p data-vmark="3ca2">全加器做出来之后，无论多少位的加法器就都可以做出来了，只需将全加器逐个拼起来即可。我们尝试做一个<strong>八位加法器</strong>。</p><p style="text-align: center;" data-vmark="fd16"><img src="https://img.ithome.com/newsuploadfiles/2022/9/e6ff0cdd-4779-4a92-8ba8-b069de19ffc7.jpg@s_2,w_820,h_735" w="1080" h="968" title="图解 | 你管这破玩意叫计算机？" srcset="https://img.ithome.com/newsuploadfiles/2022/9/e6ff0cdd-4779-4a92-8ba8-b069de19ffc7.jpg 2x" width="1080" height="735" referrerpolicy="no-referrer"></p><p data-vmark="7842">OK，大功告成，有了加法器，理论上就可以实现任何的数学运算了。</p><p data-vmark="d70d">因为我们知道乘法可以转换成加法，除法可以转换成减法，而减法又可以转换成补码的加法。现在我们可以自豪地称这个部件为，<strong>算术逻辑单元 ALU</strong>。</p><p style="text-align: center;" data-vmark="3abb"><img src="https://img.ithome.com/newsuploadfiles/2022/9/3c6e598a-0d72-4e65-9a71-34e8034e34ba.jpg" w="382" h="183" title="图解 | 你管这破玩意叫计算机？" width="382" height="183" referrerpolicy="no-referrer"></p><h2 data-vmark="065b">四、时钟 —— 信号的震荡</h2><p data-vmark="c962">我和小宇都非常高兴，终于用电路的方式实现了计算功能。</p><p data-vmark="be95">但慢慢的觉得没什么意思了，于是我们又突发奇想，设计了如下诡异的电路。</p><p style="text-align: center;" data-vmark="2ca1"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg8kqmog20ah054arh.gif" w="377" h="184" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="377" height="184"></p><p data-vmark="704a">当闭合开关 A 时，整个电路联通，开关 B 将会被吸下来，整个电路断开，电磁铁失去磁性，开关 B 又会弹上去，此时电路又联通，开关 B 又被吸下来。</p><p data-vmark="a92b">就这样，开关 B 不断地快速地在开和闭之间循环进行，而我们始终没有去干预这个电路，因此该电路有了<strong>自反馈</strong>的特性。</p><p data-vmark="1083">由于开关 B 的来回震荡，我们将这种电路称为<strong>振荡器</strong>，由于它可以产生不断变化的电信号，就像时钟一样不停且规律地跑着，我们将这个装置又称为<strong>时钟</strong>。它所产生的交替的电信号称为<strong>时钟信号</strong>。</p><h2 data-vmark="9688">五、RAM—— 保存信号</h2><p data-vmark="03e4">虽然有了加法器，但是输入的数字从哪里来？能不能先保存在某个地方呢？</p><p data-vmark="2785">我和小宇经过多次实验，发明了一个非常复杂的电路：</p><p style="text-align: center;" data-vmark="5eb1"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg8s79ng20t80dudrp.gif" w="1052" h="498" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="1052" height="388"></p><p data-vmark="4ccb">如果输入端为 1，改变 "某控制端" 信号（信号由 0 变化到 1 这个瞬间），则输出端变为 1，之后输出端仍然保持（存储）着刚刚的 1。</p><p data-vmark="e75b">如果输入端为 0，改变 "某控制端" 信号，则输出端变为 0，之后输出端仍然保持（存储）着刚刚的 0。</p><p data-vmark="a90d">如果想不明白也没关系，只要记住这个电路的设计，实现了一位的存储功能！我们叫它 <strong>1 位锁存器</strong>。</p><p style="text-align: center;" data-vmark="7d80"><img src="https://img.ithome.com/newsuploadfiles/2022/9/7d3d0c90-a321-4de3-b7dc-1d6b4ed75f51.jpg" w="680" h="343" title="图解 | 你管这破玩意叫计算机？" width="680" height="343" referrerpolicy="no-referrer"></p><p data-vmark="9871">然后我们把多个锁存器组合起来，再加上一些 3-8 译码器，8-1 选择器等电路，就可以实现一个能保存 8 位二进制的存储器，并且可以随机地读写它，我们把它叫做 <strong>RAM</strong>，简称为<strong>内存</strong>。</p><p style="text-align: center;" data-vmark="6513"><img src="https://img.ithome.com/newsuploadfiles/2022/9/cd0fc535-e6c1-4c49-a11a-3d0dc5316ac6.jpg@s_2,w_820,h_318" w="1020" h="395" title="图解 | 你管这破玩意叫计算机？" srcset="https://img.ithome.com/newsuploadfiles/2022/9/cd0fc535-e6c1-4c49-a11a-3d0dc5316ac6.jpg 2x" width="1020" height="318" referrerpolicy="no-referrer"></p><p data-vmark="c047">这个组件通过再次组合，可以形成 N × M 的 RAM 阵列。比如我们可以表示一个 1024 * 8 的 RAM 阵列。</p><p style="text-align: center;" data-vmark="e0d8"><img src="https://img.ithome.com/newsuploadfiles/2022/9/ebfa817a-6693-429a-8ab0-12efe3141a9a.jpg@s_2,w_820,h_255" w="1080" h="336" title="图解 | 你管这破玩意叫计算机？" srcset="https://img.ithome.com/newsuploadfiles/2022/9/ebfa817a-6693-429a-8ab0-12efe3141a9a.jpg 2x" width="1080" height="255" referrerpolicy="no-referrer"></p><p data-vmark="8d0a">这表示存储容量为 1024 个单位，每个单位占 8 位。</p><p data-vmark="e0a9">为了更方便地表示，我们规定 1024 = 1K，8 位 = 1 字节（8 bit = 1 byte），那么我们就可以说，这个 RAM 的存储容量为 1K 个单位，每个单位占 1B。或者说，地址空间为 1K，存储容量是 1KB。</p><p data-vmark="ae64">此时这个 RAM 模块已经近乎完美了，我们甚至可以单独对其进行使用，将数据存入某个地址，将某个地址中的数据读出。</p><p data-vmark="4916">怎么方便人操作呢？只需要将地址输入、数据输入、写操作端分别接入一个<strong>控制面板</strong>，由开关来控制这些信号的输入是 1 还是 0 即可，然后再将数据输出接入一些灯泡方便观察，这样一个单独的可以手动操作的存储装置，就搞定啦。（下图中有彩蛋~）</p><p style="text-align: center;" data-vmark="b776"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg9cd1yg20l10lqx6s.gif" w="757" h="782" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="757" height="782"></p><p data-vmark="2ba6">有了可读写的内存，我们就可以事先把几个数字存储内存中了，接下来，我们能否让算术逻辑单元 ALU <strong>自动地读取这个数字</strong>，进行加法运算呢？</p><h2 data-vmark="eb37">六、程序 —— 自动化</h2><p data-vmark="d24b">我们先引入一个新的组件，<strong>10 位计数器</strong>，这里的 Clk 就接入我们在第四部分讲的时钟信号，Clr 是清零端，具体效果下面动图一目了然。</p><p style="text-align: center;" data-vmark="1f72"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isg9tkbdg20eh07o4a4.gif" w="521" h="276" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="521" height="276"></p><p data-vmark="07af">计数器的输出就是 0，1，2，3，4，5，可以当作内存中的<strong>地址</strong>。</p><p data-vmark="0b89">我们把这个计数器，以及上面讲的 ALU 与 RAM 全部连在一起，尝试实现一个可以<strong>累积求和</strong>的装置。</p><p data-vmark="ead6">我们想计算的是 1+2+3+4+5+6+7,   这个自动化的计算器是这么运行的</p><p data-vmark="c8c3">1、用控制面板在 RAM 的地址 0~6 处存上 1~7 这几个数字的，在上一节已经实现了。</p><p data-vmark="bf4a">2、当计数器的值是 0 时，数据 1 被输出到加法器进行计算，此时加法器 A=1，B=0，计算结果为 1，但记住锁存器存储的是上一次的加法器输出 0，这次的计算结果要等下一次锁存器遇到上升沿信号。</p><p data-vmark="a5f6">3、当计数器的值是 1 时，数据 2 被输入到加法器，此时锁存器存储了上一次的计算结果 1，并将这个 1 输出给小灯泡，并同时回传到加法器的 B，所以此时加法器 A=2，B=1，计算结果为 3</p><p data-vmark="60dd">4、当计数器的值是 3 时，以此类推，请看下图</p><p style="text-align: center;" data-vmark="e255"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isga2mftg20sp0uxtx1.gif" w="1033" h="1113" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="1033" height="884"></p><p data-vmark="6ca5">我们将累加求和这个过程<strong>自动化</strong>了！之后如果想计算累加和，只需要用控制面板事先在内存里存好数据就可以了！是不是很方便？</p><h2 data-vmark="a9d9">七、程序指令</h2><p data-vmark="231f">我们还想要更多的自动化！</p><p data-vmark="a0fc">现在这个装置，只能无脑地将 RAM 中的数据从头到尾一直累加下去，无法选择加哪个不加哪个，也无法选择什么时候停止。</p><p data-vmark="b7db">比如我们 RAM 中的数据是这样的。</p><table><tbody><tr class="firstRow"><td width="102"><p style="text-align: center;" data-vmark="3c21"><strong>地址</strong><strong>（16 进制）</strong></p></td><td width="99"><p style="text-align: center;" data-vmark="1326"><strong>数据</strong><strong>（10 进制）</strong></p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="d627">0x00</p></td><td width="99"><p style="text-align: center;" data-vmark="02f5">...</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="ad43">0x01</p></td><td width="99"><p style="text-align: center;" data-vmark="f7f2">10</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="cf9d">0x02</p></td><td width="99"><p style="text-align: center;" data-vmark="c9ac">...</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="9802">0x03</p></td><td width="99"><p style="text-align: center;" data-vmark="75fa">20</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="eded">0x04</p></td><td width="99"><p style="text-align: center;" data-vmark="97d2">30</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="3dfb">0x05</p></td><td width="99"><p style="text-align: center;" data-vmark="d205">...</p></td></tr><tr><td width="102"><p style="text-align: center;" data-vmark="3215">...</p></td><td width="99"><p style="text-align: center;" data-vmark="44bc">...</p></td></tr></tbody></table><p data-vmark="d107">我们只想让 RAM 蓝色地址处的数据进行累加，其他地方的数据忽略，并且到 RAM 0x05 处就停止，该怎么做呢？</p><p data-vmark="a998">我们可以再增加一个 RAM，这个 RAM 里存放的数据，表示 " <strong>指令</strong> " 的含义！</p><p data-vmark="6b17">我们先发明三种指令。</p><p data-vmark="7108"><strong>add</strong>：把 RAM 这个位置处的值进行累加</p><p data-vmark="6498"><strong>nop</strong>：忽略此处的值（也就是什么都不做）</p><p data-vmark="d41e"><strong>halt</strong>：停止（禁止计数器的值加一）</p><p data-vmark="0c2c">那么要想达到上述功能，相应的这个指令 RAM 中的数据应该是这样的。</p><p data-vmark="0f0c">注意：下面指令 RAM 的地址和上面数据 RAM 的地址之间有一一对应关系！</p><table><tbody><tr class="firstRow"><td width="103"><p style="text-align: center;" data-vmark="b263"><strong>地址</strong></p><p style="text-align: center;" data-vmark="50c3"><strong>（16 进制）</strong></p></td><td width="122"><p style="text-align: center;" data-vmark="1a6b"><strong>指令</strong><strong> RAM 的值</strong></p></td><td width="122"><p style="text-align: center;" data-vmark="c5ac"><strong>指令含义</strong></p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="4f05">0x00</p></td><td width="122"><p style="text-align: center;" data-vmark="c7d2">nop</p></td><td width="122"><p style="text-align: center;" data-vmark="0499">什么都不做</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="9b7f">0x01</p></td><td width="122"><p style="text-align: center;" data-vmark="3384">add</p></td><td width="122"><p style="text-align: center;" data-vmark="a36a">累加</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="02d8">0x02</p></td><td width="122"><p style="text-align: center;" data-vmark="dd3f">nop</p></td><td width="122"><p style="text-align: center;" data-vmark="5f53">什么都不做</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="ab66">0x03</p></td><td width="122"><p style="text-align: center;" data-vmark="c9d1">add</p></td><td width="122"><p style="text-align: center;" data-vmark="7064">累加</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="15fe">0x04</p></td><td width="122"><p style="text-align: center;" data-vmark="dc1a">add</p></td><td width="122"><p style="text-align: center;" data-vmark="f3d5">累加</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="497c">0x05</p></td><td width="122"><p style="text-align: center;" data-vmark="2ec1">halt</p></td><td width="122"><p style="text-align: center;" data-vmark="21b8">停止</p></td></tr><tr><td width="103"><p style="text-align: center;" data-vmark="4d9f">...</p></td><td width="122"><p style="text-align: center;" data-vmark="de2a">...</p></td><td width="122"><p style="text-align: center;" data-vmark="0fef">...</p></td></tr></tbody></table><p data-vmark="eba3">我们需要引入一个<strong>控制单元</strong>，放在如下位置。</p><p style="text-align: center;" data-vmark="c42b"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isgaacuzg20ru0u0gng.gif" w="1002" h="1080" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="1002" height="884"></p><p data-vmark="f601">遇到 nop 指令 (0x00)，那输出就将锁存器的 W 位禁止，不允许锁存器写操作，这样累加结果就不会录入。</p><p data-vmark="b942">再比如遇到输入为 halt 指令 (0x05)，就将计数器的 EN 位禁止，不允许计数器 +1，这样就达到了停止的效果。</p><p data-vmark="bbaa">此时再让时钟信号震荡起来，就可以达到有选择地求和过程，并且在指定位置悬停。那现在我们就让时钟信号震动起来，看看这个过程吧。（此处只留关键组件）</p><p style="text-align: center;" data-vmark="43e8"><img src="http://ss1.sinaimg.cn/large/95e190b7ly1h6isgahlq5g20ig0hl47c.gif" w="664" h="633" class="lazy" title="图解 | 你管这破玩意叫计算机？" referrerpolicy="no-referrer" width="664" height="633"></p><p data-vmark="20e4">这个控制单元该怎么实现呢？我们知道，只要给出输入，给出输出，任何组件都可以造出来。本文就不再展开了。</p><p data-vmark="73af">有了三个指令，我们知道了通过指令这种方式，配合各种复杂的控制器，即可实现将所有操作统统自动化。</p><p data-vmark="85b6">接下来我们需要做的，就是设计控制器，以及约定好一大堆指令，使得通过这一大堆指令的排列组合，可以实现任何自动化的计算操作。</p><p data-vmark="ccad">我们将设计好的一大堆指令</p><p data-vmark="abf2">称作<strong>指令集</strong></p><p data-vmark="bed2">我们将指令排列组合后可以实现的功能</p><p data-vmark="1f63">称作<strong>程序</strong></p><p data-vmark="9888">我们将指令的排列组合这个过程</p><p data-vmark="29d8">称作<strong>编程</strong></p><p data-vmark="3f23">我们将排列组合这些指令的人</p><p data-vmark="5c33">称作<strong>程序员</strong></p><p data-vmark="9bb2">而我们将承载这一切的装置，叫做什么呢？</p><p data-vmark="6bf1">没错，这个破玩意，就是</p><p data-vmark="27f8"><strong>计</strong></p><p data-vmark="83ae"><strong>算</strong></p><p data-vmark="39eb"><strong>机</strong></p><p data-vmark="bd10"><span class="font-color-greytip">本文来自微信公众号：<a href="https://mp.weixin.qq.com/s/_Xc-KfyJumxCwHSJxgUpKw" target="_blank">低并发编程 （ID：dibingfa）</a>，作者：闪客</span></p>
          
</div>
            