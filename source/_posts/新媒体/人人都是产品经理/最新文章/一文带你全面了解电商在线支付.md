
---
title: '一文带你全面了解电商在线支付'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/M1mCqkBTW55jgygVH5JG.jpg'
author: 人人都是产品经理
comments: false
date: Thu, 23 Sep 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/M1mCqkBTW55jgygVH5JG.jpg'
---

<div>   
<blockquote><p>编辑导语：在日常购物中，我们常常需要用到在线支付功能。在线支付的发展也使得如今的电商系统越来越完善。本文将讨论在线支付相关内容，希望对正在研究在线支付系统的小伙伴有所帮助，一起来看下。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5149155 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/M1mCqkBTW55jgygVH5JG.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>各位小伙伴好，本文是电商产品设计系列文章的第九篇，在线支付。</p>
<p>在电商系统中，方便的在线支付功能大大推进了电商的发展，可以说没有在线支付的发展就没有今天发展完善的电商系统，本文就来讨论一下在线支付相关的内容。</p>
<h2 id="toc-1">一、网银支付</h2>
<h3>1. 什么是在线支付</h3>
<p>在讨论在线支付前，在没有在线支付的时候我们如何购物呢？常见的有银行柜台转账、货到付款、面对面交易三种。</p>
<p>最初的在线支付非常复杂，所以很多买家最初在淘宝购物都是通过银行卡转账的方式。货到付款至今仍在某些特殊业务中使用，在印尼一些在线支付不发达的地方，货到付款还是目前非常流行的支付方式。而面对面交易常发生在线下交易。</p>
<p>在互联网发展起来后，在线支付也随之发展。我们给在线支付下个定义：在线支付是指卖方与买方通过互联网上的电子商务网站进行交易时，银行为其提供网上资金结算服务的一种业务。我们简单的理解就是A的钱通过互联网转移到了B的钱包中。</p>
<h3>2. 在线支付类型</h3>
<p>我们来盘点一下主流的在线支付方式，主要有快捷支付、网银支付、第三方支付、内置支付、余额支付、代付、其他，我们分别来说说：快捷支付分借记卡快捷和信用卡快捷。</p>
<p>快捷支付分签约和支付两个流程，对于一般用户来说这两种卡的支付流程是一样的，区别在于信用卡是可以透支额度的而借记卡需提前储蓄用余额支付，其次对于商家而言这两种卡的支付费率是不一样的。</p>
<p>第二个是网银支付，网银是银联最成功的产品之一，在2010年左右几乎是任何一个成熟电商的标配，后来随着第三方支付的崛起才慢慢没落。</p>
<p>其支付流程一般是在电商收银台选择支付的银行然后进入对应银行的支付页面，输入银行卡账号、密码、使用U盾等，支付完成后再回到电商平台，所以其支付流程相对比较复杂，体验较差。</p>
<p>第三个是第三方支付，他指的是比较有实力有信誉的第三方机构开发的支付方式，而且公司必须持有国家颁发的支付牌照。</p>
<p>第三方支付可以将多家银行的银行卡集成到一起，然后统一和银联对接，对于用户来说支付非常便捷，这一块我们后续会详细讲解。</p>
<p>第四个是内置支付，这个主要是一些特定手机厂商的支付方式，会和手机绑定使用，比如苹果手机使用的apple支付，小米手机使用的小米支付等，相对其他几种支付这个应用场景较小。</p>
<p>第五个是余额支付，这个是用户需提前向平台充值，充值之后余额就可以在平台内使用了，但是余额一般不能跨平台使用。</p>
<p>支付时需校验身份，一般使用短信验证码的方式。其他的还需要预留混合支付的形式，比如余额不够需要余额和其他支付方式混合支付，比如余额+三方支付，余额+快捷支付等。</p>
<p>第六个是代付，就是用其他账号帮你去支付，常见的就是支付宝代付和微信代付，属于社交支付的一种。从底层来讲，代付只是支付账号的改变，实际的支付流程并没有变化。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/dKFif3RkNsyK50w8qTaB.png" alt width="623" height="142" referrerpolicy="no-referrer"></p>
<p>上面提到的是主流的在线支付产品，下面我们列举了一些电商常用的支付方式。</p>
<p>首先是具有支付牌照的公司可以使用余额支付，限制金融牌照主要是要限制二清风险。然后就是支付宝支付与微信支付了，这是目前最常见的支付方式，任何机构都可按支付宝与微信的要求对接使用，但是都限制竞对接入。</p>
<p>接着是快捷支付，这是一种依附于收银台的支付方式。公司转账的支付方式适用于大额支付的情况下，适用于对B端销售时使用以解决B端用户审批流程问题。</p>
<p>货到付款是现场POS机支付或扫码支付。各个商家还会自研支付体系，如京东的钢镚、淘宝的淘金币等，都只在当前商城有效。</p>
<p>最后一个是网银支付，这个是最原始的支付方式，操作复杂且支付成功率低，一般不接入。但是网银的支付流程与对接思路却需要我们电商产品经理去牢牢掌握，这一部分我们在后续也会讲到。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/fm4iTZ1f3SHGCYwCxPgg.png" alt width="654" height="371" referrerpolicy="no-referrer"></p>
<h3>3. 支付角色</h3>
<p>接下来我们盘点一下在线支付中都涉及了的角色。</p>
<p>在一次典型的支付中，通常有三种角色：第一个是购买商品/服务的个人/企业，这个是交易中的买方。</p>
<p>第二个是支付服务清算机构，这一般是银行或第三方支付机构。</p>
<p>第三个是提供商品服务的个人/企业，这个是交易中的卖方。</p>
<p>接下来我们就以网银支付的流程为例来看一下支付过程中信息流与资金流在各个角色间的流动。</p>
<p>首先我们来说一下网银支付，即网上银行支付，是即时到账交易。网银支付是银联最为成熟的在线支付功能之一。前面介绍的时候我们也说过，作为最早的在线支付方式之一，网银业务的流程较复杂，大致如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/ELmNfg3usDlQQfMEFcH2.png" alt width="668" height="162" referrerpolicy="no-referrer"></p>
<p>在一次电商购物中，使用网银支付时主要流程是用户在电商平台选购商品提交订单，在收银台时选择对应银行进入银行页面进行在线支付流程，向银行发起扣款请求。银行扣款成功后先通知用户，再通知平台，最后由平台通知电商平台，电商平台进行发货处理。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/iYIjBWVJpRQt5rZM1aHK.png" alt width="697" height="330" referrerpolicy="no-referrer"></p>
<p>通过时序图我们能更清楚看到这几个角色间的交互：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/L6xHER30IngGokKN0a4s.png" alt width="714" height="289" referrerpolicy="no-referrer"></p>
<p>下图为网银支付的前台流程：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/1uxTpSPiiFWPOELnOckS.png" alt width="731" height="231" referrerpolicy="no-referrer"></p>
<p>上面介绍的是网银支付的流程，网银支付和第三方支付的差别在于：</p>
<p>第一，网银支付是用户直接使用的银行提供的支付工具，一般是通过银行提供的接口直连银行；而第三方支付是第三方公司提供的支付工具，是建立在银行上层的业务。</p>
<p>第二，网银支付的资金流向是买家发起——银行扣款——电商账户——卖家收款，即买家发起扣款请求，银行进行扣款，买家的钱先进电商平台账户，待确认收货后电商平台再付钱给卖家。</p>
<p>第三方支付的资金流向是买家发起——第三方支付发起付款——银行扣款——电商备用金账户——卖家收款，买家发起扣款请求给第三方支付机构，由第三方机构向银行请求扣款，银行将买家的钱付给电商备用金账户，待确认收货后电商再付钱给卖家。</p>
<p>下一章我们就来讲讲第三方支付。</p>
<h2 id="toc-2">二、第三方支付</h2>
<h3>1. 第三方支付</h3>
<p>常见的第三方支付有支付宝、微信支付、京东白条、苹果支付等。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/FtqI78duG2X2nCth00Mn.png" alt width="578" height="300" referrerpolicy="no-referrer"></p>
<p>第三方支付的定义是什么？百度百科给出的解释是：具备一定实力和信誉的独立机构，通过与银联或网联对接而促成交易的网络支付模式。</p>
<p>维基百科给出的解释是：由第三方业者居中于买卖家之间进行收付款作业的交易方式。这里有三个关键词：第三方业者（独立机构）、收付款作业（银行对接）、交易模式（交易方式）。根据艾瑞咨询的报告，虽然受疫情影响第三方移动支付的增速有所下降，但是其总体市场规模还是非常大。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/Yz5FjSiV333IhK9dG8Il.png" alt width="627" height="331" referrerpolicy="no-referrer"></p>
<p>而在市场占有率方面，第一梯队的支付宝、财付通（微信支付）分别占据了55.4%和38.8%的市场份额，第二梯队的支付企业在各自的细分领域发力。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/ICMEEd951IqSEoMxMzpV.png" alt width="616" height="300" referrerpolicy="no-referrer"></p>
<p>从第三方支付行业产业链来看，主要包括监管部门、商业银行、第三方支付机构、清算机构、商户、消费者以及基础支持服务商。</p>
<p>第三方支付行业监管部门为中国人民银行，商业银行负责处理本机构所属账户的支付交易，第三方支付机构处于产业链的核心地位，主要为商户和消费者提供支付服务并收取手续费。</p>
<p>目前第三方支付机构的经营需要监管机构的牌照许可，清算结构包括中国银联和网联公司，主要为商业银行和第三方支付机构提供交易处理和资金清结算等服务，基础支持服务商则为第三方支付机构提供软硬件支持等技术服务。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/FgQPnzPu0tz0enmJmFAn.png" alt width="599" height="351" referrerpolicy="no-referrer"></p>
<p>第三方支付能取得如此大的市场规模，其核心价值主要有三点：对接简单快捷、支付体验好、提升电商效率。</p>
<p>1）对接简单快捷：仅对接三方机构，由三方机构负责和各大银行对接，节省客户时间。（网银支付需要和各大银行一家家对接）</p>
<p>2）支付体验好：网银支付和银行自建的支付体系体验差，流程长，交付复杂，而三方产品一般在交易流程上非常清晰和简介，用户体验极佳。</p>
<p>3）提升电商效率：三方支付解决了电商交易的信誉问题，消除买卖双方的交易顾虑，让交易提效。</p>
<p>以一次使用第三方支付电商购物过程为例，第三方支付的交互流程主要是：买家在电商下单支付给第三方机构，由第三方机构通知网联清算机构通知央行进行清算，并通知银行扣款，银行扣款成功后通知网联清算、第三方支付机构、电商平台、买家，完成通知后银行通知央行完成清算，央行在完成清算后将资金支付给第三方机构，机构在电商告知订单完成后将资金付给卖家。</p>
<p>可以看到，第三方支付的整体流程依然是十分复杂的，那为什么说第三方支付简化了流程优化了体验呢？</p>
<p>以前如果一个电商若要对接网银支付，他需要和一家家银行逐个对接，若要支持10家银行就需要对接10遍，对接流程复杂且支付成功率较低，只有70%左右。</p>
<p>对于电商而言，有了第三方机构之后，电商只需要和第三方机构对接就可以正常为用户提供支付服务了，和银行对接的工作交由第三方机构去完成；对于用户而言，可以直接将钱统一付给第三方机构，由第三方机构去通知银行交易及之后的流程，无需进入各银行网页进行支付操作。</p>
<p>因此，第三方机构的产生给电商和用户都带来了方便，提升了用户体验，和银行与清算机构对接工作交由专业的第三方机构完成，同时提升了支付成功率。</p>
<p>从下面的流程图中我们也可以看到，买家和电商处于交易流程的第一环节和第二环节，三方支付机构之后的环节可以说都不用买家和电商平台去关心。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/ryDbaV7IcWc6521Zy5R0.png" alt width="792" height="318" referrerpolicy="no-referrer"></p>
<p>但是不是谁都有资格成为第三方机构开展第三方支付业务的，根据央行2010年制定的《非金融机构支付服务管理办法》：非金融机构提供支付服务，应当合规取得《支付业务许可证》，成为支付机构，支付机构依法接受中国人民银行的监督管理，未经中国人民银行批准，任何非金融机构和个人不得从事或变相从事支付业务。</p>
<p>这里说的《支付业务许可证》就是我们常说的支付牌照，支付牌照的获取条件非常严格，自从中国人民银行2011年5月26日颁发第一批27张支付牌照后，截至2020年初，当前有效的支付牌照为236张。</p>
<h3>2. 微信支付</h3>
<p>第三方支付中最常用的是支付宝与微信支付，这两者也占据了绝大部分的支付市场，所以我们重点介绍一下这两种支付。首先是微信支付，目前微信提供的支付产品有7种：付款码支付、JSAPI支付、小程序支付、Native支付、APP支付、H5支付、小程序支付、刷脸支付。</p>
<p>1）付款码支付是指用户展示微信钱包内的“付款码”给商户系统扫描后直接完成支付，适用于线下场所面对面收银的场景，例如商超、便利店、餐饮、医院、学校、电影院和旅游景区等具有明确经营地址的实体场所。</p>
<p>2）JSAPI支付是指商户通过调用微信支付提供的JSAPI接口，在支付场景中调起微信支付模块完成收款。应用场景有：</p>
<ul>
<li>线下场所：调用接口生成二维码，用户扫描二维码后在微信浏览器中打开页面后完成支付；</li>
<li>公众号场景：用户在微信公众账号内进入商家公众号，打开某个主页面，完成支付；</li>
<li>PC网站场景：在网站中展示二维码，用户扫描二维码后在微信浏览器中打开页面后完成支付。</li>
</ul>
<p>3）小程序支付是指商户通过调用微信支付小程序支付接口，在微信小程序平台内实现支付功能；用户打开商家助手小程序下单，输入支付密码并完成支付后，返回商家小程序。</p>
<p>4）Native支付是指商户系统按微信支付协议生成支付二维码，用户再用微信“扫一扫”完成支付的模式。该模式适用于PC网站、实体店单品或订单、媒体广告支付等场景。</p>
<p>5）APP支付是指商户通过在移动端应用APP中集成开放SDK调起微信支付模块来完成支付。适用于在移动端APP中集成微信支付功能的场景。</p>
<p>6）H5支付是指商户在微信客户端外的移动端网页展示商品或服务，用户在前述页面确认使用微信支付时，商户发起本服务呼起微信客户端进行支付。主要用于触屏版的手机浏览器请求微信支付的场景。可以方便的从外部浏览器唤起微信支付。</p>
<p>7）刷脸支付是指用户在刷脸设备前通过摄像头刷脸、识别身份后进行的一种支付方式，安全便捷。适用于线下实体场所的收银场景，如商超、餐饮、便利店、医院、学校等。</p>
<p>下图就是APP内使用微信支付的实际页面流程：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/TCxAzTpWv1NUJFTZFpyf.png" alt width="586" height="300" referrerpolicy="no-referrer"></p>
<p>以上图的APP内使用微信在线支付的例子来看，支付过程中资金流与信息流的流转如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/4OqT8FwNYwKppmYerbqv.png" alt width="718" height="392" referrerpolicy="no-referrer"></p>
<p>我们在使用微信支付时需要注意的点有：</p>
<p>1）资金流：资金先进入商户平台账户，再自动结算给企业对公账户。对公账户必须和注册公司相同，否则无法结算的。</p>
<p>2）结算：结算有周期，可T＋1，T＋7，提现后1天或后7天的资金到对公账户。</p>
<p>3）交易费率：商户在交易过程中会产生一定的费率，结算时扣除相应的费率再结余下的资金。费率四舍五入，保留小数点2位。</p>
<p>4）退款费率：只对未退款的资金进行费率计算，如300元订单，退100，则只收取剩余200的费率。</p>
<p>5）退款：微信账户退款实时到账，银行卡1～3工作日到账。退款后，手续费不收取。</p>
<h3>3. 花呗支付</h3>
<p>支付宝支付和微信支付的大致流程相同，我们就不重复介绍了。我们介绍一下基于支付宝基础业务发展起来的花呗支付。</p>
<p>花呗分期是蚂蚁金服推出的消费金融产品，用户在支付时使用花呗分期支付，订单金额实时支付到商家支付宝账户中，用户分期偿还花呗，目前支持3期、6期、12期和24期。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/clyXo1B005ykGsEK167Y.png" alt width="657" height="364" referrerpolicy="no-referrer"></p>
<p>花呗分期支付分为两种模式：单通道模式和收银台模式。单通道模式是将花呗分期资金渠道前置或者与其他付款方式并列，实现花呗分期单通道模式，多数平台选择该模式。</p>
<p>收银台模式指通过支付宝标准收银台展示花呗分期渠道，无需单独签约和开发，在支付宝中直接配置该渠道即可。我们主要讲解单通道模式，该模式需要对前端逻辑进行修改，包括商品列表页、商详页、结算页、订单详情页。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/y2W50OHypLOxR8MhxJXb.png" alt width="675" height="329" referrerpolicy="no-referrer"></p>
<p>对于支持花呗分期的产品，会在商品列表页和商品详情页展示花呗分期的信息，包括分期icon、是否免息等。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/P8NkpWWmsRyO8q0a21k5.png" alt width="662" height="340" referrerpolicy="no-referrer"></p>
<p>在选择商品后，在结算页、收银台都会展示花呗分期的选项、已选商品的分期总额和总手续费等信息。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/d1dd6AMV5o0WgOdkIcz7.png" alt width="751" height="372" referrerpolicy="no-referrer"></p>
<p>花呗分期有分期免息与分期不免息两种，免息与否与商家运营策略有关，因为使用花呗支付会扣减一定的费率。对于有手续费的分期来说，最重要的就是计算分期本金与手续费了。</p>
<p>下面我们以一个例子来展示分期本金与手续费的计算。假如小明在网上购买了一个3322元的手机，选用花呗分期支付，分3期支付，手续费率2.3%。</p>
<p>首先是本金的计算，用户每期本金=商品金额/期数，计算结果以分为单位，向下取整。在本例中，用户每期本金=3322/3=1107.3333333，修整后得到每期本金为110733分。</p>
<p>接下来是手续费的计算，用户每期手续费=（商品金额*手续费率）/期数，同样的我们计算结果以分为单位，向下取整。注意在分摊分期费用时，会有0.01元账目问题，将费用放到最后一期或第一期即可。</p>
<p>在本例中，用户每期手续费=3322*2.3%/3=25.4686666，修正后得到每期手续费为2546分。</p>
<p>最后，我们将每期的本金与手续费相加即得到每期应还总费用，每期总费用=本金+手续费=110733+2546=113279分，再算上之前的0.01元账目问题，三期每期应付费用为113280、113279、113279。</p>
<p>在使用支付宝花呗分期时需要注意的点有：</p>
<p>1）花呗对接方式和微信支付雷同，需要提前选择支付模式如APP支付，小程序支付等。</p>
<p>2）花呗之前，应该优先对接支付宝，然后再去选择花呗分期，对接流程和微信支付相似，大家举一反三。</p>
<p>3）产品经理需要关注前台核心分期的流程，技术部分交给开发同学。</p>
<p>4）使用时，如果用户花呗额度不足，可关联使用其他支付方式，不足部分由其他支付方式进行支付。</p>
<p>5）除不尽的金额会计算到第一期，比如商品价格1000元，分3期还清，则3期分别应还333.34元， 333.33元，333.33元。</p>
<p>6）退款时，资金由商户收款账户退至花呗分期账户，花呗分期实时归还用户该笔交易剩余未还金额，如剩余未还金额还清后仍有多余金额则实时退到用户支付宝余额。</p>
<p>7）需要给运营提供配置商品分期设置的后台，简单版只需要配置商品和免息期数和时间即可。</p>
<h2 id="toc-3">三、快捷支付</h2>
<h3>1. 快捷支付</h3>
<p>接下来给大家介绍另一种电商主流的支付方式：快捷支付。快捷支付相当于网银支付的升级版，在电商购物结算时，用户不需开通网银，只需提供银行卡卡号、户名、手机号码，即可完成支付，相较网银支付流程更精简，用户体验更好。</p>
<p>快捷支付分两种，一种是银行卡快捷支付，这是银行自行研究的快捷支付方式，需要在银行提供的产品内使用。</p>
<p>第二种是第三方快捷支付，这是由第三方支付公司提供的支付方式，可在第三方产品内完成支付。快捷支付在首次使用时需要进行绑卡流程，记录用户的支付信息。首次绑定后即可记录已绑定用户的信息，后续即可直接进行支付流程无需再次绑定。</p>
<p>快捷支付的核心价值主要有4个：</p>
<p>一是支付成功率高，快捷支付成功率在95%以上，而普通网银只有65%，有大幅的提升；</p>
<p>二是支付体验优，快捷支付绑卡之后，下次使用仅需短信即可，且可跨终端使用；</p>
<p>三是支付安全性高，第三方支付平台保障支付安全性，防止被支付钓鱼，但是支付信息会被第三方存储；</p>
<p>四是获取用户数据，这个是对于企业来说的优势，平台可以获取用户所有的实名信息，包括银行卡、身份证等。</p>
<h3>2. 签约流程</h3>
<p>接下来我们介绍一下快捷支付首次的签约流程，签约即绑卡操作，是用户和银行或代扣机构签约，用户必须在第三方平台进行的银行卡绑定操作，否则第三方平台不能进行扣款。</p>
<p>注意，签约只需要一次，即首次支付需要，授权后，下次只需要验证短信或免费支付即可。快捷支付过程中主要的角色有用户、第三方支付系统和银行，支付过程中信息的流转如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/BfOe0eWUZPWXiIM9Qloc.png" alt width="747" height="407" referrerpolicy="no-referrer"></p>
<p>接着我们来看看快捷支付的具体流程，下图是首次使用快捷支付时的手机端签约流程界面：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/V3SD3WrG7xC4VVTxO1rs.png" alt width="757" height="514" referrerpolicy="no-referrer"></p>
<p>快捷支付的签约流程如图，绑卡入口有2个，一是直接在个人中心绑卡，二是在订单支付时在收银台绑卡，在于后者绑卡时同时请求支付接口，绑卡即支付。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/PXeknOqyTN9tlfVYeVEs.png" alt width="713" height="349" referrerpolicy="no-referrer"></p>
<h3>3. 支付流程</h3>
<p>签约完成后，用户即可正常使用快捷支付进行支付，其支付流程如图，生成支付订单后支付系统会检查订单状态、检查是否需要免密支付，支付后支付系统需要向业务系统发送消息，业务系统根据消息更新订单状态。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/3cMMiLVUbtq2mfYMnSup.png" alt width="671" height="457" referrerpolicy="no-referrer"></p>
<p>快捷支付时需要注意的点有：1）支付宝收银台中，下单使用银行卡的行为，都属于快捷支付。</p>
<p>2）快捷支付一般不需要单独对接，在接入第三方支付后，会自动将该支付方式加入。</p>
<p>3）如果是自建商城或与银行直连的快捷，需要详细学习本节课。</p>
<p>4）快捷支付还有逆向流程，如退款流程和解约流程，此部分内容我们暂不做详细探讨。</p>
<p>5）手机用户银行卡和实名信息后，需要遵守国家规定，切勿透漏用户信息，严重者会受到刑事处罚。</p>
<h2 id="toc-4">四、支付对账</h2>
<h3>1. 台账作用</h3>
<p>学习了前面几章的内容，相信大家对支付产品都有了更深入的了解了。如果我们负责了一个支付产品，且支付流水巨大，我们该怎么核对账目问题呢？</p>
<p>在支付流水较小，即产生的支付数据较少时，我们可以使用线下记账对账的方式，但是当流水巨大的时候人工就不能胜任对账的任务了，这个时候就需要在我们的支付系统中加入对账的功能。</p>
<p>首先我们来了解一下台账的概念，台账就是记录企业每一笔支出收入的账目，实际上就是流水账，其主要作用是保证钱款在财务上的正逆向平衡，是财务人员查询商城交易的主要依据。在台账中主要进行三项工作，记录应收和实收，进行对账。</p>
<p>应收指用户购买商品后，订单应该交付的金额，如订单金额是100元，减掉优惠10元，应收就是90元；实收就是用户提交支付后，收银台实际接收到的金额，比如上例中用户实际支付了90元，实付就是90元；对账就是为了保证收支平衡，既不多拿也不少取，需要保证实收和应收相等。</p>
<h3>2. 触发对账</h3>
<p>前面我们介绍了台账的基本概念，对于台账而言最重要的就是记录应收与实收，触发台账记录的条件可以分为两大类：应收变更与实收变更。由应收变更触发台账的场景主要有四个：</p>
<p>一是在订单生成时触发，记录应收订单金额，由订单系统写入。</p>
<p>二是订单拆分时触发，这时订单应收金额由父订单变更至子订单，由拆分系统写入。</p>
<p>三是订单取消时触发，订单取消时应收清零，由订单系统写入。</p>
<p>四是退款时，应收金额由于退款发生变更，由售后系统写入。</p>
<p>由实收变更触发台账的场景主要有三个：</p>
<p>一是在订单创建时触发，订单生成时创建虚拟财产实收，由订单系统写入。</p>
<p>二是在订单拆分时触发，父订单实收冲销，由拆分系统写入。</p>
<p>三是在订单支付时触发，记录用户实际支付的金额，由收银台写入。四是对账不平时触发，如订单多次支付导致应收与实收对不上时会触发对账，调整实收，由对账系统写入。</p>
<p>总结一下，台账创建的正向流程如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/GgLPF1X2migLPmX51ntd.png" alt width="757" height="327" referrerpolicy="no-referrer"></p>
<p>触发台账的逆向流程主要有取消订单、售后、对账不平。一是取消订单流程，在电商平台的很多场景中都可能发生订单取消的情况，这些情况根据操作角色的不同，可以分为用户自己取消订单、平台系统自动取消订单、订单过期取消或客服帮忙取消订单。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/zZud0bxlfG034iJsYhco.png" alt width="827" height="15" referrerpolicy="no-referrer"></p>
<p>二是售后触发的逆向流程，实物商品与虚拟商品的售后退款流程略有不同，在售后审核通过后由订单系统发起逆向流程：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/Y7dq2f76p17ETjDlGtJ0.png" alt width="808" height="261" referrerpolicy="no-referrer"></p>
<p>三是对账不平触发的逆向流程，在一些高并发的情况下，如每年的双11，或者618此类电商购物节时，用户集中下单，此时系统可能会出现bug，比如用户多次点击支付按钮，导致一笔订单进行了多次付款，此时需要进行退款。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/09/wordsGBoLrnkHSFTQsLI.png" alt width="816" height="204" referrerpolicy="no-referrer"></p>
<p>除了上述的实收，应收会触发对账，某些异常流程下导致的实收<应收也会触发对账流程。只有在实收=应收时，台账系统才会正常流转。</p>
<h2 id="toc-5">五、总结</h2>
<p>总结一下本文内容，主要有三部分的内容：了解网银支付、掌握三方支付、了解对账三部分。</p>
<p>1）了解网银支付：虽然网银支付不常见，但其对接逻辑非常通用，且为国家层面的基础支付形式，需要产品经理好好学习。</p>
<p>2）掌握三方支付：第三方支付目前非常流行，覆盖面广，使用体验好，是新的电商平台必备的产品，每个电商产品经理都应该懂其内在的逻辑，主要是接入市面上主流的微信、支付宝、花呗等，快捷支付依情况而定。</p>
<p>3）了解对账：对账对于大多数新公司来说前期可不去设计，在订单量过多时我们才需要单独开发新的系统产品。</p>
<p>在电商系统中，支付系统是必不可少的模块，因此支付系统的好坏会非常直观地影响用户的整个购物体验，因此了解支付系统并设计更好的支付产品是每一位电商产品经理应该要掌握的内容。</p>
<p>以上就是在线支付模块所有的内容了，下一期，我将分享售后模块相关的内容，尽请期待。</p>
<p> </p>
<p>作者：书丰，公众号：书丰产品记</p>
<p>本文由@书丰 原创发布于人人都是产品经理，未经许可，禁止转载。</p>
<p>题图来自 Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5148079" data-author="1029476" data-avatar="http://image.woshipm.com/wp-files/2021/06/u3eFxfDPgTsiB7tJu0sD.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            