
---
title: '从零开始完整制作剧本杀微信小程序'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/is4JoUdY1L2pF1PbaYB9.jpg'
author: 人人都是产品经理
comments: false
date: Wed, 20 Apr 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/is4JoUdY1L2pF1PbaYB9.jpg'
---

<div>   
<blockquote><p>编辑导读：剧本杀作为最近几年年轻人喜爱的社交活动，不仅在线下发展得红红火火，线上也同步出现了类似的产品。本文作者分享了自己从零开始完整制作剧本杀微信小程序的故事，一起来看看吧。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5403043 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/is4JoUdY1L2pF1PbaYB9.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>趁管控在家的这几周，做了一套剧本杀的线上预约、支付、点评微信小程序。感谢大白、社区各自愿者与医护人员的长期付出，期待上海早日解封，让工作、生活各方面恢复日常。本小程序适用于桌游、剧本杀、轰趴馆、私人影院、主题民宿、文创文旅主体项目。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/8HT3wYaQoTANYCao7mHd.jpg" alt width="1706" height="1280" referrerpolicy="no-referrer"></p>
<p>先看一下微信小程序的最终效果截图。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/pCGNJnXqaXcebitKT9FN.png" alt width="402" height="719" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/a8ISu69vqAzJJtLEmWlr.png" alt width="401" height="718" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/SQUj2qJH0ibW7aXf0uN7.png" alt width="401" height="717" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/lssTe5ggRvhnOYl9hUbn.jpg" alt width="500" height="1083" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/ppTf1AQXW8miyztkU1Gz.jpg" alt width="500" height="1083" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、前言</h2>
<p>本文适用于关注剧本杀等主体活动行业的读者，或者已经工作1~2年且有一定产品或开发基础的技术人员。</p>
<p>在资本与真人秀节目等的推动下，剧本杀作为年轻人交友、娱乐新方式在19、20年迎来了第一波高光。后受疫情与行业规范等影响，开始关注周边及IP打造，更加关注玩家的尝鲜、交友、聚会等全程体验度。迎来了剧本杀2.0。新的剧本杀服务除了与服饰、美妆、文创、家居等行业跨界合作提供沉浸式穿越体验外，还有专门针对交友、婚恋、团建等的实景杀。与KTV、酒吧、网吧、民宿、旅游景点等场景结合，开拓游客群体。民宿、文旅剧本杀可以吃、住、玩，沉浸式体验，比一般的民宿、旅游更有特色。还有一些剑走偏锋的，边玩边喝酒的“喝酒本”；针对中小学生的文学、场景、知识点“学习本”；剧本杀外卖服务等的出现，可谓五花八门，各显神通。</p>
<p>新的行业玩家也更关注自身软实力的打造，利用信息化手段，充分调动渠道、场地、优秀DM等资源。迎接后疫情市场的新机会。在此我们针对这类需求，初步打造一套基于微信小程序的线上剧本杀展示、组局、支付与点评应用。</p>
<h2 id="toc-2">二、需求梳理</h2>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/rj2TtSHCucfNcT26ZIhP.png" width="1561" height="1020" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">剧本杀功能脑图梳理</p>
<p style="text-align: left;">跨地区、多门店应用场景。不同门店有不同促销和剧本设定。</p>
<p style="text-align: left;">大家可以看一下上面脑图，对产品需求有个整体了解。</p>
<h2 id="toc-3">三、原型设计</h2>
<p>基于上个环节的功能需求，参照常用功能组件，用Axure初略画了各页面，方便后续讨论细化。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/jzuwNxNXvWntcnRItvfc.png" alt width="1920" height="1019" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/iGigJsdOYWla0FBl1Pe0.png" alt width="834" height="1078" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/qgErXwhdGGs88d6s4aXO.png" alt width="770" height="1080" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/sYdVfAXU2d9XlKfLxbOl.png" alt width="802" height="1078" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/i3H3Qu685XWqS0q4f3tw.png" alt width="1241" height="1077" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/2uBKx82rwoWVVopjmVmj.png" alt width="1206" height="1078" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/ruQK2ajlP9V66PsTeuQ7.png" alt width="1243" height="1078" referrerpolicy="no-referrer"></p>
<h2 id="toc-4">四、界面设计</h2>
<p>经过多轮讨论后，确定好各页面细节功能后开始UI美工制图。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/5LOOPuGmXi3oBazFx6wI.png" alt width="831" height="699" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/iytbJx4s3oHCXLtYinR7.png" alt width="1639" height="745" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/gj20bt3Ao0yeCaZ8CEPV.png" alt width="1510" height="742" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/tiEIkAyoQ06M7iOae5wE.png" alt width="816" height="691" referrerpolicy="no-referrer"></p>
<p>页面设计以简洁、实用为主。统一整体样式，内容层次清晰，规范。</p>
<p>主要组件有：搜索导航条，剧本卡片，拼车卡片，玩家人数反串与否组件，rating评分，优惠券卡片等。</p>
<h2 id="toc-5">五、数据结构设计</h2>
<p>数据围绕拼车gathering，按照分类、剧本、玩家、门店等实体对象进行关系型数据存储设计。<br>
<img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/5rkOAmBKAUhRui5vZySW.png" alt width="1676" height="930" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">数据ER设计</p>
<h2 id="toc-6">六、开发准备</h2>
<p>框架选型、功能分解与项目开发讨论反馈。</p>
<p>产品可选App、H5或者微信小程序形式制作，考虑到用户使用场景和后续口碑引流，默认按照微信功能扩展开发。对比界面流畅度与品牌增值，选定微信小程序来实现。</p>
<p>微信小程序系统之前CS部署中间环节太多，开发者需要考虑应用层、数据库层、负载均衡与ssl安全等节点，后来推出云开发后，使用对象map数据存储方便了很多，让开发者更加聚焦业务功能实现。考虑到数据独立性和团队本身已有ssl服务器，所以我们还是使用了关系型数据模型。</p>
<p>微信小程序展示层有很多框架可选。考虑到组件丰富度以及后期购买和用品展示的扩展需求，我们选择了jquery weui，vant。</p>
<p>参照组件库的样式，对各页面和数据呈现进行了开发工期与可行性分析讨论，反馈给设计更新页面。</p>
<p>开发环节主要工具：微信开发者工具、sqlyog、sublime、winscp、xshell。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/Be6x6WACzrX1ISdyST7z.png" alt width="1920" height="1020" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">页面样式微调</p>
<p style="text-align: center;"><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/P2LVYJSHdsDkvk3hdAnY.png" alt width="1920" height="1020" referrerpolicy="no-referrer">主功能开发环节</p>
<h2 id="toc-7">七、迭代开发</h2>
<p>第一个sprint把主页、列表、详情、预约主流程页面串联起来。</p>
<p>第二个sprint把拼班、组局和支付流程增补进去。</p>
<p>第三个sprint把搜索功能和列表排序完成。</p>
<p>第四个sprint把优惠券功能加上，包括对组局、拼车支付环境的重构。</p>
<p>第五个sprint把订单列表、取消、退费功能加上。</p>
<p>第六个sprint微调各页面样式和数据记录完整测试。</p>
<p>经开发测试后，发布staging预览版，提供给甲方手机端实际测试。根据甲方反馈调整页面功能后。提交代码质量优化，对前后端算法、查询、数据、素材及代码规范进行优化。</p>
<p>开发期间碰到的主要逻辑功能有：</p>
<p><strong>1. 微信小程序服务端</strong></p>
<p>安全口令约定，请求参数及返回包约定，微信支付，短信口令发送，分享海报合成图生产等。</p>
<p>此外对接口频次限制、参数不正确、版本不支持、服务返回错误、处理超时、接口调用错误、授权认证异常等进行了后期分析。</p>
<p><strong>2. 微信小程序应用端</strong></p>
<p>component搜索组件，排行rank，seats玩家状态展示组件，stepper人数设定规则，信息元素多样式的flex布局组合等。</p>
<p>此外对各异常的默认样式处理，像网络异常、存储异常、内存异常、字段参数异常、带宽限制、内存异常、权限异常、数据异常等也需要酌情考虑。</p>
<p>关于开发这块，如果大家有兴趣可以恢复提出您关注的知识点，我可以再开帖细讲具体实现。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/bYeld9zY1IEekqLDjvEJ.png" alt width="1920" height="1020" referrerpolicy="no-referrer"></p>
<h2 id="toc-8">八、单元测试</h2>
<p style="text-align: center;">微信开发者工具提供了比较完整的调试预览功能，UI、数据AppData，代码代码质量优化等方面方便开发。<br>
<img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/AOMqOaELgBTsg4sRb4DB.png" alt width="1415" height="884" referrerpolicy="no-referrer">微信小程序调试工具</p>
<h2 id="toc-9">九、staging测试</h2>
<p>上传后，可以使用体验版二维码，邀请相关人员参与体验反馈。</p>
<p>这个功能还是很实用的，代码修改后随时可以上传，分享给大家在不同状态下的手机端测试。</p>
<h2 id="toc-10">十、产品发布</h2>
<p>用git做好版本控制，发布产品，全量发布，注意声明。</p>
<h2 id="toc-11">十一、应用推广</h2>
<p>工具型应用可以挂在公众号菜单链接、门店前台等。</p>
<h2 id="toc-12">十二、用户体验采集与产品迭代</h2>
<p>快速开发第一版本上线后，根据实际使用反馈，设定二期升级版本需求。比如DM设定与团队激励等。<br>
<img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/0UZK8OO3qo4O3UFfH9Su.jpg" alt width="1430" height="1072" referrerpolicy="no-referrer"></p>
<p>自此，一套实用的剧本杀微信小程序就开发完成了。</p>
<p>产品设计，不仅仅要解决用户的痛点，最好能给用户带来爽点体验，包括细节关怀与激励等。</p>
<p>我是轻云茶客，欢迎有兴趣的朋友一起讨论更多产品设计与项目开发的案例实践。</p>
<p>最后用一首一首茶诗来结束本文：</p>
<blockquote><p>茶罢晴檐唱午鸡，偶骑驴去过东溪。</p>
<p>酒肴分倩樵夫拿，笔砚专令童子携。</p>
<p>放目水亭栏独倚，题诗僧舍壁新泥。</p>
<p>兴阑归问来时路，到处蝉鸣日已西。</p>
<p>—— 宋 赵汝鐩 《茶罢》</p></blockquote>
<p> </p>
<p>本文由 @轻云茶客 原创发布于人人都是产品经理，未经许可，禁止转载</p>
<p>题图来自 Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5402594" data-author="204453" data-avatar="http://image.woshipm.com/wp-files/2017/02/UhRg8R2wv9C6XfzruEsp.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            