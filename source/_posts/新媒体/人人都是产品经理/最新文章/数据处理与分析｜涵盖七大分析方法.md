
---
title: '数据处理与分析｜涵盖七大分析方法'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/PomB8sV85pZDjA7zCf9q.jpg'
author: 人人都是产品经理
comments: false
date: Mon, 07 Mar 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/PomB8sV85pZDjA7zCf9q.jpg'
---

<div>   
<blockquote><p>编辑导语：当我们面对繁杂的业务数据时，我们需要对数据进行处理、筛选、整理，否则数据只能是数据，而不能成为辅助我们推进下一步业务的依据。那么数据分析人员可以采纳什么方法进行数据整理？本文作者就数据处理、及数据分析的常见方法做了阐述，一起来看一下吧。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5344451 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/PomB8sV85pZDjA7zCf9q.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>本文针对性地讲讲数据分析整个流程最关键的阶段：数据处理与分析阶段。该阶段我分成了三块：数据采集、数据处理、数据分析，都围绕着“数据”进行，对海量或杂乱数据进行处理分析，从中找出痛点，洞察问题。</p>
<h2 id="toc-1">一、数据采集</h2>
<p>该处的数据采集指的是获取分析所需要的数据，一般可以从内部数据、外部数据两个方向获取。</p>
<h3>1. 内部数据</h3>
<p><strong>1）直接获取</strong></p>
<p>直接获取的前提是，公司进行了数据仓库的建设，已为决策分析提供了所有类型数据支持。该部分内容在之前的文章中也提到过，但是在这里更加细化地做了点补充。</p>
<p>直接获取就是指数据库中有现成的表可以直接获取到所需的数据，不需要分析师再在sql上做复杂的处理。</p>
<p>公司一般会将数据分为ods、dwd、dwb/dws层数据。</p>
<ul>
<li>ods层：明细数据。数仓不做任何数据处理，直接原封不动地将数据同步到该库上。为dw层的数据加工作准备。</li>
<li>dwd层：明细数据。该层数据已在ods层上对数据做了清洗操作，比如去除空值、脏数据等。</li>
<li>dwb/dws层：聚合数据。主要对ods/dwd层的数据做些轻度汇总，会涉及较多业务指标数据。如根据ods/dwd层的明细数据计算出七日复购率、周同期对比数据、毛利率等指标供分析师直接查询使用。</li>
</ul>
<p>一般情况下，分析可以直接从dwb/dws层调取现成的指标数据进行分析，特殊情况下也可以从dwd层写复杂sql的方式计算成所需的数据。</p>
<p><strong>2）重新落表获取</strong></p>
<p>前提是dwb/dws层没有现成的数据可以直接获取，哪怕自己写代码可以从dwd层获取，也需要写很复杂的代码。此时，请数仓协助落成聚合表再去调取数据。</p>
<p>重新落表一般会涉及人力资源的协调，需求的沟通。分析师担当业务方和数仓之间的桥梁，将业务方的需求理清楚之后，自身又作为数仓的需求方对数仓提需求。</p>
<h3>2. 外部数据</h3>
<p>当分析的内容内部数据无法满足时，或者不够全面时，此时需要借助于外部数据来辅助分析。</p>
<p><strong>1）行业报告数据</strong></p>
<p>比如艾瑞网、极光大数据、阿里研究所、199IT互联网数据中心等都会时不时的发一些行业分析报告。整个行业的数据公司内部是无法获取的，所以可以从一些行业分析报告入手。</p>
<p><strong>2）问卷采集</strong></p>
<p>比如我们需要获取用户的一些：</p>
<ol>
<li>主观想法：喜欢我们产品的原因是？我们产品最吸引您的点是？您觉得我们产品最应该改进的点是？</li>
<li>对竞品的行为：您在xx场景下更愿意使用A产品、B产品还是C产品？</li>
<li>用户习惯的场景：您在什么场景下更愿意使用xx产品？等。</li>
</ol>
<p>通过问卷数据获取一些产品中无法获得的数据，辅助分析。</p>
<p><strong>3）宏观数据</strong></p>
<p>有时候我们分析的某个指标有时候也会受到宏观政策的影响，比如宏观上某项指标上调了xx，对我们的业务会产生怎样的影响。</p>
<h2 id="toc-2">二、数据处理</h2>
<p>对分析师而言，这步需要分析师将数据根据脑中的分析框架处理成所需要的数据。</p>
<h3>1. 处理内容</h3>
<p>会涉及数据异常值处理、缺失值处理、数据转换、数据聚合、数据分组归类以及数据准确性的校验，为下一步的数据分析奠定好基础。</p>
<p>井井有条的数据更有利于分析：</p>
<ul>
<li>剔除无效数据，比如异常值、缺失值、重复值等。</li>
<li>考虑清楚数据聚合的维度，比如时间上、地域上、用户上、商品上等按照什么维度聚合。</li>
<li>做好数据聚合的处理，比如需要借助开窗函数，是否需要去重计数，是否需要累积计数等。</li>
</ul>
<h3>2. 数据验证</h3>
<p>数据采集到之后，还要做好数据验证，目的是确保数据准确性，切忌拿到数据立马动手分析。</p>
<p><strong>1）从验证人员来看</strong></p>
<p>自身多方验证：初始先自身验证一番，与现有报表中已有数据进行对比，观察是否一致。</p>
<p>与需求方协同验证：数据调取之后先出一份数据表，提供给需求方共同验证。不过分析师接了需求，保证数据准确性是基本要素，一般情况下需求方并不会协同验证。前提是，无现有数据可供对比查验，可将数据先提供给需求方过一眼，确保数据准确无误。</p>
<p><strong>2）从验证方式来看</strong></p>
<p>定性验证：通过经验或逻辑推理，主观判断该数据是否符合经验或正常逻辑，比如你取到的某个商品的gmv比整个品类的gmv还要大，就不符合正常逻辑，肯定有误。</p>
<p>定量验证：依据统计方式，计算出具体的指标，多方交叉验证。</p>
<h2 id="toc-3">三、数据分析——七大分析方法</h2>
<p>数据分析方法很多，网上有很多资料，这里就讲一下其中比较常用的几种分析方法。</p>
<h3>1. 关联规则分析</h3>
<p>关联规则分析其实就是购物篮分析，就是通过挖掘用户的消费行为数据，探索用户的消费习惯，从而合理搭配商品，提升收益。</p>
<p>举个简单的例子，近30天共产生了10笔订单（方便计算只虚构了10笔），1代表订单中包含该商品，0代表订单中未包含商品，比如111112订单，用户没有买苹果，但买了香蕉（是否买了其他商品不考虑）。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/tb8sOM4nTRmb205TPpWd.png" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="275" height="289" referrerpolicy="no-referrer"></p>
<p>其中购买了苹果的订单有6笔，购买了香蕉的有5笔，同时购买了苹果和香蕉的有3笔。</p>
<p>则：</p>
<p>① 苹果和香蕉组合的支持度</p>
<p>=同时购买了苹果和香蕉的订单数/总订单数*100%</p>
<p>=3/10*100%</p>
<p>=30%</p>
<p>含义：同时购买苹果和香蕉的概率有多大。</p>
<p>② 苹果对香蕉的置信度</p>
<p>=同时购买了苹果和香蕉的订单数/购买了苹果的订单数*100%</p>
<p>=3/6*100%</p>
<p>=50%</p>
<p>含义：购买了苹果的用户有多大概率会再买香蕉。</p>
<p>③ 苹果对香蕉的提升度</p>
<p>=苹果对香蕉的置信度/购买香蕉的概率</p>
<p>=50%/(5/10)</p>
<p>=1</p>
<p>含义：购买苹果对购买香蕉会产生正向影响还是负向影响还是无影响。</p>
<p>此案例中计算的提升度是1，表示购买苹果并不会对购买香蕉产生任何影响。</p>
<p>详细解释下：</p>
<ul>
<li>若提升度=1：表示购买苹果并不会对购买香蕉产生任何影响，因为在购买了苹果的条件下去买香蕉的概率和直接买香蕉的概率是一样的；</li>
<li>若提升度>1：表示购买苹果对购买香蕉产生了正向影响，即购买苹果很大可能也会买香蕉，因为在购买了苹果的条件下去买香蕉的概率大于直接买香蕉的概率；</li>
<li>若提升度<1：表示购买苹果对购买香蕉产生了负向影响，即购买苹果很大可能就不会买香蕉，因为在购买了苹果的条件下去买香蕉的概率小于直接买香蕉的概率。</li>
</ul>
<p>这就是关联规则分析，一般用以研究探索商品捆绑销售，比如苹果是否需要和香蕉在一起捆绑销售，捆绑销售收益是否会更大。</p>
<h3>2. RFM模型</h3>
<p>RFM模型主要用来衡量用户价值，做用户分群，比如区分出低价值用户、高价值用户、忠诚用户等用户群体。</p>
<ul>
<li>R：用户最近一次消费距今时间（Recency）；</li>
<li>F：用户在最近时间段内的消费频次（Frequency）；</li>
<li>M：用户在最近时间段内的消费金额（Monetary）。</li>
</ul>
<p>这里用一个比较简单的例子讲下：</p>
<p>先对R、F、M三个值进行分层并赋予权重（以下数据纯属虚构，分层时根据实际情况）。</p>
<p>比如用户最近一次消费距今时间7天以下的打为5分，8-14天的打为4分……以此类推。分数高的表示价值性比较高，分数低的表示价值性比较低。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/oIA5NAlcMX7rCdHDfCac.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="527" height="159" referrerpolicy="no-referrer"></p>
<p>然后调取出每个用户R、F、M值，填入“按照均值处理前”列中。</p>
<p>比如下图中，用户“111113”最近一次消费距今时间在7天以下，则R为5，在最近时间段内的消费频次在6-10之间，则F为2，在最近时间段内的消费金额在1001-2000之间，则M为2。</p>
<p>再将每个用户的R、F、M值与均值对比，大于均值填充1，小于均值填充0，填充于”按照均值处理后“列中。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/3Oc6plFhUm3h6EVuMYj1.png" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="529" height="188" referrerpolicy="no-referrer"></p>
<p>最后将“按照均值处理后”的数据参照下图模型表（下图不是计算出来的，是比较常用的标准），匹配出用户类型。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/rD9oIjMbH7sGr7CeihFg.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="514" height="215" referrerpolicy="no-referrer"></p>
<p>给用户匹配之后的用户价值类型如下：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/pebmZFsnlbbn8CpwT0DH.png" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="527" height="149" referrerpolicy="no-referrer"></p>
<h3>3. 帕累托分析</h3>
<p>帕累托分析就是“二八法则”。</p>
<p>“二八法则”认为80%的财富掌握在20%的人手里，应用到业务中就是，80%的营收在20%的产品里，同理，我们应该花80%的时间内在这20%的产品上。也就是说，宝贵的时间与资源应该用在刀刃上。</p>
<p>如下图：展示了每个品类的销售额，通过销售额计算出销售额累积值，进而算出累积百分比。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/1OBOUbBTLa9NTcEe2DAo.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="423" height="514" referrerpolicy="no-referrer"></p>
<p>再通过销售额和累积百分比画出帕累托图，如下。</p>
<p>共15种品类，其中7个品类贡献了80%的销售额，占比46.67%，也就是说46.67%的商品为公司带来了80%的销售额，并不符合二八定律，该公司并没有强势产品。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/hAvwnXRiuaaw4yxIDjj2.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="532" height="280" referrerpolicy="no-referrer"></p>
<h3>4. 用户生命周期价值分析</h3>
<p>用户生命周期总价值，主要用于衡量用户对产品产生的价值。</p>
<p>以一个案例讲解如下：</p>
<p>下图是一张留存率图。</p>
<p>以2021.12.01——2021.12.07之间的七天留存率来预估14日留存、30日留存等。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/jZzvRMIpdWKzMgT51srn.jpeg" alt="如何做好用户生命周期价值分析（LTV）" width="547" height="166" referrerpolicy="no-referrer"></p>
<p>先将黄色部分的七天的留存率取均值，得到图上最下方的留存平均值。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/kWvM93czS1dAwVd1Fzbd.jpeg" alt="如何做好用户生命周期价值分析（LTV）" width="543" height="177" referrerpolicy="no-referrer"></p>
<p>然后按照留存率的均值做拟合，拟合后的结果如下图所示。</p>
<p>选择幂函数拟合，因为幂函数拟合的R方接近于1，拟合效果较好。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/SaMRzeRnLYQu1CNuc0jX.jpeg" alt="如何做好用户生命周期价值分析（LTV）" width="527" height="413" referrerpolicy="no-referrer"></p>
<p>则LT14=100%+51%+53%+37%+32%+29%+29%+25%+23%+22%+20%+19%+18%+17%</p>
<p>=4.75天</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/HidGJc03Cvd0ytChkCti.jpeg" alt="如何做好用户生命周期价值分析（LTV）" width="555" height="56" referrerpolicy="no-referrer"></p>
<p>LT已经算出来了，那么下一步就是计算ARPU了。ARPU值直接取日均值就可以了，假如ARPU日均值是￥60，则LTV=4.75*12=285。</p>
<p>即用户14天的平均生命周期是4.75天，用户在该生命周期内能带来的总价值为￥285。</p>
<p>延伸下，如果想知道花费在这批用户身上的成本需要多久才可以回本，怎么计算呢？这就涉及到了回本周期预估。</p>
<p>比如在前面已经预估了LTV14为￥285，假如已知该渠道的CAC是￥30。</p>
<p>则预估的回本周期是=285/30=9.5天，即投入在该群用户身上的成本需要9.5天方可回本。</p>
<h3>5. 漏斗分析</h3>
<p>漏斗分析是数据分析中比较常见的分析模型。采取漏斗的方式直观地表示业务从起点到终点的各个环节的转化情况，以便找出有问题的环节，针对性的优化。</p>
<p>如下图，展示了用户支付场景的转化率：用户从打开APP到完成支付的过程。分为进入首页→进入商详页→加入购物车→提交订单→支付完成，直观分析每个重要环节的转化率。以最直观最简单的方式反映出每个关键环节的转化率，洞察主要问题所在。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/liHrmS7fQP5F63oUGCEd.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="556" height="362" referrerpolicy="no-referrer"></p>
<h3>6. 波士顿矩阵</h3>
<p>波士顿矩阵不少人在大学期间学过，工作中也是比较实用的。可通过波士顿矩阵分析公司的产品结构，发现痛点，为是否需要及时调整战略目标，以及判断产品的资源分配是否合理提供了数据支持。</p>
<p>波士顿矩阵有以下4种结构类型：</p>
<ol>
<li>明星产品：成长期。该产品在市场上占有比较大的份额，且处于高速增长阶段。未来发展为金牛产品的可能性比较大。此时抓住机会扩大投资，提升竞争优势。如图中的蜜桔、香蕉、苹果。</li>
<li>金牛产品：成熟期。产品已较为成熟，增长前景有限。稳定发展，尽量维持好当前市场份额。如图中的西瓜、樱桃。</li>
<li>问题产品：导入期。高速增长却市场份额并不高。说明此产品虽然高速增长，但并未及时开拓市场，营销存在问题。如图中的猕猴桃、荔枝。</li>
<li>瘦狗产品：衰退期。既市场份额不高，又增速缓慢，基本可以淘汰，将此资源转而投资给其他更有利的产品。如图中的草莓、杨桃、哈密瓜。</li>
</ol>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/UkVuHiV8ykZVbetzqnuM.jpeg" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="523" height="403" referrerpolicy="no-referrer"></p>
<h3>7. AARRR模型</h3>
<p>AARRR模型是探索用户增长的模型。分别对应用户生命周期的5个环节：用户获取、用户激活、用户留存、用户变现、推荐传播。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="干货｜数据分析sop之数据处理与分析阶段（三）" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/4ZQ6OVpywYbnqquenPKr.png" alt="干货｜数据分析sop之数据处理与分析阶段（三）" width="544" height="438" referrerpolicy="no-referrer"></p>
<h2 id="toc-4">四、结语</h2>
<p>以上就是围绕着“数据”进行的采集、处理与分析的过程，这个过程起着承上（需求确认）启下（数据展现）的作用，重要性不言而喻。</p>
<p>数据分析的知识点很广阔，我写的这些也只是其中的非常小的一小部分。但经验与专业性就是从小起步的，一点点积累，一点点成长。</p>
<p> </p>
<p>作者：Janie Liu；公众号：溜溜笔记说</p>
<p>本文由 @溜溜笔记说 原创发布于人人都是产品经理。未经许可，禁止转载</p>
<p>题图来自Pexels，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5343087" data-author="1294107" data-avatar="https://static.woshipm.com/APP_U_202112_20211216233502_9365.jpeg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            