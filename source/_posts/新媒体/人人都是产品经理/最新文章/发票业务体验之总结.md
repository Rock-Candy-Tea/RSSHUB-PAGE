
---
title: '发票业务体验之总结'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/k8IGAFnkhR7c09qxeiLY.jpg'
author: 人人都是产品经理
comments: false
date: Fri, 15 Apr 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/k8IGAFnkhR7c09qxeiLY.jpg'
---

<div>   
<blockquote><p>编辑导语：本文作者回顾了之前做线上电子发票开发的整个过程，总结出了开票这个需求的一些相关事项，希望能给你带来帮助。</p></blockquote>
<p><img data-action="zoom" class="aligncenter size-full wp-image-5397187" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/k8IGAFnkhR7c09qxeiLY.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>所属企业以线下业务为主，所以APP的线上交易也一直是走线下人工开具发票，随着线上业务的不断增长，线上电子发票的开发被提上日程。</p>
<p>只没想到，在这个过程中，因各环节各因素影响，这个需求经历了：换财务、换前后端开发、换测试、换对接爸爸、更改业务主流程等各种阻碍。</p>
<p>铁打的产品，流水的相关方。发票需求的开发断断续续拖了2年，历经各种磨难，终于守得云开见日月——要在近期上线了。</p>
<p>回顾了发票需求文件夹各种版本的RP和记事备忘录，在此整体简述一下开票这个需求的相关事项：</p>
<h2 id="toc-1">01 所有网购都要开票吗</h2>
<p>《中华人民共和国发票管理办法》第十九条规定，销售商品、提供服务以及从事其他经营活动的单位和个人，对外发生经营业务收取款项，收款方应当向付款方开具发票。</p>
<p>特殊情况下，由付款方向收款方开具发票。因此，消费者通过网络购物，都可以要求商家开具发票。</p>
<h2 id="toc-2">02 什么场景符合开电子发票</h2>
<ul>
<li>网购商品有产生现金支付交易，走开票逻辑</li>
<li>网购商品有产生虚拟货币支付交易，走企业代扣代缴个税，需要收集购物客户个人信息</li>
</ul>
<h2 id="toc-3">03 寻找符合自己企业要求的开票服务商</h2>
<p>市场开票服务商众多，百望、51发票、easy API、发票通、发票儿 、金蝶发票云、航天信息发票等等，哪个是附合自己企业要求的，需要相关人做竞品分析进行抉择。</p>
<p>抉择后，将符合开票条件的信息实时或定时推供给开票服务商，由开票服务商接口实时开出发票。</p>
<h2 id="toc-4">04 财务负责的相关事项</h2>
<ul>
<li>开票资质</li>
<li>电子签章</li>
<li>购买金税盘</li>
<li>发行金税盘</li>
<li>申请购票</li>
</ul>
<h2 id="toc-5">05 正常开票流程</h2>
<p>用户下单时填写发票申请—用户收到货触发第三方开票—开票成功，票据系统保存同步返回用户端。</p>
<p>触发开票时间节点：</p>
<ul>
<li>用户人工点击确认收货</li>
<li>快递回传【签收】状态</li>
<li>虚拟类商品下发到账即触发开票</li>
</ul>
<p>每月月底已发货、未签收订单未达到自动触发开票逻辑，财务月度清账如何处理？——此项需要看自己企业财务的要求。</p>
<h2 id="toc-6">06 异常开票流程</h2>
<p>会产生异常的场景包括：</p>
<h3>1. 用户退款</h3>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/ihgSECjuOgd76BUInYtB.jpg" alt width="915" height="239" referrerpolicy="no-referrer"></p>
<p><strong>1）部分退</strong></p>
<ol>
<li>部分红冲：红冲票上会有【销项负数】字眼，【备注】栏会记录本张红票对应正数发票代码，号码字段。</li>
<li>全冲：原开的蓝票作废，计算减去退款后的实际支付金额，重新开具新的蓝票。</li>
</ol>
<p>1和2两种不同的红冲处理方式，需要根据实际业务和财务、业务部门沟通选择符合自己业务的处理流程。</p>
<p>此处有细节问题待留意：</p>
<ul>
<li>退款商品数量是否会出现小数？</li>
<li>是否有退款只退现金或只退虚拟货币的问题？</li>
</ul>
<p><strong>2）全部退</strong></p>
<p>此场景全冲，不再开出蓝票。</p>
<h3>2. 换开发票</h3>
<p>此场景通常是票面信息有误，需要走全冲，按新的发票抬头信息开出新蓝票。</p>
<p>红冲次数过多会对企业信誉产生影响，产品的规划，需要考虑如何减少订单多次退款和票面错误申请修改。</p>
<p>同时调研众多电商平台，会在开票规则中说明，申请退款次数的上次、换开次数的上限。</p>
<h3>3. 系统异常，开票失败</h3>
<p>走异常预警，人工介入。</p>
<h2 id="toc-7">07 票面取数据规则</h2>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/04/y8FrVwGTQjROcmTpHKFg.jpg" alt width="923" height="238" referrerpolicy="no-referrer"></p>
<h2 id="toc-8">08 历史旧数据</h2>
<p>上线前的历史已有订单，建议走线下，财务和开票服务商沟通，开一个整张的发票。</p>
<h2 id="toc-9">09 思考</h2>
<p>本文所写内容以自身企业涉及到的实操总结，如有错漏请指正，伏地接受。</p>
<p>电商平台开票，大方向上讲，通用逻辑大体一致。但不同企业、不同业务，不同的开票服务商对发票系统设计的皆会有所不同。</p>
<p>如何将别人经历转化为自己的产物，且可以完美避坑，是需要下沉到自己业务的实际需要，多方沟通，站在不同的角度多方位思考。一点点地积累解决，终会输出符合你自己需要的产品需求。</p>
<p>开票涉及到现金、财务对账，整体需求需要非常谨慎。</p>
<p>不过，有产品经验的人都知道，无论需求规划考虑的有多仔细，测试环境测试案例写的有多全面，都要做好最后的心理准备：实际上了生产后，一定都会出现各种奇葩问题。</p>
<p>而我们产品作为风箱中的老鼠，一定要坚定信心，那些正在踩或即将要踩的坑最终总会找到解决的办法。</p>
<p> </p>
<p>本文由@seven 授权发布于人人都是产品经理，未经许可，禁止转载。</p>
<p>题图来自Unsplash，基于CC0协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5396896" data-author="908145" data-avatar="https://static.woshipm.com/WX_U_201907_20190704100804_527.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            