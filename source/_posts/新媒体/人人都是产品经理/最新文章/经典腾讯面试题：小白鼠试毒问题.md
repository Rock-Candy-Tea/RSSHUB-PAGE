
---
title: '经典腾讯面试题：小白鼠试毒问题'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/SLajRrnQiscwTasXQm3W.jpg'
author: 人人都是产品经理
comments: false
date: Fri, 11 Feb 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/SLajRrnQiscwTasXQm3W.jpg'
---

<div>   
<blockquote><p>编辑导读：有100瓶药水，其中一瓶是毒药，只要一小滴，就足以让小白鼠24小时内死亡。请问怎么在1天内用最少的老鼠找出这瓶毒药？本文作者对此进行了解答，一起来看看吧。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5314311 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/SLajRrnQiscwTasXQm3W.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>这是一道非常经典的腾讯面试题，可能对于程序猿来说并不陌生，但是对于第一次看到这道题的同学来说，确实会比较烧脑。今天除了讲解这道题如何解，更多的是希望给大家引入<strong>信息论的概念</strong>，那么以后不管是遇到试毒药还是称球重这类问题，都是小case啦！</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/HmjboNJ6D3uY23KWqe2P.png" referrerpolicy="no-referrer"></p>
<p>可能有人会说，我用100只小白鼠就可以知道毒药是哪瓶了，所以小白鼠是招你还是惹你了，非要搭上一整个家族来给你找毒药？其实这个问题答案很简单，我们只需要<strong>7只小白鼠</strong>就够了，而这个问题的解题关键就是数学编码中的二进制。</p>
<h2 id="toc-1">一、如何用7只小白鼠找毒药<strong> — 二进制编码</strong></h2>
<p><strong>Step1：</strong><strong>我们对100个瓶子进行1～100号的编码，再转化为7位的二进制码（至于为什么是7位，看到后面你就懂了）</strong>。比如1号瓶子就转化为了“0000001”，10号瓶子就转化为了“0001010”：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/X6Rtryax0t3EUGdOgU0w.jpeg" referrerpolicy="no-referrer"></p>
<p><strong>Step2：</strong>找来7只小白鼠，分别对他们进行1～7的编号。对于编号是1的小白鼠，喂它所有二进制编码第1位（从左到右数）为1的瓶子；对于编号2的小白鼠，喂它所有二进制编码第2位（从左到右数）为1的瓶子；以此类推…</p>
<p><strong>Step3：</strong>接下来就是看一天后哪几只老鼠挂了：如果某个编号的老鼠死了，那说明毒药瓶子的二进制编码在对应编号位置上的二进制值是1；反之如果某个编码的老鼠没有死，那说明毒药瓶子的二进制编码在对应编号位置上的二进制值是0。假如最后是2，3，5，7号老鼠挂了，那说明对应的毒药瓶子二进制编码是“0110101”，转化成十进制，即第53号瓶子是毒药。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/CuXYNQF3nl2jwWYNsSbt.jpeg" referrerpolicy="no-referrer"></p>
<h2 id="toc-2">二、为什么至少是7只小白鼠？— 信息熵</h2>
<p>前面我们只说明了7只小白鼠是可以完成找毒药这件事情，但是我们并没有证明7只就是最优解，那要论证这个答案就要引入信息论中的<strong>“信息熵”</strong>这样一个概念。</p>
<p><strong>首先，我们先来了解下“熵”：</strong></p>
<p>在信息论中，熵的概念和热力学中的熵是类似的，如果大家还记得高中化学，里面有提到一个<strong>“混乱度”</strong>的概念，其实熵在热力学里指的就是系统的混乱度，大概应该还记得<strong>“任何化学变化或者化学反应都是往熵增加的这个方向进行”</strong>这句话吧。</p>
<blockquote><p>热力学熵：系统的混乱程度</p>
<p>信息熵：信息的不确定性的度量</p></blockquote>
<p>而在信息论中，<strong>熵指的是信息的不确定性，也就是说信息的不确定程度越大，那么对应的信息熵的也就越大，其实数学的本质就是消除信息中的这种不确定性。</strong></p>
<p>对于抛硬币来说，每次要猜正反面只能靠瞎猜，正反面出现的概率都是1/2，对于这类事件来说其不确定性较大，信息熵也会相对较大；如果让你猜国足拿世界杯冠军的可能性，那这种小概率事件的不确定性就比较小了，信息熵相对来说就会很小。</p>
<p>在信息论中，常用的几个概念也可以给大家定义下，避免混淆：</p>
<blockquote><p><strong>1、信息熵：</strong>用来度量信息不确定性程度的大小，是一个绝对的值。（至于具体怎么计算度量，后面介绍）</p>
<p><strong>2、信息：</strong>凡是在一种情况下能减少信息的不确定性的任何事物，都可以叫信息，它的反义词可以理解为是“废话”</p>
<p><strong>3、信息量：</strong>是对信息的度量，表示某个具体事情发生后带来的信息的多少，是个相对值。事件发生的概率越低，当事件发生了以后带来的信息越大，说明信息量越大；反之越高概率事件的发生，其产生的信息量就越小。比如某明星出轨的消息被爆出来，而之前他在大众面前的人设是个极品好男人，那么这则消息的信息量就非常大了。</p></blockquote>
<p><strong>接下来，回到“信息熵”如何计算度量：</strong></p>
<p><strong>信息量度量的是一个具体事件发生了所带来的信息，而熵则是在结果出来之前对可能产生的信息量的期望</strong>——考虑该随机变量的所有可能取值，即所有可能发生事件所带来的信息量的期望。</p>
<p><strong>所以香农给了我们一个这样的公式（划重点！）：</strong></p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/5YIs7xaFG9bS5cz2XfJC.png" referrerpolicy="no-referrer"></p>
<p><strong>P为X的概率质量函数（probability mass function），我们可以理解为事件xi 发生的概率。</strong></p>
<p><strong>b是对数所使用的底。当b = 2，熵的单位是bit。</strong></p>
<p>我们用抛硬币来举例，“抛一次硬币是正面”这个随机变量X的信息熵为</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/fmFF1ZGhhu6at9IEtC2F.png" referrerpolicy="no-referrer"></p>
<p>也就是“抛一次硬币是正面”‍这个事件的信息熵是1 bit，我们也就只需要用1位二进制的数字即可以表示这个信息的大小（0或者1）</p>
<p><strong>#开始解题# 计算小白鼠找毒药中的信息熵：</strong></p>
<p>1、首先，”100瓶药水其中有1瓶有毒“这个随机变量X的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/lSqwS6XOI5irXiVuLeTN.png" referrerpolicy="no-referrer"></p>
<p>2、1只小白鼠喝水以后的要么活着，要么死去，一共有两种状态，所以”1只小白鼠喝完水以后的状态“这个随机变量Y的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/GPZxV25fhmcoJNDZSwa0.png" referrerpolicy="no-referrer"></p>
<p>3、n只小白鼠喝完水会有2^n种状态，即”n只小白鼠喝完水以后的状态”这个随机变量Z的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/3xh3MIBUXZczfw5wxPCy.jpeg" referrerpolicy="no-referrer"></p>
<p>所以根据题目，要用到最少的老鼠来找到那瓶毒药，转化为信息熵就是要满足：</p>
<p><strong>H(Z) >= H(X)，</strong>即n >= 6.64</p>
<p>那么n的最小值是7，也就是说最少要7只老鼠可以找到毒药</p>
<blockquote><p>其实，上面的熵计算如果你觉得复杂的话，也可以这么简化来理解：</p>
<p>1只小白鼠活着或者死了，可以代表两种状态，n只小白鼠就代表2^n种状态</p>
<p>而毒药存在1～100号瓶子中的某一瓶对应了100种情况</p>
<p>也就是我们需要找到最小的n满足：</p>
<p>2^n>= 100，即n>=7</p></blockquote>
<h2 id="toc-3">三、挑战下高阶版的试毒问题</h2>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/DjS3wQzQ7tEysYwfhIur.png" referrerpolicy="no-referrer"></p>
<p>仔细审题，我们发现这次小白鼠6小时内就会挂掉，题目没有说具体是什么时候会挂，那我们可以理解为：<strong>喝了毒药最久6小时会挂，如果6个小时还没挂，说明这瓶水不是毒药。</strong></p>
<p>1、首先，还是”100瓶药水其中有1瓶有毒“这个随机变量X的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/G7Wl6wuLql1pJVEglNN1.png" referrerpolicy="no-referrer"></p>
<p>2、而这次，小白鼠的状态有点不一样，他在喝完水1天内的状态可能是：</p>
<p>1）在第0分钟的时候喝了一滴水以后，第6小时死去</p>
<p>2）第6小时依然活着，喝了一滴水以后，第12小时死去</p>
<p>3）第12小时依然活着，喝了一滴水以后，第18小时死去</p>
<p>4）第18小时依然活着，喝了一滴水以后，第24小时死去</p>
<p>5）第6小时依然活着，喝了一滴水以后，在第24小时依然活着</p>
<p>可见一只小白鼠在喝了一整天水后，可能会出现的状态有5种，所以”1只小白鼠喝完水24h以后的状态“这个随机变量Y的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/uhK8mQH5vLjSrLKQi7wc.png" referrerpolicy="no-referrer"></p>
<p>3、n只小白鼠喝了一整天水后就会有5^n种状态，即”n只小白鼠喝完水24h以后的状态”这个随机变量Z的信息熵为：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/02/3qoegcCpElBJNZSEUq2t.png" referrerpolicy="no-referrer"></p>
<p>所以根据题目，要用到最少的老鼠来找到那瓶毒药，转化为信息熵就是要满足：</p>
<p><strong>H(Z) >= H(X)，</strong>即 2.3219n >= 6.64</p>
<p>那么n的最小值是3，也就是说最少要3只老鼠可以找到毒药</p>
<blockquote><p><strong>留个作业：那具体怎么利用这3只小白鼠找到毒药呢？</strong></p>
<p>根据前面简化版本的二进制编码方式的思路，我们是不是可以<strong>利用小白鼠的5种状态构造一个5进制编码方式</strong>呢？</p></blockquote>
<h2 id="toc-4">四、我是总结</h2>
<p>其实小白鼠试毒这个问题，第一次遇到确实会比较难下手，对于做过的人来说，可能大部分人也仅仅停留在知道用二进制编码的方式解决，很少会有人去<strong>思考这背后的原理和逻辑的本质</strong>。</p>
<p>如果把问题变得再复杂点，往往大部分人就会去试，7只小白鼠不行就8只小白鼠，反正只知道用编码的方式，这就是知其然而不知所以然。同样的，当我们仅仅掌握了许多理论知识，但是缺乏应用场景的实操以及面向各种情况的修正与优化，最终也将是纸上谈兵。</p>
<p>所以，这也是我个人比较推崇的一种思考方式：当我们遇到一个好玩的问题以及巧妙的解决方法的时候，<strong>我们可以继续去深挖背后的原理和逻辑的本质，再反推更多的应用场景，做到举一反三，这样才能不断的锻炼自己思维能力的广度和深度。</strong></p>
<p> </p>
<p>本文由 @WINTER 原创发布于人人都是产品经理。未经许可，禁止转载</p>
<p>题图来自Pexels，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5314137" data-author="884493" data-avatar="https://static.qidianla.com/woshipm_def_head_2.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            