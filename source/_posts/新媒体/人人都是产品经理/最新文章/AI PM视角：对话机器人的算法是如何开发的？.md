
---
title: 'AI PM视角：对话机器人的算法是如何开发的？'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/YZCMWruw2RYJrGTPTW0f.jpg'
author: 人人都是产品经理
comments: false
date: Mon, 30 Aug 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/YZCMWruw2RYJrGTPTW0f.jpg'
---

<div>   
<blockquote><p>编辑导语：对话机器人在我们的日常生活中已经十分常见，那么，你了解对话机器人中的具体算法开发过程吗？对话机器人所使用的算法可分为哪些类别？本篇文章里，作者就对话机器人的算法开发流程进行了整体总结，不妨来看一下。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5116074 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/YZCMWruw2RYJrGTPTW0f.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>AI对话机器人目前应用已经很广泛了。智能客服、语音助手、外呼机器人……等等，在日常生活中你可能已经碰到了很多的对话机器人。那对话机器人中，算法开发过程是怎么样的呢？今天笔者从一个AI产品经理的视角，做一个简单的介绍和阐述。</p>
<p>如果你问一个AI算法工程师，如何将算法模型搭建至满足业务需求，上线、给用户使用，算法工程师可能会跟你说一堆的AI技术细节。包括如何选型、算法模型间的技术差异点，等等。往往让非算法技术人员听得云里雾里，觉得很高大上但不明就里。</p>
<p>本文我们不讲AI技术细节，我们从AI PM的视角，来阐述对话机器人的开发过程中，算法扮演了什么角色，承担了什么任务，以及如何影响最终的产出结果的。</p>
<p>对话机器人当中使用的算法，可大致分为：意图识别、实体识别、相似度计算3大类。主要应用于机器人对于客户应答的识别能力。在产品开发过程中，算法的开发流程大致如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/dAmtX6pfUtwvgfX4Ha6x.png" alt width="708" height="348" referrerpolicy="no-referrer"></p>
<p>下面我们详细描述每个环节的开发过程与内容。</p>
<h2 id="toc-1">一、需求定义</h2>
<h3>主要角色：产品经理、AI训练师</h3>
<p>在做算法的开发之前，需要走做产品需求定义。对话机器人中，使用到算法的地方，主要在于语义识别的部分。主要包括：<strong>意图识别、实体识别、相似度计算</strong>，等等。这里以意图识别为例，做相应的介绍与阐述。</p>
<p>在应用于业务场景的对话机器人当中，通常需要基于该场景，做多个意图的识别。通常来说，意图的数量少则几个，多则几十个不等。而具体需要做多少意图的识别，以及每个意图的定义是什么，意图与意图之间的边界是什么，需要做开发前的需求定义。</p>
<p>一般需求定义是由产品经理或AI训练师来做的。意图是根据业务场景进行切分的，而产品经理作为对话机器人的设计者，本身应对业务场景有深刻的了解。同时，不同于传统的互联网产品经理多是对于产品功能的设计，在对话机器人的【对话】层面的设计，更是体现AI产品经理价值与思路的方面。</p>
<p>所以产品经理需要基于业务，做每个意图的定义，需做到明确、清晰、可验证。这对后续的算法开发至关重要，是开发的方向、验收的标准、产品的价值体现。</p>
<p>除了产品经理，也可由AI训练师做算法需求定义。一般而言，AI训练师的职责是基于客户的对话场景，做对话流程设计、对话知识构建与优化的，AI训练师应是业务场景专家，所以需要做算法需求的定义。</p>
<p>AI训练师与产品经理的区别在于，对话机器人的功能层面是有产品经理负责，而AI训练师主要着重于基于对话场景的对话设计。产品经理也需对AI训练师的工作内容熟悉，以相应地设计可构造优秀对话设计的产品功能。是对话机器人的整体owner。</p>
<h2 id="toc-2">二、模型预研</h2>
<h3>主要角色：算法工程师</h3>
<p>明确了产品需求，在产品经理/AI训练师做完算法需求的宣讲之后，算法工程师就要根据需求，进行算法模型的预研。具体来说，就是要判断目前积累的数据和沉淀的算法，是否可以达到业务的需求。</p>
<p>预研的目的主要有2点：</p>
<ol>
<li>算法是目前业内较为优秀的；</li>
<li>算法是可贴合业务需求的。</li>
</ol>
<p>算法工程师通常会在前期做技术相关的调研，了解目前业内主流算法，包括已被验证的较为优秀的模型，以保证在技术层面至少在业内是持平和领先的。</p>
<p>同时，不同业务要求的算法能力不同。算法工程师需要根据业务特性，选型相应的模型，多备几套方案，以供模型训练时使用。</p>
<p>模型预研的结果，通常需要做一个小型的汇报。目的是同步模型预期选型，让产品经理、AI训练师了解不同的算法模型的优劣势，以及后优化维护的不同特点。同时也收集各方的意见，做最终的模型选择。</p>
<p>模型预研的目的主要是降低风险，即<strong>降低模型选错的风险</strong>。因为模型是一个从搭建开始，通过数据不断地训练优化的过程。如果模型选型错误，有可能出现后续不管数据如何训练，都无法解决业务问题的情况。所以模型预研对于后续的模型训练，有着重要的意义。</p>
<h2 id="toc-3">三、数据准备与标注</h2>
<h3>主要角色：数据标注师、算法工程师</h3>
<p>当算法需求确定后，就需要根据定义的需求，进行数据标注。这里通常指的是有监督学习的算法数据标注。数据标注的过程主要包括：数据准备、数据清洗、标注规范制定、试标数据、标注答疑、正式标注。</p>
<p><strong>1）数据准备</strong></p>
<p>在算法团队中，有专门的数据分析员，做相应的对话数据抽取。抽取的数据是数据标注的来源。数据抽取需要根据以下原则：</p>
<ul>
<li>抽取的数据需包含在行业中具有代表性的数据；如行业标杆客户等。</li>
<li>抽取的数据需尽可能覆盖行业中多样的数据；让数据分布更加均匀，提供覆盖面广的数据分布。</li>
</ul>
<p><strong>2）数据清洗</strong></p>
<p>抽取了数据之后，数据的结构、质量不一，需要进行数据清洗。通常会筛除吊无效的、质量不佳的数据。数据清洗可能运用的技术手段有：关键词、实体识别、无监督学习等等。目的是可清洗出质量较好的数据以供标注。</p>
<p><strong>3）标注规范制定</strong></p>
<p>在需求定义时，通常会给每个意图做定义，定义会明确意图A是指什么，意图B时指什么。哪些情况属于意图A，哪些情况属于意图B。标注团队首先需要明确每个意图的定义，作为标注的指南。</p>
<p>产品经理/AI训练师会给出一份数据标注的规范。这份规范需要标注团队leader与他们做深入的沟通与理解，以求理解透彻需求，并可实际落地至标注工作中，确保需求落地不偏差。</p>
<p><strong>4）试标数据</strong></p>
<p>制定了标注规范，同时拿到了已清洗的抽取数据后，就进入了试标数据环节。为什么不直接正式标注呢？因为通常标注都是大批量的，若出现标注规范理解不到位，或者标注规范本身指定得有问题，那返工将是很大的人力物力损失。</p>
<p>为了降低这样的风险，通常会在前期先拿一小部分数据进行试标。试标的量根据情况而定，通常控制在1-2天时间内，并需收集标注反馈，注明问题与疑惑。</p>
<p>试标结束后，需要召集标注同学、产品经理、AI训练师、算法工程师，召开问题同步讨论会。会议的目的是确定试标的问题的解决方案，各方达成共识。方可进入下一步骤。</p>
<p><strong>5）正式标注</strong></p>
<p>按照确定的且达成共识的标注规范，标注团队就进入了正式标注阶段。通常标注的数量较多，需要在标注团队中分配任务。</p>
<p>标注完成后，需要有标注审核员进行审核。通常为抽样审核。若不通过需打回重标。</p>
<p>标注结束后，须由标注团队Leader汇总标注结果，提交给算法工程师。</p>
<h2 id="toc-4">四、模型构建</h2>
<h3>主要角色：算法工程师</h3>
<p>在接收到标注团队的标注数据后，算法工程师就需要拿这些数据，让模型运转起来。模型构建包括3个环节：模型设计、特征工程、模型训练。</p>
<p><strong>1）模型设计</strong></p>
<p>算法工程师会根据业务的需要，以及算法积累，进行模型设计。在这个环节中，产品经理应与算法工程师确定，在当前业务下，这个模型该不该做，我们有没有能力做这个模型。在这个阶段中，最重要的是定义模型目标变量。不同的目标变量，决定了这个模型应用的场景，以及能达到的业务预期。</p>
<p><strong>2）特征工程</strong></p>
<p>选型之后，算法工程师会进行特征工程的工作。整个模型构建可以理解为：从样本数据中提取可以很好描述数据的特征，再利用它们建立出对未知数据有优先预测能力的模型。</p>
<p>所以在模型构建中，特征工程师非常重要的部分。数据和特征决定了机器学习的上限，而模型和算法只是逼近这个上限而已。</p>
<p>而现有的技术能力，如神经网络等算法能力，可通过模型的自主提取特征能力，而取代人工提取特征的过程。方式的不同，在效果上也可能比算法工程师人工提取特征，可能有提高。需具体业务情况具体看。</p>
<p><strong>3）模型训练</strong></p>
<p>算法工程师会根据数据在不同模型的训练结果，做调参工作，以确保模型最终的效果是可满足业务的要求，并可持续优化的。</p>
<p>算法工程师在训练模型时使用的数据为【训练集】，该数据集合需不能与最后模型测试使用的【测试集】重合/有交集，以确保后续测试是客观、不失真的。</p>
<h2 id="toc-5">五、模型测试</h2>
<h3>主要角色：测试工程师</h3>
<p>模型构建完成后，就需要算法测试工程师介入测试模型的效果。对于算法的测试，衡量的基础指标主要是：<strong>P值（精准率）、R值（召回率）</strong>和<strong>F1值</strong>，分别衡量模型预测的准确性、覆盖面和二者的综合能力。</p>
<p>当然，还可以根据业务的不同，有其他的测试验收指标，这边不赘述。</p>
<p>测试的过程，一般会使用脚本自动化测试，以覆盖数据量庞大的测试内容，保证最短时间内测可能多的内容。</p>
<p>测试完成后，测试工程师需出具测试报告。报告的接收方为：算法工程师、产品经理、AI训练师。需确认报告内容。同时，产品经理/AI训练师需评估，模型的效果是否符合预期。若否，则需算法模型重新训练调优，直至达到上线标准为止。</p>
<h2 id="toc-6">六、模型验证</h2>
<h3>主要角色：产品经理、AI训练师</h3>
<p>模型验证指的是模型上线后的数据观察，以验证模型效果，通常由产品经理/AI训练师，做上线后的跟踪与观察。在上线之后，一般会做算法相关的数据统计，每天实时监测数据的情况。</p>
<p>若有数据异常或不符合预期，通常需要做以下处理。</p>
<p><strong>1）告知算法团队，做数据反馈收集与模型优化</strong></p>
<p>算法的优化过程是较为缓慢的，涉及的流程包括数据重新标注、模型重新训练、重新测试/调优等等。通常周期以“周”为单位。</p>
<p><strong>2）通过规则矫正</strong></p>
<p>业务的问题总是需要及时地处理与反馈的，所以需要一些辅助措施，来响应响应的需求。一旦发现算法模型效果不佳，需要产品经理/AI训练师通过规则矫正的方式，优先做处理。当后续算法优化更新之后，再做原有规则的恢复。</p>
<h2 id="toc-7">七、结语</h2>
<p>对话机器人算法的开发过程，是一个闭环的过程。通过数据的训练、测试、调优，达成相应的业务目标。随着数据的不断反馈，算法模型的效果则会越来越符合业务的需求，是一个循序渐进的过程。本篇文章大致介绍了算法开发的整个流程与脉络，希望可以帮到你。</p>
<p> </p>
<p>作者：咖喱鱼丸，5年PM经验，2年AI PM经验</p>
<p>本文由 @咖喱鱼蛋egg 原创发布于人人都是产品经理。未经许可，禁止转载</p>
<p>题图来自Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4240109" data-author="749" data-avatar="http://image.woshipm.com/wp-files/2020/05/FQRxC7CI9pYtnMxzXU6b.png"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            