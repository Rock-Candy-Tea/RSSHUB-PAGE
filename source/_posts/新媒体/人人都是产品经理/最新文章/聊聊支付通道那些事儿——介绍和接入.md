
---
title: '聊聊支付通道那些事儿——介绍和接入'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/zCqYyxap3ve7v4kSp1Gz.jpg'
author: 人人都是产品经理
comments: false
date: Thu, 01 Apr 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/zCqYyxap3ve7v4kSp1Gz.jpg'
---

<div>   
<blockquote><p>导语：我们出行有各种交通要道，飞机航线，高速线路，火车道；通过运输载体将人或者物运往另一个地方；同样支付也是，需要各种支付通道完成支付信息的传输以及推动资金的转移；本文跟大家聊一聊支付通道的那些事。</p></blockquote>
<p><img data-action="zoom" class="aligncenter size-full wp-image-4435660" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/zCqYyxap3ve7v4kSp1Gz.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、什么是通道</h2>
<p>同学们经常在支付相关文章中看渠道对接，支付渠道是什么？支付渠道即资金转移的通道，</p>
<p>也称为资金渠道、支付通道，所有支付系统建设都需要先建设渠道。</p>
<h2 id="toc-2">二、通道的类型</h2>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/8aquxRO81eq3gC0ww0GA.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>以电商平台为例一般来说主要对接两类通道三方支付机构、银行；三方支付机构就是我们平时熟悉的微信、支付宝等，银行主要是银企直连通道，为平台提供一些资金收付的解决方案。在商户与三方支付之间，还有第四方支付。四方支付是作为对第三方支付平台服务的拓展。</p>
<p>第三方支付介于银行和商户之间，而第四方支付是介于第三方支付和商户之间，没有支付许可牌照的限制。</p>
<p>银联、网联等清算机构主要是为非银行支付机构、银行等提供网络支付清算平台的运营机构。</p>
<p>央行是清算中心，清算中心是所有支付清算服务的最底层。我们日常经常使用的支付宝、微信的银行卡支付（微信、支付宝的余额支付是属于三方支付的内部账户支付，没有实际的资金流清算，不过央行的清算中心）。</p>
<p>企业的代发工资等等最底层都是使用的央行的清算中心，比较常用的有以下几个：</p>
<p><strong>小额系统：</strong>又称小额批量支付系统，是人行建设的系统之一，采用批量包的形式进行交易，工作时间是24小时受理，每家行根据自身需求间隔2小时或4小时一打包进行请求发送，所以小额系统的到账时间是不确定的。</p>
<p>对于小额系统来说交易资金会有交易限制，交易金额不能超过5w，超过5w的必须走大额。</p>
<p><strong>大额系统：</strong>又称大额实时支付系统，也是人行建设的系统之一，采用单笔交易，工作时间是工作日的一般早8点30分到晚5点，有些行会在这个时间内自行定义自己系统运行的时间，如下午4点就关闭了。</p>
<p>对于交易资金没有限额限制，任意金额（没有5w的资金限制）都可以使用大额系统进行资金划转，只是手续费相比小额来说会稍贵，到账时间是实时到账，支持的银行也是目前最广泛的。</p>
<p><strong>超级网银：</strong>超级网银在中国又被称为“第二代支付系统”，采用单笔交易，交易金额上线为5w，面向客户免手续费，工作时间做到7*24不间断运行；目前加入超级网银的银行占据大多数，基本上国内大中小城商行均加入了超网系统。</p>
<p>但是仍然有少量几十家城商行未开通超级网银渠道，所以目前我们在日常生活中常用的转账系统在后台都极有可能走的超网渠道，因为到账快、成本低。</p>
<h2 id="toc-3">三、通道的对接与上线商用</h2>
<p>以对接银行直连通道为例，以下是平台与银行交互的主要步骤，按照经验对接一条通道，从商务谈判到最终的商用切量时间在1-1.5个月左右。</p>
<p>其中大概1周左右的商务谈判过程，1周的产品设计时间，2-3周的开发与测试，1周的对接联调时间，与银行的对接联调主要依赖于银行的效率。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/yFJTy5XrHZGCEnicwOTf.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>在通道对接中，涉及到了各个部门的很多角色，包括商务、产品、技术、测试、财务、以及运营人员，各个角色的大体工作职责如下：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/RqQqN7ybuya4nt8kAUKf.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>其中通道信息评估表是接入前评估通道质量，确定通道优先级的重要依据，需要商务、产品、技术等人员配合完成。</p>
<p>通道评估表涉及以下方面：</p>
<p>基本信息通道名称等基本信息：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/8IiAG09KrYZkorWef2We.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>在完成完毕以上所有事情后就可以由产品经理涉及通道上线的商用计划，按照商用计划观察切量；一般来说一条细通道上线都需要用2周左右的时间逐步切量，密切观察交易数据。如有异常可以及时切换通道路由。</p>
<p>“九层之塔，始于累土”通道是支付的最基础，只要充分了解通道才能做出最合理完善的支付方案。</p>
<h2 id="toc-4">四、通道知识实例拓展</h2>
<h3>1. 通道种类拓展</h3>
<p>通道从广义上来看其实就是只要能完成支付信息传输以及推动交易完成的接口或者其他形式都可以成为通道，支付信息传送的通道；我们为通道做一个更广义的分类，从通道提供方或者通道形态做阐述。</p>
<p>银行通道：</p>
<p>就是银行提供给三方支付机构的收单出款以及垫资通道，鉴权通道；以及提供给企业的银企直联通道；银行支付通道又有快捷通道，网关通道，代扣通道，垫资通道，预授权通道等。</p>
<p>网银联通道：</p>
<p>断直连后，网联银联通道包装商业银行的通道给三方支付公司，基本跟银行通道类似，满足各类支付业务场景需求，比如协议支付，商业委托支付，网关支付，认证支付等。</p>
<p>三方支付机构通道：</p>
<p>就是三方支付机构提供给商户的收付款支付通道，比如微信，支付宝，易宝支付。</p>
<p>自建虚拟广义虚拟通道：</p>
<p>作为一个平台在某些交易场景会用到更加多样的支付方式，我们都可以称为通道，比如利用自己搭建的账户实现平台虚拟余额的交易支付的余额支付通道；卡券支付通道，积分支付通道等。</p>
<p>所以综上，通道建设其实就是支付的基础设施，最终目的是完成支付信息的交互传输，推动支付交易的完成。</p>
<h3>2. 通道示例</h3>
<p>微信支付宝通道我们就不过多介绍了，到官网看一下支付文档就全部明白了，按照接入规范进行接入即可。</p>
<p>基于业务需要我们要接入一条新的通道，比如我们要接入一条代付通道，经过市场调研，我们选定了“厦门银行的某款代付通道产品”。</p>
<p>通过商务我们联系到了厦门的通道服务部，经过浅谈会后，商定了相关事宜，比如成本等等。</p>
<p>此时我们就会获得银行的通道接入文件包，包里有你需要的所有内容，并且和技术支持的介入，有不懂得问题可以实时沟通。</p>
<p>一般拿到的接口文档包，我们就可以开始做产品设计和技术设计了；产品设计主要是查看该通道的业务交互逻辑以及支付请求和返回的相关字段要求，以此编写产品需求文档，技术人员根据文档的技术要求规范开始技术框架和方案的设计，准备开工。</p>
<p>支付通道文档包：</p>
<p>基本就是通道本尊了，包含对通道的定义，接入办法等信息，文档包内容如下：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/c2Ubv5i5D7nTraj0i7o6.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>正式和签名包产品可以不看，产品主要看接口文档说明，从中巴拉需求：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/FgjILJAvM5PwELCCXRMi.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>从目录我们可以看出，文档一般包含这几部分内容：</p>
<p>协议概述：主要说明技术要求，技术规范，接入的技术方式等，这部分技术看就行了。</p>
<p>业务接口规范：这个就是定义核心的支付接口入参和出参，也是产品巴拉需求的核心部分，我们可以看出接口需要哪些字段，比如流水号，商户ID，金额等等，这样就可以设计出支付处理核心应该封装的协议了。</p>
<p>比如我们看一下3.1交易接口的定义：</p>
<p>定义接口：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/YeH5q0hVmiIA0cBxBWec.jpeg" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>提交一笔支付时的请求参数：</p>
<p>别管平台自己怎么处理，只要按照通道接口要求，就可以完成支付。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/0JO0GgE14gexnP5qWT7l.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/q1u2c3QJ0XtL6m8qgF9P.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>请求完的接口返回：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/90y1kMwChMGxJo8UKs1q.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<p>看完这一个通道接口的定义，是不是瞬间豁然开朗了，知道了支付体系应该怎么设计，怎么封装信息了；其他接口逻辑类似，比如账户余额查询接口，交易结果查询接口等。</p>
<p>通道返回码：</p>
<p>通道返回码就是两边的沟通语言，告诉你成功了还是失败了，失败的原因是什么，当然基于业务需要和用户体验，我们一般不会将通道返过来的编码直接展示给用户；而是封装一层，让用户更容易理解，体验更好。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="支付通道介绍和接入" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/03/kD76OrLwgATqaPPPdoFV.png" alt="支付通道介绍和接入" referrerpolicy="no-referrer"></p>
<h3>3. 通道管理</h3>
<p>一个平台一般都会接入很多类型的通道，虽然通道只是一些列的接口组合，但是这时候单单通过程序中的接口研发已经不能满足业务需求了；就需要一个通道管理后台来管理接入的每一条实体通道。</p>
<p>比如通道管理列表：来管理每一条通道的基本信息，比如通道名称，通道编码标识，通道所属银行，通道的类型，通道方的联系人等等；通道编码标识就是平台唯一识别这条通道的ID，比如路由器选择的最后其实就是选出一个通道ID</p>
<p>通道证书，就像原来我们通过网关支付时，跳转到银行的网上银行，我们都需要下载一个安全证书或者插入U盾，这些信息都可以维护到通道的基本信息里；我们可以把通道当成一个用户一样去管理，通道也有通道画像。</p>
<p> </p>
<p>作者：陈晓光，一个会弹吉他会算命的产品经理老司机，微信公众号：陈晓光</p>
<p>本文由 @陈天宇宙 原创发布于人人都是产品经理。未经许可，禁止转载</p>
<p>题图来自Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4435342" data-author="94217" data-avatar="http://image.woshipm.com/wp-files/2021/02/a84xkWDMu44P1PnVp06z.jpeg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            