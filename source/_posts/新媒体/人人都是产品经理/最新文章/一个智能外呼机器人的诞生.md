
---
title: '一个智能外呼机器人的诞生'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/nrMCz3JR7o1QqyAtXedl.jpg'
author: 人人都是产品经理
comments: false
date: Mon, 13 Dec 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/nrMCz3JR7o1QqyAtXedl.jpg'
---

<div>   
<blockquote><p>导读：AI经过近几年的快速发展，融入越来越多的业务服务，诞生了许多触手可及的产品，给众多行业赋能提效，也给普通消费者带来了不一样的产品体验。相信很多同学都接听过机器人打来的电话，如基金推荐、外卖提醒、卖房推销等，高效、稳定的外呼给商家侧提升了极大的效率。那么，这种智能外呼机器人产品是如何落地的呢？</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5249470 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/nrMCz3JR7o1QqyAtXedl.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、产品架构</h2>
<p>首先来看看整体的产品架构：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/orPXNetanTcZkA6u78l7.png" alt width="1569" height="934" referrerpolicy="no-referrer"></p>
<div>
<ul>
<li>技术基础：智能外呼机器人核心是AI的基础技术，赋予产品识别语音、语义理解、合成语音的能力，简单来说就是如何准的确地识别客户所表达的意思，一般称作识别意图。而另一方面，Fs、sip构建的话务服务赋予产品对外通话的能力，可以拨通客户的手机进行交流。</li>
<li>资源许可：构建的机器人服务需要耗费一定的资源，一般将整个过程分为话务、TTS、ASR、机器人方面的资源。如果要完成完整的外呼服务，一般是1:1的关系。如果是saas产品，可以将整个许可打包成一个商品出售。按这样区分可以清晰划分产品框架，后续的运维、扩容也十分方便，也利于计算成本、产品定价。</li>
<li>话务模块：话务模块是管理话务能力方面的功能，语音通讯、录音等。</li>
<li>语音服务：该模块是管理语音方面的能力，包括ASR服务、TTS服务。也会有一些产品将这些能力纳入话务模块。</li>
<li>算法模块：算法模块是外呼机器人的核心能力，需要完成数据的处理、模型的构建与训练等，让机器人具备识别能力。</li>
<li>对话管理：机器人识别客户的意图之后，需要做出一定的回应。怎么说、说什么由对话管理去控制。</li>
<li>运营管理：基于上述模块的协作完成一个外呼服务的构建，对于业务人员来说则需要在运营层面去管理外呼名单、外呼策略等，让机器人运转起来。</li>
</ul>
<p>对产品有全局的架构思维，有助于全面地看待问题，无论是产品设计还是后续的运营都是很有帮助的。</p>
<h2 id="toc-2">二、业务流程</h2>
<p>智能外呼，简单来说就是模拟人的对话能力，教会机器人去识别语音内容，然后根据内容做出应答。在运营管理发起外呼动作，整体的业务流会经过以下几个步骤：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/VFHtegLdXBtLH5s0rjv0.png" alt width="1798" height="540" referrerpolicy="no-referrer"></p>
<p>1.由话务服务出局通话请求，拨通客户的电话后，收集客户语音并实时返回至语音服务模块；</p>
<p>2.语音服务将客户的语音经过ASR处理，输出客户的文本给到算法模块；</p>
<p>3.算法模块经过算法分析，识别客户的意图，了解客户想表达的意思。有一点需要注意的是，不一定非要语音才能分析意图，比如客户静默太长时间，可输出一个静默的意图，让机器人再次唤醒客户对答。也不一定是对文本内容直接分析，比如机器人未播完话术时被客户打断，这时候应该输出一个打断的意图，停止播报，让客户说完再识别。各种各样的情景，跟人与人之间的对话情景对应；</p>
<p>4.得到客户的意图后，对话控制根据对话流程，输出机器人需要对答的内容。对答文本流转至TTS合成语音（如果文本不涉及变量，可以一次性保存为录音，不占用TTS资源），或者调用已录好的音频，传至话务服务模块，对客户输出语音。然后再次得到客户语音，循环这个过程直至结束后将对话数据返给外呼管理模块，进行后续的分析。</p>
<h2 id="toc-3">三、产品设计</h2>
<h3>1. 话务服务模块</h3>
<p>依托于FS强大的拓展性，搭建一个电话软交换平台，可对接运营商的sip线路，也可用网关设备搭建话务中心，提供呼叫控制、资源分配、录音、计费等能力。一般大企业会有独立的话务服务，专供需要的业务系统接入，而自建外呼服务或者构建saas产品则需要从0到1去搭建了。</p>
<h3>2. 语音服务模块</h3>
<p>ASR、TTS是基础底层技术，自研成本非常高，而且经过长期的发展也很成熟，市面上有科大、阿里云、腾讯云等厂商的服务。一般有两种模式，一种是接入云服务，按调用次数收费，如果有开放的开发环境建议使用这种模式，可以随时升级调优。另外一种是买断服务，购买完整的语音服务，包括模型、资源，一般在较为封闭的开发环境使用，比如银行业务。但这种模式成本较大，而且调试升级不方便。</p>
<h3>3. 对话管理</h3>
<p>对话管理是智能外呼机器人产品的核心模块，涉及VUI设计、话术管理等。VUI设计是指语音交互流程，就是机器人的应答逻辑，是机器人的主心骨。我对于VUI的设计主要有以下几个步骤：</p>
<p><strong>1）梳理外呼业务的主流程</strong></p>
<p>产品必定会有一个流程，以期望客户按我们的设计走，完成一定的动作，达到业务目标。所以在设计前应当梳理清楚我们要做的是什么业务，业务涉及什么环节，业务目标又是什么。以一个信用卡欠款催收为例：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/NWMJ8QxD0JOw1YAyNjPi.png" alt width="1402" height="194" referrerpolicy="no-referrer"></p>
<p><strong>2）归纳意图</strong></p>
<p>在业务运转过程找中，会遇到哪些情况，然后归类起来，形成一个意图，代表客户反馈给机器人的状态。可将意图分为三种类别：通用意图、业务意图、QA。</p>
<ul>
<li>通用意图：顾名思义就是整个人机对话环节都可能会发生的情况。咱们可以想想现实中打电话，对方可能会正在忙没法接电话，可能信号不好听不清等等，可以归纳出“正忙、听不清”的意图；</li>
<li>业务意图：与业务相关的情况，比如客户表示是不是本人、已还清欠款等情况，可归纳出“是本人、非本人、已还款”的意图；</li>
<li>QA：通用意图以及业务意图是固定的，在实际运营中会有些频率不高或者未想到的语料，可以在线上添加QA语料，然后在后台经过关键词提取、预定训练方式实现模型建设，可减少算法投入成本，也比较灵活。如果某个QA出现频率高，可以考虑增加一个通用意图或者业务意图。</li>
</ul>
<p>确定意图后，有助于我们梳理流程框架：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/YJIlFhyRJAU8socOasmi.png" alt width="779" height="352" referrerpolicy="no-referrer"></p>
<p><strong>3）编写对话剧本</strong></p>
<p>确定了环节、意图后，还是比较零散的信息，典型的对话场景是怎么样的？实际的对话流又是怎么体现的？这时候可以借助对话剧本去模拟人机对话。如果客户按推荐的流程走，并完成了目标，称之为愉悦路径。如果客户没有按推荐的流程走，无法完成外呼目标，则成为非愉悦路径。</p>
<p>举个例子：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/0Z83EhgAqsI21ZssjJt2.png" alt width="957" height="427" referrerpolicy="no-referrer"></p>
<p>编写对话剧本其实就是梳理主流程、异常分支如何处理，尤其是非愉悦路径，通话环境的情况很复杂，各种不在目标内的情况要做好处理。</p>
<p><strong>4）设计对话跳转逻辑</strong></p>
<p>经过对话剧本的编写，VUI有了雏形，接下来需要整合成一个完整的流程。对于VUI，我理解为一个庞大的决策树，在某个节点，根据客户的反馈决定往哪个分支走，主体设计是环节+意图+跳转。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/qr068ozIHKI5JzVg1Z9m.png" alt width="1232" height="610" referrerpolicy="no-referrer"></p>
<p>对话的跳转逻辑设计是个十分复杂的过程，需要反复推敲跳转是否合理，是否符合业务场景，是否覆盖了常见的情况。从开场白到完成业务目标会有多种分支，而且有时候跳转较多，单纯看路径会比较抽象，可以借助对话剧本具象化。另外建议设置好结束点，路径设计不宜过长，机器人没法像人这么灵活，对话轮次过多反而会阻碍业务目标的达成。如果某个意图出现频率高，而且处理方式是一致的，可以提炼出来作为一个全局节点。</p>
<p><strong>5）设计话术</strong></p>
<p>确定了对话跳转逻辑后，需要明确每个节点机器人的应答话术。话术内容的设计也很考究，基本原则是通用化、封闭化。应答内容尽量通用化，往主流程引导，兜住未知的情景，复杂的内容引导客户去确认。虽然AI大大提升了效率，但是还没有达到可以处理全部开放化的情景，比较适合做标准化的工作。举个例子，你想确认客户的地址是否正确，不应该去问”请问您所在的地级市是哪里“，答案千千万万，而且asr识别不准，可行性可想而知，倒不如改为”请问您是在xxx地方吗？“，这样范围可控。</p>
<p>参照对话跳转逻辑设计每个节点话术，包括环节+客户意图+机器人话术+跳转节点:</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/IVQgQDFnaIJblnieq7K3.png" alt width="1116" height="459" referrerpolicy="no-referrer"></p>
<p>经过5个步骤的思考以及设计，对话管理模块的功能已完成，产品展示层面比较多的是画布的模式，可以自由组合各个环节、节点以及话术。但VUI设计是复杂性的功能，不建议普通客户去操作，交由专业人员管理，或者采用模板的方式推广。</p>
<h3>4. 算法模块</h3>
<p>VUI里面涉及的意图是由算法分析出来的，建议在意图设计的环节也保持与算法的同事沟通。算法模型是核心资产，也是产品护城河。目前市面上会有厂商提供NLP服务，但作为核心能力，建议采用自研，契合自身业务去构建算法能力。智能产品需要众多的语料去完善其模型，即使产品上线后也需要不断去调优，一套完整的算法优化流程尤为重要。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/12/AMlvvQRBN30wvcSUsaBq.png" alt width="1368" height="339" referrerpolicy="no-referrer"></p>
<p>作为产品经理，重点关注其中的标注结果，核对分类是否正确、是否存在与产品设计违背的地方、是否可以达到可用的效果，这样可以减少效果与最终目标的不适应情况。另外还有需要关注模型校验的结果是否符合预期，生产对客的效果如何。</p>
<p>虽然AI技术很强大，但也不是无敌，也要看与各个技术的配合度以及局限性。语音机器人特别依赖ASR的准确率，曾经踩过一个坑，询问客户的所在地，以判断是否可办理金融业务，但ASR对短句的转译能力差，无法精准转写，导致识别准确率很低，效果很不理想。如果前期关注到ASR的局限性，就很有可能会规避这个问题。</p>
<p>算法能力的构建涉及多个角色、多个流程以及持续性优化，如果业务比较成熟，可以搭建一套运营后台系统去支撑这部分工作，发现热点知识、拒识等内容，实行标注质检工作等。</p>
<h3>5. 运营管理</h3>
<p>经过各个模块的搭建，已经具备了机器人外呼能力、识别能力、对答能力，运营管理模块就负责如何使用机器人，根据业务需要设计各种外呼策略，比如重拨、定时外呼、防骚扰等。</p>
<h2 id="toc-4">四、结语</h2>
<p>智能外呼机器人是AI落地较为广泛的产品，涉及了多个领域的知识，也需要多种角色参与，因此需要掌握的东西比较多，很考验产品的整合能力。同时也是十分重运营的产品，不是搭建完成就完事了。如果功能建设完成了，我认为只是从0到0.5，要达到真正的对客效果，还需要持续优化，采集更多的语料去丰富意图、提升识别效果等。</p>
<p>以上为本人的一点经验之谈，欢迎大家一起交流。</p>
<p> </p>
</div>
<p>本文由 @骨灰级小白 原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自unsplash，基于CC0协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5247909" data-author="263583" data-avatar="https://static.woshipm.com/APP_U_201707_20170703113927_6300.jpeg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            