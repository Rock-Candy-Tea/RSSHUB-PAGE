
---
title: '聊一聊数据报表_数据分析的【对数】日常'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/wpNYej41Wsz8aydAPPKp.jpg'
author: 人人都是产品经理
comments: false
date: Wed, 23 Mar 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/wpNYej41Wsz8aydAPPKp.jpg'
---

<div>   
<blockquote><p>编辑导语：互联网时代，数据分析的重要性不言而喻，数据分析也贯穿着整个工作的过程，本篇文章作者分享了数据分析的对数日常以及给出了很多可行的方法，希望对你有帮助。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5364152 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/wpNYej41Wsz8aydAPPKp.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、数据比对的痛</h2>
<blockquote><p>“这数不对”。</p>
<p>“为什么A这里的数据和B的数据不一致？”</p>
<p>“为什么平时这个数是C今天变成了D？”</p>
<p>“为什么这么高？”亦或是“为什么这么低？”</p></blockquote>
<p>——【我的对数日常】</p>
<p>一旦有人对某数据提出质疑，就会开始令所有人崩溃的对数。</p>
<p>尤其是经营分析会、月度会议期间，数据团队面临反复且高频的折磨，不同需求方不同角度都等着回答和解释。</p>
<ul>
<li><strong>领导：</strong>不理解，为什么没有人能给出来正确的数据？</li>
<li><strong>业务：</strong>技术给的结果不准…数据质量差，又不能用，又要自己算，数据量太大算不动。</li>
<li><strong>数据团队：</strong>数据不是我录的、业务数据库不是我设计的、指标逻辑也不是我定义的、运营逻辑和策略调整对数据的影响我也不知道。数据根据逻辑加工出来就是这个样子，不是你想要的，我该解释什么？</li>
</ul>
<p>非常无辜，非常无语，活还是要干！</p>
<p>不考虑模型设计、不讲数据治理、制度和流程梳、不谈组织合理性、不谈数据意识和数据团队地位，不与业务battle。</p>
<p>落在当下，必须要面对的工作面前，只是想聊一聊“对数到底应该怎么对？”</p>
<p>希望通过这篇文章与数据相关从业的朋友聊一聊“面对常态化数据质疑的处理方式，在不同的场景下数据团队的观点输出”。</p>
<h2 id="toc-2">二、对数对数，对的是什么</h2>
<h3>1. 数据比对的场景</h3>
<ul>
<li>新旧指标对比，新指标上线替换就应用；</li>
<li>全新指标上线，证实数据准确；</li>
<li>同预期不符或数据波动大，进行数据查验；</li>
<li>应用端数据不一致，维度汇总不一致给出解释；</li>
<li>数据A和相关数据B不匹配，交叉验证。</li>
</ul>
<h3>2. 数据团队的心态</h3>
<p>数据技术有门槛，但数据是公司的数据、是业务的数据。</p>
<p>数据本身没有价值，数据脱离业务应用，就只是磁盘上的文件而已。</p>
<p>对数占用了数据团队大量的时间和精力，消耗耐心和斗志，这种情况下应秉持怎样的心态？</p>
<p>下面是数据团队避无可避的问题：</p>
<p><strong>1）提升团队数据素养</strong></p>
<ul>
<li>对数属于不复杂但大多数人做不好事情，好的数据团队人人都是数据分析师，具有数据思维，懂业务。</li>
<li>清楚业务规则，懂业务数据流向。清楚数据映射的业务流程，识别数据问题的业务构成。</li>
<li>遇到问题知道从什么地方分析原因，知道要看什么数据。</li>
</ul>
<p><strong>2）提升公司数据意识和数据产品的可信度</strong></p>
<ul>
<li>数据有天然门槛和屏障，如何拉齐各方的认知？</li>
<li>如何方便用户去使用数据？当不缺数据的时候，如何有效使用数据？如何给用户呈现数据？</li>
<li>产品思维，数据是结果但对数据的理解是主观的。</li>
<li>如何直观、不引导的客观呈现数据？</li>
</ul>
<p><strong>3）解放人力实现自动化</strong></p>
<ul>
<li>化被动为主动，怎样从无尽的对数中抽离。</li>
<li>能提前识别异常、提示变动、给出对照。</li>
<li>数据稳定，线下数据走通后，便可以逐步切线上，固化比对逻辑。</li>
</ul>
<h3><strong>3. 对数对数，对的是什么</strong></h3>
<p>对数就是实际和预期的弥合，为什么A不是B？</p>
<p>A是数据部门输出的数据，B可能是之前某版本的数据、可能是心理预期、可能是某业务线的手工数据、可能是去年同期数据、可能是上个月的数据。</p>
<p>解决方案有几种：证实“A是对的”；证否“B是错的”。</p>
<p>证实”A/B都是对的，但有cdef造成了两者的数据差异”。</p>
<p>都要给出结论、对照和明细凭据。</p>
<h2 id="toc-3">三、通用可复制的方法</h2>
<p>数据比对是有目的的数据分析。</p>
<p>著名的咨询公司Gartner于2013年总结、归纳、提炼出一套数据分析的框架，Gartner把数据分析分为四个层次，分别是：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="聊一聊数据报表/数据分析的【对数】日常" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/OTttesCNpapufRmlKKii.jpeg" alt="聊一聊数据报表/数据分析的【对数】日常" referrerpolicy="no-referrer"></p>
<ol>
<li><strong>描述性分析</strong>（Descriptive Analysis）——发生了什么？</li>
<li><strong>诊断性分析</strong>（Diagnostic Analysis） ——为什么会发生？</li>
<li><strong>预测性分析</strong>（Predictive Analysis） ——什么可能会发生？</li>
<li><strong>处方性分析</strong>（Prescriptive Analysis） ——该做些什么？</li>
</ol>
<p><strong>数据比对是描述性分析，即对数据现状拆解出数据依据。</strong></p>
<p>那么数据比对的过程，就是描述性数据分析的过程，可按以下顺序进行：</p>
<ol>
<li>确认分析的目的和思路；</li>
<li>数据准备、处理及分析；</li>
<li>撰写数据结论及报告。</li>
</ol>
<p>下面具体说如何操作，让观点可执行<strong>。</strong></p>
<h3><strong>1. 确认分析的目的和思路</strong></h3>
<p><strong>1）假设验证确认分析思路</strong></p>
<p><strong>（1）明确对照项[A-B]</strong></p>
<p>确定问题，明确目标，得出A、B哪个正确？差异原因。</p>
<p>首先明确对照项A、B的定义，判断其定义、口径、算法是否一致？</p>
<p><strong>（2）对照指标数据流向及构成</strong></p>
<p>对照数据流向，分析数据构成及计算过程。</p>
<p>确认比对项，时间、口径、统计粒度，度量和维度做筛选还是过滤。</p>
<p><strong>（3）收集数据进行证</strong><strong>伪推断，得出结论</strong></p>
<p>准备基础明细数据，导入excel，通过vlookup、透视表等关联分析，关系走通，记录过程数据，提供结果数据。</p>
<p><strong>Example</strong>：统计结果比对（数值1vs数据2，差异值）、12明细、差异明细比较。</p>
<p><strong>Tips：</strong>明确分析目的和方案前，别急着到处要数，可能费力要了又用不上。</p>
<h4><strong>2. 数据一致性验证方式</strong></h4>
<p><strong>1）基础认识一致性验证</strong></p>
<ul>
<li><strong>指标的设计过程</strong>：定义、计算公式、统计维度（时间）、维度含义、属性定义。</li>
<li><strong>指标的技术属性：</strong>技术方式、数据源、更新时间。</li>
</ul>
<p><strong>Example 1：</strong>实时、离线指标不一致属于正常情况，可直接解释原因：</p>
<ul>
<li>更新时间天然不同，离线为批处理定时调度任务模式，而实时对数据的时序性有要求，在某些场景并不能保证与离线同等的一致性；</li>
<li>计算逻辑无法对齐，离线逻辑相对复杂，支持补偿逻辑，实时处理却相对比较简单；</li>
<li>数据源不一致，比如日志在一些场景不能做到完全一致。</li>
</ul>
<p><strong>Example 2：</strong>回款率单位为%，城市结果值求平均并不等于全国数值，也可直接告知业务原因。</p>
<p><strong>2）正向验证</strong></p>
<ul>
<li>确认是否是业务正常变动，如大促暴涨、广告行业的1&2月淡季周期性异常。</li>
<li>交叉维度汇总不一致，数据缺失向上汇总记录的处理方式。</li>
</ul>
<p><strong>3）反向验证</strong></p>
<ul>
<li>任务是否正常？数据是否更新？集群崩溃、任务失败、任务超时、源数据系统字段变更；</li>
<li>处理过程是否正常？数据漂移、数据发散、数据倾斜；</li>
<li>业务口径数据和数据库数据映射是否一致？不同含义指标取相同名字。</li>
</ul>
<h3>2. 数据准备、处理及分析</h3>
<p><strong>1）数据准备</strong></p>
<p>在分析思路确定的基础上，准备收集准备数据，可能是：系统导出、数据提取。</p>
<p><strong>2）数据处理（清洗、转化、提取、计算）</strong></p>
<p>基础数据准备完毕，按既定的思路计算、比对，加工需要的可用于分析的数据。</p>
<p><strong>3）数据分析（数据统计、数据挖掘、数据呈现）</strong></p>
<p>比对后发现并分析差异，用适当的分析方法及工具（极大多数场景Excel足够），对处理过的数据进行分析，提取有价值的信息，形成有效结论。</p>
<h3><strong>3. 数据结论及报告</strong></h3>
<p><strong>1）明确结论</strong></p>
<ul>
<li>哪个数据是准确的？是什么造成了数据差异，数据差异的构成和占比差异是否合理？</li>
<li>是否需要进行修正，计划、难点分别是什么。</li>
</ul>
<p><strong>2）结果呈现</strong></p>
<p>数据比对的报告不需要精致，能够做到逻辑清晰，图表搭配，层次分明。</p>
<p>让阅读者一目了然理解差异和差异构成就可以进行结果数值比对、差异明细、对照过程及明细。</p>
<p>呈现饼图和柱形图足够了，柱形图看差异，饼图看差异构成。</p>
<h2 id="toc-4">四、 数据人的下一步</h2>
<p>应对被动的数据比对之后，如何化被动为主动，进行常态化的数据监控，不再耗心费力疲于应对，提升数据健康度，对数据异动监控提示，实现数据可用可查有提示可预警。</p>
<p><strong>唯一且艰难的道路：</strong>有数据质量标准是基础，在制定数据质量计划的标准上，进行周期性的数据质量盘点和数据治理！</p>
<p>这条道路需要数据团队有决心、信心，有足够的耐心和体力，去细致打磨适合企业的数据标准。</p>
<p>需要对每个数据域、数据实体、数据项，甚至到字段、属性，定义数据标准，核实数据质量。</p>
<h3><strong>1. 数据质量</strong></h3>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="聊一聊数据报表/数据分析的【对数】日常" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/pt0t51mjvNou8BSQDWNu.jpeg" alt="聊一聊数据报表/数据分析的【对数】日常" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">（GB/T 36344-2018 数据质量评价标准）</p>
<p><strong>Example：</strong></p>
<ol>
<li><strong>完整性：</strong>指数据元素和数据记录完成性，例如：字段是否存在空值，指标数据维度是否足够支撑业务分析。</li>
<li><strong>准确性：</strong>指数据可信度，例如：是否数据正确、格式合规、唯一性、无脏数据。</li>
<li><strong>一致性：</strong>指相同数据一致性和关联数据一致性，如：相同指标在不同场景下数值是否一致。</li>
<li><strong>时效性：</strong>指基于时间段的正确性、基于时间点及时性、时序性，例如：实时能否保证1分钟以内延时，离线能否保证每天9点定时更新。</li>
</ol>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="聊一聊数据报表/数据分析的【对数】日常" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/03/upqqVhS1hyEGnetPI0KV.png" alt="聊一聊数据报表/数据分析的【对数】日常" width="236" height="559" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">（GB/T 36344-2018 数据质量评价标准-数据质量评价过程）</p>
<h3><strong>2. 数据清洗</strong></h3>
<p>在建立数据规范的基础上，就可以进行数据质量提升的行动，也就是“数据清洗”。</p>
<p>数据清洗，就是从数据库表中更正和删除不准确的数据。</p>
<p><strong>1）数据清洗</strong></p>
<ol>
<li>识别数据问题；</li>
<li>评估问题及解决方案；</li>
<li>清洗计划：更正、删除、合并、替换、补齐；</li>
<li>数据应用及周期性质量评估清。</li>
</ol>
<p><strong>2）数据清洗实践要点</strong></p>
<ol>
<li>数据问题是业务数据问题，需要多方人员参与，全面的考虑上下游联动影响，包括产生数据的、使用数据的。</li>
<li>提升源端质量是根本之法，增加系统界面端和数据库输入的的限制，如某些字段非空校验、数据类型校验、唯一约束等。</li>
<li>做好备份！做好备份！做好备份！</li>
</ol>
<h3>3. 监控预警</h3>
<p>监控预警是化被动为主动的方法，可根据数据质量规则制定监控策略。</p>
<p>通过数据质量监控工具来提示数据异常或数据波动，来确保对业务数据稳定的掌控感和保证数据的准确性，问题处理的及时性。</p>
<p>质量规则不再多说，可以聊一聊波动性，什么样的指标波动可以看作是“异常”呢？</p>
<p>指标波动不可怕，数据波动是业务发生的正常情况，业务产生自然会发生数据变化。</p>
<p>比如每周的销售额肯定不一样，脱离业务场景没法谈数据波动。</p>
<p>但像之前都1000w，这周只有200w，是不是就属于异常状态？</p>
<p>监控可以根据公司业务情况和数据情况来综合评定，通过绝对值预警、相对值预警两方面来设定。</p>
<p><strong>具体的方法有：</strong>绝对值、同比环比、周期平滑、假设检验（3σ原则）、时间序列、算法模型。</p>
<h3>4. 提前准备</h3>
<p>在新需求的设计过程中，就提前准备数据比对的工作。</p>
<p>评估不同线上线下、离线实时的差异，找出可能产生问题的原因并解决，技术架构方案选择，或预评估差异。</p>
<h3>5. 一些提醒</h3>
<p><strong>1）再次强调：业务、业务、业务</strong></p>
<p>数据必须和业务结合才有意义，熟悉业务才能看到数据背后隐藏的信息。</p>
<p>缺乏对行业、公司业务认知，数据应用和数据分析结果都会出现偏离，变成自嗨或者空中楼阁。</p>
<p>要懂上下游数据，也要弄清楚公司所在行业结构，对行业的上游和下游的经营情况有大致的了解。</p>
<p><strong>2）数据敏感度</strong></p>
<p>数据本身是客观的，但被解读出来的数据是主观的。</p>
<p>同样的数据由不同的人分析很可能得出完全相反的结论，所以一定不能提前带着观点去分析。</p>
<p><strong>Example</strong>：比如指标预警没有合适方法，可暂定波动值超过5%预警。</p>
<p>如果一个变量符合正态分布，则其95%的值会落到均值左右二个方差内。</p>
<p><strong>3）迭代化思维</strong></p>
<p>业务是不断调整和发展的，依托的系统和数据也是不断迭代变化，相应指标也需要随着业务不断调整，更加精确的度量业务。</p>
<p><strong>4）精细度控制好，不要追求极细</strong></p>
<p>细分是深入的分析的基础，但不要追求极细，细分意味着复杂，要判断公司团队数据意识和业务精细化管理是否到了匹配的阶段。</p>
<p> </p>
<p>本文由 @申墨扬 原创发布于人人都是产品经理。未经许可，禁止转载。</p>
<p>题图来自Unsplash，基于CCO协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5361325" data-author="1082872" data-avatar="http://image.woshipm.com/wp-files/2021/03/JcNIpeXQDBC52QdQokzi.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            