
---
title: '从0到1，轻松构建数据预测模型'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/8gjkXCs4yyDImMNlIlFH.jpg'
author: 人人都是产品经理
comments: false
date: Thu, 01 Jul 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/8gjkXCs4yyDImMNlIlFH.jpg'
---

<div>   
<blockquote><p>编辑导语：利用数据预测模型，有助于我们更加方便且直观地获取信息，观测发展态势。那么，我们可以如何构建好一个数据预测模型呢？本篇文章里，作者结合实际案例，总结了从0到1构建数据预测模型的流程与方法，一起来看一下。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-4795891 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/8gjkXCs4yyDImMNlIlFH.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>之前和大家分享了趋势型预测方法，很多小伙伴想看躺平型与周期型预测，今天它们来了。</p>
<p>首先回顾一下，常见的数据走势有三种：</p>
<ol>
<li>趋势型：连续发展的态势。</li>
<li>躺平型：变动较少，一条直线。</li>
<li>周期型：有规律的周期性波动。</li>
</ol>
<p>直接看图，能一眼认出来是哪一种（如下图）：</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/iawEXeKCg2j3gCsQXV7g.png" alt="从0到1，轻松构建数据预测模型" width="712" height="178" referrerpolicy="no-referrer"></p>
<p>认清楚走势以后，就能选择对应的模型啦。</p>
<p>先看躺平型的例子。举例：某门店业绩数据如下图所示，请预测2021年4月的业绩：</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/Nc43UCjtnJWD9LWwTPAs.png" alt="从0到1，轻松构建数据预测模型" width="713" height="390" referrerpolicy="no-referrer"></p>
<p>看到这张图，很多小伙伴会直呼：这个看起来，和100000的线很像呀，就是围绕100000的线在波动，我能直接按100000去预测吗？</p>
<p>答：当然可以呀。躺平型只要躺的够“平”，完全可以用平均值来做预测值。还有专门的方法叫：移动平均值法，即把近N期的数据平均值，作为预测值。</p>
<p>不过这样做有个问题：看起来不够高大上，领导们又说：“有没有大数据算法来搞搞……”哎，就是总有人迷信这个，那就弄个看起来复杂一点的：用指数平滑法来预测。</p>
<h2 id="toc-1">一、指数平滑法预测数据模型</h2>
<p>用指数平滑法需要调用excel的分析工具，可以点击上方的：文件→选项，在加载项中选择：分析工具箱。</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/Ne4W4Dz0RGIBEynmJk84.png" alt="从0到1，轻松构建数据预测模型" width="712" height="344" referrerpolicy="no-referrer"></p>
<p>设置好之后，就能在上方：数据 栏目，找到数据分析按钮。点下去，就能看到各种常见的分析工具了。</p>
<p>第一步：做好数据处理（如下图），选择指数平滑方法。</p>
<p><img data-action="zoom" class=" aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/1ImgjVCZwdEv08evc8m2.png" alt="从0到1，轻松构建数据预测模型" width="712" height="353" referrerpolicy="no-referrer"></p>
<p>第二步：选择输入区域，设好阻尼系数。</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/RRk5baiKI0TitQEyOppA.png" alt="从0到1，轻松构建数据预测模型" width="717" height="371" referrerpolicy="no-referrer"></p>
<p>阻尼系数是啥意思？阻尼系数是一个0到1之间数字，可以简单理解成：</p>
<ul>
<li>阻尼越大，真实值权重越小，即历史情况参照意义越小；</li>
<li>阻尼越小，真实值权重越大，即历史情况参照意义越大。</li>
</ul>
<p>不过大家完全不用纠结这个，完全可以设好几个阻尼系数，预测出来以后，看哪个预测的MSE值越小，就信哪个！简单迅速才能下班早！（关于MSE计算方法参见上一篇）</p>
<p>第三步：做好几个预测值，然后看哪个MSE小。比如设阻尼系数为0.95.9.8.7，分别计算预测数据及MSE值如下：</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/bayu0I0pZdREV02dP7Vv.png" alt="从0到1，轻松构建数据预测模型" width="715" height="391" referrerpolicy="no-referrer"></p>
<p>看图说话，阻尼系数0.8的时候MSE值最小，就它了，搞掂！</p>
<h2 id="toc-2">二、实例</h2>
<p>再看个季节性预测的例子。举例，某线上店铺，销售业绩走势如下图（单位：万元）如何对2021年第一季度做预测呢？</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/CxwnGOvcpH9nFhXQPRIe.png" alt="从0到1，轻松构建数据预测模型" width="713" height="351" referrerpolicy="no-referrer"></p>
<p>显然，店铺业绩受双11、双12大促影响明显，4季度是旺季。这种走势也不能直接用趋势线来模拟，模拟出的趋势线R平方只有0.0几，完全不能用。但是，可以通过一个小技巧，把这个数据改造成可以用趋势线模拟的形式。</p>
<p>第一步：先对数据做改造。改造方法如下图，通过数据处理，模拟出季节变化趋势，这种方法叫：季节多元回归。</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/WS0Eq7n5EzcpFuWpZSbk.png" alt="从0到1，轻松构建数据预测模型" width="719" height="416" referrerpolicy="no-referrer"></p>
<p>第二步：进行回归分析。既然叫季节多元回归，自然要调用回归分析，在同样的路径：数据→数据分析里，找到回归分析方法，然后输入参数：</p>
<p><img data-action="zoom" class="rich_pages js_insertlocalimg aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/uaPqvM4UQg9igpumYAqu.png" alt="从0到1，轻松构建数据预测模型" width="718" height="407" referrerpolicy="no-referrer"></p>
<p>第三步：解读分析数据。这里又是让人脑瓜子嗡嗡的时刻。不过不要怕，对大部分非数据分析专业的小伙伴，只要看几个关键数字就好了.</p>
<p><img data-action="zoom" class=" aligncenter" title="从0到1，轻松构建数据预测模型" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/06/HkiyW8gYXhvBqBcPDrC9.png" alt="从0到1，轻松构建数据预测模型" width="718" height="511" referrerpolicy="no-referrer"></p>
<p>从结果上看：</p>
<ol>
<li>R平方0.93，很好；</li>
<li>各个参数的P值，除了X1以外都很小，很好。</li>
</ol>
<p>所以模型可用。还可以把X1：时间这个变量去掉。时间变量代表了长期发展趋势，本身这个数据几个周期也没有很大长期增长，所以去掉也是情理之中的。</p>
<p>有小伙伴可能好奇，做出来的模型为啥系数都是负的，真的没问题吗。没有，注意这个数据本身就是Q4数值很大，那Q1、Q2、Q3的参数肯定就是负的了。</p>
<p>这样就做完啦。想预测下个季度，可以增加一行：2021年1季度，对应的参数，t是21，Q1=1，Q2、Q3都是0，然后代入公式即可。这里留给读者们自己试一下。</p>
<h2 id="toc-3">三、总结</h2>
<p>以上就是今天整理的简单预测方法。其实真只有几个数字要预测的话，即使丢给专业的算法工程师，他也是这么算的。我就亲眼看见隔壁算法组小哥哥，打开excel拖了几下，然后回个邮件给商品运营组的领导，说：“这是大数据方法预测的，blabla……”那一刻我整个人都震惊了，点赞、收藏、转发一键三连！</p>
<p>可能看完后，还有小伙伴会疑惑：领导们那么喜欢“建模”，他们真的不懂吗。其实这一点我还挺幸运的，因为我之前的领导就是接地气的陈老师，他会把客户的各种奇葩想法挡在门外，所以很少被不懂行的领导折腾。现在在互联网某厂，有专门的算法组处理这些问题，也很少被纠结了。</p>
<p>从我接触的客户/同事来看，还真的是：懂行的不迷信，迷信的不懂行。所以为了早点下班，用一些看似高大上实则轻松快捷的方法还是很有必要的。混过关就好。</p>
<p>小伙伴们自己掌握方法以后，也不用再纠结啦。遇到这些小问题打开excel拖一拖，我们这些查数姑们也能早点下班呢。</p>
<p> </p>
<p>作者：码工小熊，微信公众号：码工小熊</p>
<p>本文由 @码工小熊 原创发布于人人都是产品经理，未经许可，禁止转载。</p>
<p>题图来自 Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4792934" data-author="1285820" data-avatar="https://static.woshipm.com/APP_U_202106_20210620005424_1343.jpeg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            