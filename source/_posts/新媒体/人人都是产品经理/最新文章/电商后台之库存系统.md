
---
title: '电商后台之库存系统'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/11/Tlnzgj4FNrUvacbcTqM7.jpg'
author: 人人都是产品经理
comments: false
date: Sat, 27 Nov 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/11/Tlnzgj4FNrUvacbcTqM7.jpg'
---

<div>   
<blockquote><p>编辑导语：在电商系统里，库存系统是其中必备的一个系统，要建立一个良好的库存系统，就需要了解清楚其中的几个重要概念。本文从库存是什么、为什么要做、库存的变化以及缺货的解决办法这几个方向出发，介绍电商后台中的库存系统，一起来看。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5231522 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/11/Tlnzgj4FNrUvacbcTqM7.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>电商系统有一个绕不开的系统，那就是库存体系。库存体系的设计对于电商的货物扭转有着非常重要的作用。想要设计一套库存体系首先就是要了解库存是什么、为什么做、库存的变化、缺货怎么办。今天我将围绕以下几个方向来详细讲解一下电商中的库存体系。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/11/spFl483IWKnriMyMOjjK.png" alt width="591" height="681" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、库存是什么</h2>
<p>广义：具有经济价值的任何物品的停滞与储藏，是供将来使用的所有闲置资源。</p>
<p>狭义：就是仓库里存放的东西。</p>
<h2 id="toc-2">二、库存从何而来</h2>
<p>对于仓库而言，所有的库存一开始均来自于采购入库。</p>
<p>从各销售平台层面讲，允许先有库存再销售和先销售再有库存（预售）两种模式。</p>
<h2 id="toc-3">三、为什么要做库存体系设计</h2>
<p>保持一定的商品库存是为了减少供应商供货不到位或不确定性带来的风险，是满足一些计划之外的意外需求或者临时需求，并且实际的需求和预测是有差异的。</p>
<p><strong>1）库存过少带来的风险</strong></p>
<ul>
<li>可能产生应对紧急订单的困难，造成客户投诉或因此失去市场或客户；</li>
<li>产生供应风险，需启动紧急计划；</li>
<li>因供应风险的产生，可能导致紧急采购，进而引发采购成本的上升；</li>
<li>因可能产生供应紧张，造成因此产生的紧急配送或空运，增加物流成本。</li>
</ul>
<p><strong>2）库存过大带来的风险</strong></p>
<ul>
<li>增加仓库面积和库存保管费用,从而提高生产成本；</li>
<li>占用大量的流动资金,造成资金呆滞；</li>
<li>造成成品和原材料的有形和无形损耗。</li>
</ul>
<p><strong>3）负库存带来的风险</strong></p>
<ul>
<li>增加商品的不明损耗；</li>
<li>产生缺货；</li>
<li>损失商品毛利。</li>
</ul>
<h2 id="toc-4">四、电商系统的库存体系</h2>
<p>商库存体系分为了三层：销售层、调度层、仓库层。</p>
<h3>1. 销售层</h3>
<p>指我们前台的商品数量，也就是我们平时在电商 app 前台看到的库存数量，销售层库存不足时，前台就显示缺货，无法售卖。</p>
<p>这一层主要面对前端手机用户，一般情况下，前端库存要和实物库存保持一致，即不能超卖。但是做预售时，就是虚拟库存，下单时涉及到的库存动作只在销售层，待到备货之后，再推送至调度层。</p>
<p>销售层的库存决定是否可售卖，下单是否能成功。在秒杀时，活动库存决定了是否可以秒杀成功；预售时，预售库存决定是否可下定金预定。</p>
<p><strong>可销售库存：</strong>网站前台显示的库存，可以对外售卖的库存。当“可销售库存>0”时，前台网站则会显示商品可销售;而“可销售库存=0”时，前台网站则会显示商品缺货。</p>
<p><strong>锁定库存：</strong>用户下单锁定库存，支付后扣减库存。锁定库存指的下单时占用库存，保证客户下单后支付的订单都是有货可发，而不会相互冲突。</p>
<p><strong>已销售库存：</strong>统计商品已售数量。当支付成功，商品就算作已销售库存。如果取消订单或售后就需要走相应的库存变动流程变动。</p>
<p><strong>活动库存：</strong>主要是做促销活动（例如秒杀）时，分配固定数量的商品给相应的活动，这时候就需要从可销售库存中占用相应数量给活动库存。这部分库存也是走相应的锁定、扣减逻辑。</p>
<p><strong>预售库存：</strong>这部分是虚拟库存，主要是拉动式需求，例如B端订货、双十一定金预售等。预售同样走相应的锁定、扣减逻辑。不同的是，预售的订单需要备货之后，再推送至调度层。</p>
<h3>2. 调度层</h3>
<p>调度层汇总了所有仓库的库存（仓库可能有多个），调度层负责向销售层同步商品库存，并供各大平台上的订单下载后在OMS（订单管理系统）占用/扣减/释放/返还，产生缺货信息。</p>
<p>调度层相当于订单的分配中心，将订单转化为发货单，按照调度规则决定哪些sku（商品编号-最小存货单位）由哪个仓库发货。（现在已经被引申为产品统一编号的简称，每种产品均对应有唯一的SKU号）。</p>
<p>调度层的库存分为单仓、区域、总库存三个维度，区域库存指的是这些仓库只发某一区域的，例如京东华中地区的仓库配送华中地区，北京就无法从华中地区的仓库发货。总库存即所有仓库的库存总计。</p>
<p><strong>账面库存：</strong>仓库中的实物库存，只要是未出库的都算在账面库存中。</p>
<p><strong>可用库存：</strong>仓库中可供发货的库存。这部分库存是可供调度的库存。</p>
<p><strong>在途库存：</strong>下了采购单但是尚未入库的库存，在途库存理论上部分是可供销售的，例如T+1的在途库存，就是1日之后就可以入库的sku。</p>
<p><strong>不可销售库存：</strong>仓库盘损的库存，仓库中的不良品，无法售卖的库存。这部分库存需要通过特定途径处理。</p>
<p><strong>已用库存：</strong>在调度层已分配的库存。</p>
<p>调度层在某些方面上和前端库存有些重叠，前端库存也会分区域和总库存，但是不同的是，调度层对应的是实物，不会存在虚拟库存，流到调度层的订单经由调度后推动至仓库发货。</p>
<h3>3. 仓库层</h3>
<p>仓库层负责向调度层同步商品库存，每一个仓库的账面库存与调度层的仓库总库存是一致的，通过调度层的订单会下发至WMS系统进行占用/扣减/释放/返还。</p>
<p>仓库层的库存对应的是实物库存，出库入库盘点都会引起仓库库存的变动。</p>
<p><strong>可用库存：</strong>发货单推至仓库后，仓库可以用于发货的库存，不包括锁定的库存。</p>
<p><strong>锁定库存：</strong>发货单推送至仓库后锁定库存，锁定时同时去锁定库位库存。</p>
<p><strong>已出库库存：</strong>已经确认出库的实物库存。</p>
<p><strong>不可用库存：</strong>盘点时发现的不良品，需要报损，从可用库存转化为不可用库存。</p>
<p><strong>库位：</strong>仓库中的库存是由库位库存组成的，库位上分为可用库存、锁定库存两种。</p>
<h2 id="toc-5">五、库存是如何变化的</h2>
<h3>1. 销售层</h3>
<p>销售层分拍下减库存和支付减库存，拍下减库存会涉及占用，支付减库存不会涉及占用，两种方式对库存的影响，如下图所示（这里假设购买的商品是2件）：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/DQaXvEK0ygoVPzm7VIeo.png" alt width="516" height="720" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">（拍下减库存）<img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/am0oHWV5ItfV0eS87MhE.png" alt width="212" height="379" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">(支付减库存)</p>
<p>以上是销售层自有的库存占用/释放/扣减/返还逻辑，除此以外，销售层还会接受来自调度层的库存同步，同步行为一般定时产生。</p>
<h3>2. 调度层和仓库层</h3>
<p>由于调度层和仓库层库存交互的业务比较多，这个地方一起来介绍。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/11/mvLqJijCiu9FcMs2yqRq.png" alt width="651" height="458" referrerpolicy="no-referrer"></p>
<ul>
<li>整个流程从调度层这边开始，销售处产生了新的订单给调度层；</li>
<li>正常情况下占用库存增加，如果库存足够被占用，那就占用库存层的拣货区库存，如果拣货区库存足够占用的话，那就出库，仓库的库存减少，总库存也减少，占用库存也减少，这是一个正常的流程。</li>
</ul>
<p>中间会有几个分支：</p>
<ul>
<li>在仓库层这边，假如加入拣货区库存不够被占用，那就会生成待补货订单，这个时候需要进行仓库移位，把仓库的库存移到拣货区，让拣货区的库存增加；</li>
<li>同样在仓库层这边，在盘点库存的时候，如果出现盘亏（也就是仓库的实际库少于账面库存，通常是被偷了等），那仓库的库存也要扣减，如果出现盘盈，那仓库库存就要增加，当然，如果有新商品入库，仓库库存也要增加；</li>
<li>在调度层这边库存，如果库存不够被占用后，会产生缺货订单，等待仓库补货，或者退换货等行为导致库存增加，补上之前的缺货订单，库存能够被占用。</li>
</ul>
<h2 id="toc-6">六、缺货该怎么办？</h2>
<p><strong>OMS层（订单管理系统）：</strong></p>
<p>缺货处理在企业内部需要运营层、客服、采购三方协作共同完成。运营负责提供可选的解决方案，如告知客服可与客户协商更换其他同类型产品或告知客户退款取消；采购负责进行订货并反馈订货到货时间；客服负责联系购买客户，向客户沟通运营提出的解决方案，如客户坚持等，则告知预计的到货时间信息。</p>
<p>采购到货后优先保证缺货订单中先下单的用户先发货。产品层面需要给三方提供一个协作平台，将彼此的信息共享做到透明化。</p>
<p><strong>WMS层（仓库管理系统）：</strong></p>
<p>缺货指的是拣货区缺货，系统需要告知仓库拣货区缺货的数量，仓库作业人员从存储区补货至拣货区可解决拣货区缺货问题。</p>
<p> </p>
<p>本文由 @今夜睡桥底 原创发布于人人都是产品经理，未经许可，禁止转载。</p>
<p>题图来自Pexels，基于CC0协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5187440" data-author="1302525" data-avatar="https://static.qidianla.com/woshipm_def_head_1.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            