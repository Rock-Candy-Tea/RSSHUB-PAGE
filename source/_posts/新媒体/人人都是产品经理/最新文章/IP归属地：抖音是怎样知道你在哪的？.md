
---
title: 'IP归属地：抖音是怎样知道你在哪的？'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://image.yunyingpai.com/wp/2022/05/PezhofnEL8gRf0697o1m.png'
author: 人人都是产品经理
comments: false
date: Fri, 06 May 2022 00:00:00 GMT
thumbnail: 'https://image.yunyingpai.com/wp/2022/05/PezhofnEL8gRf0697o1m.png'
---

<div>   
<blockquote><p>编辑导语：听说，你正在跟你的朋友marry在美国的唐人街吃早餐？最近我们都被IP归属地刷屏了，各大平台如抖音、小红书、微博等都开放了IP归属地功能，本文将对IP归属地的意义、IP的定义、IP定位到归属地的机理这三方面阐述，值得阅读了解。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-799256 aligncenter" src="https://image.yunyingpai.com/wp/2022/05/PezhofnEL8gRf0697o1m.png" alt referrerpolicy="no-referrer"></p>
<p>五一小长假，本来打算回趟老家，但鉴于疫情情况，为了不给自己，不给家人，不给国家添麻烦，想想还是在床上躺平吧，结果躺着躺着，整个大郑州又封了……</p>
<p>木得办法，只能理所当然地躺在床上刷抖音了~</p>
<p>结果刷着刷着，就刷出了下图中的内容，相信很多小伙伴也都刷到过吧：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="IP归属地：抖音是怎样知道你在哪的？" src="https://image.yunyingpai.com/wp/2022/05/ShkB02gRniVy7EK3YuE1.png" alt="IP归属地：抖音是怎样知道你在哪的？" width="400" height="1476" referrerpolicy="no-referrer"></p>
<p>唉，我这该死的求知欲，想躺平都这么难，来，听着《本草纲目》，跟我一起研究起来袄~</p>
<p><strong>看到这个功能，你是不是直观地以为，抖音有一个数据库，然后里面存了各种各样的IP，再然后IP对应的有个字段，叫做“归属地”，只要“select”一家伙，就知道你在哪了？</strong></p>
<p>这么想的同学，请在评论区告诉我一下。。。</p>
<p>我想说，电影都不敢这么拍的，要真有这么简单，那些网络诈骗的，早都被抓了八百遍了。。。</p>
<p>今天，我们从三个方面来研究一下这个“IP归属地”：</p>
<ol>
<li><strong>IP归属地的意义；</strong></li>
<li><strong>IP是什么；</strong></li>
<li><strong>IP是怎样定位到归属地的。</strong></li>
</ol>
<p><strong>提前声明一下，今天分析的这些个知识点，纯属虚构，如有雷同，那肯定是因为我流弊，哈哈哈。</strong></p>
<h2 id="toc-1">一、意义</h2>
<p>关于“IP归属地”的意义，我翻阅了近期的相关文章，基本上都有说明了，但那些文章也只是讲到了这个层次，关于这方面，我们再来简单总结一下。</p>
<p>上线该功能的，不只是抖音，还包括微博啊、小红书啊等各大平台，上线该功能的初衷，在各大平台的公告中，也已经给出了解释，大致意思是这样的：</p>
<h3>1. “IP归属地”意义</h3>
<p>IP归属地的目的是在于，减少冒充热点事件当事人，恶意造谣、蹭流量等不良行为，维护健康有序的讨论氛围，保障用户第一时间，获取真实有效信息的权益。</p>
<p>我们再来举几个活生生的例子，大家就能够更加地感同身受了：</p>
<p><strong>（1）网恋翻车现场</strong></p>
<p>假如你在网上谈了个国外的高富帅男朋友，每天都给你发一些像什么跟marry一块去唐人街吃早餐之类的视频，之前没有IP归属地的时候，给你羡慕的不要不要的；</p>
<p>然后现在有了IP归属地，打开视频一下，好家伙，你的“高富帅”男友，显示正在某农村，说不定正在跟一群人吃流水大席呢。</p>
<p><strong>（2）虚假人设打造</strong></p>
<p>大家在抖音上肯定刷到过很多像什么直播徒步西藏啊，或者是荒岛求生之类的视频，之前没有IP归属地的时候，你肯定很羡慕这些人，也想来一场说走就走的旅行；</p>
<p>现在有了IP归属地之后，你或许会发现，那些徒步西藏的人，压根没在西藏，说不定视频就是在他家屋子后面的高速上拍的；那些荒岛求生的视频，也可能就是在村里的哪个河沟旁整的。</p>
<p><strong>（3）打游戏干架</strong></p>
<p>男生打游戏，那都是血气方刚的，开局选角色就开始对骂的，也是正常操作，在没有IP归属地之前，那对骂的气氛到了，肯定得来一句：“敢不敢说出来你家在哪？”</p>
<p>然后现在有了IP归属地之后，氛围到了，就可以直接提着40米的大砍刀，去现场干架了。。。</p>
<p>好了，开个玩笑，这些个意义，相信大家作为资深网民，尤其是博学的产品经理，都已经很清楚了，我们今天的重点，不仅仅是“知其然”，更要“知其所以然”，让我们继续往下看吧。</p>
<p>2IP是什么？想要搞清楚，IP是怎样定位到归属地的，那你得先搞清楚第一个问题，那就是IP是什么？俗话说，有问题找百度嘛，在百度中输入“IP”两个字母，然后就查出了我本机的IP地址，然后还有相应的归属地。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="IP归属地：抖音是怎样知道你在哪的？" src="https://image.yunyingpai.com/wp/2022/05/WdzyDiuSDLtKvmNp8jF8.png" alt="IP归属地：抖音是怎样知道你在哪的？" width="400" height="165" referrerpolicy="no-referrer"></p>
<p>这时候呢，反正我有两个疑问：</p>
<p><strong>IP地址的这一堆数字，代表了什么含义呢？</strong><strong>IP归属地，定位到了“县”，那精准度能不能定位到我家呢？还是说基于用户隐私，可以定位到，但只是没有显示而已？</strong></p>
<p>我们先来研究<strong>第一个问题。</strong></p>
<p>其实这个类比一下就很好理解了，<strong>就比如我们的身份证，是不是也是一堆数字，然后唯一标识了你这个人对吧。</strong></p>
<p>我们接着往这方面想，身份证是由派出所发行的对吧，然后你想办理一个身份证，是不是还得登记一下你的“姓名、性别、民族、出生年月、住址”这些玩意。</p>
<p>这方面也是同样的，IP地址也是由专门的机构进行分配的，其分配方式，整体上如下图所示：</p>
<p><img data-action="zoom" class="rich_pages wxw-img js_insertlocalimg aligncenter" title="IP归属地：抖音是怎样知道你在哪的？" src="https://image.yunyingpai.com/wp/2022/05/uRauL2f3VHo2e9qnkZRh.png" alt="IP归属地：抖音是怎样知道你在哪的？" width="400" height="326" referrerpolicy="no-referrer"></p>
<p>可能大家熟悉的，也就是第三个层级了，移动、联通、电信这些，毕竟这些对于我们终端用户来说，还有选择的权利，像其他的NIR、LIR也不是我们能够选择的。</p>
<p>我们接着往下看，刚是不是说了，你想办理身份证，需要登记“姓名、性别”这些个信息，同样，你想领取使用一个IP地址，也需要登记相关的信息。</p>
<p>这就是传说中的<strong>“WHOIS协议”！</strong></p>
<p>“whois”直译过来，就是“是谁”，那么在whois协议中，都登记了哪些信息呢？我们可以通过whois查询工具，看一个例子：</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="IP归属地：抖音是怎样知道你在哪的？" src="https://image.yunyingpai.com/wp/2022/05/yFQ3Yh7uZdrX8mZZnkFx.png" alt="IP归属地：抖音是怎样知道你在哪的？" width="400" height="721" referrerpolicy="no-referrer"></p>
<p>查出来，大概是这些个玩意，反正我是看不懂，哈哈哈。</p>
<p>这个分析过程太枯燥了，估计大家也都没兴趣看，我就直接给出结论吧，whois需要登记的信息，大概有以下几种：</p>
<ol>
<li>返回信息：主要是说明了从哪个数据源，通过什么方式，返回了查询结果；</li>
<li><strong>注册信息：这个是最重要的信息，包括申请的网络名，比如“中国联通”，还有地理位置、管理人员、技术联系人、管理机构等；</strong></li>
<li>扩展信息：就相当于备用信息，就比如备用管理人、备用技术联系人等；</li>
<li>其他信息：就相当于备注，进行补充说明。</li>
</ol>
<p>好了，通过类比，我们能够知道，<strong>IP地址和我们的身份证号差不多，都是由相关机构分配的，包含了相关注册信息的，并且是用于身份标识的一串数字</strong>，那接下来，我们再来看看<strong>不同</strong>的地方吧~</p>
<p>最大的不同，<strong>就在于身份证的拥有者和使用者是同一个人，但IP地址的拥有者和使用者，就有可能不</strong><strong>同。</strong></p>
<p>我来举一个例子大家就明白了：我们平常在家上网，你细心观察一下就可以发现，你今天的IP地址跟昨天的IP地址，有可能不同。</p>
<p>为什么出现这种情况呢？因为我们要节省资源啊，一个小区内假如有1000户人家，这1000户人家，同时上网的概率很小吧，就算是晚上，也有可能今天这户不在家，明天那户不在家是吧。</p>
<p>如果每家每户都分一个固定的IP用于上网，那是不是资源就太浪费了，怎么办呢？我们就给这个小区分500个IP，谁上网，就随机给他分一个这不就行了么~</p>
<p>这就是，我们常说的<strong>“动态IP”</strong>的概念！</p>
<p>多说一句，其实归根结底，还是因为我们的IPv4的地址，已经分完了，不够用了。所以说，现在都在研究IPv6啊，IPv6有2的128次方个IP地址，足够给地球上的每个沙子，都分配一个IP了。。。</p>
<h2 id="toc-2">二、小结</h2>
<p>好了，说了这么多，大家应该对于IP是什么，有一个大概的了解了吧。</p>
<p><strong>简单来说，IP和身份证差不多，都是包含一些登记信息的，用来标识一个对象的一串数字，但不同的是，身份证的拥有者和使用者是同一个人，但IP的拥有者和使用者有可能不同。</strong></p>
<p>但大家有没有发现，虽然知道了IP是什么，但好像我们想把IP和归属地关联起来，也没有那么容易哈。</p>
<p>尤其是这种移动端的IP地址，那就更不知道怎么定位了，包括我们刚开始提出的第二个问题，IP归属地的精准度能定位到我家么？这个我们继续研究。</p>
<p>3IP是怎样定位到归属地的？想要通过IP找到相应的归属地，我们得先将IP进行分类，先看看这个IP是静态IP还是动态IP，不同的类别，有不同的处理办法。</p>
<h3>1. 静态IP</h3>
<p>就比如企业专线、学校、医院、政府机构等这些地方的IP，肯定都是固定的静态IP，这种IP想对应到归属地就很简单，我们只需要通过查询“whois”的注册信息，就基本上能够定位到这个IP的归属地。但归属地的精准度，就需要依靠“whois”注册信息的详细程度了。</p>
<h3>2. 动态IP</h3>
<p>就比如家庭宽带，移动网络这些，这种IP想定位到归属地，就稍微麻烦一些，但原理也很好说明。</p>
<p>家庭宽带的定位方式和静态IP类似，因为这些IP虽然在变，但是这个IP的范围是基本不变的，也就是说，理论上我们可以定位到这个小区，那具体是哪家，这个应该就定位不到了。</p>
<p>而移动网络的IP是随着你所在地理位置的基站的变化而变化的，我们可以实时定位出这个移动网络的基站所在地，也可以通过统计分析，归纳出这个移动网络经常出现的区域。</p>
<p>原理说完了，是不是听起来很简单？但想要做到精准的IP归属地定位，绝对是一个<strong>量变才能引起质变的过程。</strong></p>
<p>就比如，我们只是单一地通过“whois”信息判断归属地，那就太被动了，我们还可以借助<strong>“BGP”协议中的注册信息、“hostname”中的注册信息</strong>等多方数据来共同判定IP归属地。</p>
<p>如果这些数据存在冲突，就可以采用其他的方式例如<strong>ping工具</strong>，来确认一下哪个是更加准确的，还通过一些<strong>统计分析，归纳出那些动态IP对象的常用归属地。</strong></p>
<p>好了，以上就是今天的内容了，有些事情听起来很简单，但是做下去，尤其是坚持做下去，真的不容易，就比如今天所说的IP归属地，再比如我写文章这件事，所以，点个赞支持一下吧~</p>
<h3>#专栏作家#</h3>
<p>晓庄同学；公众号：晓庄同学产品笔记，人人都是产品经理专栏作家。互联网老兵，各大平台专栏作者。</p>
<p>本文原创发布于人人都是产品经理。未经许可，禁止转载。</p>
<p>题图来自Unsplash，基于CC0协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5425564" data-author="150320" data-avatar="http://image.woshipm.com/wp-files/2021/05/meqYTAuzFPX3EYcHrFNX.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            