
---
title: '数据分析产品同比、环比设计要点总结'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/H6GgkcYklvvjubrXmxjO.jpg'
author: 人人都是产品经理
comments: false
date: Mon, 26 Jul 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/H6GgkcYklvvjubrXmxjO.jpg'
---

<div>   
<blockquote><p>编辑导语：在数据分析及其可视化产品中，我们最常使用的分析思路就是对比分析，有对比才有实际可量化标准。那么对于量化对比，我们最常使用的是同比、环比分析。虽然它们听起来很普通，但是其中需要考虑的点却不少，我们一起来看看吧。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-4936118 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/H6GgkcYklvvjubrXmxjO.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>在数据分析、数据可视化产品中，最常用到的分析思路就是对比分析，有对比才有直观的量化评价标准，如果只是说今天DAU 1000W，那这1000W仅是个数字而已，业务表现到底是好还是坏呢？</p>
<p>对比分析过程，日期的对比是最为普遍的对比角度，而不同的业务属性、业务不同的发展阶段，日期对比的范围也往往不同，同比、环比听起来很简单，但实际在数据分析或数据产品设计时，有很多要点需要考虑到。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/V8hYLUQonLdvOJ0BqU8o.png" alt width="553" height="637" referrerpolicy="no-referrer"></p>
<h2 id="toc-1">一、同比、环比的定义及误区</h2>
<ul>
<li>同比：和历史同期对比，即强调和过去的时期比，同比增长率=（当前统计周期值-历史同期值）/历史同期值。狭义的同比是年同比，但按照同的定义，可以将同比的范围扩展，即周同比，月同比，年同比等更多的对比方式，毕竟对于增长快速的业务尤其是互联网企业，只按年对比不够全面。</li>
<li>环比：和上一周期对比，即强调是相邻的统计周期。</li>
</ul>
<p>当对比日期为上周同期、或者上月同期时，有的人会叫周环比，月环比因为很多人把同比定义是对比的去年同期。从同环比的定义出发，可以明确澄清一下，对于某日数据对比上周同一天或上月同一天时，严格的定义应该是：周同比、月同比，而不是环比。</p>
<h2 id="toc-2">二、不同对比周期的业务场景</h2>
<h3>1. 增长率分析</h3>
<ul>
<li>环比：用于分析本期业务表现和前一周期的对比情况，如今天和昨天比，业务表现如何，是涨还是跌呢？像买理财或者股票，希望每天都比昨天涨一些。环比的时间周期比较临近，适合于看业务近期的表现。</li>
<li>周同比：很多业务有明显的周期性，比如OTA行业，多数人是只有周末才有空出门旅行，那周一到周五的业务表现和周末会有很大差异，用周六的数据环比周五，会有比较大的跌幅。用本周六对比上周六会更加合理。</li>
<li>月同比：对于一些账单类的产品，用户的使用可能在每月的某几天会尤为集中，用本月1号对比上月1号，则更能体现业务的增长情况。</li>
<li>年同比：看业务每年的增长情况，对于一些稳步增长的成熟企业，会重点看每年的增幅，并制定年度的业务目标。而对于飞速发展的新兴企业，只看年同比是远远不够的。</li>
<li>节假日年同比：旅游行业的节假日属性很强，端午、中秋、春节等这些假日每年的日期又不太一样，很多时候看业务在假日期间的表现时，要对比去年相同节假日期间的表现，包括节前X天，节后X天等。</li>
</ul>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/pmIiyEcmj8lmZjeen89u.png" alt width="508" height="191" referrerpolicy="no-referrer"></p>
<h3>2. 数值对比</h3>
<p>对于实时监控类的分析场景，数据更新频率到分钟级，直接看对比日期的分时段数值和趋势，可以更直观的看到最新的业务表现是否超越了历史，创造了新的业务峰值。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/ynz4trZqO8FvAiDuASD3.png" alt width="718" height="759" referrerpolicy="no-referrer"></p>
<h2 id="toc-3">三、同比、环比计算常见问题及处理逻辑</h2>
<p>不同日期颗粒度的数据，支持对比的方式如下：</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/07/ckiSEs6WvLzUs8ZeUxAd.png" alt width="511" height="239" referrerpolicy="no-referrer"></p>
<p>在同环比计算时，有些坑点还是要提前在需求层面确认好，避免测试或上线后，再去调整。</p>
<h3>1. 月份日期不等，对比日期缺失</h3>
<p>天粒度的数据，月同比的计算会存在此问题，例如3月29日之后的日期，同比上月（2月）时，可能2月就没有对应日期的数据了，此时对比分母不存在，可以做“—”处理，即这几天的月同比值不存在。</p>
<h3>2. 周颗粒度数据的同比计算</h3>
<p>每周对应去年同期的周日期基本上是对不上的，一般的处理方式是，建立每一年的日期维度表，即对每年的周进行1-52的编号，周同比计算时，可以用当前周编号，减去一年（52周）的周号计算</p>
<h3>3. 周、月、年未过完</h3>
<p>数据产品的数据是动态更新的，周一或者每月看数据，当周、当月都没过完，此时同环比的计算需要考虑数据对齐的问题。</p>
<p><strong>方式一：</strong>直接用本期已有数据，对比上期完整周期的数据，例如现在7月10号，7月数据环比计算时，取7月1日-7月12日，而6月则是整月的数据。</p>
<p>这种方式的好处是数据处理简单，不需要额外增加清晰工作量，不足是数据对比有失偏颇，用不完整的数据，对比整周或整月的数据。只有当周期过完时，数据才是相对可信的。</p>
<p><strong>方式二：</strong>本期和上期相同天数的范围对比，例如：今天7月20日，7月数据环比6月，是用7月1日-7月20日的数据对比6月1日-6月20日数据，优点是数据对标范围一致，缺点是对比日期的数据需要动态的计算，尤其对于UV类涉及去重的指标，需要单独清洗一份数据，会增加额外的工作量。</p>
<p>如果前期没有说明清楚逻辑，测试或者上线后再调整，重新清洗数据就已经来不及了。</p>
<p>一般建议采用方案二，会更加严谨。</p>
<h2 id="toc-4">四、总结</h2>
<p>同比、环比是数据产品设计中最常用的对比分析功能，来定量评估数据的表现。相比较离线数据分析的静态数据，数据产品的数据是每日更新的，天、周、月不同时间颗粒度以及周初、月初等不同时间节点，同比、环比计算时都有一些坑点需要提前明确好逻辑的。</p>
<h3>#专栏作家#</h3>
<p>数据干饭人，微信号公众号：数据干饭人，人人都是产品经理专栏作家。专注数据中台产品领域，覆盖开发套件,数据资产与数据治理，BI与数据可视化，精准营销平台等数据产品。擅长大数据解决方案规划与产品方案设计。</p>
<p>本文原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自Pexels，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4922901" data-author="850132" data-avatar="http://image.woshipm.com/wp-files/2021/03/wr0yF8W7pZRmmG8fTZbU.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            