
---
title: '为什么_燃油方案_改了三次版？聊聊我对建模的一些理解'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/xn6m1yO7hKy3IGiFFCyA.jpg'
author: 人人都是产品经理
comments: false
date: Thu, 09 Jun 2022 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/xn6m1yO7hKy3IGiFFCyA.jpg'
---

<div>   
<blockquote><p>编辑导语：产品建模是对产品需求进行抽象、整理、建立数据、梳理工作流程的过程，对于产品工作也十分重要，本篇文章作者结合“燃油方案”的改版分享了对建模的一些理解，对建模感兴趣的小伙伴一起来看看吧，希望对你有帮助。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5479796 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/xn6m1yO7hKy3IGiFFCyA.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>前段时间重温了一波UML，除了复习了一波基础的语法和使用场景之外，还有一个很重要的目的就是：<strong>学习如何建模。</strong></p>
<p>关于建模，我之前看完了《大象：Thinking in UML》的前两章后，写了一篇阅读笔记《一个掉头发的问题：什么是建模？》，当时写完了之后感觉对建模的概念稍微有些掌握，但是过了一段时间之后又开始有点生疏、模糊了。</p>
<p>于是最近我又重温了这篇文章，同时又再读了两遍《大象：Thinking in UML》的前两章，结合最近项目中遇到的一个小案例，我决定写一篇关于建模实践的心得文章，也就是这一篇。</p>
<h2 id="toc-1">一、简单理解建模</h2>
<p>关于建模的定义，我直接摘录书上的解释，因为我感觉这个定义挺准确的，也很简洁。</p>
<blockquote><p>建模（Modeling），是指通过对客观事物建立一种抽象的方法用以表征事物并获得对事物本身的理解，同时把这种理解概念化，将这些逻辑概念组织起来，构成一种对所观察的对象的内部结构和工作原理的便于理解的表达。</p></blockquote>
<p><strong>上面建模的定义本身就和建模工作一样非常抽象和难以理解。</strong></p>
<p>我大概总结了一下我自己的理解，然后用借用一张图和几段稍微通俗的一些语言来概述它。</p>
<p>产品日常工作中需要使用建模，是因为我们需要对一些事物建立一些概念化的描述，然后以此来让其他人理解这些事物。</p>
<p>例如业务提出的需求是做一个“采购系统”，但是“采购系统”这几个字很虚无缥缈。</p>
<p>然后具体是怎么样子，有什么功能，要怎么做，需要产品去逐步调研，设计。</p>
<p>然后<strong>建模</strong>，最后将建立好的模型通过一些图形化或者文字化的表达，传达给开发和测试人员等，最后大家认知达成一致之后，上线一款满足业务需求的“采购系统”。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/QTfbn7pKaohoda4CPwMC.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="717" height="300" referrerpolicy="no-referrer"></p>
<p>要完成建模，首先是确认抽象角度，这其实就是面向对象的一个分析过程。一个需求的背后有很多人，事，物和规则，单单拿“人”来说，也会有不同的抽象角度。</p>
<p>例如常见的就是按职位或者使用功能的角度来抽象，采购管理模块的人分为“采购员”，“业务员”，“供应商”。</p>
<p>但是如果按使用系统的角色来抽象，则采购管理模块的人可以分为“采购发申请角色”，“采购处理角色”，“管理员”，“采购审核人员”等。</p>
<p>不同的抽象角度汇聚在一起会构成“问题领域”，问题领域中那些重叠的部分其实就是需要重点关注并解决的问题，因为在不同的抽象角度都能得出此问题，则意味着该问题是高频且核心的。</p>
<p>其次是确认业务用例，当我们在第一步的时候确认了若干个抽象角度之后，由于抽象角度背后是特定的场景，所以我们应该对相应的场景进行梳理。</p>
<p>例如我们是按职位或者使用功能的角度来抽象，这个抽象角度背后的场景就有“采购员在什么条件下要做什么事达成什么目标”，“业务员在什么情况下会需要发起采购申请？要如何发起？”，“在采购环节中要如何与供应商关联，关联之后能做什么”。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/hUn8vp7dNZc6mEXZzF48.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="722" height="409" referrerpolicy="no-referrer"></p>
<p>对业务建模的概述，如果说上述的大白话，还是让你对建模有点琢磨不透，似懂非懂的话，那我拿一个我最近在做的实际案例来进一步解答你的疑惑。</p>
<h2 id="toc-2">二、为什么要做燃油方案</h2>
<p>之前有提到过，海外仓尾程物流的费用一般包含两个部分基础运费+附加费，附加费中有一个比较特殊的“燃油附加费”，它的计算公式是（运费+部分附加费）* 燃油费率。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/7cldcBSpbh8ZiyXvKcnJ.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="714" height="489" referrerpolicy="no-referrer"></p>
<h3>1. 尾程物流费用构成</h3>
<p>燃油费率具有以下几个特点：</p>
<ol>
<li>和时间有关系，不同的时间段，费率不一样，所以费率的更新比较频繁；</li>
<li>和物流商有关系，不同的物流商，燃油方案（生效时间范围和费率）不一样，但是也有一些物流商的渠道是相同的燃油方案；</li>
<li>费率是一个百分数（小数），需要乘以基础费用才能得出具体的燃油费；</li>
</ol>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/RdHWy1Rzt93C1wW61mPB.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="748" height="507" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">图源：FedEx官网</p>
<p>无论是从业务的角度，还是从技术的角度，燃油方案看起来都是一个很简单的需求，容易理解，关键字段也很少，业务关联性也不复杂。</p>
<p>起初的时候我也不以为然，感觉就是一个很简单的需求，差不多想了一下，然后找竞品也看了下，就输出了一个产品设计方案，准备到时候快速评审一下。</p>
<p>但是实际上我前后改了三个版本才解决这个“小需求”，期间还一度让我感觉自己是不是进入了“知识诅咒”，陷入了“死胡同”出不来了。</p>
<h2 id="toc-3">三、因为建模失败，改了三个版本</h2>
<h3>1. Round1：参考竞品来建模</h3>
<p>参考了好几个竞品之后，我发现大家对燃油方案的设计都是最简单的平铺型的设计，也就是把所有创建好的燃油方案按时间排列。</p>
<p>燃油方案也是一个比较抽象的概念，为了让大家更好地理解它，所有我们在对其进行建模的时候，需要先确认一个抽象角度，因为确定了角度就会让我们有一个目标。</p>
<p>“平铺型”就是一个建模的角度，通过这个角度，我们得到了目标：<strong>平铺式的展开所有的燃油方案，以便于更简单方便地对燃油方案进行管理</strong>。</p>
<p>而管理燃油方案就会涉及到多个场景，这就是建模的第二步———找出特定的场景。</p>
<p>我们需要创建燃油方案，编辑燃油方案，删除燃油方案，应用燃油方案等，以上这些是场景中的“事情”，然后借此我们还需要去挖掘这个场景中的“人”和“规则”。</p>
<p>当我们确定了抽象角度，找到了这个角度背后的场景之后，建模也就完成了大半。</p>
<p>最后要做的就是对这些场景进行梳理和推敲，是否能够完全满足业务的需求，有没有遗漏的点或者阻塞的点等。这其实也是UML中梳理用例的过程，所以当我们在梳理用例的时候，本质上也是在做建模这件事。</p>
<p>如果一个抽象角度不能完成建模，那就要继续回到第一步，发掘更多的抽象角度，从实际的工作经验来看，简单需求可能一个抽象角度就可以完成建模，但是复杂需求往往需要多个角度，多个场景，多个用例同时构建才能完成建模。</p>
<p>让我们再回到燃油方案建模这件事的起点时刻，首先要做的就是去发掘它的抽象角度，从多个竞品的实现方案上来看，平铺型的视角是用的最多的，所以我们第一版也采用了平铺型的视角去建模，去梳理业务用例，去完成产品设计。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/FgpP8uHzI7xpKmei6bEF.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="715" height="306" referrerpolicy="no-referrer"></p>
<p>第一版的建模：平铺型。</p>
<p>确认了视角之后，接下来就是挖掘场景，从“人”，“事”，“物”，“规则”几个方面去构建场景，然后发现了这种方案有以下几个问题。</p>
<ol>
<li>方案平铺后数量太多，会不断新增，使用的时候不太方便；</li>
<li>燃油方案需要经常更新，而且有些时候会提前设置，等到时间点后生效，平铺型的燃油方案不利于更新，如果修改已有数据，则破坏了正在生效的计费方案；如果追加新的燃油方案，则必须要求燃油方案重名，用户操作出错的风险太大；</li>
</ol>
<h3>2. Round2：使用平铺型+状态限制来建模</h3>
<p>鉴于平铺型的视角会有一些问题难以解决，我们在短暂的讨论后决定要调整一下方案，换一个视角来发掘业务场景，试图找到更好的解决方案。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/VRu3BasTroVXclkjZGqd.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="712" height="311" referrerpolicy="no-referrer"></p>
<p>第二版的建模：平铺型+状态。</p>
<p>在第二版的方案中，我们引入了一个新的“状态”字段。大多数场景还是和第一版一样，只是通过状态来做一些核心业务逻辑的判断。</p>
<p>燃油方案名可以重复，重复意味着使用一个燃油方案后，当后续不断的新增/修改燃油方案后，只要名称是可以匹配的，就可以使用这个燃油方案来计费。</p>
<p>然后通过状态来判断，“生效中”的燃油方案不能重名，只有一个，“未生效”和“已失效”的燃油方案可以重名，可以有多个。</p>
<p>状态是通过每天的定时任务来判断的，根据设置的日期和当前日期进行比较，判断应该在什么状态。</p>
<p>这个方案最后还是被我们评审的时候Pass掉了，原因是还是有一些风险点和体验不好点，原因如下：</p>
<ol>
<li>“未生效”的燃油方案如果重名且生效日期范围有重合，则会导致当自动生效的之后，“生效中”的状态可能会同时有两条；如果限制了不能重合，则又要限制“未生效”和“生效中”的也不能重合，这样感觉和状态又无关了，引入这个概念没多大的意义，因为方案一就是限制了不能重合；</li>
<li>定时任务更新状态可能会失败，需要引入重试机制或者兜底机制；兜底的机制是每次用的时候再去查当前的日期是否满足生效日期范围，如果每次都要查，那么定时任务更新状态也没意义了，直接实时用时间去判断就够了；</li>
</ol>
<h3>3. Round3：采用树状结构来建模</h3>
<p>因为方案一有一些漏洞或者体验不好的点，所以才想到了方案二，引入了一个状态，但是实际在处理这个状态的时候，发现很是鸡肋，有用但是又不完全有用……</p>
<p>看似一个简单的需求，但是设计出来的产品方案总是有明显的漏洞和瑕疵，我感觉可能一开始的思路就错了。</p>
<p>也就是说：<strong>竞品们采用的从平铺型视角去建模，有可能本身就是错误的或不好用的。</strong></p>
<p>意识到这一点之后，我完全抛开了竞品的干扰，直接从最本质的需求和业务逻辑触发，重新发掘新的建模视角，最后发现采用树状结构才是更合理的解决方案。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" title="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2022/06/ISQEoxMVoZ8X2AfPAo24.png" alt="为什么“燃油方案”改了三次版？聊聊我对建模的一些理解" width="717" height="356" referrerpolicy="no-referrer"></p>
<p>第三版的建模：树状结构。</p>
<p>首先，燃油方案名称本来就是一个索引，一个壳子。</p>
<p>业务说经常要更新燃油，这里的更新只是对燃油方案中的明细进行更新，常见的就是修改生效日期、失效日期和燃油费率，燃油方案名称一般来说是不会修改的，也不能修改，因为方案是一直被计费规则所使用的。</p>
<p>其次，燃油方案还有一个很关键的场景需要满足，就是对已经发生了的物流费进行重新计算的时候，需要使用物流发生的时候的燃油明细去计费，也就是历史的燃油明细也很重要，需要留底备用。</p>
<p>最后，树状结构可以保持燃油方案的简洁，配置计费规则的时候选择的是燃油方案的主档信息，而在使用/调用燃油方案的时候，再根据日期时间去查询该方案下的燃油明细。</p>
<p>当然，对于燃油明细还是要确保生效日期范围不能重复的，这样计费的时候才能找到唯一的一条数据。</p>
<h2 id="toc-4">四、总结</h2>
<p>最后回过头来看的时候，燃油方案这个需求确实比较简单，我们最终使用的方案也没有特别的创新或者颠覆性的改造，但是整个经历却很跌宕起伏，很让我触动。</p>
<p>一个小小的方案，因为一开始的建模方向搞错了，导致陷入了一种不撞南墙不回头的境地，让我总是在自我怀疑，为啥别人可以这样做，我自己这样做的时候却不行了呢？</p>
<p>通过三次的建模，三种不同的视角带来的差异也让我特别惊讶，很多时候我都以为建模只是在复杂场景下才用的上的比较玄乎的技能，但事实上好像简单场景也能用得上。</p>
<p>只是场景过于简单我们大多数时候第一反应切入的视角就已经可以做到最优解了，所以对建模视角的选择这个事情不会有太深刻的记忆。</p>
<p>其次是关于竞品参考这件事也让我有些顿悟，批判性思维在产品领域真是时用时新。</p>
<p>大家都在用的方案也不一定是最优解的方案，错误的概念和理解传播的多了，用的人多了，也不能改变它是错误的本质。</p>
<p>这一篇文章写了2个礼拜，断断续续始终没有灵感和动力一口气写完。</p>
<p>一方面是工作节奏太紧了，抽不出太多的时间。</p>
<p>另一方面是在建模方面，我还是只是一个初学者，边写的时候还在边找资料论证，我发现市面上关于这一块优秀的教材还是太少了。</p>
<p>用这个案例来阐述我对建模的理解，也许没有我想象中那么贴切，或者有一些理解可能还是错误的。如果你在此领域有更好的案例或者学习教程，欢迎与我沟通交流。</p>
<h3>#专栏作家#</h3>
<p>我叫维他命（Vitamin），微信公众号：PM维他命。前PHPer，做过在线教育类产品，也做过4年多的跨境仓储物流方向的产品，目前是一位外贸SaaS领域的供应链产品经理。主要专注于WMS/OMS/TMS/BMS/ERP等领域，分享供应链相关的产品知识。</p>
<p>本文原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自Unsplash，基于 CC0 协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5479404" data-author="227259" data-avatar="http://image.woshipm.com/wp-files/2021/07/Ubf7DEfcVQI43v46YkSc.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            