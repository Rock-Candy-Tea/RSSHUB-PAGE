
---
title: '满满干货带你揭开RTA的神秘面纱'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/PtFRdMDMaMAjqurPAfAi.jpg'
author: 人人都是产品经理
comments: false
date: Wed, 04 Aug 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/PtFRdMDMaMAjqurPAfAi.jpg'
---

<div>   
<blockquote><p>导读：随着互联网红利的消失，广告主获客越来越难且成本水涨船高，以前的粗放式投放不再适用于眼下的市场，精细化投放已经成为广告主不可或缺的选择。在精细化投放的场景中，各大广告平台于19-20年纷纷推出了RTA，那么什么是RTA，RTA如何辅助投放，它跟之前的RTB有什么区别，本文将为你揭开RTA的神秘面纱。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-4986281 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/PtFRdMDMaMAjqurPAfAi.jpg" alt width="800" height="450" referrerpolicy="no-referrer"></p>
<p>RTA（RealTime API），中文解释“实时广告API”，广告平台在进行广告检索阶段，通过RTA接口向广告主询问其广告是否参与竞价，广告平台在接收到该信息后再进行广告检索召回。</p>
<h2 id="toc-1">一、背景</h2>
<p>任何一个新鲜事物的出现一定是伴随着一定的需求背景的，让我们先来了解下RTA产品的需求背景。在上文《Marketing API的那些事儿》中我们有提到广告主投放广告的三种途径，除了自建DSP对接ADX是依赖于广告主自身数据和技术之外，剩下的两种：媒体后台开户投放和对接MAPI搭建Trading Desk方式都是依赖于广告平台的能力建设。由于广告主自建DSP需要较深的技术沉淀，广告主一般都会选择媒体后台开户投放或者对接MAPI搭建Trading Desk方式来满足自家App推广需求。</p>
<p>在推广前期，广告主可通过广告平台提供的定向能力来获客，但随着互联网红利的消失，广告主获客越来越难且成本水涨船高，以前的粗放式投放不再适用于眼下的市场，精细化投放已经成为广告主不可或缺的选择。结合广告主一方数据和广告平台的技术能力来辅助投放是行之有效的解决方案。</p>
<p>那么，在没有RTA之前，广告平台是如何实现通过一方数据弥补广告平台定向能力不足的？很简单，在《Marketing API的那些事儿》中有提到，MAPI的一个很重要的功能是数据回传。不论是DMP API还是用户行为数据回传API，广告主均可通过这将所需定向数据回传到DMP平台，然后广告平台将自身的DMP和DSP打通，利用广告主上传的数据来进行定向投放。广告主的一方数据，除了弥补定向之外，还有一个重要的应用场景是OCPX，因此这也是为什么说广告平台推荐大家使用OCPX，这样其可以获取到后链路数据，丰富其数据特征，辅助优化模型。</p>
<p>既然已经有了数据回传MAPI，那广告平台为什么又要推出RTA呢？考量点主要出于如下几个原因：</p>
<ol>
<li>出于保护用户隐私数据安全考虑，广告主不再将数据通过API输出给外部平台，用户数据只能在自身平台发挥作用；</li>
<li>通过MAPI回传数据存在滞后性，无法保证数据的实时性；利用RTA接口可以来弥补平台实时定向能力的不足。</li>
</ol>
<h2 id="toc-2">二、RTA广告流程</h2>
<p>广告平台在进行广告检索阶段，通过RTA接口向广告主询问其广告是否参与竞价，广告平台在接收到该信息后再进行广告检索召回，一个完整的RTA广告流程如下图所示。</p>
<p><img data-action="zoom" class="rich_pages wxw-img js_insertlocalimg aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/tGFNdzmLBhtPLyZ55Y2E.png" referrerpolicy="no-referrer"></p>
<ol>
<li>前端发起广告请求，请求后端广告服务；</li>
<li>广告服务一般会经过广告检索、广告召回、广告粗排、广告精排等一些过程，最终将广告下发给前端展示给用户；</li>
<li>RTA请求时机：为什么没有将RTA插入到上述的某一个流程中，原因在于RTA适合于广告检索到广告下发之间的任一环节，但是处于不同的环节，对于广告平台和广告主的处理逻辑是不一样的；因此广告主开发者在对接RTA时需要跟对方明确其RTA的请求时机是在什么阶段；</li>
<li>RTA超时控制：RTA对时效性要求很高，所以当一旦出现超时等问题时，不同平台的处理机制不太一样。有些平台在超时后会默认广告主不需要本次流量；有些平台则相反，会默认广告主需要本次流量。因此开发者在对接RTA时需要跟对方明确其RTA的超时时间和超时处理逻辑；</li>
<li>RTA控制维度逻辑：RTA的控制粒度可以到广告账号、广告计划等维度，但不同平台的控制粒度不太一样，粒度更细，广告主可更好地进行精细化投放，目前大部分平台都还在广告账号维度。开发者在对接RTA时需要跟对方明确其RTA的控制维度；</li>
<li>RTA出价：目前主流广告平台的RTA接口支持设置出价（或者价格系数），广告主开发者可结合自身数据对本次流量进行价值预估，掌握出价的主动权。还有一些RTA接口支持质量分，功能与出价类似，都是返回本次流量的价值；开发者在对接RTA时需要跟对方明确其RTA是否支持出价或者质量分；</li>
<li>DPA广告：目前主流广告平台的RTA支持返回商品ID（需提前跟广告平台对接商品库），即可以投放DPA广告，适合做remarketing，进一步对流量做精细化运营。开发者在对接RTA时需要跟对方明确其RTA是否支持DPA广告；</li>
<li>监测链接：对于支持曝光点击监测的广告平台，部分平台的监测宏支持RTA_ID，这样可以区分出哪些广告是通过RTA策略胜出的，同时可以针对广告流量质量做监控，例如曝光点击监测数据中出现了未知的RTA_ID，那么该流量可能存在问题。开发者在对接RTA时需要跟对方明确其监测链接是否支持替换RTA_ID宏参数。</li>
</ol>
<h2 id="toc-3">三、RTA接入</h2>
<p>RTA，作为一个扩展实时定向能力的API，可以提升广告投放效果，首先广告主肯定是希望接入的，但广告平台出于数据安全和时效性考虑，一般都会设置接入门槛，这一点与对接ADX类似。</p>
<ol>
<li>消耗门槛：由于广告平台开放RTA功能存在数据输出的风险，所以广告平台一般只会针对KA客户开发RTA能力；</li>
<li>技术门槛：RTA是一个实时接口，对时效性要求很高，因此广告主开发者必须具有较好的技术沉淀，才可以对接RTA；</li>
<li>数据能力：RTA需结合广告主一方数据和广告平台技术能力才能最大化发挥其功效，因此广告主开发者需具备一定的数据能力，有能力基于一方数据对流量质量进行评分，衡量流量价值。</li>
</ol>
<p>广告主在搭建RTA平台时，需要关注接口超时问题，一旦超时比例过高，平台有可能关停RTA能力。尤其是当广告主对接了各大平台的RTA时，比如广点通，巨量或者百度的流量，每次都对广告主进行RTA请求的话势必会导致广告主服务器QPS的量很大，压力很有可能扛不住。</p>
<p>那么，这个时候为了提升QPS，广告主开发者可以设置缓存机制，优先使用缓存数据。到这里需要考虑缓存过期问题，除了设置过期时间外，还需结合业务逻辑主动删除缓存，比例用户安装激活了App，比如用户购买了广告产品等场景。广告平台侧同样可以设置相应缓存机制，即对广告主已经进行“标记”的用户进行缓存或者记录，下次无需再广告主发起请求。随着RTA数据的不断积累，广告平台就能掌握更多广告主用户侧的数据特征，从而减少RTA的次数。同时广告主一方数据的积累对于广告平台的好处也是显而易见的，比如用于训练OCPX模样等。</p>
<p>广告主在搭建RTA时，应当关注如下几个指标：</p>
<ol>
<li>超时率：过高的超时率对广告平台和广告主开发者都是一种不好的体验，平台侧有可能关停RTA能力；</li>
<li>RTA有效返回占比：有效返回RTA结果的比例，如果该比例过低，会导致RTA消耗过低，平台侧会认为RTA并未给广告主带来较大的效果提升，有可能会关停RTA能力；</li>
<li>RTA消耗占比：参与RTA的消耗占大盘整体消耗的比例，与RTA参与率类似；</li>
<li>RTA匹配分析：通过结合监测链接中的RTA_ID数据和RTA有效返回数据分析RTA最终匹配情况。</li>
<li>……</li>
</ol>
<h2 id="toc-4">四、RTA应用</h2>
<p>RTA提供了实时定向的能力，那么在哪些场景可最大化发挥作用呢？下面罗列一下电商行业几个常用的场景，如果读者有更好的场景，欢迎一起探讨。</p>
<h3>1. 拉新</h3>
<p>广告主在推广App时，一定会涉及到拉新，获取新客户。既然是拉新，那如果将广告投放给老客户，浪费预算的同时又会影响老客的用户体验，因此在投放拉新广告时需要排除老客。如何判断一个用户是某App的新用户还是老用户，只有广告主自己才知道，而且每个广告主的判断标准还不一致，因此广告平台无法屏蔽这部分用户。通过RTA接口，广告主可以自行判断是否针对本次流量投放拉新广告，从而提升广告投放效果。</p>
<h3>2. DPA</h3>
<p>目前主流的广告平台均支持在RTA返回结果中返回商品信息，这就表示广告主可以结合内部推荐数据给本次流量推送最合适的广告素材。广告主开发者需要支持实时+离线的方式计算用户的个性化数据，这里面就需要考量耗时问题，毕竟实时推荐可能达不到RTA要求的时效性。</p>
<h3>3. 频控</h3>
<p>在广告行业中，大家有一个共识，针对同一个用户投放多次并不会提升效果，反而需要将用户看到广告的频次控制在一定范围内。广告主在推广App时，一般都会渠道投放。在没有RTA之前，广告主一般只能设置单渠道的频控设置。在有了RTA之后，如果投放的渠道均支持RTA，那么广告主可以做到全局频控，可以节省投放费用，同时提升投放效果。</p>
<h3>4. 流量分层运营</h3>
<p>在App运营体系中，不同活跃度用户的流量价值是不一样的，活跃度越高，相应的流量价值也越大。因此广告主一般都会针对不同的活跃度的用户打上不同的质量分，同时设置对应的运营策略。由于RTA接口支持回传流量质量分，广告主可通过此字段向广告平台传达其对本次流量的打分情况，平台在收到该信息后，叠加平台侧的动态出价能力，为广告主更好的去竞得本次流量，实现流量的分层运营。</p>
<h2 id="toc-5">五、RTA VS RTB</h2>
<p>RTB（RealTime Bidding），中文解释为“实时广告竞价”，广告主可针对ADX的每一次流量进行流量价值、CTR以及CVR预估，然后决定是否参与竞价，如若参竞，需要返回对应的广告素材以及出价。广告主通过自建DSP对接ADX，由于缺少平台媒体侧上下文信息（context）、用户媒体的用户行为（user）以及其他相同广告主投放的泛化数据，因此相同技术能力条件下，广告主的CTR和CVR预估模型也比较有限。</p>
<p>RTB和RTA，虽然两者从名称上看就一字之差，但两者是完全两个不同的工具，主要差异点见下图。</p>
<p><img data-action="zoom" class="rich_pages wxw-img aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/08/HIoeUwOx0Vru7W2E1p5s.png" referrerpolicy="no-referrer"></p>
<ol>
<li>广告归属：RTA的广告创建位于广告平台侧；RTB的广告创建位于其自建的平台侧；</li>
<li>出价：RTA的出价可以是平台的出价*用户质量分，也可以是RTA的实时出价；RTB的出价是实时竞价；</li>
<li>定向：RTA的定向结合平台侧的定向和广告主的实时定向；RTB的定向主要是其自建平台的定向功能；</li>
<li>定向粒度：RTA的定向粒度可以是账号和计划级别；RTB的定向粒度是广告级别；</li>
<li>数据：RTA利用了广告平台数据和广告主一方数据；RTB仅利用了广告主一方数据。</li>
</ol>
<h2 id="toc-6">六、总结</h2>
<p>RTA是这两年兴起的广告技术能力，其核心要点在于通过广告主一方数据并结合广告平台的技术能力来更好的实时辅助广告投放，包含但不限于定向优化、出价优化、DPA优化等，随着各平台对于RTA的深入探讨研究，期望这个行业能给大家更多的玩法。</p>
<p><strong>文章推荐：</strong></p>
<p><a href="http://www.woshipm.com/marketing/4888726.html" target="_blank" rel="noopener">Marketing API的那些事儿</a></p>
<p><a href="http://www.woshipm.com/pmd/4787949.html" target="_blank" rel="noopener">商化广告角色大盘点</a></p>
<p><a href="http://www.woshipm.com/pd/4816828.html" target="_blank" rel="noopener">App开屏广告设计之禅</a></p>
<p><a href="http://www.woshipm.com/marketing/4858523.html" target="_blank" rel="noopener">漫谈广告流量分发策略</a></p>
<p><a href="http://www.woshipm.com/operate/4778249.html" target="_blank" rel="noopener">一文带你了解广告GIVT&SIVT</a></p>
<p> </p>
<p>本文由 @包子 原创发布于人人都是产品经理，未经许可，禁止转载。</p>
<p>题图来自 Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4980809" data-author="653349" data-avatar="https://static.woshipm.com/APP_U_201803_20180319085922_2048.jpeg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            