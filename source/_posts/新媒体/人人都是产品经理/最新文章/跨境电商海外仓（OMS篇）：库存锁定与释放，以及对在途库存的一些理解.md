
---
title: '跨境电商海外仓（OMS篇）：库存锁定与释放，以及对在途库存的一些理解'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 最新文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/mGOTbuZx2eKLzAey80QV.jpg'
author: 人人都是产品经理
comments: false
date: Sat, 09 Oct 2021 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/mGOTbuZx2eKLzAey80QV.jpg'
---

<div>   
<blockquote><p>编辑导语：在跨境电商OMS系统中，库存这一环节也十分重要，合理的库存设计有助于保障OMS出库的正常运转。那么针对库存的锁定和释放，应如何做好相对应的处理？在OMS中，在线库存的变化又应如何加入设计考量的范围？不妨来看看作者的总结。</p></blockquote>
<p><img data-action="zoom" class="size-full wp-image-5167454 aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/mGOTbuZx2eKLzAey80QV.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>OMS出库单会有好些个关键节点，在不同的节点需要完成相应的逻辑，才能确保单据后续的正常流转。</p>
<p>在跨境电商OMS中，一般比较关键的有：物流下单、预扣费资金冻结、库存的锁定、释放和扣减等，物流下单之前已经有一篇文章写过了，<strong>这次我们来聊聊库存的锁定、释放和扣减</strong>。</p>
<h2 id="toc-1">一、库存锁定的时机</h2>
<p>针对跨境电商海外仓OMS来说，库存的锁定一般会有这么几个场景：</p>
<ol>
<li>创建的时候就锁定库存；</li>
<li>物流下单，获取物流面单的时候锁定库存；</li>
<li>提交出库单到WMS的时候锁定库存。</li>
</ol>
<p>针对不同的客户会有不同的业务场景，所以库存的锁定一般也是不一样的，这三种场景不是任选一种，而是三种都要，灵活组合。</p>
<p>有些客户如果是比较严谨的，希望创建出库单的时候就能把一些库存给占用了，那么在创建后就锁定库存。</p>
<p>有些客户对库存锁定没有特别的要求，那么正常情况应该是在拿到了物流面单的时候就锁定库存。</p>
<p>还有一些客户的物流面单可能自己上传或者是不要求要物流面单，那么就可以设定在提交出库单到WMS的时候再来锁定库存。</p>
<p><strong>库存锁定的时机建议做成一个策略规则，每次有不同的客户引入的时候都可以配置对应的规则，如果没有配置规则，则采用默认的一个节点，这样可以很灵活地兼顾各种不同客户的需求。</strong></p>
<h2 id="toc-2">二、库存锁定与释放</h2>
<p>有库存的锁定，自然而然就会有库存的释放。库存的锁定与释放其实可以分成两组，第一组是锁定对应释放，第二组是锁定对应扣减。</p>
<p>库存锁定了，意思就是出库单占用了这一部分的库存，系统需要标记为锁定，防止被其他出库单给抢占。那么如果我取消了出库单，则需要释放这一块的锁定，所以库存锁定对应释放，其实就是指出库单取消或者拦截的场景。</p>
<p>如果这个出库单完成了，则需要扣减对应的库存。此时锁定的部分就会转化为扣减的部分，相当于先清空锁定的数量，然后增加扣减的数量（插入库存流水），最后可用库存还是保持不变。</p>
<p><img data-action="zoom" class=" aligncenter" title="跨境电商海外仓（OMS篇）：库存锁定与释放，以及对在途库存的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/YUnFbFU7bHv3wh51qVbq.png" alt="跨境电商海外仓（OMS篇）：库存锁定与释放，以及对在途库存的一些理解" width="713" height="214" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">库存锁定与释放示意图</p>
<p>在此处需要特别注意两个问题，一个是释放的时机，另一个是释放的数量。</p>
<p>关于释放的时机，对于出库单取消或者拦截来说，什么时候取消或者拦截成功了，那么就释放即可。对于出库单正常出库来说，需要关注一个问题：<strong>如何定义出库？</strong></p>
<p>按表面意思来看，货物离开了仓库，才叫做出库。但是实际的业务场景中，很多时候货物拣货，打包完成之后，可能需要过一天或者两天才会被物流商提走，这个时候出库的节点就会比较晚。也有可能被物流商提走了之后，但是没有一个严谨的交接动作，导致有一些出库单没有标记为出库，所以一直处于一个待出库的状态，不能扣减库存。</p>
<p>WMS怎么定义出库会影响OMS什么时候扣减库存，所以这一块需要结合业务去探索一个最佳解法。如果「出库」太早，则客户可以拦截出库单的时间段就会很短，实际货物没有出去，但是却不能拦截出库，白白增加损失；如果「出库」太晚，则有可能某些出库单会标记为超时出库，影响平台店铺的评分。</p>
<p>关于释放的数量，对跨境电商海外仓而言，基本上没有所谓的部分出库或者多批次出库，大多数业务都是整单出，一次性完结。所以在此不做展开，只是做一个提醒而已。<strong>如果出库数量确实有差异，考虑到锁定的数量的问题，一定要确保实际可用库存数量是准确的，可以借助一些异常处理手段来调整差异。</strong></p>
<h2 id="toc-3">三、在途库存的变化</h2>
<p>在途库存是一个很容易被大家忽视的环节，有些时候甚至会感觉这个数据没啥用，然后在设计一些逻辑的时候直接忘记了还有这么一回事。</p>
<p><strong>关于在途库存的资料，我在网络上也找了挺久的，结果发现好像很多文章都写得很浅或者很复杂，搞得理解起来特别难受。</strong></p>
<p>在此我总结一下我个人认知范围内，跨境电商海外仓中的在途库存一般是怎么用的，仅为个人观点，大家注意辩证性看待。</p>
<p>如果是想简单地理解在途库存，那么直接从最常见的两种产生在途库存的方式来分析就够了，它们分别是：</p>
<ol>
<li>调拨在途；</li>
<li>采购在途。</li>
</ol>
<p>调拨在途就是从A仓库调拨到B仓库的过程中，产生的在途库存。对于A仓库来说，货物已经离开了A仓库，所以A仓库的库存是已经扣减了的；而对于B仓库来说，货物正在运输的路上，但是还没有入库上架，所以不能算作可用库存，只是在途库存。</p>
<p>采购在途和调拨在途有很多相似点，都是从某地发到另外的一个地方。只不过采购涉及到一些和外部供应商结算的问题，所以稍微有点麻烦。对于即将接收采购货物的仓库来说，货物还在路上并没有上架，所以也不能算可用库存，只是在途库存。</p>
<p>在途库存可以预估未来的一段时间内的库存量，用来指导销售的决策；在途库存也是会占用资金成本的，所以财务部门会关注和重视这一块的数据。</p>
<p>对于跨境领域来说，由于备货到海外仓的过程（头程）时间特别长，所以在途库存的可控性对卖家来说就显得尤为重要了。除了需要统计好各个海外仓的实际可用库存之外，还需要关注备货在途的这一部分库存，及时做好库存的计划方案。</p>
<p>对OMS的来说，在途库存的定义一般是指<strong>入库单提交到仓库后，但是仓库还没有收货上架前，这一段时间的库存总数</strong>。</p>
<p>如果仓库实际上架了之后，在途库存就会转化为可用库存。如果仓库实际收货少于预报数量，却又强制结束了入库单，那么在途库存也需要相应的减少。因为入库单已经关闭了，在途库存应该按实际上架的数量转化为可用库存，而多出来的部分因为不能再继续上架了，所以这部分应该作废释放。</p>
<p><img data-action="zoom" class=" aligncenter" title="跨境电商海外仓（OMS篇）：库存锁定与释放，以及对在途库存的一些理解" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2021/10/QLnHVohvcqSjW5nU3d8T.png" alt="跨境电商海外仓（OMS篇）：库存锁定与释放，以及对在途库存的一些理解" width="716" height="250" referrerpolicy="no-referrer"></p>
<p style="text-align: center;">在途库存变化示意图</p>
<p>对于OMS来说，重点需要关注入库单状态为已提交到已上架之间的入库单的SKU的数量，这一部分需要根据仓库反馈的实际上架数量来动态调整在途库存的数量，最后再特别注意一些差异收货和差异上架的节点即可。</p>
<h2 id="toc-4">四、总结</h2>
<p>OMS出库这一块，物流下单和规则引擎是最复杂的，而库存的锁定和释放则是最基础的要求，所以也没写什么太深的内容，只是简单地对过往的项目经验做了一个总结和回顾。</p>
<p>库存的锁定和释放其实和出库单预扣费的逻辑是一样的，锁定了库存之后就要冻结相应的费用，库存释放了之后也需要对应地释放或者扣减冻结的费用。只不过计费这一块涉及的内容比较偏，而且内容也比较杂，在此就不多展开聊了。</p>
<p>而在途库存则是因为网上资料也确实太少了，所以我又献丑了一次，输出了一些自己的浅薄的观点和看法。</p>
<p>希望此文能对你有帮助，我们下篇再见！</p>
<h3>#专栏作家#</h3>
<p>我叫维他命（Vitamin），微信公众号：PM维他命。前PHPer，做过在线教育类产品，也做过3年半的跨境仓储物流方向的产品，目前是一位外贸SaaS领域的供应链产品经理。主要专注于WMS/OMS/TMS/BMS/ERP等领域，分享供应链相关的产品知识。</p>
<p>本文原创发布于人人都是产品经理，未经作者许可，禁止转载</p>
<p>题图来自Unsplash，基于CC0协议</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="5165884" data-author="227259" data-avatar="http://image.woshipm.com/wp-files/2021/07/Ubf7DEfcVQI43v46YkSc.jpg"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            