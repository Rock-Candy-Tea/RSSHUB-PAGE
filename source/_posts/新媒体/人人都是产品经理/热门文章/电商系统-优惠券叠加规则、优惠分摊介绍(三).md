
---
title: '电商系统-优惠券叠加规则、优惠分摊介绍(三)'
categories: 
 - 新媒体
 - 人人都是产品经理
 - 热门文章
headimg: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/RM3Dd9PzPn9t54kzmUI6.jpg'
author: 人人都是产品经理
comments: false
date: Mon, 21 Sep 2020 00:00:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/RM3Dd9PzPn9t54kzmUI6.jpg'
---

<div>   
<blockquote><p>编辑导语：在上一篇文章，我们讲解了满减、折扣、免邮、无门槛等类型券的后台页面设计及其使用范围，并提供了相关的原型截图，详情：<a href="http://www.woshipm.com/rp/4162386.html" target="_blank" rel="noopener">电商系统：优惠券原型设计说明（二）</a>；本文主要介绍了优惠券的叠加规则、优惠分摊介绍，我们一起来看一下。</p></blockquote>
<p><img data-action="zoom" class="aligncenter size-full wp-image-4191368" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/RM3Dd9PzPn9t54kzmUI6.jpg" alt width="900" height="420" referrerpolicy="no-referrer"></p>
<p>在上一篇文章，我们讲解了满减、折扣、免邮、无门槛等类型券的后台页面设计及其使用范围，并提供了相关的原型截图。</p>
<p>本文主要介绍优惠券的叠加规则，下单结算时的优惠券分摊及优惠券核销细节，同时也会将上面提到的各种优惠券，以某宝下单的例子来讲解内容。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/DzroObKJH4U15sLnbV5r.png" alt width="683" height="183" referrerpolicy="no-referrer"></p>
<p>对于优惠券的使用从场景不同可以分为：线上使用和线下使用，其实严格的讲两个方式最终的目的和结果都一样。</p>
<p>1）线上使用</p>
<p>当用户在app上看中心仪商品，然后加购下单，在结算页面选择可使用的优惠券，提交订单并付款后优惠券就被使用了。</p>
<p>2）线下使用</p>
<p>上面说到线上加购，下单付款，优惠结算，这是大多数平台都是这么玩的，还有一种方式就是线下核销使用，这种券统称线下券；现在都2020年了，许多线下都已经支持使用的电商的优惠券，当用户在门店购买商品等消费行为，付款时导购员通过POS进行优惠券扣减核销。</p>
<p>举个大家都参与过的例子：比如2020年疫情期间，为了刺激线下门店经济，支付宝广发消费券（本质上也是优惠券）供大家使用，鼓励大家去消费，甚至一些小餐馆门口都贴着支持消费券优惠的消息。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/SfXtMFsPLCF2jpOPpMqi.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" width="422" height="535" referrerpolicy="no-referrer"></p>
<p>补充一种券：礼品券；</p>
<p>其比较特殊一点，与满减券、折扣券最大的不同：礼品券可以直接兑换礼品，不需要下单；而满减券和折扣券下单是必要条件，所以礼品券在电商平台并不多见，或者几乎没有。</p>
<p>礼品券更适用于线上向线下引流的场景（除了特殊场景，一般没人不敢这么玩），或者线下向线下引流场景。</p>
<h2 id="toc-1">一、优惠券叠加规则</h2>
<p>不管是平台优惠券、还是店铺优惠券，总来的说优惠叠加顺序为：优先计算单品级优惠工具、再计算店铺级优惠工具、最后计算跨店优惠。</p>
<p>单品级优惠：针对于单个商品的打折、减价、促销价等打折方式的优惠级如前N件优惠、聚划算活动价、淘抢购活动价、大促价、日常活动价等。</p>
<p>店铺级优惠：所有针对店铺商品或店铺内部分商品的满减满折优惠适用场景包含但不限于天猫、淘宝、聚划算、淘抢购、飞猪等；包括但不仅限于聚划算满减满折（含下单立减第N件N元等）、优惠券（含有价优惠券、店铺优惠券、商品优惠券）、满折等。</p>
<p>跨店级优惠：支持平台跨店铺使用的优惠，如会员卡、天猫双11购物津贴、天猫品类券、聚划算跨店满减、淘宝跨店满减、飞猪满减券、飞猪旅行红包等。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/lVZGp8wqvmeElvq15T7d.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<h3>1. 介绍店铺优惠券的叠加使用规则</h3>
<p>1）店铺优惠券和商品优惠券无法叠加使用，一次下单中只能使用一张，系统默认生效优惠力度最大的优惠券。</p>
<p>商品优惠券：简单的理解，就是针对特定宝贝的优惠券，在店家打造爆款的时候，只需要打造一两个爆款；这个时候就可以通过商品优惠券的形式来做活动，所以商品优惠券针对的是部分商品。</p>
<p>店铺优惠券：顾名思义，它是针对店铺的一种优惠券，能够享受到优惠的宝贝是店铺里的所有宝贝，只要能够达到店铺优惠券的使用门槛，店铺里的任意商品都可以使用它。</p>
<p>店铺优惠券和商品优惠券是比较常见的两类优惠券，往往都是商家发放的；这两种区别主要是针对的范围不同，前者范围广，而后者范围小；至于两者是不是可以同时使用，就要看优惠券的使用门槛，不过一般情况下，商家都不会允许两种优惠同时使用的，不然让利就有点过多了。</p>
<p>2）店铺优惠券、店铺商品优惠券、店铺优惠活动</p>
<p>店铺活动指由店铺发起的单品促销、满M元减N元、满M元打N折、满M件免N件等等店铺促销类型的活动。</p>
<p>当购买的商品既符合店铺优惠券、也满足店铺优惠活动条件，两者可以叠加使用过，先计算优惠券满减，再计算活动优惠。</p>
<h3>2. 跨店优惠券和店铺优惠券</h3>
<p>一般情况下，店铺优惠券适合店铺通用，只要满足优惠券的自身使用条件，就可以和其它折扣活动叠加享受，其中包括跨店满减。</p>
<p>优惠叠加顺序为：优先计算单品级优惠工具、再计算店铺级优惠工具、最后计算跨店优惠；单品级优惠工具（默认生效最低价）、本店铺满减（一笔子订单仅可选择一个店铺级活动）、优惠券（商品优惠券/店铺优惠券/店铺红包‘仅集市’，一笔子订单仅支持一张店铺优惠券）、平台跨店满减（购物津贴/品类券/跨店满减）、淘金币、天猫点券卡、红包。（仅供参考）</p>
<h3>3. 平行式门槛计算规则</h3>
<p>目前，某宝、某东都是使用的是平行式门槛优惠计算规则，每一层级优惠都直接根据商品的单品优惠价来计算是否符合门槛；只要单品优惠价或单品优惠价总和满足各层级优惠门槛，即可同时享受各可用优惠。（单品级、店铺级、跨店级）</p>
<p>大家看如下图片例子，这里不展开讲。</p>
<p>后续文章会介绍平行式门槛计算规则的文章，下文优惠券分摊的例子都是以此规则为基础的。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/s1piiuDVLHsPpoNerqHV.png" alt width="702" height="241" referrerpolicy="no-referrer"></p>
<h2 id="toc-2">二、优惠券分摊</h2>
<p>用户在平台选品下单前后，都会得到各种各样的折扣和优惠，如商家的提供的优惠券、平台的优惠券、红包、积分或者其他的虚拟货币等。</p>
<p>在用户结算时，可以用这些优惠券等虚拟资产抵扣一定的订单金额，订单实付金额公式如下：</p>
<p style="text-align: center;"><strong>订单总金额 = 商品总金额 + 运费 + 总优惠金额</strong></p>
<p>其中：</p>
<p style="text-align: center;"><strong>总优惠券金额 = 促销活动优惠金额 + 优惠券优惠金额 + 虚拟资产（红包或积分）抵扣金额</strong></p>
<p>单个商品优惠后的价格公式，如下：</p>
<p style="text-align: center;"><strong>单个商品优惠后的价格 = 商品价格 – 总优惠金额 * （商品金额 / 订单总金额）</strong></p>
<p>优惠分摊原则，不但应该按比例分摊，还应在满足优惠条件的商品上，按照商品金额的比列分摊，而不是盲分摊。</p>
<p>下面直接用四种优惠场景例子来解释。</p>
<h3>1. 例子：仅店铺商品券</h3>
<p>订单中含有同一家店铺A、B、C三件商品，且均包邮。</p>
<p>商品A无法使用任何优惠券，商品B可以使用满60减3元的商品券，商品C可以使用满50减3元的商品券。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/IzBP1Tf4VLIBTTzZbq8e.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>那么，商品B、C满足满减条件分别优惠3元，最终店铺订单实付金额为201元。</p>
<p>（商品优惠券，简单的理解，就是针对特定宝贝的优惠券，在店家打造爆款的时候，只需要打造一两个爆款；这个时候就可以通过商品优惠券的形式来做活动，所以商品优惠券针对的是部分商品。）</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/VTAhql0MQqDrnF46tYAM.png" alt width="583" height="125" referrerpolicy="no-referrer"></p>
<h3>2. 例子：店铺券</h3>
<p>（店铺优惠券，顾名思义，它是针对店铺的一种优惠券，能够享受到优惠的宝贝是店铺里的所有宝贝；只要能够达到店铺优惠券的使用门槛，店铺里的任意商品都可以使用它。）</p>
<p>订单中含有同一家店铺A、B两件商品，且均包邮。</p>
<p>商品A售价115元（数量2）、商品B售价299元。</p>
<p>商品A或者商品B单独满足一定的金额均可使用店铺优惠券：满199减10元、满499减30元、满699减50元。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/yol529SrK8Bw9HnLIjeD.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>订单金额为：115 * 2 + 299 = 529 元，满足满499减30元店铺优惠券，可优惠30元。</p>
<p>套用上述的分摊格式：实付金额 = 230 – （230/529）*30 + 299 – （299/529）*30 = 216.96 + 282.04 = 499.00 元。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/ISWnyiJtzWuQ4dIA5qZv.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>产品大秘籍：</p>
<p>注意点：</p>
<p>1）金额四舍五入，保留两位小数；</p>
<p>2）当一个订单商品过多时，计算每个单个商品优惠价格，四舍五入后，他们之和可能小于或者大于总优惠金额；为了避免这种情况，我们将最后一个商品优惠价格 = 总优惠金额 – 商品A的分摊优惠金额 – … – 商品Z的分摊优惠金额。</p>
<p>如：实付金额 = 230 – (230/529)*30 + 299 – (30-((230/529)*30)) = 216.96 + 282.04 = 499.00 元。</p>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/69SoJVGCrJMssoKb18Y4.png" alt width="584" height="130" referrerpolicy="no-referrer"></p>
<h3>3. 例子：店铺券+店铺满减活动</h3>
<p>假设订单中含有同一家店铺A、B、C、D四件商品，且均包邮。</p>
<ul>
<li>商品A售价559元、商品B售价600元、商品C售价198元、商品D售价1600元；</li>
<li>商品A、B、C、D均可使用满21减20元、满1000减50元、满2000减100元、满3000减15元0、满5000减350元的店铺优惠券；</li>
<li>商品A参加了满300减60元的店铺满减活动、每300减30的跨店活动、拥有一张满300减10服饰券（平台券）；</li>
<li>商品B、D参加了满600减30、满1500减130、满2000减200的店铺阶梯满减活动。</li>
</ul>
<p><img data-action="zoom" class="aligncenter" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/5vF8beB2N6MrJptfJwvn.png" alt width="600" height="227" referrerpolicy="no-referrer"></p>
<p><strong>第一步：计算总店铺优惠金额</strong></p>
<p>1）先计算四件商品使用的店铺满减优惠券，能节省多少钱？</p>
<p>559 + 600 + 198 + 1600 = 2957元，满足满2000减100优惠券使用条件，共优惠100元。</p>
<p>商品A、B、C、D优惠分摊为18.90元、20.29元、6.70元、54.11元。</p>
<p>2）计算商品A参加满300减60元的店铺满减活动，能节省60元。</p>
<p>3）计算商品B、D参加满减活动，能节省多少钱？</p>
<p>600 + 1600 = 2200，满足满2000减200满减活动使用条件，共优惠200元。</p>
<p>商品B、D优惠分摊为54.55元、145.45元。</p>
<p>最后店铺总优惠为：100 + 60 + 200 = 360元，商品A、B、C、D分别可以优惠78.90元、74.84元、6.70元、199.56元。</p>
<p><strong>第二步：店铺总优惠算完了，接下来要计算商品的平台优惠金额。</strong></p>
<p>1）计算商品A平台优惠的金额</p>
<p>商品A参加每300减30的跨店活动，可以使用满300减10服饰券，共优惠券40元。</p>
<p>最终商品A、B、C、D加上各自的优惠金额，分别能优惠118.90、74.84、6.70、199.56；那么商品A、B、C、D实付金额分别为440.10元、525.16元、191.30元、1400.44元。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/DdmpF1icyxFDAWOS4HJj.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>例子3购物车如下所示：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/RGBZx2jTpLG9SYyl5Efb.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<h3>4. 例子：店铺券+店铺满减活动+平台券/平台活动</h3>
<p>店铺甲：</p>
<ul>
<li>商品A售价235元(数量2)、商品B售价218元；</li>
<li>商品A、商品B都可使用满100减5元、满299减10元、满499减20元、满999减50元店铺优惠券，同时都参加了跨店每满300减30的活动；</li>
<li>商品A还可以使用一张满300减10元的服饰券(平台券)；</li>
</ul>
<p>店铺乙：</p>
<ul>
<li>商品C售价799元、商品D售价559元(数量2)、商品E售价479元；</li>
<li>商品C、D、E均可使用满21减20、满1000减50、满2000减100、满3000减150、满5000减350的店铺优惠券；</li>
<li>商品C可以使用一张满300减10元的服饰券(平台券)、参加每满600减110元的店铺活动；</li>
<li>商品D可以使用一张满300减10元的服饰券(平台券)、参加满300减60元的店铺活动；</li>
<li>商品E参加满300减30元的店铺活动；</li>
<li>商品C、D同时都参加了跨店每满300减30的活动；</li>
</ul>
<p><strong>第一步：计算总店铺甲优惠金额（店铺）</strong></p>
<p>1） 计算商品A、B使用的店铺满减优惠券，能节省多少钱？</p>
<p>235*2 + 218 = 688，满足满499减20元条件，共优惠20元。</p>
<p>商品A、B优惠分摊为13.66元、6.34元。</p>
<p>最后店铺总优惠为：20元，商品A、B分别可以优惠13.66元、6.34元。</p>
<p><strong>第二步：计算总店铺乙优惠金额（店铺）</strong></p>
<p>1）计算C、D、E商品使用的店铺满减优惠券，能节省多少钱？</p>
<p>799 + 559*2 + 479 = 2396元，满足满2000减100元条件，共优惠100元。</p>
<p>商品C、D、E优惠分摊为33.35元、46.66元、19.99元。</p>
<p>2）计算商品C参加每满600减110元的店铺活动，优惠110元。</p>
<p>3）商品D参加满300减60元，优惠60元。</p>
<p>4）商品E参加每满300减30元的店铺活动，优惠30元。</p>
<p>最后店铺总优惠为：100 + 110 + 60 + 30 = 300元，商品C、D、E分别可以优惠143.35元、106.66元、49.99元。</p>
<p>甲乙店铺店铺总优惠：320元。</p>
<p><strong>第三步：计算跨店优惠</strong></p>
<p>甲乙店铺订单总金额：235*2 + 218 +799 + 559*2 + 479 = 3084元，</p>
<p>1）商品A、B、C、D同时参加跨店每满300减30元活动，能省多少？</p>
<p>235*2 + 218 +799 + 559*2 = 2605元，共优惠240元，商品A、B、C、D优惠分摊分别为43.30元、20.08元、73.61元、103.00元， 尴尬的是四者优惠金额和为239.99元。</p>
<p>2）商品A、C、D可以使用一张满300减10元的服饰券(平台券)：</p>
<p>235*2 + 799 + 559*2 = 2387元，共优惠券10元；商品A、C、D优惠分摊分别为2.0元、3.35元、4.7元， 尴尬的是三者优惠金额和为10.05元。</p>
<p>最后甲乙店铺订单跨店总优惠为：240 + 10 = 250元，商品A、B、C、D、E分别可以优惠45.30元、20.08元、76.96元、107.7元、0元。</p>
<p>最终最终，商品A、B、C、D、E分别可以优惠58.96、26.42、220.31、214.36、49.99；那么商品A、B、C、D、E实付金额分别为205.52*2、191.58、578.69、451.82*2、429.01。</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/JKL3B4Ph9h3gui9Fx3kh.png" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>例子4购物车如下所示：</p>
<p><img data-action="zoom" class="rich_pages aligncenter" title="电商系统-优惠券叠加规则、优惠分摊介绍(三)" src="https://cors.zfour.workers.dev/?http://image.woshipm.com/wp-files/2020/09/PYR00alqIYKIrc9ValuA.jpeg" alt="电商系统-优惠券叠加规则、优惠分摊介绍(三)" referrerpolicy="no-referrer"></p>
<p>最后，四类不同场景的优惠券计算方式介绍完毕，可能写的比较啰嗦，大家耐心看，有疑问可直接与我交流。</p>
<p>上述场景仅仅某宝那么多种优惠场景的冰山一角，还未涉及到红包、津贴等虚拟资产；不过具体分摊规则跟上面讲解的是一样的道理，希望以上内容能对大家有一点点启发，帮助到需要的人。</p>
<p>本打算着将优惠券核销也放在本文介绍，不过写到后面发现篇幅有点过长，因此发在下一篇文章来详细介绍，敬请关注，谢谢！</p>
<p> </p>
<p>作者：道三，电商PM；公众号: PM大秘籍</p>
<p>本文由 @道三 原创发布于人人都是产品经理，未经作者许可，禁止转载。</p>
<p>题图来自Unsplash，基于CC0协议。</p>
<div class="support-author"><div class="support-title">给作者打赏，鼓励TA抓紧创作！</div><button class="button--pay" data-post-id="4191246" data-author="705970" data-avatar="https://static.woshipm.com/TTW_USER_202011_20201102145118_7292.png"><svg width="13" height="16" class="svgIcon--use" viewBox="0 0 13 16"><path d="M9.113,4.571 C9.951,3.771 10.895,2.742 10.685,2.057 C10.475,1.485 10.056,0.799 9.427,0.571 C8.903,0.342 8.379,0.456 7.750,0.799 C7.540,0.342 7.016,0.114 6.596,-0.001 C5.863,-0.001 5.234,0.228 4.814,0.914 C4.080,0.571 3.451,0.685 2.927,1.028 C2.613,1.256 2.298,1.713 2.298,2.628 C2.298,3.542 3.137,4.228 3.766,4.685 C2.508,5.599 -0.218,7.885 -0.008,12.228 C-0.218,15.656 2.613,15.999 2.613,15.999 L10.371,15.999 C11.314,15.885 12.991,14.971 12.991,12.571 L12.991,12.228 C13.201,7.771 10.371,5.371 9.113,4.571 L9.113,4.571 ZM8.932,11.835 L6.940,11.835 L6.940,13.207 C6.940,13.435 6.731,13.549 6.521,13.549 C6.311,13.549 6.102,13.435 6.102,13.207 L6.102,11.835 L4.110,11.835 C3.900,11.835 3.795,11.606 3.795,11.378 C3.795,11.149 3.900,10.921 4.110,10.921 L6.102,10.921 L6.102,10.121 L4.949,10.121 C4.739,10.121 4.634,9.892 4.634,9.664 C4.634,9.435 4.739,9.206 4.949,9.206 L5.892,9.206 L4.739,7.950 C4.634,7.835 4.739,7.606 4.949,7.492 C5.158,7.378 5.368,7.264 5.473,7.378 L6.521,8.635 L7.674,7.264 C7.779,7.149 7.989,7.264 8.198,7.378 C8.408,7.492 8.408,7.721 8.408,7.835 L7.150,9.321 L8.094,9.321 C8.303,9.321 8.408,9.549 8.408,9.778 C8.408,10.007 8.303,10.235 8.094,10.235 L6.940,10.235 L6.940,11.035 L8.932,11.035 C9.142,11.035 9.247,11.264 9.247,11.493 C9.247,11.606 9.037,11.835 8.932,11.835 L8.932,11.835 Z"/></svg>
赞赏</button></div>                      
</div>
            