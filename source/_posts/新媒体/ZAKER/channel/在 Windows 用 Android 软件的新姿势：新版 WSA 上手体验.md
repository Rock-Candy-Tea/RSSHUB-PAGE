
---
title: '在 Windows 用 Android 软件的新姿势：新版 WSA 上手体验'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a80_1024.jpg'
author: ZAKER
comments: false
date: Mon, 30 May 2022 22:13:03 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a80_1024.jpg'
---

<div>   
<p>5 月 20 日，微软宣布为 Windows Subsystem for Android（以下简称 WSA）带来升级，版本号更新至 2204.40000.15.0 的同时，底层 Android 版本也从此前的 Android 11 升级至 Android 12L，这同时也是目前 Android 系统的最新稳定版本。</p><p>由于底层版本的升级，WSA 也在本次更新后迎来了诸多新特性，下面不妨跟随本文一起来看看。</p><p><strong>▍</strong><strong>如何手动升级</strong></p><p>根据微软官方博客的说法，本次更新将向 Windows Insiders 用户中的 Dev 通道率先推送，处于该通道的用户可以直接获得更新。但如果你不想在主力设备上运行 Dev 通道的系统，则可以通过旁加载的方式强制安装。</p><p>这里我们依旧是通过 store.rg-adguard.net 来下载离线安装包，打开网站后，首先选择 ProductID，然后在数据框中输入包名 <strong>9P3395VX91NR</strong>，最右侧的通道选择 Fast，搜索后找到最下面的名为 <strong>MicrosoftCorporationII.WindowsSubsystemForAndroid_2204.40000.15.0_neutral_~_8wekyb3d8bbwe.msixbundle</strong><strong></strong>的包然后点击下载。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a80_1024.jpg" data-height="696" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a80_1024.jpg" referrerpolicy="no-referrer"></div></div>由于 WSA 属于系统组件的一部分，下载到指定目录后无法直接安装（会报错），我们需要使用 Powershell 来进行协助。在下载目录中点击右键打开 Windows Terminal，输入以下安装命令：<p></p><p><strong>Add-AppxPackage -Path "X: 本地目录 MicrosoftCorporationII.WindowsSubsystemForAndroid_2204.40000.15.0_neutral_~_8wekyb3d8bbwe.msixbundle" ( 可以通过右键文件 - 复制为路径获得 ) </strong></p><p>等待安装完成后，你就会在开始菜单中看到 Windows WSA 显示为「最近添加」了。点击打开其设置页面，如果能够看到变化，则表示已经完成安装了。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a81_1024.jpg" data-height="792" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a81_1024.jpg" referrerpolicy="no-referrer"></div></div><strong>▍</strong><strong>有哪些新特性？</strong><p></p><p><b><strong>01</strong><strong> WSA 设置大变样，新增高级网络设置</strong></b></p><p>WSA 2004 最直观的变化是设置门户。新版设置门户得到了合理梳理，不同设置项目被分成了不同的设置组，查找相关设置变得更加容易。</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a82_1024.jpg" data-height="767" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a82_1024.jpg" referrerpolicy="no-referrer"></div></div>此前「开发人员模式」被正式移动到了独立的分组「开发人员」中，通过这个入口我们可以启动 WSA 的开发者模式，并使用 ADB 命令来手动安装应用；新的组中「兼容性」则可以对每一个安装的应用进行配置，比如说我们现在可以强制应用不可重设大小，以及轻扫箭头键等；此外，新版设置门户还增加了「可选诊断数据」和「高级网络」设置项——由于 WSA 是基于 Windows Subsystem for Linux 2 发展而来，因此一直以来 WSA 都和 Windows 主系统不在一个网段中，这使得我们通过网络上访问子系统非常麻烦。<p></p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a83_1024.jpg" data-height="792" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a83_1024.jpg" referrerpolicy="no-referrer"></div></div>因此在本次更新中，如果主系统使用的是 Windows 11 22621 以上版本，WSA 则会在设置门户中提供「高级网络」功能，开启后原本的子系统网络将会变成桥接模式，也就是说子系统的 IP 地址将会和 Windows 处于同一网段，网络访问会更为方便。<p></p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a84_1024.jpg" data-height="539" data-width="1024" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a84_1024.jpg" referrerpolicy="no-referrer"></div></div>更为直观地说，借助这个变化我们可以在 WSA 中对局域网中的设备进行控制和管理了，智能音箱以及其它各种智能家居设备都不在话下。<p></p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a85_1024.jpg" data-height="769" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a85_1024.jpg" referrerpolicy="no-referrer"></div></div><b><strong>02</strong><strong> 底层系统升级至最新的 Android 12.1</strong></b><p></p><p>相比之前的 WSA，本次更新中最大的变化可能就是底层系统版本升级到了 Android 12L，Linux 内核版本也来到了 5.10.101。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a86_1024.jpg" data-height="634" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a86_1024.jpg" referrerpolicy="no-referrer"></div></div>相比此前，这个版本的 Android 最大优势在于有了更完善的大屏幕适配，Android 应用在 Windows 中的使用体验会更接近平板。比如说纯纯写作在新版的 WSA 上会直接展示为平板界面，使用体验上和 Windows 上的文本编辑软件无异，适配了 Android 大屏交互的应用也能响应 Windows 窗口尺寸变化在手机、平板布局间快速切换。<p></p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a87_1024.jpg" data-height="662" data-width="1012" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a87_1024.jpg" referrerpolicy="no-referrer"></div></div>纯纯写作<p></p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_8" data-original="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a88_1024.jpg" data-gif-url="http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a88_raw.gif" data-height="738" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/6295ab8c8e9f093b75035a88_1024.jpg" referrerpolicy="no-referrer"></div></div>Sync for Reddit 的布局切换<p></p><p>不过这一次系统和内核升级也带来了一些兼容性问题，毕竟 Android 12L 目前也就只有 Pixel 获得了更新，微软也说明了当前版本 WSA 存在的一些已知问题，包括但不限于：</p><p>ARM 设备下摄像头不稳定</p><p>通过 Android 应用进行打印会不稳定</p><p>低分辨率下呈现的应用会出现布局不正确</p><p>除了以上目前已知的问题，部分应用可能尚未完成对 Android 12 的适配，因此很有可能会出现在此前的 WSA 中运行正常、但在新版本中运行不正常的情况。</p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a89_1024.jpg" data-height="682" data-width="1024" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a89_1024.jpg" referrerpolicy="no-referrer"></div></div><b><strong>03</strong><strong> 进一步和 Windows 11 集成</strong></b><p></p><p>新版本的 WSA 还带来了对 Windows 11 的进一步集成，此前版本中调用麦克风时会被笼统的归为 Android 子系统，而现在会被细化为具体什么 Android 应用进行的调用。</p><p>在运行 Windows 11 22621 以上版本的设备上，我们可以在 Windows 系统托盘中看到哪些 Android 应用正在使用麦克风、位置以及其他系统的服务。</p><p>当 Windows 11 处于待机状态时，以往 Android 子系统的应用也会重新启动，而在新版本中则采用了更为方便的「冻结」机制——回到系统后，Android 应用也会恢复为之前离开的状态并继续运行。</p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8a_1024.jpg" data-height="370" data-width="455" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8a_1024.jpg" referrerpolicy="no-referrer"></div></div>此外原本的 Android 消息框会被重新定义为 Windows 系统原生通知，同时 Android 应用的窗口标题会被突出显示。<p></p><p><b><strong>04</strong><strong> 一些其他的改进</strong></b></p><p>除了以上的变化之外，新版本的 WSA 还对使用体验上进行了优化，例如以往版本的 WSA 中运行应用时，经常会出现鼠标滚轮不适用的情况，而在新版本中可以明显感觉到鼠标滚轮在大部分应用都已适用，而微软也表示此次调整中还优化了屏幕键盘以及 Android 内置键盘。</p><p>而伴随着 Android 底层的更新，WSA 正式支持 VP8 以及 VP9 视频硬件解码，同时系统内置的 WebView 已经更新至 Chromium 100。</p><p>此外 Android 的相机方向也在本次更新中进行调整，相机的默认方向被固定在自然方向上，此前 WSA 版本中出现的相机预览不正确、相机输入不正常的情况都得到了彻底的解决。</p><p><strong>▍</strong><strong>附：安装 Google 服务并 root</strong></p><p>如果你对 Google 服务和 root 没有需求，跟随上面的操作完成手动升级后，便可以直接使用新版 WSA 了。但如果你想在 WSA 上运行一些依赖 Google 服务的应用，则还需要进行一些略为复杂的配置工作。</p><p>新版 WSA 底层基于 Android 12L，目前 Android 12L 本身的相关玩机资源已经不少，所以我们依然可以通过一些特殊的方法来进行 root 并安装 GMS 服务。</p><p>这里介绍通过 LSPosed 的 MagiskOnWSA 项目的实现方案。简单来说，这种方法主要通过修改 WSA 的安装包并嵌入 GMS 和 Magisk、然后再重新安装的方式，来实现对 WSA 的修改和定制。</p><p>首先我们需要手动把已经安装的 WSA 卸载掉（如果你已经跟随上面的操作手动更新过了先说声抱歉哈哈哈），然后我们登录到 GitHub（如果没有需要自己注册一个账户），找到 MagiskOnWSA 项目并将其 fork 到自己的库中。</p><p></p><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8b_1024.jpg" data-height="696" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8b_1024.jpg" referrerpolicy="no-referrer"></div></div>在 fork 而来的 Magisk on WSA 项目中，点击 Actions（如果是首次点击创建工作流），找到 Build WSA 并在 <strong>Run workflow</strong> 中选择构建的参数：这里在 Build arch 中选择 x64，WSA 的版本选择 <strong>fast</strong>，gapps 选择 <strong>pico</strong>，其他默认不变。最后点击 Run workflow 来运行工作流。<p></p><p></p><div class="img_box" id="id_imagebox_12" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_12" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8c_1024.jpg" data-height="696" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b75035a8c_1024.jpg" referrerpolicy="no-referrer"></div></div>稍等片刻，我们就能在完成的工作流中看到 Artfacts 有已经生成好的安装包，点击下载将其储存至本地目录。<p></p><p></p><div class="img_box" id="id_imagebox_13" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_13" data-original="http://zkres2.myzaker.com/202205/6295ab8c8e9f093b7035a8d_1024.jpg" data-height="696" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/6295ab8c8e9f093b7035a8d_1024.jpg" referrerpolicy="no-referrer"></div></div>接下来将已经下载好的文件解压缩，然后使用键盘快捷键<strong> Windows 徽标 + X</strong> 选择 Windows Terminal（管理员）并输入以下命令进入到刚刚解压缩后的文件夹中，最后运行 Powershell 脚本即可：<p></p><p><strong>PowerShell.exe -ExecutionPolicy Bypass -File .Install.ps1</strong></p><p>之后会自动完成一系列的组件安装，完成后会自动启动 WSA 并打开 Google Play Store 的登录入口，并且在 Windows 11 开始屏幕中也会看到 Magisk 的图标了。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            