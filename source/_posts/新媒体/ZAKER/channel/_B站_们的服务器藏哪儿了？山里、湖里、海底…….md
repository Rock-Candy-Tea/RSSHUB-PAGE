
---
title: '_B站_们的服务器藏哪儿了？山里、湖里、海底……'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c0_1024.jpg'
author: ZAKER
comments: false
date: Fri, 16 Jul 2021 06:08:33 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c0_1024.jpg'
---

<div>   
<p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c0_1024.jpg" data-height="314" data-width="725" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c0_1024.jpg" referrerpolicy="no-referrer"></div></div>文 / 梅浩宇<p></p><p>编辑 / 大风</p><p>在 7 月 13 日晚上 11 点左右，B 站突然宕机。随后，"B 站崩了 " 话题冲上微博热搜榜第一。一时间谣言四起，有的说是因为 B 站大楼服务器着火了，有的说服务器被攻击了。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c1_1024.jpg" data-height="420" data-width="1188" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c1_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c2_1024.jpg" data-height="410" data-width="455" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c2_1024.jpg" referrerpolicy="no-referrer"></div></div>虽然当晚 23 点 57 分有 @上海消防微博通报辟谣，B 站官微自身也就 " 部分服务器机房发生故障造成无法访问 " 致歉。<p></p><p>但到 7 月 14 日 0 点 30 分左右，B 站网页端和移动端大部分功能才恢复正常，视频播放和直播功能可正常使用，但个人收藏、动态、消息等功能尚未恢复。</p><p>直到 14 日凌晨 2 点 15 分左右，B 站所有功能均恢复正常。但宕机三小时才恢复，对于 B 站这个拥有 2 亿多的月活 App 来说，也是个可以载入史册的事故了，以至于第二天晚上 B 站宣布给所有注册用户赠送一天的大会员。</p><p>但 B 站的宕机事件，也把 " 大厂服务器 " 问题拉到了台前。</p><p>为什么服务器会宕机呢？</p><p>一般是两种，自身原因和外界原因。</p><p>自身原因很好理解了，服务器就是更高级一点的电脑，是电脑就会有内存和 CPU，即使大公司会有很多服务器，但内存和 CPU 的运算能力总归是有上限的。</p><p>同一时间服务的请求越多，内存消耗量就越大。一旦在同一个时间需要服务处理的数据超出服务器空间限制，造成资源耗尽，就会导致服务器宕机。</p><p>当然正常运算时也会可能出现宕机，但服务器的稳定性极高，这种情况出现概率极小。</p><p>外部原因就好解释了，一个是网络攻击，通过恶意病毒植根大量用户的电脑设备，制造伪装成多个虚假 IP 地址，然后对服务器在短时间内发起大量请求，来使服务器宕机。</p><p>另一个就是如机房断电、机房温度过高，或者这次 B 站宕机谣言里说服务器起火，都会导致服务器宕机。</p><p>而这么多的服务器宕机原因，最后造成的结果，除了最直接的服务器宕机之外，还会导致服务器丢失大量数据，如果服务器服务的用户和企业众多，那么还会给企业带来巨量的经济损失。</p><p>比如 2019 年 10 月 22 日，亚马逊遭人为攻击，部分宕机，导致客户网站濒临崩溃；2018 年 3 月 2 日深夜，阿里云突然出现宕机故障，导致华北区域众多网站和 App 都无法正常使用；2018 年，腾讯云出现重大故障，广州区域部分用户出现资源访问失败、控制台登录异常等情况。</p><p>那么解答了这么多关于服务器的基础问题后，核心问题来了，既然服务器的安全这么重要，大企业都会把自家的服务器放在哪里呢？</p><p><strong>腾讯：贵州 · 贵安</strong></p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c3_1024.jpg" data-height="388" data-width="588" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c3_1024.jpg" referrerpolicy="no-referrer"></div></div>在贵州贵安的山洞隧道里，藏匿着腾讯的贵安七星绿色数据中心。这个数据中心被称 " 全国最安全的大数据中心 "。<p></p><p>这个位于贵安新区马场镇川心村栖凤坡山体内的隧道数据中心，总占地面积约为 770 亩，隧洞面积超过 3 万平方米。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c4_1024.jpg" data-height="533" data-width="800" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c4_1024.jpg" referrerpolicy="no-referrer"></div></div>内部总共有 5 横 1 竖，6 个隧道，5 个横向的隧道中，一个是油库动力隧道外，其余都是 IT 设备洞，长度都超过 220 米，而竖向的隧道则是为了起到通风和隧道间联系的作用，并且每条隧道上方都有竖井，总共 11 个，来用于通风散热。<p></p><p>据腾讯对安全性方面的解释，数据中心隐藏在群山当中，建成后的外景没有明显标识，同时所有核心设备都处于洞内，日常运行时没有人值守。</p><p>并且还具备战时防护能力，可防相应级别常规武器和核武器的打击。里面还有网络、主机、业务 3 级云安全布防，并且还应用了人脸识别、安防机器人这些人工智能技术，甚至还部署了无人机入侵防控系统。</p><p>无独有偶的是，华为和富士康也在贵安新区建设了自家的数据中心。</p><p>比如华为，甚至就将自家的七星湖数据中心，建在腾讯的数据中心隔壁的山头上，两个山头相隔不到百米。占地大约有 1600 亩，服务器大概 60 万台，用来存储华为在 170 个国家的管理数据。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c5_1024.jpg" data-height="720" data-width="1178" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c5_1024.jpg" referrerpolicy="no-referrer"></div></div>而且计划将在贵州贵安还有更多大型知名企业，如高通、电信、移动、联通、现代汽车、中兴通讯等等。<p></p><p>贵州到底有什么好呢？</p><p>贵安新区大数据办编撰的《贵安新区绿色数据中心》里提到，贵州的年均气温 14 ℃到 16 ℃，夏季平均气温低于 25 ℃，植被覆盖率 80% 以上，没有恶劣天气。常年温度比较平均，不会过高过低，这也使得贵州的气候很适宜服务器运维。</p><p>同时贵州所处位置为稳定的地质带，不会发生地震、火山或洪水等其他自然灾害。</p><p>更重要的是，由于服务器运行需要空调等散热设施进行大量散热，所以电能消耗是数据中心运维成本中最大一笔开销。而贵州有丰富的电能，再加上当地政府大力优惠政策，最低电价 0.35 元 / 度，而数据中心建成当时，全国数据中心聚集省份工业用电价格显示，全国均价是 0.77 元 / 千瓦时，便宜了近一半。</p><p>山体稳定，温度恒温适宜，电价又便宜，难怪腾讯为首的这么多公司会选择贵州建造数据中心。</p><p><strong>阿里：杭州 · 千岛湖</strong></p><p>前面的腾讯、华为是将服务器放在山里，那么与腾讯同属中国互联网企业 " 二极 " 的阿里，则是将自家服务器放在湖里。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c6_1024.jpg" data-height="608" data-width="1261" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c6_1024.jpg" referrerpolicy="no-referrer"></div></div>这是阿里的千岛湖数据中心，2015 年 9 月正式运营，总建筑面积 30000 平方米，共 11 层，可容纳至少 5 万台设备。<p></p><p>数据中心在服务器运行时，会通过管道，将湖水从 35 米深的湖底抽取上来，来给服务器降温，降温后还未结束，湖水还会流到 2.5 公里之外的青溪新城中轴溪，成为城市景观的一部分，直到水温在环境中自然冷却后，重新回到千岛湖内。</p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c7_1024.jpg" data-height="702" data-width="1256" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c7_1024.jpg" referrerpolicy="no-referrer"></div></div>由于千岛湖地区年平均气温只有 17 度，这种方式，让数据中心 90% 的时间都不依赖湖水之外的制冷能源，只用深层湖水制冷，比传统的空调制冷方式要节约能耗超过八成，全年下来可减少碳排放一万多吨标煤。<p></p><p>而且千岛湖还有一个作用，除了被阿里当作数据中心的 " 降温器 "，还是农夫山泉的水库之一，可能我们喝的农夫山泉的水就曾流经过阿里的服务器机房哦。</p><p><strong>微软：苏格兰 · 奥克尼群岛</strong></p><p>山河湖海，山河湖都有了，就差海了。</p><p>没错，大名鼎鼎的微软公司，就将自家的服务器设备放到了深海里。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c8_1024.jpg" data-height="551" data-width="1085" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827c8_1024.jpg" referrerpolicy="no-referrer"></div></div>微软将把数据中心放在深海底的项目称之为 Natick 计划。<p></p><p>Natick 是取自美国一座小城市的名字。这个 " 水下数据中心计划 " 最初是从 2014 年开始筹备，直到 2015 年 8 月才进行实体实验。</p><p>第一次实验里，近 300 台台式电脑计算能力的服务器，被装入了一个重达 17 吨的钢制密封舱内，然后在舱内舱外各安装了一台冷热交换器。</p><p>冷热交换器里面装满淡水，通过内外淡水交替循环来散热。</p><p>第一次测试成功后，微软在 2018 年又再一次实验，这次他们就选择了苏格兰附近的奥克尼群岛。</p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c9_1024.jpg" data-height="360" data-width="640" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827c9_1024.jpg" referrerpolicy="no-referrer"></div></div>这一整个数据中心包含了 864 台服务器和 27.6PB（大概可以存 500 万部高清电影）的存储设备，就这样被整体沉入 35 米深的海底。<p></p><p>为什么微软会选择将数据中心放进海里呢？</p><p>除了本身深海可以降温，还因为微软的海底数据中心是模块化概念的，而全世界有一半以上的人口都居住在海岸线 20 公里以内，所以将数据中心分块放置在沿海城市的海域中，可以大大降低数据传输的时延。</p><p>其次，一个数据中心模块从规划到落地部署只需要 90 天，比在陆地上建立数据中心要快很多，且据微软表示，水下数据中心的故障率仅为陆地数据中心的八分之一，运维成本非常低。</p><p>目前一个数据中心模块，可以在水下持续运行 5 年免维，在使用寿命结束后，还可以再进行回收利用。</p><p>但由于 Natick 计划目前还是一项应用研究项目，没有完全转成商用，所以远不及我们国内企业几个完全成熟的方案更加使用。</p><p><strong>脸书：北极圈 · 瑞典 · 吕勒奥</strong></p><p>山河湖海都全了，是不是还得来点更极端的？</p><p>这就要属 " 蜥蜴人 " 扎佬的 facebook 了。</p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827ca_1024.jpg" data-height="800" data-width="1200" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202107/60f02cbab15ec0738c5827ca_1024.jpg" referrerpolicy="no-referrer"></div></div>Facebook 的 Node Pole 数据中心，位于瑞典吕勒奥镇边沿的森林中。而吕勒奥镇位于波罗的海北岸，离北极圈只有 100 公里，所以这是一个冰天雪地再走远点可以看到北极熊的地方。<p></p><p>Node Pole 数据中心从 2013 年开始运行，在 2017 年 6 月份才向外界公开。从图片可以看到，它的外部由数以千计的矩形金属板组成，长 300 米宽 100 米，差不多四个足球场大，周围则是大片的松林、湖泊和群岛。</p><p>这个也是 Facebook 首次在美国以外的地区开设数据中心，是欧洲最大的数据中心之一。</p><p></p><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827cb_1024.jpg" data-height="708" data-width="1252" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827cb_1024.jpg" referrerpolicy="no-referrer"></div></div>内部来看，就像《银翼杀手》中的场景：金属色的狭长的走廊嗡嗡作响，服务器蓝光闪烁，风扇高速运转，像是高速运行的银色怪兽。<p></p><p>至于选择这个北极圈的小镇作为数据中心的地点，是因为吕勒奥镇自 1961 年以来，全年超过 30 度的时间加起来，不超过一天。而在冬天，平均气温都在零下 20 度。</p><p>这个数据中心可以充分利用瑞典的寒冷气候，冷空气被过滤器和雾化器处理后，再像水一样 " 冲洗 " 服务器，服务器产生的大量热空气再和进来的冷空气循环交换，进行自然冷却。</p><p></p><div class="img_box" id="id_imagebox_12" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_12" data-original="http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827cc_1024.jpg" data-height="679" data-width="1254" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202107/60f02cbab15ec0738c5827cc_1024.jpg" referrerpolicy="no-referrer"></div></div>而且瑞典还拥有大量的、廉价的和可靠的电力能源。在大约一个世纪之前，瑞典为帮助国内的钢铁、造纸等工业发展修建了水电大坝，但随着部分产业的衰落，这里的电用不完了，这些富余的电能就可以被利用。<p></p><p>而且据称它是有史以来最高效节能的计算设施。一般来说，普通的数据中心平均消耗 3 瓦特的能量，2 瓦特用于电力和冷却，剩余的 1 瓦特用于计算。相比之下，Node Pole 数据中心的这个比率仅为 1.04：1，比一般数据中心环保两倍左右。</p><p>希望能看到服务器送上火星的那天。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            