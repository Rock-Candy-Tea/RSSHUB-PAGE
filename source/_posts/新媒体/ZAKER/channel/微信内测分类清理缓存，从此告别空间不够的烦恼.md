
---
title: '微信内测分类清理缓存，从此告别空间不够的烦恼'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af41d_1024.jpg'
author: ZAKER
comments: false
date: Sun, 01 May 2022 22:09:25 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af41d_1024.jpg'
---

<div>   
<p>在过去十年间，丰富多彩的 APP 无疑重塑了整个互联网生态，如今功能各异的 APP 也成为了大家触摸虚拟世界的窗口。然而在这十余年的时间里，用户平均安装 APP 的数量并没有发生太大的变化，可手机的存储空间却总是会感觉不够。在这其中，被用户吐槽最多的莫过于微信，别看其安装包体积不过 253MB，但是大家再看看自己手机中微信占用的存储空间，就会发现可能动辄都是几十 GB 了。</p><p>目前，通过百度搜索 " 微信空间清理 "，得出的结果足足有近亿条，由此也足以见得用户对于清理微信的存储空间管理有多么迫切的需求了。而微信方面似乎也听到了这些年来用户的呼声，继去年 11 月灰度测试了深度清理功能后，在最新的 Android 版 8.0.22 测试版中，又推出了分类清理缓存功能。</p><p>用户在这一版本中，进入 " 我 "-" 设置 "-" 通用 "-" 存储空间 " 后，看到的不再是直接清理缓存，而是会跳转到清理缓存的详细页面，可对视频号、小程序、系统、公众号、朋友圈、表情、收藏进行选择性清理。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af41d_1024.jpg" data-height="600" data-width="297" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af41d_1024.jpg" referrerpolicy="no-referrer"></div></div>在讨论缓存之于微信的意义前，不妨先来看看为什么 APP 的体积在过去十年间，几乎膨胀了数十倍。2012 年的微信 2.1 版本还仅为 1.39MB，而如今微信的安装包则已经有了 253MB 的体积，但十余年间其不断加入了诸如语音聊天、视频聊天、附近的人、相册、朋友圈、附近的人、支付、视频号、小程序等功能。<p></p><p>事实上，APP 体积越来越大的原因是，随着硬件的升级，开发者愈发青睐将 APP 需要的资源都放在本地客户端，而这也能为用户带来更快的打开速度和运行效率。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af41e_1024.jpg" data-height="600" data-width="356" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af41e_1024.jpg" referrerpolicy="no-referrer"></div></div>所以简单来说，APP 的体积之所以会越来越大，除了硬件的进步和安迪比尔定律作用外，让新硬件所提高的任何计算能力总是能够被新一代的软件消耗殆尽，更重要的是用户所希望的更快的 APP 打开速度、更稳定而高效的运行，迫使开发者将资源放在本地、而非云端。不过即便如此，微信在所有的 APP 中，对于用户手机存储空间的 " 吞噬 " 能力无疑也是首屈一指的。<p></p><p>打开微信的 " 存储空间 " 就不难发现，其已用空间是由缓存、聊天记录和其他数据组成，其中包括微信的主程序、资源文件的其他数据是用户无法操作的，只有聊天记录和缓存可以进行清理。</p><p>而关于聊天记录体积庞大的原因，微信方面在《微信隐私保护指引》中已明确写到，" 我们不会收集你的聊天记录。你在微信中的聊天记录会储存在你的终端设备，你可以选择自行备份、删除或在不同设备中转移 "。所以微信采用的是不留存任何用户的聊天记录、其只会存储在用户的手机和电脑等终端设备上的模式，并没有提供云端储存这样的服务。</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af41f_1024.jpg" data-height="598" data-width="600" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af41f_1024.jpg" referrerpolicy="no-referrer"></div></div>然而对于用户来说，微信占据存储空间又是一件相当令人头疼的事情。一方面，设备的存储空间是有限的，除了微信外还有各种其他 APP 需要占据；另一方面，微信作为国民级社交软件几乎称得上是中国网民的标配，是大家在互联网上进行社交的关键载体，微信中存储的数据对于所有人来说都非常重要，所以这就代表着一刀切式的直接清理所有数据，代价可能会很高。<p></p><p>所以此次微信推出的分类清理缓存，无疑就是一次巨大的进步。既然用户的聊天记录很重要，那就只能在缓存数据的处理上下功夫了，让用户可以因地制宜的根据自身情况来清理不同场景的缓存。</p><p>据了解，通常为了减少与服务器的交互次数、加快用户端的响应速度，缓存机制普遍应用在各类 APP 中。那么问题就来了，为什么在使用微信的过程中会留下如此多的缓存数据，使用诸如支付宝、微博等 APP 怎么就不会呢？这其实与微信作为即时通讯工具的属性有着直接的关系，毕竟不同于其他的 APP，即时通讯工具的特点就是每个客户端都保持与聊天服务器保持持久的网络连接。</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af420_1024.jpg" data-height="600" data-width="485" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202205/626f6f878e9f09444c1af420_1024.jpg" referrerpolicy="no-referrer"></div></div>无论微信还是 QQ，为了实现 " 即时性 " 基本采用的都是在内存中维护会话列表，并同步到本地文件系统，再定期从聊天记录中提取会话列表来保证维护的正确性。简单来说就是，微信是将好友的头像、收藏的略缩图、公众号的网页文件、视频、表情包、朋友圈里的照片放在缓存里。如果不使用缓存的话，也就意味着去浏览朋友圈、打开小程序和好友聊天的时候，都需要进行网络请求，从服务器上将这些数据下载下来，而这带来的结果可能就是让用户瞬间从 5G 时代回到 3G 时代。<p></p><p>开发者将部分数据放在缓存中带来的效果虽然立竿见影，但俗话说 " 物极必反 "，缓存中堆放的数据过多后，结果就是本身应该起到加速作用的缓存被大量的文件拖累。特别是在 2017 年 12 月微信上线了 " 用完即走 " 的小程序后，可小程序并未实现用完即走、反而愈发臃肿。</p><p>微信在开发指南中有明确规定，小程序的本地临时文件最大拥有 4G、并且其中的 2GB 在退出时不会被清理。所以用户使用的小程序越多，也就意味着缓存数据会越庞大。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af421_1024.jpg" data-height="600" data-width="381" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202205/626f6f878e9f09444c1af421_1024.jpg" referrerpolicy="no-referrer"></div></div>在微信推出分类清理缓存之前，有相当多的用户之所以不敢随意清理缓存，就是因为微信将各种功能产生的缓存混合了起来，用户担心对自己有用的缓存也会被清理。那么在有了分类清理功能后，用户就可以根据自身的需求来清理对自己日常使用体验影响更小的功能，例如不喜欢刷朋友圈、就可以直接清理朋友圈的缓存。<p></p><p>但不得不说的是，在 " 两耳不闻窗外事 " 多年后，微信团队似乎近年来选择了开始慢慢听取用户的呼声。</p><p>本文来自微信公众号 " 三易生活 "（ID：IT-3eLife），作者：三易菌，36 氪经授权发布。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            