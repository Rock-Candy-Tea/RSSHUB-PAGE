
---
title: '这么多年过去了，米家为啥还不能实现离线操作？？？'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc57_1024.jpg'
author: ZAKER
comments: false
date: Sat, 09 Jul 2022 19:07:49 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc57_1024.jpg'
---

<div>   
<p>" 小爱同学，打开空调 "</p><p>" 小爱同学！，打开空调 "</p><p>" 小爱同学？？？？ "</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc57_1024.jpg" data-height="240" data-width="240" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc57_1024.jpg" referrerpolicy="no-referrer"></div></div>上个月，托尼在家里爽快冲浪的时候，<p></p><p>发现家里的米家<strong>突然宕机</strong>了。。。</p><p>不管托尼怎么重启路由器，更新系统也都没有作用。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc58_1024.jpg" data-height="568" data-width="1077" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc58_1024.jpg" referrerpolicy="no-referrer"></div></div>最后，还得是本着 " 哪里崩了上微博 " 的精神，才在热搜上发现了问题的根源。<p></p><p>好家伙，不是咱自家的事情，是<strong>米家服务器崩了。</strong></p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc59_1024.jpg" data-height="531" data-width="623" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc59_1024.jpg" referrerpolicy="no-referrer"></div></div>白搁这操了半天心。<p></p><p>哎所以，我就控制一下自己家里的灯，为啥还和米家的服务器有关？</p><p>就不能少些套路，多点真诚，点对点通讯，一步到位，别从服务器绕一圈嘛？</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc5a_1024.jpg" data-height="431" data-width="642" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc5a_1024.jpg" referrerpolicy="no-referrer"></div></div><b><strong> </strong><strong> </strong><strong>/> 互联一张网</strong></b><p></p><p>咱就是说，要让设备之间能互相连通，第一步就得找个靠谱的<strong>通讯协议</strong>才行。</p><p>米家在这方面的选择可以说的上是<strong> " 博采众长 " </strong>了。</p><p>在 2015 年的极客公园创新大会上，小米最早发布的小米智能家庭套装里用的就是打包的 Zigbee 套装。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5b_1024.jpg" data-height="576" data-width="1024" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5b_1024.jpg" referrerpolicy="no-referrer"></div></div>再往后，随着蓝牙和 WiFi 技术的不断更新，米家也把这些东西都给放入了自己的怀抱。<p></p><p>小小一个米家，竟然能同时支持 Zigbee，蓝牙，蓝牙 mesh，WiFi 这四位卧龙凤雏。</p><p><strong>不过虽然从理论上来讲，上面这几类协议都</strong>有成熟的本地互连方案。</p><p>但是为了整个系统的流畅和稳定性，但是咱们一上手，就会发现这里有一个绕不过的节点 —— 米家 App。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5d_1024.jpg" data-height="562" data-width="385" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5d_1024.jpg" referrerpolicy="no-referrer"></div></div>就拿家里的米家蓝牙灯举个例子吧，咱们手机上一个简单的开关等操作。<p></p><p>不是让手机直接通过屋内的蓝牙网关和灯泡进行互联控制。</p><p>这信号，会先通过 WiFi 往米家服务器跑一圈，等到米家服务器知晓后，再通过网络来通知咱们屋里的蓝牙网关。</p><p><strong>只有接收到了服务器的信号</strong>，蓝牙网关才会通知灯泡，把灯光打开。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5e_1024.jpg" data-height="919" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5e_1024.jpg" referrerpolicy="no-referrer"></div></div>属实是绕了个最远的距离了。<p></p><p>所以说，<strong>明明理论上能支持本地运行，为啥不做呢？</strong></p><p><b><strong> </strong><strong> </strong><strong>/> 智能家居之踵</strong></b></p><p>表面原因说来也简单，米家支持的协议太多了。</p><p>这几年随着米家慢慢开始和 Zigbee " 分手 "，主力推广通过蓝牙、 WiFi 协议控制的智能设备。</p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5f_1024.jpg" data-height="170" data-width="905" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc5f_1024.jpg" referrerpolicy="no-referrer"></div></div>但是以前用户买的 Zigbee 设备还在用呢。<p></p><p>就有点像电脑上的过去 USB 2.0 接口，在退役后，还有着悠久的生命周期。</p><p>Zigbee 和 Zigbee 设备的本地互联容易做，但是蓝牙网关和 Zigbee 设备的本地联动。。。做起来好不好用，就得打个问号了。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc60_1024.jpg" data-height="573" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc60_1024.jpg" referrerpolicy="no-referrer"></div></div>再加上米家的市场足够大，面向的用户环境也更为复杂，咱也不知道四种通讯协议会被用户排列组合出多少花来。<p></p><p><strong>靠软件的努力来弥补硬件市场的不足，是个吃力不讨好的活。</strong></p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc61_1024.jpg" data-height="360" data-width="647" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc61_1024.jpg" referrerpolicy="no-referrer"></div></div>所以对米家来讲，<strong>本着开发成本和稳定性的考虑，干脆就全上云了方便了事。</strong><p></p><p>而且吧，咱们如果想要搞好本地控制这件事，不单单是搞好一个通讯协议就能解决这问题。</p><p>像隔壁苹果走的就是这个条路子，在推出 homekit 的时候，顺手也搓了一套新协议（ HAP ）出来。</p><p>从一开始，就是奔着本地互联去的。</p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc62_1024.jpg" data-height="455" data-width="874" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc62_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc63_1024.jpg" data-height="242" data-width="856" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6aeb15ec0354a13bc63_1024.jpg" referrerpolicy="no-referrer"></div></div>但是这样搞嘛。。。也带来了俩新问题。<p></p><p>这新协议的兼容性，就比蓝牙， WiFi 这些麻烦了不少。</p><p>在推广产品的时候，还得<strong>别人愿意给你自家的通讯协议做适配才行。</strong></p><p>可能也就苹果了，才有底气去 Push 别的厂家来做这件事。</p><p>顺便还和数据线的 MFI 一样，再收厂家一笔钱。</p><p>所以这两年大伙一提到 homekit，满脑子想的就是贵。</p><p></p><div class="img_box" id="id_imagebox_12" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_12" data-original="http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc64_1024.jpg" data-height="302" data-width="600" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6aeb15ec0354a13bc64_1024.jpg" referrerpolicy="no-referrer"></div></div>而且，这种新协议往往比我们想象的更废算力。<p></p><p>想要实现数据纯粹放本地来处理的话，<strong>如何保证信息的安全性，如何保证通讯的时效性。。。</strong></p><p>这个计算量，可不是随便找个设备就能处理的。</p><p>苹果为了解决这个问题，也得让用户额外购买一个 homepod 或者 iPad 来当 " 家庭中枢 "。</p><p></p><div class="img_box" id="id_imagebox_13" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_13" data-original="http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc65_1024.jpg" data-height="857" data-width="847" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc65_1024.jpg" referrerpolicy="no-referrer"></div></div>这一个中枢的价格，都可以买一套米家的灯泡了。。。<p></p><p><b><strong> </strong><strong> </strong><strong>/> 语音的算力黑洞</strong></b></p><p>而除了用米家 App 来开关智能设备，咱们平时想要用爽米家生态，也绝对离不开小爱同学的语音控制。</p><p>托尼晚上睡前，可喜欢用小爱同学关灯和设置明天的起床闹钟了。</p><p>起床失败 ▼</p><p></p><div class="img_box" id="id_imagebox_14" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_14" data-original="http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc66_1024.jpg" data-height="158" data-width="423" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc66_1024.jpg" referrerpolicy="no-referrer"></div></div>然而在<strong>语音信息的离线处理</strong>上。。。各家可以说都没有太好的进展。<p></p><p>就算是强如苹果，号称能做到离线处理 siri。</p><p>但是仔细一看发现。。。这 siri 虽然离线了，但是没有办法完全离线。</p><p></p><div class="img_box" id="id_imagebox_15" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_15" data-original="http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc67_1024.jpg" data-height="682" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc67_1024.jpg" referrerpolicy="no-referrer"></div></div>能识别出来的指令寥寥无几，只能做点简单的定时，修改设置之类的应用。<p></p><p>每年都能发布 " 最好的神经引擎芯片 " 的苹果公司尚且如此，托尼是不敢对别家在本地引擎方面有太多的期待了。。。</p><p></p><div class="img_box" id="id_imagebox_16" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_16" data-original="http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc68_1024.jpg" data-height="425" data-width="638" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc68_1024.jpg" referrerpolicy="no-referrer"></div></div>所以说，在这个厂商还因为各种理由没办法实现打通智能家居本地化技术链的场景。<p></p><p>咱们想获得更好的本地化体验，可能只得自己多费点心思多折腾折腾。</p><p>也不能把推动智能家居行业变革的压力都给到米家身上。</p><p></p><div class="img_box" id="id_imagebox_17" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_17" data-original="http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc69_1024.jpg" data-height="745" data-width="960" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc69_1024.jpg" referrerpolicy="no-referrer"></div></div>面对过于复杂的家庭情况来说，<strong>上云处理已经是综合成本，效率后的最佳考量了。</strong><p></p><p>（ 如果服务器不崩的话 ）</p><p>而且，其实米家也在设备里留了让你 DIY 的接口。</p><p></p><div class="img_box" id="id_imagebox_18" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_18" data-original="http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc6a_1024.jpg" data-height="135" data-width="781" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c9b6afb15ec0354a13bc6a_1024.jpg" referrerpolicy="no-referrer"></div></div>打开 Github ，我们就能可以通过 Home Assistant 等软件，来实现把米家设备给接入 homekit，<strong>体验手搓本地控制的快乐。</strong><p></p><p>在上次断网后，托尼已经在自家的软路由上开始折腾了，如果差友感兴趣的话，等搞好后再分享给大家看看。</p><p></p><div class="img_box" id="id_imagebox_19" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_19" data-original="http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc6b_1024.jpg" data-height="459" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c9b6afb15ec0354a13bc6b_1024.jpg" referrerpolicy="no-referrer"></div></div>毕竟，家里的智能化设备越多，咋就越不愿去体验失去它们的日子。<p></p><p><strong></strong></p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            