
---
title: 'B站大佬用我的世界搞出卷积神经网络，LeCun转发！爆肝6个月，播放破百万'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072c_1024.jpg'
author: ZAKER
comments: false
date: Tue, 05 Jul 2022 00:09:59 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072c_1024.jpg'
---

<div>   
<p><strong>非计算机专业、神经网络小白</strong>，爆肝六个月——</p><p>在《我的世界》里搭建一个卷积神经网络，这是什么神操作？</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_0" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072c_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072c_raw.gif" data-height="550" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072c_1024.jpg" referrerpolicy="no-referrer"></div></div><p></p><p>最近，来自 B 站 up 主 @辰占鳌头的作品着实火了一把。</p><p>他和朋友们合作完成的这个号称 " 世界首个纯红石神经网络 "，神经元、卷积层、全连接层、激活函数、乘法器、输入、输出……样样俱全、蔚为壮观，而且可以真的<strong>实现手写数字识别，准确率还达到了 80%</strong>。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_1" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825072d_1024.jpg" data-gif-url="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825072d_raw.gif" data-height="550" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825072d_1024.jpg" referrerpolicy="no-referrer"></div></div>这波，妥妥就是如网友所说：<p></p><p>简直是实力与耐心做出来的超凡成果。</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825072e_1024.jpg" data-height="441" data-width="440" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825072e_1024.jpg" referrerpolicy="no-referrer"></div></div>目前，这个视频的播放量已经上了一百万，在外网，它甚至还引起了<strong>LeCun</strong>的注意：不仅转发了他们的作品，还给出了 "Very meta" 的评价。<p></p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072f_1024.jpg" data-height="1166" data-width="928" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825072f_1024.jpg" referrerpolicy="no-referrer"></div></div><b>耗时 6 个月，用红石搭建卷积神经网络</b><p></p><p>红石是我的世界里一种可以传递信号的矿石资源，可以用来制作红石电路，进而完成小到如自动门、光开关、频闪电源的简单机械，大到电梯、自动农场、盾构机、小游戏平台甚至计算机的复杂工具。</p><p>本次作者们搭建的这个神经网络的架构，基于 LeCun 于 1998 年提出的经典卷积结构 LeNet-5，它就是用来实现手写数字识别的。</p><p>相比传统的全精度计算（乘法器和加法器），作者经过一番思考和估算，决定采用随机计算的方式来实现这个神经网络，这样可以让设计和布局都简单一些。</p><p>毕竟对于用随机计算实现乘法来说，只需一个与门就可以表示单极，一个同或就能表示双极。</p><p>由于在我的世界中进行反向传播不太可能，网络的权重都是先在 Pytorch 中训练好，然后直接搬进去。</p><p>为了生成由随机串组成的权重，作者利用 " 投掷器投掷物品是随机的 " 这一原理造了一个随机数生成器。</p><p>总的来说，他们采用的是一个压缩的 LeNet-5，先使用一个带权重的窗口（卷积核）逐次扫描图像并提取笔画特征，然后将这些笔画特征馈入到深度神经网络（全连接层）进行分类识别。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250730_1024.jpg" data-height="438" data-width="1042" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250730_1024.jpg" referrerpolicy="no-referrer"></div></div>具体来说：<p></p><p>首先由输入设备：一个单脉冲式压力板手写板和 15 × 15 坐标屏，产生坐标信号，并在屏幕上绘制出笔迹。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_5" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250731_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250731_raw.gif" data-height="528" data-width="1020" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250731_1024.jpg" referrerpolicy="no-referrer"></div></div>然后手写数字进入卷积层，累加卷积核被遮盖的部分，并将结果输出到下一层。<p></p><p>其中：</p><p>（1）在卷积层，作者没有使用随机计算，而是使用我的世界中的模拟信号进行加法运算；</p><p>（2）为了保证输入数据可以非线性地映射到高维度特征空间然后进行线性分类，输出经过了激活函数 ReLU；</p><p>（3）由于卷积无法随意移动，所以采用直接堆叠的方式，再通过硬连线连接到手写板输入上。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250732_1024.jpg" data-height="524" data-width="882" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250732_1024.jpg" referrerpolicy="no-referrer"></div></div>随后，是全连接层。每层由若干神经网络构成，每个神经元都连接多个输入，并产生一个输出。神经元将每个输入加权累加，然后带入一个激活函数输出。<p></p><p>全连接层使用的是随机计算，</p><p>激活函数用的是非线性的 tanh。</p><p>实际的神经元电路如下：</p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250733_1024.jpg" data-height="454" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250733_1024.jpg" referrerpolicy="no-referrer"></div></div>最后一层的输出使用一个模电计数器，用来统计 5Hz 串中 "1" 的数量，容量则为 1024。<p></p><p>最终，输出部分，计数器的高 4 位被连接到计数板上，然后电路选取最大的值并在面板上显示结果。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_8" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250734_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250734_raw.gif" data-height="513" data-width="1079" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250734_1024.jpg" referrerpolicy="no-referrer"></div></div>结构总览：<p></p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250735_1024.jpg" data-height="574" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250735_1024.jpg" referrerpolicy="no-referrer"></div></div>网络架构总览：<p></p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250736_1024.jpg" data-height="488" data-width="886" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250736_1024.jpg" referrerpolicy="no-referrer"></div></div>作者介绍，该神经网络在 MNIST 数据集上约实现了<strong>80%</strong>的准确率，作为对比，<strong>同权重的全精度网络的准确率为 88%</strong>。<p></p><p>另外，它的单次理论识别时间约为 5 分钟，但没想到 Minecraft 的运算能力实在有限——在实际测试中，可能要 40 分钟以上。</p><p>由此作者得出，Minecraft 随机计算神经网络在时间开销上未必优于全精度网络。不过全精度网络目前还没有人做出来。</p><p><b>" 工作量和难度都很大 "</b></p><p>在这个作品的评论区，都是一水儿的称赞有加与膜拜（连大 V 籽岷都冒泡了）——</p><p></p><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250737_1024.jpg" data-height="180" data-width="804" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250737_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_12" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_12" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250738_1024.jpg" data-height="261" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a88250738_1024.jpg" referrerpolicy="no-referrer"></div></div>看完大佬的巨作，有网友甚至开始怀疑自己和 up 主们玩的不是一个游戏。（手动狗头）<p></p><p></p><div class="img_box" id="id_imagebox_13" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_13" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250739_1024.jpg" data-height="168" data-width="1020" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a88250739_1024.jpg" referrerpolicy="no-referrer"></div></div>还有人指出，别看最终实现的功能只是相当于机器学习中的 "hello world"，但用游戏中提供的红石元件复现出来，可以说是 " 工作量和难度都很大 "。<p></p><p>因为 " 这要求作者对算法的底层实现或者硬件执行原理（类似 cuda 编程）有深刻的理解，还能使用游戏机制来优化执行过程以及完成并行计算 "。</p><p>虽然最终识别速度比较慢，但 " 在这里探讨效率的意义不大 "。</p><p>言外之意，它本身就很有价值，" 我们不能拿 cpu 的两个线程经过无数层模拟器嵌套后的识别效率去跟显卡识别效率比较 "。</p><p></p><div class="img_box" id="id_imagebox_14" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_14" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825073a_1024.jpg" data-height="644" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825073a_1024.jpg" referrerpolicy="no-referrer"></div></div>最后，还有人感叹：好了，现在红石神经网络有了，硬盘、CPU、显示器也早就有了，红石超级电脑是不是也不远了？<p></p><p></p><div class="img_box" id="id_imagebox_15" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_15" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825073b_1024.jpg" data-height="162" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825073b_1024.jpg" referrerpolicy="no-referrer"></div></div>" 说不定到时我们就能在 MC 里玩 MC 了～"<p></p><p></p><div class="img_box" id="id_imagebox_16" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_16" data-original="http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825073c_1024.jpg" data-height="180" data-width="934" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202207/62c3e5b28e9f095a8825073c_1024.jpg" referrerpolicy="no-referrer"></div></div><b>关于作者</b><p></p><p>这个红石卷积神经网络一共有 5 位作者，up 主 @辰占鳌头是主要贡献者，负责电路的总体设计、搭建和调试。</p><p>他和另外一位作者 @学杂不善（GitHub@leamoon）都是<strong>香港科技大学</strong>的学生，现在分别攻读<strong>理论物理学博士和电子工程学博士</strong>。</p><p>其他 3 位合作者中，有一位高中刚毕业（@NKID00），另外两位（@enadixxoOxoxO 和 @爱红石的小章鱼）没有透露自己的身份。</p><p>@辰占鳌头在 2014 年的时候就开始接触《我的世界》这款游戏了，曾做过一个编码汉字的显示器和一个 8 位的 CPU。</p><p></p><div class="img_box" id="id_imagebox_17" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_17" data-original="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825073d_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825073d_raw.gif" data-height="521" dta-width="1079" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202207/62c3e5b28e9f095a8825073d_1024.jpg" referrerpolicy="no-referrer"></div></div>问及为什么一个非计算机专业的学生想要搭建一个神经网络时，他告诉我们，其实自己参加过信息竞赛，由于之前接触过随机计算（stochastic computing），最初是想展示一下随机计算在特定任务下的优越性所以开始了这个项目。<p></p><p>最终为了搭建完整的神经网络，他看了 50+ 页英文文献，写了 1000 多行代码。</p><p>要说最难 / 耗时最久的部分，他回答：是<strong>全连接层调试</strong>，因为运行速度很慢而且使用随机计算很难找到问题所在。</p><p>对于未来，up 主表示，他正在考虑搭建一台<strong>支持 RISC-V 指令集的红石 CPU</strong>。</p><p>查了一下，目前似乎还没人做出来，值得期待～</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            