
---
title: 'Android 版本上演「三代同堂」：Android 13 DP1 都更新了什么？'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20b_1024.jpg'
author: ZAKER
comments: false
date: Sun, 13 Feb 2022 05:06:12 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20b_1024.jpg'
---

<div>   
<p>当部分 Pixel 用户还在纠结要不要试试面向大屏设备优化的 Android 12L Beta 时，Google 毫不客气地放出了 Android 13 首个开发者预览版本（以下简称 DP1）。</p><p>作为开发者预览版本，比起 UI 上的变化 Android 13 DP1 更多地是向开发者展示即将在下一个版本中到来的新功能特性和 API 接口。比如主题图标 API、快速设置开关 API、系统相册选择器、独立应用语言设置等等。</p><p>让我们一起来看一看。</p><p><b>测试版要提前了</b></p><p>虽然首个开发者预览版放出的时间节点类似，但 Google 今年公布的 Android 13 整体更新规划和 Android 12 相比还是有些不同：</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20b_1024.jpg" data-height="360" data-width="1578" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20b_1024.jpg" referrerpolicy="no-referrer"></div></div>今年只会推出两个开发者预览版，第二个开发者预览版将在 3 月进行推送；<p></p><p>测试版依然有四个，不过因为开发者预览版的减少，测试版的发布时间节点有所提前；</p><p>正式版的发布日期待定。</p><p>考虑到去年 Android 12 和 12L Beta 版的时间间隔不长，今年 Android 13 的正式版推送时间或许会早一点？</p><p><b>亮点更新有哪些？</b></p><p><b>单个应用的语言偏好</b></p><p>你眼中的 Fall Out Boys、The Weeknd、Doja Cat，以往在那些系统语言为中文的 YouTube Music 用户眼中，则是打倒男孩、威肯和多杰猫 / 蜜桃朵加猫……因为不支持独立的应用语言设置，Android 版 YouTube Music 用户长久以来都只能忍受英文系统语言和应用内尴尬机翻二选一的情况。</p><p>Android 13 终于补齐了这一缺憾。升级后，只需将手机连接至电脑然后通过 ADB 执行：</p><p>adb shell settings put global settings_app_language_selection true</p><p>即可在「系统 - 语言和输入法」设置中开启现阶段隐藏的「应用语言」选项；另外，开启后应用详情界面中也会多出一项直接设置应用运行语言的「语言」选项：</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20c_1024.jpg" data-height="1280" data-width="591" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20c_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20d_1024.jpg" data-height="1280" data-width="591" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f20d_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20e_1024.jpg" data-height="1280" data-width="591" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20e_1024.jpg" referrerpolicy="no-referrer"></div></div>初步体验下来，这个功能更像是一个「给了选项就能用」的存在，好在「虽迟但到」Google 终于在 2022 年给大家做了出来。如果应用本身没有提供应用内语言切换功能，也可以根据 Google 提供的 <a href="http://iphone.myzaker.com/zaker/link.php?pk=6208fa7e8e9f094eab01d72b&b=aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vYWJvdXQvdmVyc2lvbnMvMTMvZmVhdHVyZXMvYXBwLWxhbmd1YWdlcyNhcGktaW1wbA==&bcode=cd98ab6b&target=_new" target="_blank">API 接口</a>，简单适配后即可正常工作。<p></p><p><b>Android 也有照片选择器</b></p><p>尽管分区存储（也就是大家俗称的「<a href="http://iphone.myzaker.com/zaker/link.php?pk=6208fa7e8e9f094eab01d72b&b=aHR0cHM6Ly9zc3BhaS5jb20vcG9zdC82MTE2OA==&bcode=beabdb09&target=_new" target="_blank">沙盒</a>」）机制的推进效果并不如人意，Android 13 还是在此基础上继续向 iOS 的文件管理体验靠拢。</p><p>与 iOS 的「相册读取范围」类似，Android 13 也提供了一种无需授予完整媒体库访问权限即可开放特定照片或视频给第三方应用进行选取的新方案。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_4" data-original="http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20f_1024.jpg" data-gif-url="http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20f_raw.gif" data-height="512" data-width="243" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f20f_1024.jpg" referrerpolicy="no-referrer"></div></div>值得注意的是，尽管 Google 表示照片选择器是访问用户照片与视频的推荐方式，<strong>但目前在 DP1 阶段它的使用并非强制</strong>。运行在 Android 13 DP1 上的应用依然可以申请文件读写权限然后采用传统的方式访问存储目录。<p></p><p><b>主题图标开放给第三方</b></p><p>在 Android 12 中引入 Material You 的同时，Google 也为自家 Pixel 设备引入过一套基于壁纸动态取色的主题图标系统。这套系统能够抽取应用图标 logo 的主要特征，然后以更加贴合桌面色彩主题的样式重新呈现在启动器上，但此前仅适用于 Google 应用和 Pixel Launcher，在实际使用过程中一旦与第三方应用「混搭」观感就会大打折扣。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f210_1024.jpg" data-height="3040" data-width="1440" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202202/6208cdb88e9f0941b559f210_1024.jpg" referrerpolicy="no-referrer"></div></div>实际使用往往就是这种观感<p></p><p>为此，Google 在 Android 13 中将 <a href="http://iphone.myzaker.com/zaker/link.php?pk=6208fa7e8e9f094eab01d72b&b=aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vYWJvdXQvdmVyc2lvbnMvMTMvZmVhdHVyZXMjdGhlbWVkLWFwcC1pY29ucw==&bcode=94c61e33&target=_new" target="_blank">主题图标</a> 功能开放给了第三方应用开发者。开发者只需要提供满足特性尺寸和格式要求的、用于色彩绘制的单色图标素材，并在进行相关声明，即可让应用在 Pixel 启动器中调用 Material You 动态色彩渲染图标。这些单色图标素材同样也可以在状态栏通知图标中进行复用。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f211_1024.jpg" data-height="1667" data-width="1732" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f211_1024.jpg" referrerpolicy="no-referrer"></div></div>单色主题图标尺寸规范示意图<p></p><p>由于相关细节是在 元素中进行声明的，<strong>已经适配了自适应图标的应用跟进起来应该会比较容易</strong>。</p><p><b></b></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><b><img class="lazy opacity_0 " id="img_7" data-original="http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f212_1024.jpg" data-height="796" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f212_1024.jpg" referrerpolicy="no-referrer"></b></div></div><b>添加快速设置开关更容易</b><p></p><p>Android 上的快速设置开关跟好用，快速设置开关的编辑过程却很让人头疼，尤其当快速设置开关太多，排列时需要跨显示区域上下拖动时。</p><p>Android 13 引入了一套新的 <a href="http://iphone.myzaker.com/zaker/link.php?pk=6208fa7e8e9f094eab01d72b&b=aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvYXBwL1N0YXR1c0Jhck1hbmFnZXIjcmVxdWVzdEFkZFRpbGVTZXJ2aWNlKGFuZHJvaWQuY29udGVudC5Db21wb25lbnROYW1lLCUyMGphdmEubGFuZy5DaGFyU2VxdWVuY2UsJTIwYW5kcm9pZC5ncmFwaGljcy5kcmF3YWJsZS5JY29uLCUyMGphdmEudXRpbC5jb25jdXJyZW50LkV4ZWN1dG9yLCUyMGphdmEudXRpbC5mdW5jdGlvbi5Db25zdW1lciUzQ2phdmEubGFuZy5JbnRlZ2VyJTNFKQ==&bcode=c70f3d2c&target=_new" target="_blank">tile placement API</a>，开发者接入后可以让应用直接通过弹窗的方式方便用户将对应的快速设置开关添加至快速设置开关面板当中。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f213_1024.jpg" data-height="310" data-width="512" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202202/6208cdb88e9f0941b559f213_1024.jpg" referrerpolicy="no-referrer"></div></div>快速设置开关添加提示面板示意图<p></p><p>当然了，这其实并没有从根本上解决上面提到的快速设置开关面板编辑和整理难题。</p><p><b>无需获取定位的附近 Wi-Fi 权限</b></p><p>Android 今年推出了不少针对权限管理的完善和优化，但依然有不少相对粗糙的地方。在 Android 13 中，Google 为管理设备与周围 Wi-Fi 热点连接的应用专门添加了一个名为 NEARBY_WIFI_DEVICES 的 <a href="http://iphone.myzaker.com/zaker/link.php?pk=6208fa7e8e9f094eab01d72b&b=aHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vZ3VpZGUvdG9waWNzL3Blcm1pc3Npb25zL292ZXJ2aWV3I3J1bnRpbWU=&bcode=189692e9&target=_new" target="_blank">运行时权限</a>，调用这一权限后应用可以借助 Wi-Fi 来扫描并连接附近的设备，同时无需申请精确位置权限。在智能家居、物联网设备配置的过程中使用这个权限可以避免对用户位置信息的不必要请求。</p><p>不过这一权限目前也是非强制性的，在 Google 的描述中，以 Android 13 为目标平台的应用可以通过 neverForLocation 属性来申请 NEARBY_WIFI_DEVICES 权限，「有助于促进隐私友好的应用设计」。因此对那些从来不把用户隐私放在心上的应用来说，这个权限可能又要被冷藏了。</p><p><b>其它值得一提的内容</b></p><p><b>更多系统功能加入 Project Mainline</b></p><p>Google 在 Android 10 中引入的 Project Mainline 还在进化。在 Android 13 中，Google 不仅将蓝牙功能堆栈和超宽频通信功能堆栈作为新的模块加入了 Mainline 当中，上面提到的照片选择器以及新版 OpenJDK 11 也都有望在 Project Mainline 的帮助下、通过 Google Play 系统更新推送给旧设备。</p><p><strong></strong></p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            