
---
title: 'HomeKit 新玩法：如何用 Siri 唤醒你的 PlayStation 主机'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c36_1024.jpg'
author: ZAKER
comments: false
date: Wed, 19 Jan 2022 22:32:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c36_1024.jpg'
---

<div>   
<p>由于 HAP（HomeKit Accessories Protocol）的开放性质，配合 HomeBridge / HomeAssistant 庞大的插件库，几乎做到了万物皆可 HomeKit 的程度。今天我们就来把家中的 PlayStation 游戏机的唤醒和休眠加入到 「家庭」应用中并控制。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c36_1024.jpg" data-height="192" data-width="390" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c36_1024.jpg" referrerpolicy="no-referrer"></div></div>HomeKit 与 HomeBridge<p></p><p>本文以 HomeBridge 为例，HomeBridge 运行在 Ubuntu 系统的树莓派上。安装和使用 HomeBridge 请参考这篇文章：HomeBridge 操作指南：从零开始，将你的米家设备接入 Homekit</p><p>本次接入的原理是根据 Github 上开源的 PlayStation 唤醒软件进行配置，再接入到 HomeBridge 调用运行配置好的唤醒软件。从而达到曲线救国的 PlayStation 的 HomeKit 化，接下来我们就分步骤进行安装与配置。</p><p><strong>▍</strong><strong>安装控制软件</strong></p><p>本方法使用 playactor 控制软件来操控 PlayStation 系统。由于 PlayStation 并不支持传统的 WoL ，现在有的方法原理都是基于索尼自家的 PS Remote Play 这款软件的原理进行开发的。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c37_1024.jpg" data-height="176" data-width="758" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c37_1024.jpg" referrerpolicy="no-referrer"></div></div>根据 playactor 项目的文档，本项目支持 PS4 的全部操作和 PS5 的部分操作。在加入 HomeKit 之后我们仅需要用到 Wake 与 Standby 两个指令即可。<p></p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c38_1024.jpg" data-height="421" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c38_1024.jpg" referrerpolicy="no-referrer"></div></div>首先我们进入到运行 HomeBridge 的主机中，安装软件。在终端中输入：<p></p><p><strong>sudo npm install playactor</strong></p><p>等待安装完成。如果是 Docker 中运行的 HomeBridge 请直接在 HomeBridge 的终端中安装软件。</p><p><strong>▍</strong><strong>账号认证</strong></p><p>接下来我们进入到 HomeBridge 的后台：</p><p>点击右上角三个点，进入「终端」，接下来我们使用 HomeBridge 用户进行认证。</p><p>进入终端</p><p>启动你的 PlayStation 4 / 5。</p><p>在「终端」中输入：<strong>playactor browse</strong> 运行。</p><p>屏幕上会显示你的 PlayStation 信息，如果你有多台 PlayStation 请分别记住他们的名字。</p><p>输入：<strong>playactor login --host-name < 你的主机名称 > --no-open-urls</strong>，此时屏幕上会显示一个 URL 地址，点进进入。</p><p>在地址中输入你的 PlayStation 账号密码。</p><p>转跳页面之后复制 URL 地址，拷贝进「终端」并回车。</p><p>根据提示，进入 PlayStation 的 <strong>设定 > 主机 > 远程游玩 > 关联设备</strong> 找到 8 位数字，输入到终端中。</p><p>PlayStation 右上角跳出正在远程控制时，证明认证成功。</p><p>在终端中输入：<strong>playactor standby --host-name < 你的主机名称 ></strong>，若 PlayStation 开始进入休眠证明软件运行正常。</p><p><strong>▍</strong><strong>配置 HomeBridge</strong></p><p>接下来进入 HomeBridge 进行插件配置。这里有多种插件可以选择：</p><p>HomeBridge-cmdswitch2</p><p> https://www.npmjs.com/package/homebridge-cmdswitch2</p><p>HomeBridge-WoL</p><p> https://www.npmjs.com/package/homebridge-wol</p><p>笔者选择 WoL 插件进行接入，因为具有 Return Early 功能，按下开关之后不用等待响应。如使用 cmdswitch2 配置过程也大同小异。</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c3a_1024.jpg" data-height="360" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c3a_1024.jpg" referrerpolicy="no-referrer"></div></div>配置以 GUI 为例，打开 WoL 插件：<p></p><p>输设备名称。</p><p>在 <strong>Pinging configuration</strong> 中随便输入一个 IP 地址，在 Ping Command 中输入：<strong>playactor check --host-name < 你的主机名称 > | grep -i '200 Ok'</strong>。</p><p>随意设定一个 Ping command timeout 时间。</p><p>在 <strong>Wake configuration</strong> 中随便输入一个 MAC 地址，随便输入一个广播地址。</p><p>更改 Wake grace time 为 <strong>0</strong>。</p><p>输入 Wake command <strong>playactor wake --host-name < 你的主机名称 ></strong>。</p><p>设定 Wake command timeout 为 <strong>45</strong>。</p><p>设定 <strong>Shutdown configuration</strong> 中的 Shutdown command 为<strong>playactor standby --host-name < 你的主机名称 ></strong>。</p><p>在 <strong>Miscellaneous</strong> 中打开 return early。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3b_1024.jpg" data-height="542" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3b_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3c_1024.jpg" data-height="719" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3c_1024.jpg" referrerpolicy="no-referrer"></div></div>保存并重启 HomeBridge ，此时你的 PlayStation 就已经接入 HomeKit 中了，可以实时查看状态，控制唤醒以及休眠。<p></p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3d_1024.jpg" data-height="232" data-width="216" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202201/61e8fab88e9f0941b7360c3d_1024.jpg" referrerpolicy="no-referrer"></div></div><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_7" data-original="http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c3e_1024.jpg" data-gif-url="http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c3e_raw.gif" data-height="300" data-width="400" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202201/61e8fab88e9f0941b7360c3e_1024.jpg" referrerpolicy="no-referrer"></div></div>如果你使用 HomeAssistant 那么操作也大同小异，只需要举一反三就可以把你的 PlayStation 接入 HomeKit。<p></p><p>虽然 PlayStation 本身的唤醒机制就已经十分优秀了，使用 HomeKit 或者 Siri 唤醒可以说是多此一举。但是接入进 HomeKit 以后，可以联动触发非常多的场景。比如设定游戏模式等等，具体玩法就由各位自行探究了，本文仅作抛砖引玉。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            