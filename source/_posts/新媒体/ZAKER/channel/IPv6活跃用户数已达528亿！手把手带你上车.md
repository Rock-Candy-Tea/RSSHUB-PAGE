
---
title: 'IPv6活跃用户数已达5.28亿！手把手带你上车'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e8f_1024.jpg'
author: ZAKER
comments: false
date: Sat, 20 Nov 2021 06:08:03 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e8f_1024.jpg'
---

<div>   
<p>IPv6 替代 IPv4 的话题已经不是一天两天了，随着越来越多网站完成 IPv6 改造，你真的有认真研究过 IPv6 及其设置吗？</p><p><strong>0</strong><strong>1</strong></p><p><strong>正处于爆发初期的 IPv6</strong></p><p>IPv6 对中国的数字化转型全局有多重要？可以说在未来 10 年中，5G、云计算、大数据、AI、物联网的各种应用，都要在 IPv6 基础上实现。2019 年全球 IPv4 地址资源已经耗尽，而且与中国没有一个 IPv4 根服务器相比，中国已经拥有 1 个 IPv6 主根服务器、3 个辅根服务器。发展 IPv6，中国早在 20 年前就着手准备。</p><p>与目前移动网络中 22.87% 的流量相比，IPv6 在固网中的流量仅占 5.2%。流量反映了 IPv6 的应用水平，这也是 IPv6 这盘大棋的棋眼所在。未来 5 年，我国的 IPv6 流量增长目标是：2023 年移动网络 IPv6 流量占比达到 50%，2025 年达到 70%；2023 年固定网络 IPv6 的流量占比达到 15%，2025 年达到 20%。</p><p>而在具体数据方面，截至 2021 年 5 月，我国 IPv6 地址拥有量达到 59030 块（/32），位居世界第一，我国 IPv6 活跃用户数达 5.28 亿，占互联网网民总数的 53.39%。与此同时，在工信部联合中央网信办发布《IPv6 流量提升三年专项行动计划（2021-2023 年）》的基础上，中央网信办近日又发布《关于加快推进互联网协议第六版（IPv6）规模部署和应用工作的通知》。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e8f_1024.jpg" data-height="348" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e8f_1024.jpg" referrerpolicy="no-referrer"></div></div>" 十四五 "IPv6 规模部署和应用主要指标<p></p><p>《通知》要求，到 2023 年末，基本建成先进自主的 IPv6 技术、产业、设施、应用和安全体系，形成市场驱动、协同互促的良性发展格局，IPv6 活跃用户数达到 7 亿，物联网 IPv6 连接数达到 2 亿。移动网络 IPv6 流量占比达到 50%，城域网 IPv6 流量占比达到 15%。到 2025 年末，全面建成领先的 IPv6 技术、产业、设施、应用和安全体系，IPv6 活跃用户数达到 8 亿，物联网 IPv6 连接数达到 4 亿。移动网络 IPv6 流量占比达到 70%，城域网 IPv6 流量占比达到 20%。之后再用五年左右时间，完成向 IPv6 单栈的演进过渡，IPv6 与经济社会各行业各部门全面深度融合应用。</p><p>对于这样的 IPv6 网络，你会心动到想去了解和学习吗？</p><p><strong>0</strong><strong>2</strong></p><p><strong>IPv4 的替代者</strong></p><p>从上世纪 80 年代开始，人们就意识到 IPv4 的地址即将耗尽，这是当初设计时未曾预料到的，这也是引入 有类别网络。2019 年 11 月 25 日已分配完公网 IPv4 地址，以后就没有多余地址可以分配了。短期内可以使用 NAT 技术进行缓解。长期来看，还是要用 128 位的 IPv6 地址替代 32 位的 IPv4 地址，IPv6 有 3.4×10^38 个可用地址，多得不得了，可以满足未来 IP 地址的需求。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e90_1024.jpg" data-height="104" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e90_1024.jpg" referrerpolicy="no-referrer"></div></div>源于 IPv4 和 IPv6 计算<p></p><p>IPv6 地址主要有单播地址、组播地址和任播地址三种类型。</p><p>单播地址是用来唯一标识一个接口，类似于 IPv4 的单播地址，发送到单播地址的数据报文将被传送给此地址所标识的接口。</p><p>组播地址是用来标识一组接口，类似于 IPv4 的组播地址，发送到组播地址的数据报文，将被传送给此地址所标识的所有接口。</p><p>任播地址也是用来标识一组接口，但是与组播地址不同的是，发送到任播地址的数据报文，会根据使用的路由协议进行度量，传送给此地址所标识的一组接口中，距离源节点最近的一个接口。</p><p>注意在 IPv6 中没有广播地址，广播地址的功能通过组播地址来实现。</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e91_1024.jpg" data-height="220" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e91_1024.jpg" referrerpolicy="no-referrer"></div></div>IPv6 地址特性整理<p></p><p>在 IPv6 单播地址中，又包括全球单播地址、链路本地地址、环回地址和未指定地址等。今天我们重点看下常用的全球单播地址和链路本地地址。</p><p>全球单播地址等同于 IPv4 公网地址，提供给网络服务提供商，这种类型的地址允许路由前缀的聚合，从而限制了全球路由表项的数量。</p><p>链路本地地址则用于邻居发现协议，和无状态自动配置中，链路本地节点之间的通信。使用链路本地地址作为源或目的地址的数据报文，不会被转发到其他链路上。</p><p>看完这些是不是觉得脑子还是有些晕乎乎的？那我们用最常见的 192.168.1.1 来举个例子如何？</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e92_1024.jpg" data-height="292" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e92_1024.jpg" referrerpolicy="no-referrer"></div></div>IPv4 和 IPv6 地址特性整理<p></p><p>地址前缀相当于 IPv4 地址中的网络号码字段部分，接口标识相当于 IPv4 地址中的主机号码部分。我们通过 IPv6 地址 / 前缀长度来表示 IPv6 的地址前缀。其中，前缀长度是一个十进制数，表示 IPv6 地址最左边多少位为地址前缀。</p><p>了解了 IPv6 地址的基本信息后，家庭用户如何使用就成为我们接下来的目标了。</p><p><strong>0</strong><strong>3</strong></p><p><strong>挖出光猫里的 IPv6</strong></p><p>想用上 IPv6，首先要确定自家宽带有没有分配到 IPv6 地址。最快的方法就是用手机直连光猫的 WIFI，只要 WIFI 信息页面里面出现了 2xxx 开头的 IP 地址，就说明至少光猫的 IPv6 地址是下发正常的。这里小编还要提一句，目前移动宽带几乎都支持 IPv6，电信宽带在某些地区是公网 IPv4 和 IPv6 二选一。</p><p>如果手机太旧，不支持 IPv6，光猫网口用网线直接连接电脑，也可以从网络信息中看到是否获取到了地址。当 IPv6 连接显示为 "Internet"，就证明电脑不仅分配到了 IPv6 地址，而且是 IPv6 网络是畅通的。除了上面两种肉身测试的方式，进光猫的管理页面查看，或者打电话咨询当地运营商也可以。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e93_1024.jpg" data-height="168" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e93_1024.jpg" referrerpolicy="no-referrer"></div></div>系统截图<p></p><p>通过光猫直接上网的话，一般来说都能正常使用 IPv6。但是光猫附带的 WIFI 和路由功能都比较弱，而且通常只有一个千兆 LAN 口，这对喜欢折腾的小伙伴来说当然是不能接受的。所以很多人都选择在光猫下接一个主路由器来作为 AC 使用，可是往往这一接，IPv6 就不能正常工作了。</p><p>导致下接路由器无法分配 IPv6 地址的原因之一，可能是路由器本身就不支持 IPv6。2020 年以及后面推出的国产路由器基本都支持 IPv6，但在这之前国产路由器对 IPv6 的支持度十分感人。要想知道自己的路由器是否支持 IPv6 功能，可以打开 " 国家 IPv6 发展监测平台 " 或者进入路由器管理界面查看有没有相关选项。</p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e94_1024.jpg" data-height="288" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e94_1024.jpg" referrerpolicy="no-referrer"></div></div>国家 IPv6 发展监测平台截图<p></p><p>在确定自己路由器支持 IPv6 功能之后，不要忘记将光猫改成桥接模式，也就是让路由器来完成拨号上网的功能。光猫改桥接对 IPv6 来说其实是个非必要选项，但是为了之后的工作不白忙活，特别是使用国产路由器的小伙伴，还是先将光猫改为桥接模式比较好。</p><p><strong>0</strong><strong>4</strong></p><p><strong>梅林固件的 IPv6 设置</strong></p><p>既然想要尝鲜，那必然选择可玩性较好的梅林固件了。</p><p>在完成光猫的桥接设置之后，就能正式开始对路由器进行的 IPv6 选项进行设置了。和其他的路由器固件相比，从华硕固件而来的梅林固件的功能比较强大，设置界面也很方便（主要是小编手上没有其他路由器），所以这次对 IPv6 的配置就以梅林固件为例。</p><p>怎么进路由器管理页面我们跳过，直接进入正题。先打开 IPv6 设置页面，联机类型选择 passthrough，启用 release prefix on exit、自动接上 DNS 服务器，设置完成。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_6" data-original="http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e95_1024.jpg" data-height="278" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e95_1024.jpg" referrerpolicy="no-referrer"></div></div>华硕路由器梅林固件截图<p></p><p>以上设置是针对光猫拨号的情况，可以将联机类型设置为 passthrough，只要光猫正常就可以获取到 IPv6 地址，但是我们之前就将光猫改桥接了，这样设置就不正确。</p><p>那一开始光猫不改桥接不就好了？如果使用华硕或者梅林固件的小伙伴的确可以这样设置，大把国产路由器虽然有 IPv6 功能，却不支持 DHCP-V6 PD 转发，也就是说只能通过路由器拨号才能正常获取到 IPv6 地址。所以之前才叫大家提前改桥接。</p><p>既然用路由器拨号了，IPv6 设置也有变化。首先联机类型要改成 Native，接口：PPP、DHCP-PD 和 release prefix on exit 都要开启。</p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e96_1024.jpg" data-height="333" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e96_1024.jpg" referrerpolicy="no-referrer"></div></div>华硕路由器梅林固件截图<p></p><p>自动配置设置选择 Stateless（无状态），这里其实选择 Stateful（有状态）更好。因为有状态下的 IPv6 获取的是 64 位短码地址，后缀是不会变化的，这样就能实现 IPv6 环境下的设备管理和端口转发等功能；Stateless 下的 IPv6 通过 SLAAC（无状态自动分配）获取 128 位长码地址，只要 IPv6 地址发生改变，前缀后缀都会变化，不方便设备管理。</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e97_1024.jpg" data-height="196" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e97_1024.jpg" referrerpolicy="no-referrer"></div></div>华硕路由器梅林固件截图<p></p><p>Stateful 很美好，但我们依然只能选择 Stateless。因为安卓系统直到现在都不支持 DHCP-PD，为了兼容性只有妥协一下了。然后启用自动接口 DNS 服务器，最后在页面底部选择应用设置，等圈圈转完，不出意外路由器就已经成功获取到 IPv6 地址了。</p><p>这时候先不要着急关闭网页，还要在安全设置里面将 IPv6 防火墙关闭，因为之前设置的无状态自动配置，没办法通过设备的 IPv6 地址进行防火墙策略的设置，IPv6 防火墙意义不大，开了在某些时候反而影响连通性。</p><p><strong>0</strong><strong>5</strong></p><p><strong>尝试体验 IPv6</strong></p><p>在做完上面的设置之后，再查看电脑的网络连接信息，应该就能看到电脑已经获取到了一个 IPv6 地址和一个临时 IPv6 地址，网关和 DNS 都获取正常，如果其中有一项地址没有获取到，先试试重启大法。一切正常的话，就可以开始测试自己的 IPv6 网络通不通了。</p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e98_1024.jpg" data-height="151" data-width="553" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e98_1024.jpg" referrerpolicy="no-referrer"></div></div>系统截图<p></p><p>测试的方法很简单，打开 IPv6 测试网址：http://www.test-IPv6.com/ 打开网站后自动开始识别本机的 IPv6 地址，开始测试连通性。下面是重庆移动宽带测试结果，可以看到所有 10 项测试都显示成功，除了延迟比 IPv4 高一些，其他都很正常，网站还支持一些 IPv6 网站的测试，有兴趣的小伙伴可以看看。即使有几项测试没通过（一般都是无域名 IPv6 和 IPv6 大数据包），只要 IPv6 地址和 DNS 服务器正常，也不太影响 IPv6 的使用，只是可能稳定性差一点。</p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e99_1024.jpg" data-height="292" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202111/6198f400b15ec006a67f2e99_1024.jpg" referrerpolicy="no-referrer"></div>网页截图<p></p><p>一次成功当然很好，小编之前还遇到过电脑 IPv6 地址、DNS 都获取正常，进 test-IPv6 网页却显示没有检测到 IPv6 地址。经过从光猫到路由器，再到网线一番探查之后发现，是路由器网关的 IPv6 地址没有正常获取，最后在 " 外部网络 " 设置页面点一下 " 应用设置 " 重新拨号一次，网关的 IPv6 地址终于获取到。</p><p></p><div class="img_box" id="id_imagebox_11" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_11" data-original="http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e9a_1024.jpg" data-height="279" data-width="554" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202111/6198f400b15ec006a67f2e9a_1024.jpg" referrerpolicy="no-referrer"></div></div>华硕路由器梅林固件截图<p></p><p>在之后的使用过程中，这种问题在路由器重启之后概率发生，而且重启大法也不好使，只有在设置界面重新拨号才能解决。网上冲浪了一下，确认应该是梅林固件独有的 BUG，用梅林固件的小伙伴要注意下这个问题。</p><p><strong>如何？看到这里是不是心动想要体验一下了？</strong></p><p>（编辑：张毅）</p><p><strong></strong></p><div id="recommend_bottom"></div><div id="article_bottom"></div></div>  
</div>
            