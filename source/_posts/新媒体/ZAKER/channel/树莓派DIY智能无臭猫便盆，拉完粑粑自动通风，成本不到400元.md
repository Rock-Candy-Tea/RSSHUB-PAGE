
---
title: '树莓派DIY智能无臭猫便盆，拉完粑粑自动通风，成本不到400元'
categories: 
 - 新媒体
 - ZAKER
 - channel
headimg: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a4_1024.jpg'
author: ZAKER
comments: false
date: Mon, 16 Aug 2021 00:07:32 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a4_1024.jpg'
---

<div>   
<p>每个铲屎官最痛苦的事情之一，莫过于处理猫咪的 " 生化武器 " ——猫屎。</p><p></p><div class="img_box" id="id_imagebox_0" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_0" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a4_1024.jpg" data-height="472" data-width="504" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a4_1024.jpg" referrerpolicy="no-referrer"></div></div>只要猫拉了粑粑，气味就会飘出来，在铲屎时还能闻到一股巨酸爽的味道。<p></p><p>好消息，来自硅谷的一个华人工程师，想出了一个绝妙的方法：给猫做个智能厕所！</p><p>结合小零件，一块<strong>树莓派</strong>就能将猫砂盆升级成自动通风猫厕，每当猫咪 " 解决完生理问题 "，它就能自行启动风扇，进行散味。</p><p></p><div class="img_box" id="id_imagebox_1" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_1" data-original="http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2a5_1024.jpg" data-height="846" data-width="626" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2a5_1024.jpg" referrerpolicy="no-referrer"></div></div>简直是铲屎官福音！来看看制作流程。<p></p><p><b>树莓派控制，红外自动检测</b></p><p>硬件上，完整的零件清单如下：</p><p>树莓派 Zero W、80mm × 80mm 的风扇（CPU 散热器）、12V 电源、1 截空调通风管、适量 PIR 运动传感器、适量 1k Ω 电阻、三极管、1 个降压 - 升压变换器</p><p></p><div class="img_box" id="id_imagebox_2" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_2" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a6_1024.jpg" data-height="205" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a6_1024.jpg" referrerpolicy="no-referrer"></div></div>从亚马逊官网给出的价格来看，这些硬件的总成本在<strong>400 元左右</strong>。<p></p><p>其中，10 美元的<strong>树莓派 Zero W</strong>是整个装置的核心，用于控制电路什么时候运行。</p><p>作者表示，树莓派也可以用更便宜的 Pico 来代替（5 美元），但他想了解自家猫咪的具体拉粑粑时间……因此选择了贵一点的 Zero W，可以远程登录查看数据。</p><p><strong>风扇</strong>用于散味，<strong>空调通风管</strong>则用于排气。</p><p>至于<strong>PIR</strong>（红外）<strong>运动传感器</strong>，则用来检测猫咪什么时候进猫砂盆、什么时候出去，以决定风扇通风的时间。</p><p>此外，还需要一个<strong>降压 - 升压变换器</strong>（此处用了汽车 USB 充电器代替），因为风扇的供电电压需要达到 12V，但树莓派的额定运行电压却在 5V。</p><p>同时，树莓派的输出电压只有 3.3V，因此在树莓派输出 3.3V 信号的时候，还需要一个<strong>三极管</strong>来控制 12V 电路的开启和关闭。</p><p>整体搭建电路图如下（其中 333 Ω 的电阻，由 3 个 1k Ω 的电阻并联获得）：</p><p></p><div class="img_box" id="id_imagebox_3" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_3" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a7_1024.jpg" data-height="472" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a7_1024.jpg" referrerpolicy="no-referrer"></div></div>其中，PIR 指运动传感器，Pz 指树莓派（输出通过 333 Ω 电阻与三极管相连），fan 指风扇，而风扇和树莓派之间的就是三极管。<p></p><p>至于图中的 5V 电压，可以直接用降压变换器，也可以对汽车 USB 充电器进行一个改装：先将它拆开，再把充电器的金属尖端用电线焊接替代，最后连接到主电路中。</p><p></p><div class="img_box" id="id_imagebox_4" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_4" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a8_1024.jpg" data-height="615" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2a8_1024.jpg" referrerpolicy="no-referrer"></div></div>到这里，硬件部分的组装就已经完成，搭建到猫砂盆上方后，看起来是这个样子的：<p></p><p></p><div class="img_box" id="id_imagebox_5" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_5" data-original="http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2a9_1024.jpg" data-height="810" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2a9_1024.jpg" referrerpolicy="no-referrer"></div></div>再用胶带或者热熔胶枪组装起来就行。<p></p><p>当然，这也只是完成硬件部分的制作，软件上还需要对树莓派进行设置。</p><p><b>自动通风，还能记录 " 生理 " 时间</b></p><p>首先，需要设置树莓派中存储数据用的 SD 卡、连接和启动等。</p><p></p><div class="img_box" id="id_imagebox_6" onclick><div class="content_img_div"><img class="lazy opacity_0 zaker_gif_cache" id="img_6" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2aa_1024.jpg" data-gif-url="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2aa_raw.gif" data-height="596" data-width="842" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2aa_1024.jpg" referrerpolicy="no-referrer"></div></div>然后，就可以开始往里面填程序了。<p></p><p>由于作者想要记录猫咪的拉粑粑时间，因此还安装了 Python 和数据库 MariaDB：</p><p>sudo apt install mariadb-server-10.0 python3-pip</p><p>pip3 install mariadb</p><p>除了数据库以外，还需要一个可以控制树莓派 GPIO 引脚的 Python 库 GPIO ZERO（GPIO 引脚指图中这部分）：</p><p></p><div class="img_box" id="id_imagebox_7" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_7" data-original="http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2ab_1024.jpg" data-height="669" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2ab_1024.jpg" referrerpolicy="no-referrer"></div></div>sudo apt install python3-gpiozero<p></p><p>安装后，就可以运行主要的程序了（Python 编写），这部分的原理，是在传感器触发后，将风扇启动 10 分钟：</p><p>FAN_ON_DURATION = 10 * 60 # 10 min</p><p>outpin = LED ( 22 ) </p><p>pir = MotionSensor ( 27, sample_rate=1 ) # I used the GPIO pin 27</p><p>while True: </p><p> pir.wait_for_motion ( ) </p><p> outpin.on ( ) </p><p> time.sleep ( FAN_ON_DURATION ) </p><p> outpin.off ( ) </p><p>同时，作者还希望能在整个系统启动时，自动运行程序，因此还写了另一个文件，将它命名为 < ( 你的 ) 服务器名称 >.service，确保它在 mysqld 启动后就能运行：</p><p> [ Unit ] </p><p>Description=Motion detection service for cat litter</p><p>After=mysqld.service</p><p> [ Service ] </p><p>ExecStart=/usr/bin/python3 -u motion_detection.py</p><p>WorkingDirectory=/home/pi/</p><p>StandardOutput=append:/home/pi/execution.log</p><p>StandardError=append:/home/pi/execution.log</p><p>Restart=alwaysUser=pi </p><p> [ Install ] </p><p>WantedBy=multi-user.target</p><p>放进 /etc/systemd/system 文件夹，并允许跟随系统启动：</p><p>sudo systemctl enable <your_service>.service</p><p>Done！现在软件部分也搞定了，可以愉快地给自家猫用上了，据作者表示，打开风扇时，即使站在旁边，也基本闻不到味道。</p><p>祝：埋屎必中，便便顺利 ~（手动狗头）</p><p></p><div class="img_box" id="id_imagebox_8" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_8" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2ac_1024.jpg" data-height="374" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2ac_1024.jpg" referrerpolicy="no-referrer"></div></div><b>解决更多铲屎官难题</b><p></p><p>这个智能 " 无臭 " 猫砂盆的作者，目前在硅谷工作，自我介绍是一名 " 攻城狮 "。</p><p>事实上，作者自己家里就有猫，还是两只：</p><p></p><div class="img_box" id="id_imagebox_9" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_9" data-original="http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2ad_1024.jpg" data-height="601" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres1.myzaker.com/202108/611a03c68e9f093aec48e2ad_1024.jpg" referrerpolicy="no-referrer"></div></div>除了这个猫砂盆，作者此前还自己做过家用版大数据处理平台、以及树莓派运行的 GPS 跟踪器。<p></p><p></p><div class="img_box" id="id_imagebox_10" onclick><div class="content_img_div perview_img_div"><img class="lazy opacity_0 " id="img_10" data-original="http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2ae_1024.jpg" data-height="607" data-width="1080" src="https://cors.zfour.workers.dev/?http://zkres2.myzaker.com/202108/611a03c68e9f093aec48e2ae_1024.jpg" referrerpolicy="no-referrer"></div></div>作者表示，下一步计划研发一个新的装置，阻止猫咪到桌上和自己抢饭。<p></p><p>这年头，当个铲屎官都得学点黑科技了。</p><div id="recommend_bottom"></div><div id="article_bottom"></div>  
</div>
            