
---
title: '无需电脑如何执行 adb shell 命令'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/02/15/3c0eb93be7d8cb46ec37d8183e627c59.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Tue, 15 Feb 2022 07:30:57 GMT
thumbnail: 'https://cdn.sspai.com/2022/02/15/3c0eb93be7d8cb46ec37d8183e627c59.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><p style="margin-left:0px;"><strong>Matrix 首页推荐</strong></p><p style="margin-left:0px;"><a href="https://sspai.com/matrix">Matrix</a> 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。</p><p style="margin-left:0px;">文章代表作者个人观点，少数派仅对标题和排版略作修改。</p><hr><p style="margin-left:0px;">ADB（<a href="https://developer.android.com/studio/command-line/adb">Android Debug Bridge</a>）是用于调试 Android 设备的命令行工具，对开发者来说，ADB 自然是日常工作的得力助手，而对我们业余玩家来说，它也可以用来调校一些默认情况下接触不到的功能和设置。</p><p style="margin-left:0px;">在早期的 Android 平台上，我们只能通过 USB 数据线连接电脑和手机，然后再在电脑上使用 ADB 工具（前提是已经在开发者选项中开启了 USB 调试开关）；从 Android 10 开始，Google 眼看大家那可怜的 USB 接口数量和满桌的数据线，无奈之下推出了一个无线调试功能，只需要电脑和手机连接到同一个 Wi-Fi（即在同一局域网下）就可以进行调试。</p><figure class="image ss-img-wrapper image_resized" style="width:376px;"><img src="https://cdn.sspai.com/2022/02/15/3c0eb93be7d8cb46ec37d8183e627c59.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/02/15/3c0eb93be7d8cb46ec37d8183e627c59.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">虽然简化如此，但用户还是需要一台电脑才可以执行 ADB 的相关命令。比如说我想随时随地「冻结」某个应用<sup class="ss-footnote" href title="adb shell pm disable-user com.tencent.mm" footnote-id="1">1</sup>，或是通过 Shizuku 使用 App Ops 进行更全面的权限管理，用小黑屋、黑阈、绿色守护等工具优化后台和续航；再比如此前少数派推荐过的 Wavelet 来个「一耳朵」音质提升。身边似乎总得准备一台配置了 Android 开发工具或 ADB 环境的电脑，挺麻烦的。</p><p style="margin-left:0px;"><strong>关联阅读：</strong></p><ul><li style="margin-left:0px;"><a href="https://sspai.com/post/54850" target="_blank">不用 root 也能优化好手机？为此我试了一下这十款应用</a></li><li style="margin-left:0px;"><a href="https://sspai.com/post/61348" target="_blank">在权限管理上跑过 iOS 14 和 Android 11：App Ops 4.0 上手指南</a></li><li style="margin-left:0px;"><a href="https://sspai.com/post/65456" target="_blank">App+1 | 不懂均衡器调校也能量身定制，无需折腾的 Android 音效提升工具</a></li></ul><p style="margin-left:0px;">既然现在新设备已经支持 <a href="https://sspai.com/post/57427" target="_blank">无线调试</a>，我们是不是可以把手机本身当作电脑，让它自己连接自己呢？换句话说，手机本身既是 ADB Server 也是 Client，自然也满足在同一局域网的条件。</p><p style="margin-left:0px;">是的，已经有大神想到这个点子并开发了一个工具应用：<a href="https://github.com/tytydraco/LADB" target="_blank">LADB</a>，顾名思义即 Local ADB，运行在本地的 ADB，基于 GPL 协议开源。</p><p style="margin-left:0px;">我们安装后试一试效果，目前看起来功能还是挺简单的，就一个 Shell 窗口。简单说一下使用步骤：</p><ul><li>先连接任意一个 Wi-Fi，就算没有接入互联网都可以；</li><li>然后打开 LADB，将它调整为小窗模式（或分屏模式）——因为无线调试的配对码等信息每次点击都会动态生成，所以才需要小窗模式同时打开本应用和开发者选项；</li></ul><figure class="image ss-img-wrapper image_resized" style="width:376px;"><img src="https://cdn.sspai.com/2022/02/15/292a7074ba96639f56576a638305e64e.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/02/15/292a7074ba96639f56576a638305e64e.png" referrerpolicy="no-referrer"></figure><ul><li>进入开发者选项，开启无线调试，首次使用需要配对设备，将配对码和端口填入本应用即可；</li></ul><figure class="image ss-img-wrapper image_resized" style="width:368px;"><img src="https://cdn.sspai.com/2022/02/15/9cbbe843f032e7c021067f3bb94f1ffd.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/02/15/9cbbe843f032e7c021067f3bb94f1ffd.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">成功以后，下次再使用就会自动连接了。</p><p style="margin-left:0px;">我们不仅可以使用 adb shell 相关的命令，还可以使用 Linux 系统中一些常用的命令。这样即便没有电脑，也可以做部分调试了，而且访问权限会比其他类似的模拟终端应用（诸如 Termux）高一些。</p><figure class="image ss-img-wrapper image_resized" style="width:368px;"><img src="https://cdn.sspai.com/2022/02/15/28cfa3661f1fdba794e76abbf12a5bd7.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/02/15/28cfa3661f1fdba794e76abbf12a5bd7.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">最后，我们仍然不能使用 LADB 这个应用来执行类似这样的命令：</p><pre class="language-shell"><code>adb root
adb reboot
adb install
...</code></pre><p style="margin-left:0px;">因为 LADB 只是向用户开放了 adb shell 输入，所以在没有 root 的前提下也只能执行 <code>adb shell xxx</code> 这样的命令（比如上文提到的停用应用）。从源码来看它是将整个 ADB 工具编译到移动平台的，我猜也是考虑到安全原因没有暴露除 shell 以外的其他命令输入。不过对于一些常见的 ADB 使用需求，比如 Shizuku、黑阈、绿色守护等，使用 LADB 来完成配置已经足够了。</p><p style="margin-left:0px;">另外，我也基于原作者的开源代码做了一些 Shell 使用上的优化，其他功能基本不变，感兴趣的同学可以 <a href="https://github.com/ysy950803/LADBS/raw/ladbs/app/release/app-release.apk">下载</a> 体验。</p><p style="margin-left:0px;">> 下载 <a href="https://sspai.com/page/client" target="_blank">少数派 2.0 客户端</a>、关注 <a href="https://sspai.com/s/J71e" target="_blank">少数派公众号</a>，解锁全新阅读体验 📰</p><p style="margin-left:0px;">> 实用、好用的 <a href="https://sspai.com/mall" target="_blank">正版软件</a>，少数派为你呈现 🚀</p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>32</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>16</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-4400" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E6%97%A0%E9%9C%80%E7%94%B5%E8%84%91%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%20adb%20shell%20%E5%91%BD%E4%BB%A4%E3%80%91Matrix%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90Matrix%E6%98%AF%E5%B0%91%E6%95%B0%E6%B4%BE%E7%9A%84%E5%86%99%E4%BD%9C%E7%A4%BE%E5%8C%BA%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E5%BC%A0%E5%88%86%E4%BA%AB%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%A7%E5%93%81%E4%BD%93%E9%AA%8C%EF%BC%8C%E6%9C%89%E5%AE%9E%E7%94%A8%E4%BB%B7%E5%80%BC%E7%9A%84%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%9D%E8%80%83%E3%80%82%E6%88%91%E4%BB%AC%E4%BC%9A%E4%B8%8D%E5%AE%9A%E6%9C%9F%E6%8C%91%E9%80%89Matrix%E6%9C%80%E4%BC%98%E8%B4%A8%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2Farticle%2Fca62c8a7-4f04-4aee-e348-bc3ad0089dbf.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-2516" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E6%97%A0%E9%9C%80%E7%94%B5%E8%84%91%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%20adb%20shell%20%E5%91%BD%E4%BB%A4%E3%80%91Matrix%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90Matrix%E6%98%AF%E5%B0%91%E6%95%B0%E6%B4%BE%E7%9A%84%E5%86%99%E4%BD%9C%E7%A4%BE%E5%8C%BA%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E5%BC%A0%E5%88%86%E4%BA%AB%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%A7%E5%93%81%E4%BD%93%E9%AA%8C%EF%BC%8C%E6%9C%89%E5%AE%9E%E7%94%A8%E4%BB%B7%E5%80%BC%E7%9A%84%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%9D%E8%80%83%E3%80%82%E6%88%91%E4%BB%AC%E4%BC%9A%E4%B8%8D%E5%AE%9A%E6%9C%9F%E6%8C%91%E9%80%89Matrix%E6%9C%80%E4%BC%98%E8%B4%A8%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            