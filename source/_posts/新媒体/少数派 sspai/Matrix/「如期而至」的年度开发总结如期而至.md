
---
title: '「如期而至」的年度开发总结如期而至'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/01/14/44f7c75434be84ae4947e9a082240074.gif'
author: 少数派 sspai
comments: false
date: Wed, 19 Jan 2022 02:38:30 GMT
thumbnail: 'https://cdn.sspai.com/2022/01/14/44f7c75434be84ae4947e9a082240074.gif'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><p>「<a href="https://sspai.com/post/63904" target="_blank">如期而至</a>」APP上线一年左右，目前已经更新到 1.9.3 版本。去年重新设计和优化了很多地方，也如期完成了对 iPad 和 Siri 两个重要功能的支持，让记录和管理物品变得更加方便和快捷。</p><p>顺着这一年的版本更新记录，在此总结一下「如期而至」APP 的变化。</p><h2>主题颜色修改</h2><p>「如期而至」默认主题色是蓝色，一开始很多人说颜色太冲眼或太直男，希望有多个主题色可以选择，所以很快就推出了有 5 个颜色选择的版本。随着时间对色彩感受的弱化，我也意识到预设的几个颜色会满足不了用户的选择，于是后面又推出了自定义颜色，真正实现“赤橙黄绿青蓝紫，你的APP你做主”。</p><figure class="ss-imgRows" figcaption="即点即换的主题颜色切换；设置长春花蓝色"><img src="https://cdn.sspai.com/2022/01/14/44f7c75434be84ae4947e9a082240074.gif" alt data-original="https://cdn.sspai.com/2022/01/14/44f7c75434be84ae4947e9a082240074.gif" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/14/d79f65baa6518dfa3af45e1e1f833091.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/14/d79f65baa6518dfa3af45e1e1f833091.PNG" referrerpolicy="no-referrer"></figure><p>修改主题颜色之后，整个APP的主导色会跟着改变，包括小组件、消息通知框等。在使用自定义颜色的时侯，建议不要使用太淡的颜色，因为在诸如回顾视图日历、iPad 版环形图等地方会自动计算颜色深浅，太浅的颜色就会造成颜色异常。受制于 iOS 开发机制，APP图标没法动态同步自定义的颜色，所以目前只有 5 种颜色的图标可供选择。</p><h2>丰富小组件样式</h2><p>小组件如今有 5 款样式可供选择，“即将到期列表”可以按标签来进行显示。最早做的小组件设计不规范，在每个机型上显示都会不一样，后来改为按照公式自动计算间隙、宽高度，目前在各个设备上就比较正常了。</p><figure class="ss-imgRows" figcaption="5 款小组件样式（最后一个仅限 iPad 版）；小组件切换标签"><img src="https://cdn.sspai.com/2022/01/17/3add533459c47d23c77e5dc143f750c1.gif" alt data-original="https://cdn.sspai.com/2022/01/17/3add533459c47d23c77e5dc143f750c1.gif" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/17/423593c7f9f263f2ec6102106295a9d6.gif" alt data-original="https://cdn.sspai.com/2022/01/17/423593c7f9f263f2ec6102106295a9d6.gif" referrerpolicy="no-referrer"></figure><h2>优化通知提醒</h2><p>一开始做的提醒设定是每天都会进行提醒，比如选择了提醒范围 30 天，就会在物品剩余 30 天内每天都进行提醒，频繁的提醒容易让人烦燥和麻木。经过一番摸索后改成了递增的方式，越接近过期的物品提醒次数越多。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/16/47ea28da727a0bb024844d11c8ce339f.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/16/47ea28da727a0bb024844d11c8ce339f.jpeg" referrerpolicy="no-referrer"><figcaption>“提醒范围”每项对应的提醒时间点</figcaption></figure><h2>增加开封功能</h2><p>“开封”对于物品期限管理来说很重要，像是化妆品开瓶、咖啡豆开封等使用场景很有意义，所以也加入了开封的功能。按住物品向左滑动，显示开封设置界面。如果是当天拆封进行记录的，只需要填写新的期限保存即可；而如果是之前开封的，可以向右滑动开封界面，点击开封日期进行设置。</p><figure class="ss-imgRows" figcaption="多数量物品开封过程；开封后物品详情页面"><img src="https://cdn.sspai.com/2022/01/17/7516e719eff8e9368db49c2dd4867529.gif" alt data-original="https://cdn.sspai.com/2022/01/17/7516e719eff8e9368db49c2dd4867529.gif" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/17/b62380e690d36da8b5607eb2a48c1a7a.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/17/b62380e690d36da8b5607eb2a48c1a7a.PNG" referrerpolicy="no-referrer"></figure><p>多数量的物品也可进行开封，设置开封之后会单独生成一个单一已开封的物品，原来的物品数量减少一个。拆封之后的物品右边会有一个缺块，可以在列表里被明显区分，点击物品显示详情，可以看到物品的“开始日期”已经变为“拆封日期”，并会显示物品的期限变化。</p><h2>增加图片功能</h2><p>对于喜欢记录卡券的用户来说，添加图片是一项必不可少的需求，你可以把各种二维券码截图记录于此，在查看期限的时侯顺带打开使用。在从拒绝 → 尝试 → 真香一段开发心路转变后，「如期而至」也终于加入了图片功能，并且图片可以点击放大来显示一些重要信息。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/19/11eaa5558267e6cf528ccf10a02c3fd1.gif" data-original="https://cdn.sspai.com/2022/01/19/11eaa5558267e6cf528ccf10a02c3fd1.gif" referrerpolicy="no-referrer"></figure><h2>重新设计详情卡片</h2><p>旧版的详情卡片设计比较单一，无论有没有填写内容均会占空显示，如下左图的保质期和生产日期为空，单纯的显示“无”其实意义不大。在经过重新设计之后，详情卡片会根据所填写的不同内容，自动进行多样式的显示。简单的卡片、完整填写的卡片、开封后的卡片、搜索已用完的卡片，每一项都会呈现不一样的效果。新设计的详情卡片还支持图片分享，将记录好的新东西分享给家人朋友，一起关注到期期限。</p><figure class="ss-imgRows" figcaption="旧版单一详情卡片；新版多样式详情卡片"><img src="https://cdn.sspai.com/2022/01/17/fcef39a6fd52bfebbceaf837d0d01078.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/17/fcef39a6fd52bfebbceaf837d0d01078.jpg" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/17/4d22b460421cd79c340917061f3185bb.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/17/4d22b460421cd79c340917061f3185bb.png" referrerpolicy="no-referrer"></figure><p>多数量项目的交互也有所改变。原本是多数量的内容要全部用完才会记录到回顾视图中，现在改为点击立刻记录 1 个为已用完。如果是之前用完但是忘记当天记录的，就可以使用“用完”、“丢弃”来进行记录，最新的“用完”、“丢弃”已经从滚轮模式改为日历模式，更方便回忆日期，同时也支持数量选择，用多少、丢多少都可以设定了。</p><figure class="ss-imgRows" figcaption="新的“用完”界面；回顾视图会显示用完、丢弃的数量"><img src="https://cdn.sspai.com/2022/01/17/7e592de5abfb20607b5be4e1e9c9f483.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/17/7e592de5abfb20607b5be4e1e9c9f483.PNG" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/17/df21429506a39c284522f5e8d748c959.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/17/df21429506a39c284522f5e8d748c959.PNG" referrerpolicy="no-referrer"></figure><h2>适配 iPad 版本</h2><p>iPad 版本的开发并不容易，为了支持不同窗口大小的展示，很多界面都需要改为响应式布局，所以花了很长一段时间才适配完。与 iPhone 版相比，除了标签位置不同外，还增加了快捷查看“剩余”天数的按钮。回顾视图增加了当月用完、丢弃的标签数量统计图。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/19/32dd434f6775b576426fc2e0cd37b186.gif" data-original="https://cdn.sspai.com/2022/01/19/32dd434f6775b576426fc2e0cd37b186.gif" referrerpolicy="no-referrer"><figcaption>iPad 上不同窗口大小切换</figcaption></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/19/7371f3a13bc201f4bc8f2cf1fa36fb99.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/19/7371f3a13bc201f4bc8f2cf1fa36fb99.PNG" referrerpolicy="no-referrer"><figcaption>iPad 版每月回顾视图</figcaption></figure><h2>spotlight 全局搜索</h2><p>最新的 iOS15 使用 spotlight 全局搜索非常迅捷，而且越来越多APP开始适配这项功能了，所以「如期而至」也果断加上。平时在手机主屏的时侯，屏幕下拉键盘弹起，打入要查看内容的名字、品牌、标签，就能查找到对应项目的剩余数量和到期日。直接点击也能跳到APP内找到相应项目。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/19/a52c5b7efddd054ab1ff06ff008a9171.gif" data-original="https://cdn.sspai.com/2022/01/19/a52c5b7efddd054ab1ff06ff008a9171.gif" referrerpolicy="no-referrer"></figure><h2>支持 Siri 与快捷指令</h2><p>在家这种私密的场景里，使用 Siri 进行交互大概是最合适的了。从最早做「如期而至」的时侯，我就幻想要把语音交互做进来，现在加入的 Siri 虽然还达不到预想的那么智能，但好在能够配合「快捷指令」APP进行 DIY 设置，曲线达成无须打开手机操作，就能进行增加、查询的交互。</p><iframe class="ss-videoIframe" src="//player.bilibili.com/player.html?bvid=BV1vb4y1J73R"> </iframe><p>如视频所示，使用 Siri 添加时，不需要说出完整的时间格式，可以说大前天、多少天后、什么节假日等等，这得益于苹果对 SiriKit 的调教，使得开发者开发成本大大降低。</p><figure class="ss-imgRows" figcaption="目前的 4 个 Siri 设置；「快捷指令」里预设好的“气泡水进货”指令"><img src="https://cdn.sspai.com/2022/01/18/d9ef609549920a6b0661c4ed9bf13736.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/18/d9ef609549920a6b0661c4ed9bf13736.PNG" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2022/01/18/c51906681922526d706ecbce407af749.PNG?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/18/c51906681922526d706ecbce407af749.PNG" referrerpolicy="no-referrer"></figure><p>对于经常添加的内容，可以用「快捷指令」APP来预设好指令，填入一些可以预先确定的内容，保留如时间等不能确定的因素，然后修改指令名称，即可对 Siri 说出你自定的口令来执行，这样子 Siri 只会问你留空的元素，大大缩短一次录入的时间。</p><h2>支持批量操作</h2><p>最近一次版本更新就是加入批量操作，主要满足批量修改标签，以及一些需要批量用完、丢弃的需求，可开发空间还有得提升。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/18/083e68e29473b3f80b3b58efb64dfea7.gif" data-original="https://cdn.sspai.com/2022/01/18/083e68e29473b3f80b3b58efb64dfea7.gif" referrerpolicy="no-referrer"><figcaption>右滑物品打开批量操作界面</figcaption></figure><h2>适配 iPod Touch</h2><p>虽然适配的意义不大，但是还是做了。可能还是有些显示上的瑕疵，如果有遇到可以联系我进行改进。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/18/1a3f599e32bf927d7725329be9779bec.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/18/1a3f599e32bf927d7725329be9779bec.png" referrerpolicy="no-referrer"><figcaption>小小的 iPod Touch 界面</figcaption></figure><h2>其他</h2><p>除了以上变化，还有主页时间轴支持滑动切换剩余天数显示、支持搜索已用完内容、添加页面支持下滑完成添加、支持添加备忘、回顾页支持点击天数进行显示、设置页支持屏幕左侧滑动返回上一级、支持手动选择深浅模式、支持简繁英日（机翻）四种语言。</p><h2>后记</h2><p>开发到 1.9.X 版本，目前只是很想停下，放慢一些节奏，进行一些新的（APP）尝试。「如期而至」当然还会继续开发，Watch版、家庭共享记录、扫码录入......当时机成熟的时侯，当Swift UI 更完善的时侯，2.0 版本肯定如期而至。</p><span class="ss-application" app-id="15847"> </span><p> </p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>7</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>6</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-5997" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E3%80%8C%E5%A6%82%E6%9C%9F%E8%80%8C%E8%87%B3%E3%80%8D%E7%9A%84%E5%B9%B4%E5%BA%A6%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E5%A6%82%E6%9C%9F%E8%80%8C%E8%87%B3%E3%80%91%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F01%2F17%2Fc23969e4cf6651c33340a6026b207e05.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-3310" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E3%80%8C%E5%A6%82%E6%9C%9F%E8%80%8C%E8%87%B3%E3%80%8D%E7%9A%84%E5%B9%B4%E5%BA%A6%E5%BC%80%E5%8F%91%E6%80%BB%E7%BB%93%E5%A6%82%E6%9C%9F%E8%80%8C%E8%87%B3%E3%80%91%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            