
---
title: '自动记录每天的起床时间，这也太酷了吧'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/01/26/article/81af825095b334bb4ed77969e88f222c?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Wed, 26 Jan 2022 01:43:30 GMT
thumbnail: 'https://cdn.sspai.com/2022/01/26/article/81af825095b334bb4ed77969e88f222c?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><p>本文首发于「效率工具指南」</p><p>文/彭宏豪</p><p> </p><p>Hello 各位好，我是小豪。</p><p>今天想和各位分享一个有意思的小项目——<strong>用快捷指令 App 和 GitHub，自动记录每天的起床时间</strong>。</p><p>这个项目源于之前介绍过的 <a href="https://mp.weixin.qq.com/s?__biz=MzAxMjY0NTY5OA==&mid=2649917925&idx=1&sn=08dc018b0d3e65be81c1b5bc8572ce18&chksm=83a88dc8b4df04dee5b2716977fc1dba3b56a4a6952a164198d6c448335a8b4c288568b4a23c&token=1842935800&lang=zh_CN#rd">running_page</a> 作者 @yihong0618 的另外一个项目「早起记录」，它可以实现的效果如下：</p><p>每天起床关闭闹钟后，触发快捷指令 App 运行程序，在 GitHub issue 下面会生成一段话，包含<strong>今天的气温、起床时间（具体到秒）、随机的一句诗</strong>。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/81af825095b334bb4ed77969e88f222c?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/81af825095b334bb4ed77969e88f222c" referrerpolicy="no-referrer"></figure><p>我觉得这个小项目挺有意思的，不仅可以记录每天起床的时间，还能体会到自动化程序在我们日常生活中的应用。</p><p>在项目作者 @yihong0618 老师的指导下，我也顺利了弄出了相同的程序，从此就可以记录我这只懒猪🐷的起床时间啦：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/8e7c56d81e36f6ae038d803ddf135f1f?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/8e7c56d81e36f6ae038d803ddf135f1f" referrerpolicy="no-referrer"></figure><p>原作者 @yihong 0618 项目地址：<br><i>https://github.com/yihong0618/2021/blob/main/get_up.py</i></p><p>我的起床时间项目地址：<br><i>https://github.com/phh95/get_up</i></p><p> </p><p>下面是实现自动记录起床时间的过程：</p><h2>创建一个 GitHub 仓库</h2><p>在 GitHub 上创建一个仓库，名字可以随意取，这里我将仓库取名为 get_up。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/59e72cf359e4a864d05f1e5a52e64b94?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/59e72cf359e4a864d05f1e5a52e64b94" referrerpolicy="no-referrer"></figure><h2>复制代码</h2><p>从我的 get_up 仓库中复制 3 个文件，分别是：</p><ul><li>.github/workflows 路径下的 <code>get_up.yml</code> 文件</li><li><code>get_up.py</code> 文件</li><li><code>requirements.txt</code> 文件</li></ul><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/7dad5fbe6517ed296e5d56e78ca837d1?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/7dad5fbe6517ed296e5d56e78ca837d1" referrerpolicy="no-referrer"></figure><h2>修改代码</h2><p>打开复制的 <code>get_up.py</code> 文件，定位到第 11 行代码，你可以修改中间的「懒猪🐷起床啦，赶紧去跑步，上班不迟到。」，这里的语句，决定了最终在 issue 中生成的内容，你可以将它改为你喜欢的内容。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/a8c0ec03fce8ef21f91177be57cac798?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/a8c0ec03fce8ef21f91177be57cac798" referrerpolicy="no-referrer"></figure><p>定位到第 50 行代码，如果你每天起床的时间早于 6 点，那就需要将 6 更改为更小的数字，例如 4 或 5，这样程序才会正常运行。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/23f8b89bfc79394cb6b1e40a91c31025?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/23f8b89bfc79394cb6b1e40a91c31025" referrerpolicy="no-referrer"></figure><h2>创建 issue</h2><p>点击切换到 issues 选项卡，接着点击页面右侧的绿色按钮 <strong>New issue</strong>，创建一个 issue。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/5064d38f841e38d2974a090d355dc8e0?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/5064d38f841e38d2974a090d355dc8e0" referrerpolicy="no-referrer"></figure><p>创建 issue 时，需要填入 issue 标题和内容，填入的内容可参考下图👇：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/83e54e2bc5e55d77d2e8e63a9a057663?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/83e54e2bc5e55d77d2e8e63a9a057663" referrerpolicy="no-referrer"></figure><h2>获取 Token</h2><p>首先打开网页 <code>https://github.com/settings/tokens</code>，点击右上角的 Generate new token，生成一个新的 Token。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/427c11893f554b4865a40fa13262ba0f?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/01/26/article/427c11893f554b4865a40fa13262ba0f" referrerpolicy="no-referrer"></figure><p>生成 Token 时，有两个注意点，将 Token 的<strong>有效期 Expiration</strong> 设置为 <strong>No expiration</strong>(长期有效)，<strong>勾选下面的所有复选框</strong>，将所有权限都打开。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/aa6f9451506a4e18a12bcbe186f4bff5.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/26/aa6f9451506a4e18a12bcbe186f4bff5.jpg" referrerpolicy="no-referrer"></figure><p>生成的 Token，是一长串英文和数字混合的字符串，点击右侧的复制按钮，复制到剪贴板。</p><p><strong>注意：这个 Token 后面还要用到，最好将 Token 保存到本地的 txt 或 word 文件中。</strong></p><p>打开仓库的 Settings 页面，左侧切换到 Secrets 选项卡，点击右上角的 <strong>New repository secret</strong>。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/d3a38d52d5791e1ee27c2e37ce9628f9.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/26/d3a38d52d5791e1ee27c2e37ce9628f9.jpg" referrerpolicy="no-referrer"></figure><p>在打开的页面中，Name 输入 <strong>G_T</strong>，Value 粘贴刚复制到剪贴板的 Token。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/d5d857db9773c13d780e1d1855c5d124.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/26/d5d857db9773c13d780e1d1855c5d124.jpg" referrerpolicy="no-referrer"></figure><h2>获取 GitHub Actions ID</h2><p>打开电脑的<strong>终端</strong>（Windows 系统上叫做<strong>cmd</strong> 或者 <strong>Powershell</strong>），在终端中粘贴下方的语句。</p><p><code>curl https://api.github.com/repos/替换成你的GitHubId/这里替换成GitHub仓库名称/actions/workflows -H "Authorization: token 这里的中文替换成GitHub仓库的Token"</code></p><p>粘贴之前，这个语句有 3 处需要替换：</p><ul><li>你的 GitHub ID</li><li>你的 GitHub 仓库名称</li><li>你在前面操作中获得的 Token</li></ul><p>粘贴修改好的语句，按下 Enter 键，下方会返回 ID，这个 ID 会复制到本地的 txt 或者 word 中，等下会用到。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/0f69339ad8abdd1ac3f83584917d9fad.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/26/0f69339ad8abdd1ac3f83584917d9fad.jpg" referrerpolicy="no-referrer"></figure><h2>在手机上添加快捷指令</h2><p>前面说到，让程序自动运行的触发条件是，关闭手机闹钟。</p><p>因此，我们还需要在手机上进行配置，如果你的手机是 iPhone，可以使用快捷指令 App，如果是安卓手机，可以使用 tasker。</p><p>关于 tasker 的配置，可以参考下面的文章：</p><p>https://chenzaichun.github.io/post/2021-09-21-github-action-trigger-by-curl-tasker/</p><p> </p><p>下面介绍 iPhone 上快捷指令 App 的配置：</p><p>扫描下方的二维码，将快捷指令添加到 App 中。</p><figure class="image ss-img-wrapper image_resized" style="width:165px;"><img src="https://cdn.sspai.com/2022/01/26/article/892bd59b4868dbf5df2b3723f78ac688?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="QRcode_A — a1 -1-" data-original="https://cdn.sspai.com/2022/01/26/article/892bd59b4868dbf5df2b3723f78ac688" referrerpolicy="no-referrer"></figure><p>除了扫描二维码，还可以将下面的链接复制到 Safari 浏览器打开。</p><p>二维码 ➡️ 链接：https://www.icloud.com/shortcuts/703420fd5f2247a089a849f7849282c5</p><p>添加快捷指令「早起时间 分享版」后，点击快捷指令右上角的三个小点点，进入快捷指令的配置页面。</p><p>我们需要配置 4 个值：</p><ul><li>GitHub_Name：填入你的 GitHub ID</li><li>Rep_Name：填入你创建的仓库名</li><li>GitHub_Token：填入前面获取的 Token</li><li>Action_ID：填入前面从终端获得的 ID</li></ul><p>配置好 4 个参数后，回到「所有快捷指令」的页面，点击快捷指令「早起时间 分享版」，程序就会自动运行。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/article/bbef19f074c4afbf5d89961b870608ba?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="IMG_A97DB46CCFFE-1" data-original="https://cdn.sspai.com/2022/01/26/article/bbef19f074c4afbf5d89961b870608ba" referrerpolicy="no-referrer"></figure><p>稍等一小会，回到 GitHub 仓库的 issue 选项卡，在评论区就能见到程序运行后的结果。</p><p>如果想让快捷指令在每次关闭闹钟后自动运行，可以切换到快捷指令的「<strong>自动化</strong>」页面，研究刚添加的快捷指令，在自动化里面创建一个同样的命令，就能实现每次关闭闹钟，触发自动运行快捷指令的目的啦。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/01/26/7473bd4e5914d25a296f558395e53cfe.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/01/26/7473bd4e5914d25a296f558395e53cfe.jpeg" referrerpolicy="no-referrer"></figure><p> </p><p>以上，就是本次想和你分享的内容。</p><p>如果对你也有帮助的话，别忘了点击下方的<strong>点赞、在看</strong>和<strong>分享</strong>按钮，<strong>你的小小支持，是我持续更新的最大动力</strong>，我们下次再见。</p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>8</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>6</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-8750" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E8%87%AA%E5%8A%A8%E8%AE%B0%E5%BD%95%E6%AF%8F%E5%A4%A9%E7%9A%84%E8%B5%B7%E5%BA%8A%E6%97%B6%E9%97%B4%EF%BC%8C%E8%BF%99%E4%B9%9F%E5%A4%AA%E9%85%B7%E4%BA%86%E5%90%A7%E3%80%91%E6%9C%AC%E6%96%87%E9%A6%96%E5%8F%91%E4%BA%8E%E3%80%8C%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7%E6%8C%87%E5%8D%97%E3%80%8D%E6%96%87%2F%E5%BD%AD%E5%AE%8F%E8%B1%AAHello%E5%90%84%E4%BD%8D%E5%A5%BD%EF%BC%8C%E6%88%91%E6%98%AF%E5%B0%8F%E8%B1%AA%E3%80%82%E4%BB%8A%E5%A4%A9%E6%83%B3%E5%92%8C%E5%90%84%E4%BD%8D%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E5%B0%8F%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E7%94%A8%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4App%E5%92%8CGitHub%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%AE%B0%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F01%2F26%2F8ad3376db53eb8825f1f8254408a86f0.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-8554" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E8%87%AA%E5%8A%A8%E8%AE%B0%E5%BD%95%E6%AF%8F%E5%A4%A9%E7%9A%84%E8%B5%B7%E5%BA%8A%E6%97%B6%E9%97%B4%EF%BC%8C%E8%BF%99%E4%B9%9F%E5%A4%AA%E9%85%B7%E4%BA%86%E5%90%A7%E3%80%91%E6%9C%AC%E6%96%87%E9%A6%96%E5%8F%91%E4%BA%8E%E3%80%8C%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7%E6%8C%87%E5%8D%97%E3%80%8D%E6%96%87%2F%E5%BD%AD%E5%AE%8F%E8%B1%AAHello%E5%90%84%E4%BD%8D%E5%A5%BD%EF%BC%8C%E6%88%91%E6%98%AF%E5%B0%8F%E8%B1%AA%E3%80%82%E4%BB%8A%E5%A4%A9%E6%83%B3%E5%92%8C%E5%90%84%E4%BD%8D%E5%88%86%E4%BA%AB%E4%B8%80%E4%B8%AA%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E5%B0%8F%E9%A1%B9%E7%9B%AE%E2%80%94%E2%80%94%E7%94%A8%E5%BF%AB%E6%8D%B7%E6%8C%87%E4%BB%A4App%E5%92%8CGitHub%EF%BC%8C%E8%87%AA%E5%8A%A8%E8%AE%B0%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            