
---
title: '来创造一个属于你的匿名提问箱吧！'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/06/13/1fa5965c599c18fb3b7a716ac0046472.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Mon, 13 Jun 2022 13:40:16 GMT
thumbnail: 'https://cdn.sspai.com/2022/06/13/1fa5965c599c18fb3b7a716ac0046472.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-557a067a><div class="update-wrap" data-v-557a067a></div><div class="content wangEditor-txt minHeight" data-v-557a067a><p>这两年提问盒形式的匿名问答越来越多了，像在朋友圈流行的 Popi，在推特流行的那个匿名提问箱，还有以前 QQ 的悄悄话。玩这类匿名社交最有意思的事情就是猜测提问者是谁，提问者提问时的心态。读者在看提问盒的回答历史的时候可以快速建立回答者的初步形象，然后进一步推断作者是一个什么样的人。</p><h2>匿名？</h2><p>但是，匿名问答，真的可以匿名吗？很难！数据和流量太过重要，没有人可以舍弃，就算是那些声称极为注重隐私的公司，也会默默收集用户的页面浏览信息（例如浏览时长，用户来源，用户 IP 地址等）。我在最开始的时候并不想收集任何信息，希望做一个完全匿名，没有任何额外信息收集的提问箱，但是后来遇到了轰炸式提问，几分钟发了几十条，非常影响体验，所以我觉得还是要有所限制的（因为需要限定固定 IP 轰炸）。</p><h2>社交监管？</h2><p>众所周知，社交类应用有许多的限制，个人基本上不能搞社交类应用，特别是那些想要上架应用市场的，任何 UGC 都是要审查的，而且，网络上鱼龙混杂，难免有脚本小子来轰炸小网站，所以部署在自己的服务器上不是特别安全。</p><p>正好没开发过 Vercel 相关的应用，nextjs 也是久闻大名，我想是时候了，该上手试试。</p><h2>物料准备</h2><p>本来我想着 vercel 没有配套的数据库服务，用起来会很麻烦，所以就找个 SaaS 平台放数据，于是就想到了以前用过的 LeanCloud，知名的博客评论应用 Valine 就是用的这个服务商，基本上花不了什么钱，而且他们的文档写的很丰富，相当不错。缺点是部分功能需要自己的域名，而且要是备案过的域名。</p><p>项目开源地址：<a href="https://github.com/TankNee/AnonymousQuestionBox" target="_blank">https://github.com/TankNee/AnonymousQuestionBox</a></p><blockquote><p>之前我也打算做一个使用本地数据库的分支，这样就能直接部署到 railway 这样的平台上了（我是快写完了才发现有这样一个平台）。</p></blockquote><p>所以我们需要以下准备：</p><ul><li>一个 LeanCloud 账号</li><li>一个备案过的域名</li><li>一个 GitHub 账号</li></ul><h2>部署步骤</h2><p>首先打开 <a href="https://www.leancloud.cn/">LeanCloud</a> 平台，创建一个新应用：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/13/1fa5965c599c18fb3b7a716ac0046472.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/06/13/1fa5965c599c18fb3b7a716ac0046472.png" referrerpolicy="no-referrer"><figcaption>创建应用</figcaption></figure><p>选择免费版即可，完全足够。</p><p>然后前往应用的设置-应用凭证页面保存凭证信息：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/13/146c544104160677803720809f596bc3.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/06/13/146c544104160677803720809f596bc3.png" referrerpolicy="no-referrer"></figure><blockquote><p>理论上这个临时服务器地址是可以用的，不过我还是建议使用自己的域名。</p></blockquote><p>然后点击数据存储-结构化数据-创建 Class</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/13/c6fe0e0a883c8e6b0a06c307eee9dacb.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/06/13/c6fe0e0a883c8e6b0a06c307eee9dacb.png" referrerpolicy="no-referrer"><figcaption>创建结构数据类</figcaption></figure><p>此处我们需要创建三个类，分别是：</p><ul><li>Answer：存放回答</li><li>Question：存放提问</li><li>Settings：存放一些设置信息，例如页面标题</li></ul><p>接下来我们可以点击<<a href="https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2FTankNee%2FAnonymousQuestionBox&env=PORT,LEANCLOUD_APP_ID,LEANCLOUD_APP_KEY,LEANCLOUD_SERVER_URL,USER_KEY,MAILER_ACCOUNT,MAILER_PASSWORD,MAILER_HOST&envDescription=%E8%AF%B7%E6%AD%A3%E7%A1%AE%E5%A1%AB%E5%86%99%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%8C%E8%AF%A6%E7%BB%86%E8%A7%A3%E9%87%8A%E8%AF%B7%E6%9F%A5%E7%9C%8B%E4%BB%93%E5%BA%93%20README&envLink=https%3A%2F%2Fgithub.com%2FTankNee%2FAnonymousQuestionBox" target="_blank">立即部署</a>>来在 vercel 上部署提问箱。环境变量需要正确填写，否则可能引发未知错误。</p><ul><li>PORT（<strong>必需</strong>）：运行端口，直接填写 4000 就好。</li><li>LEANCLOUD_APP_ID（<strong>必需</strong>）：填写上文获取到的 LeanCloud 应用 APP ID 信息。</li><li>LEANCLOUD_APP_KEY（<strong>必需</strong>）：填写上文获取到的 LeanCloud 应用 APP KEY 信息。</li><li>LEANCLOUD_SERVER_URL（<strong>必需</strong>）：填写上文获取到的 LeanCloud 应用服务器地址信息。</li><li>USER_KEY（<strong>必需</strong>）：提问箱登录的密码，注意保护隐私。</li><li>MAILER_ACCOUNT：SMTP 邮箱账户（为了给提问箱的主人发送邮件，所以需要一个邮箱账号）。</li><li>MAILER_PASSWORD：邮箱密码。</li><li>MAILER_HOST： SMTP 服务的域名（例如：<code>smtp.163.com</code>）。</li></ul><p>填写完成之后等待部署即可！</p><p>示例提问箱请查看：</p><ul><li><a href="https://anonymous-question-box.vercel.app/" target="_blank">https://anonymous-question-box.vercel.app/</a></li><li><a href="https://qb.tanknee.c/" target="_blank">https://</a><a href="https://qb.tanknee.cn/" target="_blank">qb.tanknee.c</a><a href="https://qb.tanknee.cn/">n</a></li></ul><hr><p>管理员用户可以通过点击标题来进入管理页面：</p><figure class="image ss-img-wrapper image_resized" style="width:392px;"><img src="https://cdn.sspai.com/2022/06/13/e456d7dec63e209c94ba2fe415f418b8.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/06/13/e456d7dec63e209c94ba2fe415f418b8.png" referrerpolicy="no-referrer"><figcaption>输入密码！</figcaption></figure><p> </p><p>登录成功之后再次点击标题可以退出管理状态。</p></div><div class="update-details-wrap" data-v-557a067a></div><!----></div><div style="border:1px solid transparent;" data-v-557a067a></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-557a067a><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>2</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>1</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-1484" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E6%9D%A5%E5%88%9B%E9%80%A0%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E4%BD%A0%E7%9A%84%E5%8C%BF%E5%90%8D%E6%8F%90%E9%97%AE%E7%AE%B1%E5%90%A7%EF%BC%81%E3%80%91%E8%BF%99%E4%B8%A4%E5%B9%B4%E6%8F%90%E9%97%AE%E7%9B%92%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%8C%BF%E5%90%8D%E9%97%AE%E7%AD%94%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%A4%9A%E4%BA%86%EF%BC%8C%E5%83%8F%E5%9C%A8%E6%9C%8B%E5%8F%8B%E5%9C%88%E6%B5%81%E8%A1%8C%E7%9A%84Popi%EF%BC%8C%E5%9C%A8%E6%8E%A8%E7%89%B9%E6%B5%81%E8%A1%8C%E7%9A%84%E9%82%A3%E4%B8%AA%E5%8C%BF%E5%90%8D%E6%8F%90%E9%97%AE%E7%AE%B1%EF%BC%8C%E8%BF%98%E6%9C%89%E4%BB%A5%E5%89%8DQQ%E7%9A%84%E6%82%84%E6%82%84%E8%AF%9D%E3%80%82%E7%8E%A9%E8%BF%99%E7%B1%BB%E5%8C%BF%E5%90%8D%E7%A4%BE%E4%BA%A4%E6%9C%80%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%BA%8B%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F06%2F13%2Ff6a4554be22f1bf357e5bd88d5d4cf25.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-2064" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E6%9D%A5%E5%88%9B%E9%80%A0%E4%B8%80%E4%B8%AA%E5%B1%9E%E4%BA%8E%E4%BD%A0%E7%9A%84%E5%8C%BF%E5%90%8D%E6%8F%90%E9%97%AE%E7%AE%B1%E5%90%A7%EF%BC%81%E3%80%91%E8%BF%99%E4%B8%A4%E5%B9%B4%E6%8F%90%E9%97%AE%E7%9B%92%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%8C%BF%E5%90%8D%E9%97%AE%E7%AD%94%E8%B6%8A%E6%9D%A5%E8%B6%8A%E5%A4%9A%E4%BA%86%EF%BC%8C%E5%83%8F%E5%9C%A8%E6%9C%8B%E5%8F%8B%E5%9C%88%E6%B5%81%E8%A1%8C%E7%9A%84Popi%EF%BC%8C%E5%9C%A8%E6%8E%A8%E7%89%B9%E6%B5%81%E8%A1%8C%E7%9A%84%E9%82%A3%E4%B8%AA%E5%8C%BF%E5%90%8D%E6%8F%90%E9%97%AE%E7%AE%B1%EF%BC%8C%E8%BF%98%E6%9C%89%E4%BB%A5%E5%89%8DQQ%E7%9A%84%E6%82%84%E6%82%84%E8%AF%9D%E3%80%82%E7%8E%A9%E8%BF%99%E7%B1%BB%E5%8C%BF%E5%90%8D%E7%A4%BE%E4%BA%A4%E6%9C%80%E6%9C%89%E6%84%8F%E6%80%9D%E7%9A%84%E4%BA%8B%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            