
---
title: '5 个人，7 个月，理想 AEB 背后的故事'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://picsum.photos/400/300?random=9828'
author: 少数派 sspai
comments: false
date: Thu, 20 Jan 2022 11:51:53 GMT
thumbnail: 'https://picsum.photos/400/300?random=9828'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><p>李想最近在微博上很活跃。</p><p>2022 年 1 月 11 日的下午，李想在理想汽车内部一个主动安全主题的飞书群看到了一个懂车帝的视频链接，视频的标题很长：「2021 年度新能源、AEB、性能车型及发动机评选」，<strong>但对于李想来说，题眼无非是 3 个字母：AEB。</strong></p><p>AEB，全称 Autonomous Emergency Braking，<strong>自动紧急制动系统。</strong>在车辆行驶的过程中，如果有追尾的风险，但驾驶员又没踩刹车亦或是踩了但力度不够，都会触发 AEB，大力制动以避免追尾。</p><p>在刚刚过去的 2021 年，懂车帝测试了超过 100 款车的 AEB，测试的项目纷繁复杂，既有<strong>儿童鬼探头、隧道 AEB，也有消失的前车、50% 追尾，</strong>这些测试远远超出了全球各国的碰撞安全评测机构布置的「考题」，以更加贴合中国交通场景的测试对 AEB 进行极限考验。</p><p>那支视频的结论是：2021 款理想 ONE 打败了进入前五的华晨宝马 5 系、华晨宝马 X3、斯巴鲁傲虎和沃尔沃 XC60，<strong>成为懂车帝 2021 年 AEB 测试表现最好的车型。</strong></p><p>几个小时后，李想发微博表达了对智能驾驶团队的认可：<strong>「自从能够开展全栈自研以后，团队在算法和控制的进步速度远远超过了我的想象」。</strong></p><p>对于李想，乃至理想汽车这家公司来说，这无疑是一场小小的胜仗。尤其是考虑到就在一年前的 2020 年 12 月底，理想才和视觉感知供应商 Mobileye 分手，站在一穷二白从头来的白纸前。</p><p>为什么是理想？</p><p>一切都要回到一年前的那个年底。和 Mobileye 一年多来的合作已经让理想「忍无可忍」：这家从以色列起步的视觉感知供应商以其高效、可靠的算法敲开了诸多主流汽车制造商的大门，其中也包括年轻的理想汽车，但因为其高度封闭的合作策略，理想汽车在收集到用户端反馈的一些 Bug 后，<strong>却不被允许基于 Mobileye 的算法基础进行持续的迭代开发，以修复这些 Bug。</strong></p><p>就像李想说的，「由于无法满足我们智能驾驶全栈自研的需求（最重要的感知算法是黑盒子），我们在 2020 年底停止了和 Mobileye 的合作」。</p><p>想清楚转向「全栈自研」并不复杂，但<strong>从时机上来看，理想很是被动。</strong></p><p>一个可供参考的行业规律是：自研智能驾驶阵营的两个先行者，特斯拉和小鹏汽车，在旗下首款智能驾驶转向自研的车型（对应 2016 年 10 月的 Model S 和 2020 年 7 月的 P7）上，都经历了超过 6 个月的研发周期，才向用户推送了 AEB 等主动安全功能。</p><p>考虑到新款理想 ONE 定在 2021 年 5 月的 SOP 节点，哪怕团队和组织是完全到位的状态下，留给理想智能驾驶团队的时间也已捉襟见肘了。</p><p>但李想的要求是：<strong>2021 款理想 ONE 不能以没有 AEB 的形态「裸奔」交付。</strong>在时间、研发和目标的不可能三角下，2021 款理想 ONE 最终以前期搭载博世毫米波雷达 AEB 的形式交付了 AEB 功能。这就是李想微博所说的「2021 年 6 月交付的基础 AEB 功能」。</p><p>但放在全栈自研的大背景下来看，这个过渡性的方案并不能让理想智能驾驶团队有丝毫的轻松。</p><p>2021 年 5 月，理想汽车在北京的顺义总部发布了 2021 款理想 ONE，大约在同一时刻，5 个人组成的 AEB 自研作战小组正式成立。</p><p>既然有机会完全摆脱供应商从零开始，「做什么」就成了第一个关键的哲学问题。如果只是无差别的再造一遍轮子，为什么一定要自研呢？</p><p>理想梳理了目前市面上的 AEB 市场格局，在很长一段时间里，<strong>中国的 AEB 市场都是博世、大陆、安波福等 Tier 1 供应商，以及像 Mobileye 这样强势的 Tier 2 供应商所把控。</strong></p><p>这些跨国供应商的研发大多数都放在总部，开发的主要场景也大都是基于国外典型的高频事故场景，而 AEB 的性能检验，也大都以欧洲新车安全评鉴协会（E-NCAP）的「考题」为主要开发标准。</p><p>没有北京街头路权不明随意乱窜的老年代步车，没有上海街头违反交规随时逆行的外卖摩托车，没有广州无非机动车道自由混行的车流，<strong>没有面向中国的场景做研发，</strong>这是这些跨国供应商的 AEB 存在的最大问题。</p><p>一个工程师发现，就中国市场而言，久负盛名的碰撞机构 E-NCAP 的 AEB 测试甚至还没有一些媒体平台的 AEB 测试场景来得有价值。</p><p>梳理完之后，5 人小组确立了理想 AEB 的研发目标：<strong>在满足机构碰撞测试标准的基础上，基于中国特色的交通场景、事故频发场景来研发中国特色的 AEB。</strong></p><p>定义好了做什么，接下来的核心问题自然是「怎么做」。</p><p>尽管周遭都是研发积淀超过 10 年的跨国巨头，但理想的 AEB 自研效率一出场就显露了锋芒。</p><p>外部视角来看，<strong>2021 年 5 月立项，2021 年 12 月推送，</strong>理想的 AEB 研发效率已然不低，但从内部来看，这 6 个月又可以拆解成全然不同的月份，全然不同的故事。</p><p>从立项算起，到 6 月中下旬，不到两个月的时间，理想 AEB 第一个功能实现了上车激活。当然，彼时的性能是不言自明的。</p><p>完成激活接下来是大规模的性能标定，从重庆到江苏的盐城，理想在不同的测试场地，除了基础场景，更重要的是针对中国典型的交通场景进行持续地拉练，密集丰富的场景覆盖下，<strong>到 7 月底，理想初步完善了 AEB 的正向性能标定。</strong></p><p>对比跨国供应商们动辄以季度为单位的研发周期，这听起来快得有些诡异。但如果深入到研发来看，秘诀恰恰是因为理想打开了前面所说的「算法黑盒子」。</p><p>什么是「算法黑盒子」？或许我们需要来谈谈 AEB 本身。</p><p>从研发的角度来说，AEB 可以粗略地划分为感知和规控，<strong>感知就像人类的眼睛</strong>，负责拿到摄像头和毫米波雷达输入的信号，扮演「看」的角色；<strong>规控就像人类的大脑，</strong>负责基于感知的信号下达相应的指令，是不刹车、刹到哪个力度，还是一脚踩死，扮演「思考和决策」的角色。</p><p>AEB 难就难在， 在大众的认知里，这个功能很不起眼，是辅助驾驶里最入门的功能，但从另一个角度去看，<strong>AEB 是所有辅助驾驶功能里唯一一个要求全天候全场景永远在待命的功能，</strong>因为和碰撞风险强相关，只要有非常低概率的该触发没触发，或是不该触发误触发，AEB 就会带来巨大的安全风险。</p><p>这使得跨国供应商在 AEB 的开发迭代中慎之又慎。</p><p>举例来说，当这些跨国供应商在中国的客户车辆交付后，车主发现并反馈了一个 AEB 的问题，例如刹车点过晚，系统识别到了前方碰撞风险但刹车有延迟——这说明规控模块的策略需要做调整。</p><p>对于跨国供应商而言，诸如「调整规控模块的一个参数」这样的需求，必须层层上报到德国斯图加特、爱尔兰都柏林或是以色列耶路撒冷的全球总部，经由总部进行一系列的验证标定、测试、风险评估，最终批准。<strong>平均迭代周期 2 - 3 个月打底。</strong></p><p>你可能会问，那感知是不是可以快一些？</p><p>感知的情况更加复杂。全天候全场景的应用场景，使得 AEB 对感知的需求和 L4 级完全自动驾驶系统本质上是没有区别的。</p><p>这样的压力下，每一个跨国供应商都会以最谨慎的态度来对待感知模块的迭代，以总部平台化的感知模块来兼容适应全球各地的市场，若非规模性发酵的安全隐患，<strong>绝大多数区域市场反馈的感知问题都会被压在本地，轻易不做迭代。</strong></p><p>这里既有牵一发而动全身的全球化市场调整成本考虑，也有传统供应商基于内部自有车队完成从数据的采集、标注、训练、验证一系列流程的时间成本考虑。这也在某种程度上解释了，视觉感知的霸主 Mobileye 为什么坚持拒绝对车企开放算法——这背后 Mobileye 积淀超过十年的算法 knowhow，某种程度上是其最宝贵的资产。</p><p>但<strong>一言以蔽之，传统生产关系下的 AEB 开发流程，和智能汽车时代高频迭代的需求，矛盾基本是不可调和的。</strong>在绝大多数时候，当整车的项目开发走到了 SOP 阶段，AEB 的项目也会随之进入短暂的维护阶段，并很快完全结束，所谓「用车的全生命周期内迭代更新」无异于天方夜谭。</p><p>而理想汽车，更准确地说是掌握全栈自研能力的车企们，因为感知、规控都在自己手里，可以回到更正向的做事逻辑：无需考虑感知还是规控，完全以解决问题为导向，<strong>根据 Bug 来定位研发，随时调用其他团队的支持，来修复 Bug。</strong></p><p>在盐城做性能标定的时候，理想也涉及到了规控模块中某一个参数的修改问题，但因为不同团队之间没有部门墙挡路，<strong>他们最快做到了以天为单位的速度迭代算法，所谓「当天的问题当天解」。</strong>即使是供应商「轻易不会动」的感知模块，也在以月为单位持续地迭代。</p><p>打开「黑盒子」，拉通感知和规控，这就是理想 AEB 进展飞快的秘诀。不过，这只是秘诀之一，我们继续。</p><p><strong>从 8 月起，理想开始了 AEB 的鲁棒性验证。</strong>鲁棒一词源于单词 Robust，本指计算机软件在异常和危险情况下系统生存的能力，回到理想的语境，就是说这套新生的，在测试场的实验环境下表现极佳的 AEB，拉到实际的开放道路上还会有那么好的表现吗？</p><p>AEB 小组首先通过理想内部的测试车队进行了一轮 10 万公里级的数据采集——对于 AEB 而言，这是一个具备统计意义的里程门槛，业内 AEB 实车验证的里程规模大都介于 10 万公里 - 20 万公里之间。</p><p>之所以进行这种大规模的实车验证，是因为正向性能好，往往只代表了 AEB 性能的 A 面，当我们要全面的评价 AEB 的性能，B 面的误触发的频率指标是不可或缺的。一昧的提升正向性能，往往意味着误触率也会如影随形的快速攀升。</p><p>业内通常以 1 次 / 10 万公里或 1 次 / 16 万公里（对应 10 万英里）作为误触率可接受的一个基础门槛。换句话说，如果你一年开车约 2 万公里，<strong>平均每驾驶 5 年遇到 1 次 AEB 的误触发，折被认为是一个可接受的概率。</strong></p><p>到 8 月中旬的时候，理想完成了 10 万公里级的测试，并针对这其中暴露出来的误触发 Bug 一一做了修复。</p><p>但 AEB 小组意识到，这样的测试可能掩盖了一些问题。首先，从理想汽车的后台数据来看，目前已交付的理想 ONE 车队一天的行车总里程大约在 350 万公里，对比 AEB 的实车验证只有 10 万公里，<strong>里程数不够，样本量有限；</strong>其次，相比于全国各地天南海北的用户场景，理想内部车队的<strong>路测场景也不够丰富。</strong></p><p>他们想到了「影子模式」。从事后的结果来看，<strong>「影子模式」确实展示出了巨大的效率优势，是理想自研 AEB 毋庸置疑的第二个秘诀。</strong></p><p>这是一种由特斯拉最先提出来的开发方法，通过前期开发预留相应的软件环境和算力，可以让不成熟的算法像影子一样在后台持续运行，但不会介入对车辆的控制。每当前台控制车辆的人类驾驶员和后台的算法出现不同的决策，系统就会记录下相应的场景和数据，上传到云端去供研发分析。</p><p>理想汽车智能驾驶负责人郎咸朋回忆，最早在 2018 年 4 月，理想汽车就明确了<strong>自动驾驶的未来一定是数据驱动的。</strong>所以，哪怕 2020 款理想 ONE 搭载了基于 Mobileye 无法更新的感知黑盒子，理想依然在前挡风玻璃上预留了一颗独立的摄像头和相应的软件环境，便于后续通过影子采集数据，以及随之而来的算法的迭代。</p><p>这一次，理想汽车的「影子模式」第一次被用在独立功能的开发中。<strong>8 月 29 日，理想将自研的 AEB 算法首次以影子模式的形式推送到理想 100 多位搭载内测版本的早鸟用户的车型上。</strong></p><p>前面的顾虑最终被证明多少有些先见之明的味道，从内测版本的影子模式传回来的数据来看，第一个内测版本的 AEB 的灾难性的：误触率达到了 17 - 18 次 / 10 万公里。</p><p>惊出一身冷汗的同时， <strong>AEB 小组也看到了影子模式对降低误触率、提升算法鲁棒性的巨大价值。</strong>由于算法在影子模式下运行，采集信号的部署和场景数据的回传都是在后台静默完成的，整个过程用户完全无感，理想很快扩大了影子模式下 AEB 算法的部署规模。</p><p>首批 2000 万公里的「用户路测」跑下来，尽管整个过程理想和用户都没有额外支出任何成本，但一大批的高价值的误触发场景回到了理想研发手里。</p><p>理想对所有误触发的场景进行梳理，将不同的 Bug 拆分进不同的业务模块中，感知和规控拉通一起来修复 Bug。Bug 修复后，随之而来的环节叫做「仿真」，通过在虚拟环境里复现同类场景，来检验新算法的鲁棒性。</p><p>和最初的研发类似，在新算法的仿真环节，理想也拉通了感知和规控模块做联合仿真，和传统供应商感知做感知仿真，规控做规控仿真的老方法不同，<strong>这种一条线捅到底的模式要求感知仿真跑完要直接运行规控仿真，接住了许多原本仿真流程中会被漏掉的 Bug。</strong></p><p>在那之后，理想又以月为单位通过影子模式迭代了两个版本的 AEB 算法。数据显示，<strong>最终 AEB 的误触率已经降到了 0.7 次/ 10 万公里，</strong>概率等同于一位理想车主用车的整个生命周期内，至多可以遇到 1 次 AEB 误触发。</p><p>勿论后续的持续迭代，光是到这一步，<strong>理想 AEB 的研发已经经历了超 1 亿公里正式开放道路路测数据的锤炼，</strong>对比传统供应商的 10 万公里级别已经是 3 个数量级的降维打击。</p><p><strong>12 月 7 日，理想汽车自研 AEB 第一个量产版本正式推送。</strong></p><p>也正是这个版本，在懂车帝的年度测试中打败了大众认知里主动安全领域的老牌玩家，包括宝马、斯巴鲁和沃尔沃。</p><p>这件事今天回头看仍然有些难以置信：一个从零开始自研 AEB 的新品牌，以不到 10 个人的团队，用 7 个月时间，打败了在 AEB 领域研发积淀超过 10 年的跨国巨头。</p><p>究其根本，是<strong> AEB 研发的生产关系和生产资料在理想发生了本质变化。</strong></p><p>在 2016 年之前，全球各地的跨国汽车品牌，无一动过亲自下场自研 AEB 的心思。特斯拉的出现告诉大家：<strong>自研不仅是可行的，还会带来一场体验与效率的革命。</strong></p><p>我们不禁要问，AEB 的研发门槛极高这一固有认知是如何形成的？</p><p>在车企以自营的形式全面经营用户关系之前，车企与用户之间天然隔着一道鸿沟。</p><p>在没有整车 OTA、没有用户数据支持迭代的时代，一套 AEB 的完整开发和性能标定、误触率测试，全部只能通过供应商的内部自有车队进行，人力、财力和时间成本高昂。</p><p>而拉通感知和规控的完整链路迭代和零成本的「影子模式」数据输入，对传统的 AEB 开发模式形成了差距悬殊的不对等优势。</p><p>我们不得不接受一个真相：<strong>传统 AEB 的竞争核心并不在实际驾驶场景下正向性能和误触率表现，而在于高昂的开发成本构筑的竞争壁垒。当「数据驱动」从成本和效率两个维度开启进攻时，实际性能上限并不高的传统 AEB 瞬间就成了纸老虎。</strong></p><p>更重要的是，AEB 的演进才刚刚开始。因为拥有用户数据的支持，理想汽车的 AEB 小组梳理了截至目前已交付的理想 ONE 发生过的所有可记录在案的事故，并将其分门别类，拆分到理想智能驾驶的各个部门中去，为 AEB 的持续迭代提供研发方向的指引。</p><p>到这一步，<strong>AEB 的研发已经跳出了 E-NCAP 的测试，也跳出了专业媒体的场景，完全深入到用户的驾驶场景中去，对潜在的安全隐患进行精确打击。这才是真正的正向研发。</strong></p><p>时间回到 2021 年 5 月，理想在北京的顺义总部对外发布了 2021 款理想 ONE。6 个月后，这款车打败了中大型 SUV 市场长久以来的销冠丰田汉兰达，以 13485 的月销量成为新的冠军。在许多人的认知里，理想 ONE 凭借出色的产品力胜出。</p><p>但从 AEB 的自研来窥一斑而知全豹，理想汽车正在快速推进技术自研战略。正如李想所说，<strong>投入技术研发，而不仅仅是产品研发，这是理想汽车 IPO 后的一个根本性转折。</strong></p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>4</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>0</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-7745" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%905%20%E4%B8%AA%E4%BA%BA%EF%BC%8C7%20%E4%B8%AA%E6%9C%88%EF%BC%8C%E7%90%86%E6%83%B3%20AEB%20%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B%E3%80%91%E6%9D%8E%E6%83%B3%E6%9C%80%E8%BF%91%E5%9C%A8%E5%BE%AE%E5%8D%9A%E4%B8%8A%E5%BE%88%E6%B4%BB%E8%B7%83%E3%80%822022%E5%B9%B41%E6%9C%8811%E6%97%A5%E7%9A%84%E4%B8%8B%E5%8D%88%EF%BC%8C%E6%9D%8E%E6%83%B3%E5%9C%A8%E7%90%86%E6%83%B3%E6%B1%BD%E8%BD%A6%E5%86%85%E9%83%A8%E4%B8%80%E4%B8%AA%E4%B8%BB%E5%8A%A8%E5%AE%89%E5%85%A8%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A3%9E%E4%B9%A6%E7%BE%A4%E7%9C%8B%E5%88%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E6%87%82%E8%BD%A6%E5%B8%9D%E7%9A%84%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5%EF%BC%8C%E8%A7%86%E9%A2%91%E7%9A%84%E6%A0%87%E9%A2%98%E5%BE%88%E9%95%BF%EF%BC%9A%E3%80%8C%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F01%2F20%2F7a677af69578b9e449405da4fba42117.jpeg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-7728" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%905%20%E4%B8%AA%E4%BA%BA%EF%BC%8C7%20%E4%B8%AA%E6%9C%88%EF%BC%8C%E7%90%86%E6%83%B3%20AEB%20%E8%83%8C%E5%90%8E%E7%9A%84%E6%95%85%E4%BA%8B%E3%80%91%E6%9D%8E%E6%83%B3%E6%9C%80%E8%BF%91%E5%9C%A8%E5%BE%AE%E5%8D%9A%E4%B8%8A%E5%BE%88%E6%B4%BB%E8%B7%83%E3%80%822022%E5%B9%B41%E6%9C%8811%E6%97%A5%E7%9A%84%E4%B8%8B%E5%8D%88%EF%BC%8C%E6%9D%8E%E6%83%B3%E5%9C%A8%E7%90%86%E6%83%B3%E6%B1%BD%E8%BD%A6%E5%86%85%E9%83%A8%E4%B8%80%E4%B8%AA%E4%B8%BB%E5%8A%A8%E5%AE%89%E5%85%A8%E4%B8%BB%E9%A2%98%E7%9A%84%E9%A3%9E%E4%B9%A6%E7%BE%A4%E7%9C%8B%E5%88%B0%E4%BA%86%E4%B8%80%E4%B8%AA%E6%87%82%E8%BD%A6%E5%B8%9D%E7%9A%84%E8%A7%86%E9%A2%91%E9%93%BE%E6%8E%A5%EF%BC%8C%E8%A7%86%E9%A2%91%E7%9A%84%E6%A0%87%E9%A2%98%E5%BE%88%E9%95%BF%EF%BC%9A%E3%80%8C%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            