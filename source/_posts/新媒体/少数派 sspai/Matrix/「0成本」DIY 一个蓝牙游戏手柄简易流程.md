
---
title: '「0成本」DIY 一个蓝牙游戏手柄简易流程'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2021/09/07/article/bc7155b860f66b5c72d6557ef3cdefe5?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Tue, 07 Sep 2021 09:29:53 GMT
thumbnail: 'https://cdn.sspai.com/2021/09/07/article/bc7155b860f66b5c72d6557ef3cdefe5?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-6a669db8><div class="content wangEditor-txt minHeight" data-v-6a669db8><h2 style="margin-left:0px;"><strong>前言：</strong></h2><p style="margin-left:0px;">相信经典红白机的记忆仍然在80、90后的记忆中，小时候拆游戏手柄的时候会看到里面绿色的电子电路板，那今天我们来DIY一下RW007 蓝牙游戏手柄的电子电路板子怎么做，主要因为RW007支持BLE啦。</p><blockquote><p style="margin-left:0px;">自制板子的条件</p><p style="margin-left:0px;">1、性能较好的电脑，能运行AD、PADS或者其他画板软件</p><p style="margin-left:0px;">2、焊锡、各式电烙铁</p><p style="margin-left:0px;">3、弯头防静电镊子，如果要焊芯片要用到热风枪、松香、助焊剂</p></blockquote><p style="margin-left:0px;">我们开始，先画一个板子的电路图。</p><figure class="image ss-img-wrapper image_resized" style="width:370px;"><img src="https://cdn.sspai.com/2021/09/07/article/bc7155b860f66b5c72d6557ef3cdefe5?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="@ND5N&#123;OLS5M666X[XO]19E2.jpg" data-original="https://cdn.sspai.com/2021/09/07/article/bc7155b860f66b5c72d6557ef3cdefe5" referrerpolicy="no-referrer"></figure><p> </p><p style="margin-left:0px;">要做一个仿古的手柄要分几个步骤<br><br>①、设计雏形，在网上寻找合适的工厂，把画的板子打样打出来，有很多人买东西都上淘宝，其实不怎么推荐，或者质量不行，或者价格太贵。而且现在也有很多免费的打样平台，找了好几家都留了联系方式，因为现在普通的游戏手柄价格差不多100左右，0成本做成才有意义。然后在板子还没出货的时候，用了一块开发板，然后杜邦线连接，连线插针扎手，花了好些功夫，有点费手。不过效果不太好，主要不是那种典型的手柄样式，没有握感。</p><figure class="image ss-img-wrapper image_resized" style="width:344px;"><img src="https://cdn.sspai.com/2021/09/07/21d1f3bff0d8416b8de1ee014d13db4a.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/09/07/21d1f3bff0d8416b8de1ee014d13db4a.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">另起炉灶，用AD画了板子，跟客服这边沟通了好一会，做一个平整光滑的“手柄形状”的PCB板，这块板子。方向键+AA、BB、A、B，完美。打板找到了捷配，主要是免费面积还大。</p><p style="margin-left:0px;"> </p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/07/article/d2c6ec8d823697bd6fba7d62787cf970?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="image.png" data-original="https://cdn.sspai.com/2021/09/07/article/d2c6ec8d823697bd6fba7d62787cf970" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">在家弄好设备，不到3天，PCB到了，还没来及焊接，先上个谍照吧！</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/07/article/8cedd1225884ac41500ca03b7e724169?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="image.png" data-original="https://cdn.sspai.com/2021/09/07/article/8cedd1225884ac41500ca03b7e724169" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;"> </p><p style="margin-left:0px;">②、板子就绪，主控芯片安排<br>| 参数 | 叙述 || ------ | ------ ||<br>型号 | FR8012乞丐版 ||<br>版本 | 蓝牙5.1 ||<br>内核 | cortex-m3 ||<br>时钟频率 | 48Mhz || RAM | 48K || FLASH | 256KB ||<br>封装 | SOP-16 ||<br>系统 | rt-thread 民间移植版 |<br><br>技术难题 这个蓝牙游戏手柄，其实蓝牙通讯，如何匹配倒没有花费很多的精力，或许因为通讯那部分比较成熟，拿过来使用就可以了。另外有很多小伙伴私下帮了不少忙，顺利的调通了无线通讯协议部分。主要遇到的难点是引脚不够，比较紧张。如图：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/07/article/6844174489ad67bc15f14a8227f9f301?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="4.png" data-original="https://cdn.sspai.com/2021/09/07/article/6844174489ad67bc15f14a8227f9f301" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">方案过程中的反复调试过程：</p><p style="margin-left:0px;">1 、PA2,PA3烧写调试，无法做按键输入使用。PASS。<br>2、 采用ADCKEY方式，分析因为手柄支持组合按键，该方案pass。<br>3、 剩下5个引脚，其中PD4,PD5做摇杆ADC通道采集使用，只剩下3个GPIO了,PC6,PC7,PD5.如果对地设计按键，只能设计3个了.<br>4 、游戏手柄除去4个方向键，目测还有select，start，A,B,AA(连发）,BB（连发）6个键值。4 有点脑瓜疼！谁让我们用的是SOP-16封装呢？想办法，办法总比困难多。这3个GPIO分别ADC0,ADC1做矩阵，时分复用能否可行？<br>5、 细思量后发现一个极其恐怖的问题，手柄是支持组合按键的，如果玩家方向键与A键同时按下，会发生很严重的过流问题。是坚决不能允许的。<br>6 、串联过流电阻，最终解决了问题。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/07/article/8d293d156bde4579e63039ff2ea8ee32?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="3.png" data-original="https://cdn.sspai.com/2021/09/07/article/8d293d156bde4579e63039ff2ea8ee32" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;">③、工作原理<br>1、 先将5个引脚关闭上拉，配置输入方向，配置ADC0,ADC1,获取4个方向数值。adc关闭转换结束。</p><p style="margin-left:0px;"><br>2 、将5个引脚配置GPIO，并且上拉有效。<br>2.1 配置PD4方向为输出，并且输出0.<br>2.2 分别读取PC6,PC7引脚电平值，作为SELECT,START键值.<br>2.3 配置PD4方向输入，上拉有效，配置PD5方向输出，并且输出0<br>2.4 分别读取PC6,PC7引脚电平值，作为AA(连发）,BB(连发)键值.<br>2.5 配置PD5方向输入，上拉有效，配置PD6方向输出，并且输出0<br>2.6分别读取PC6,PC7引脚电平值，作为A,B键值<br>2.7配置PD6方向输入，上拉有效。J结束。- 焊接成品<br><br>外壳部分准备去淘宝套一个3D打印，但出于成本考虑，同样会在网上薅一些免费的3D打印的机会，未来工厂3D打印质量还行就是价格有点小贵，有群友说捷配之前有3D打印免费券，不过要付邮费，但是现在没有。</p><figure class="image ss-img-wrapper image_resized" style="width:477px;"><img src="https://cdn.sspai.com/2021/09/07/article/d63d7144a332fd5dab88a0b1b4143912?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/09/07/article/d63d7144a332fd5dab88a0b1b4143912" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;"><br><br>先这样裸奔吧，等找到合适的价格便宜的外壳打印再给他安排，有想过自己打印，但是设备采购花钱让人肉痛。目前为止，都是用现成的元器件和薅的板子，按钮，四舍五入下来约等于0成本。感谢让我低成本完成项目的捷配PCB打样和已经失去的3D打印。<a href="https://www.jiepei.com/G851">查看链接</a></p><figure class="image ss-img-wrapper image_resized" style="width:489px;"><img src="https://cdn.sspai.com/2021/09/07/article/7b3d8ebaf4553e0e339c7eb44207304a?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="2.jpg" data-original="https://cdn.sspai.com/2021/09/07/article/7b3d8ebaf4553e0e339c7eb44207304a" referrerpolicy="no-referrer"></figure><p>继续等外壳，下期告知结果。</p></div><!----></div><div style="border:1px solid transparent;" data-v-6a669db8></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-6a669db8><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>3</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>5</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-9366" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E3%80%8C0%E6%88%90%E6%9C%AC%E3%80%8DDIY%20%E4%B8%80%E4%B8%AA%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E7%AE%80%E6%98%93%E6%B5%81%E7%A8%8B%E3%80%91%E5%89%8D%E5%87%A0%E5%A4%A9%E6%89%93%E6%A0%B7%E9%80%81%E5%A4%9A%E4%BA%86%EF%BC%8C%E8%90%8C%E7%94%9F%E4%BA%86%E5%81%9A%E4%B8%80%E4%B8%AARW007%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E7%9A%84%E6%83%B3%E6%B3%95%E3%80%82%E5%85%B6%E4%BB%96%E4%B8%8D%E5%A4%9A%E8%AF%B4%EF%BC%8C%E5%81%9A%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E4%B8%BB%E8%A6%81%E5%9B%A0%E4%B8%BARW007%E6%94%AF%E6%8C%81BLE%E5%95%A6%EF%BC%8C%E5%81%9A%E4%B8%80%E4%B8%AA%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%EF%BC%8C%E7%8E%A9%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2021%2F09%2F07%2F622f1a2e593593fdc999c08014bda8dc.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-8211" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E3%80%8C0%E6%88%90%E6%9C%AC%E3%80%8DDIY%20%E4%B8%80%E4%B8%AA%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E7%AE%80%E6%98%93%E6%B5%81%E7%A8%8B%E3%80%91%E5%89%8D%E5%87%A0%E5%A4%A9%E6%89%93%E6%A0%B7%E9%80%81%E5%A4%9A%E4%BA%86%EF%BC%8C%E8%90%8C%E7%94%9F%E4%BA%86%E5%81%9A%E4%B8%80%E4%B8%AARW007%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E7%9A%84%E6%83%B3%E6%B3%95%E3%80%82%E5%85%B6%E4%BB%96%E4%B8%8D%E5%A4%9A%E8%AF%B4%EF%BC%8C%E5%81%9A%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%E4%B8%BB%E8%A6%81%E5%9B%A0%E4%B8%BARW007%E6%94%AF%E6%8C%81BLE%E5%95%A6%EF%BC%8C%E5%81%9A%E4%B8%80%E4%B8%AA%E8%93%9D%E7%89%99%E6%B8%B8%E6%88%8F%E6%89%8B%E6%9F%84%EF%BC%8C%E7%8E%A9%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            