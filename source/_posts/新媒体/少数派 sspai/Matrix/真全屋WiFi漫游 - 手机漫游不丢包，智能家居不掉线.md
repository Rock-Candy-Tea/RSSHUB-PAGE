
---
title: '#真全屋WiFi漫游 - 手机漫游不丢包，智能家居不掉线'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://picsum.photos/400/300?random=5489'
author: 少数派 sspai
comments: false
date: Tue, 01 Feb 2022 16:31:32 GMT
thumbnail: 'https://picsum.photos/400/300?random=5489'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><p>按照上一期的视频设置好全屋漫游的 WiFi 以后，发现房间里的智能家居设备变得更加不稳定了？这是因为智能家居产品使用的 WiFi 芯片和固件驱动不支持 802.11r 漫游协议造成的。那么本期的视频就和大家一起设置全屋多WiFi 设置，让你的手机漫游不丢包，智能家居不掉线！</p><iframe class="ss-videoIframe" src="//player.bilibili.com/player.html?bvid=BV1i5411Z747"> </iframe><p>视频章节：</p><p>0:00 开场</p><p>1:27 多SSID设置</p><p>2:49 启用mDNS服务</p><p>3:10 启用UPnP服务</p><p>4:03 总结</p><p> </p><p>如果喜欢文字版本的内容，这里也将字幕全部码出来了：</p><p>What’s up 大家好，欢迎收看本期的 WaveTech 烂科技，我是 Eric。在上一期的视频里说了应该要如何部署一个全屋漫游的 Wi-Fi，那么这一期的视频呢，主要来说说看家里准备要部署或者已经部署了全屋智能小伙伴该如何设置全屋Wi-Fi呢？其实很简单，就是忘记上一期视频的内容。哈哈哈哈，为什么这么说呢？我们每年换的新款 iPhone，都是使用了最强大的一线主流 WiFi 芯片，运行的全功能的 iOS 操作系统，对同步双频，对802.11r Wi-Fi漫游支持的都非常完美。但是通常智能家居的设备呢，由于价格就摆在那里，用的不知名小厂的 WiFi 芯片和不知到什么分支的开源 Linux 系统，对于这些Wi-Fi漫游都没有进行完整的支持。所以大家在设置这类产品的时候，常常会遇到两个问题，一个就是在入网的时候，产品就会要求独立的 2.4G 网络才能完成设置，或者在WiFi漫游的网络下时常容易掉线。针对这些问题，这里准备一些全屋Wi-Fi的设置技巧要和你们分享一下。</p><p> </p><p>首先，第一个就是要选择支持多 SSID 的WiFi路由器，要了解 SSID，首先要了解的另一个名词BSS，全称是 a Wireless basic service set, 中文翻译过来就是无线服务集，说人话呢，就是无线局域网。那么每个无线局域网都会有一个 SSID 全称是 Service Set Identifier 服务集识别码，也就是常说的 WiFi 名称。每个 WiFi 的名称呢，又绑定着一个物理层面的接口，一个由 48 位 MAC 组成的 BSSID。将一个无线局域网的设备划分给不同的物理层面接口，也就是给无线局域网内的设备分组。说了这么多，简单的来说呢，就是例如 Ubnt 的 AP，有 4个 BSSID，也就是最多可以创建 4个不同的 WiFi 名称。每个名称可以设置自己独立的 WiFi 支持特性。这里常见的做法会将笔记本，手机等需要漫游的设备，划分到一个WiFi名称中，而将这些对漫游支持比较差劲的设备单独划分到IoT专用WiFi里，这个 WiFi 可以设置成仅 2.4G 的 WiFi，保证一些对双频支持较差的设备无法入网。同时关闭 802.11r 快速漫游功能，避免智能家居设备因为漫游支持的不完善而掉线。</p><p> </p><p>第二个，大多数 HomeKit 的智能家居设备利用内网的 mDNS 服务发现局域网内的其他设备，这里要启用路由器上的 mDNS 的服务。mDNS 可以想象成内网的一台智能家居设备，例如智能灯泡，拿了个小喇叭，向周围其他设备播报自己的 IP 地址，其他设备可以通过广播中的 IP 地址找到这盏智能灯。</p><p> </p><p>最后一个功能是一些依赖云服务的智能家居设备，需要通过云端服务器来完成设备的开关或者智能化操作。那么这里就要依赖到路由器的另外一个功能，uPnP，中文叫即插即用。这个功能是因为我们现在常见的IP 地址是 IPv4，也就是IP协议的第四版本，我们可以把它想象成邮政编码。但是由于这个邮编太短了，所以要给每家每户都分一个邮编，那么邮编就不够用了。所以这里又引入了门牌号。uPnP 服务就是用来记住哪个门牌号属于哪个设备。那么所有到这个大楼的快递包裹就要由 uPnP 进行接收，并且分派到每个门牌号上。在不远的未来，全新一代的 IPv6 就解决了不够用的问题，128位 IPv6 地址保证地球上的每一粒沙子都可以获得一个自己的 IP 地址。这时候就不需要 uPnP 帮忙记住门牌号啦。</p><p> </p><p>Ok，还没睡着吧？我们总结一下，今天我们说如果打算在家里部署全屋智能的小伙伴们在选择 WiFi 路由器的时候，要注意路由器是否支持多 WiFi 名称设置。将家里需要漫游的手机，笔记本划分到支持漫游的 WiFi 里。并且给智能家居设备开起一个独立的IoT 2.4G WiFi。这样做还有一个好处就是可以独立给 IoT WiFi 设置独立密码。平时用来漫游的 WiFi 要是密码泄露了需要修改密码，也不需要重置整个家中的智能设备。同时开始路由器中的 mDNS 以及 uPnP 功能，保证设备的互相发现以及云服务器的正常链接。如果你还有任何的疑问，欢迎你留下你的评论。如果哪里还有听的不够详细的，也欢迎将播放速度调整为 75% 在看一遍。还有别忘了点赞，关注，我们下期视频见。Bye～</p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>0</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>1</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-2787" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%23%E7%9C%9F%E5%85%A8%E5%B1%8BWiFi%E6%BC%AB%E6%B8%B8%20-%20%E6%89%8B%E6%9C%BA%E6%BC%AB%E6%B8%B8%E4%B8%8D%E4%B8%A2%E5%8C%85%EF%BC%8C%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E4%B8%8D%E6%8E%89%E7%BA%BF%E3%80%91%E6%8C%89%E7%85%A7%E4%B8%8A%E4%B8%80%E6%9C%9F%E7%9A%84%E8%A7%86%E9%A2%91%E8%AE%BE%E7%BD%AE%E5%A5%BD%E5%85%A8%E5%B1%8B%E6%BC%AB%E6%B8%B8%E7%9A%84WiFi%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%8F%91%E7%8E%B0%E6%88%BF%E9%97%B4%E9%87%8C%E7%9A%84%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E8%AE%BE%E5%A4%87%E5%8F%98%E5%BE%97%E6%9B%B4%E5%8A%A0%E4%B8%8D%E7%A8%B3%E5%AE%9A%E4%BA%86%EF%BC%9F%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E4%BA%A7%E5%93%81%E4%BD%BF%E7%94%A8%E7%9A%84WiFi%E8%8A%AF%E7%89%87%E5%92%8C%E5%9B%BA%E4%BB%B6%E9%A9%B1%E5%8A%A8%E4%B8%8D%E6%94%AF%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F02%2F02%2F613f438812946451cc7dfc767ab3dd7e.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-3064" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%23%E7%9C%9F%E5%85%A8%E5%B1%8BWiFi%E6%BC%AB%E6%B8%B8%20-%20%E6%89%8B%E6%9C%BA%E6%BC%AB%E6%B8%B8%E4%B8%8D%E4%B8%A2%E5%8C%85%EF%BC%8C%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E4%B8%8D%E6%8E%89%E7%BA%BF%E3%80%91%E6%8C%89%E7%85%A7%E4%B8%8A%E4%B8%80%E6%9C%9F%E7%9A%84%E8%A7%86%E9%A2%91%E8%AE%BE%E7%BD%AE%E5%A5%BD%E5%85%A8%E5%B1%8B%E6%BC%AB%E6%B8%B8%E7%9A%84WiFi%E4%BB%A5%E5%90%8E%EF%BC%8C%E5%8F%91%E7%8E%B0%E6%88%BF%E9%97%B4%E9%87%8C%E7%9A%84%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E8%AE%BE%E5%A4%87%E5%8F%98%E5%BE%97%E6%9B%B4%E5%8A%A0%E4%B8%8D%E7%A8%B3%E5%AE%9A%E4%BA%86%EF%BC%9F%E8%BF%99%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E4%BA%A7%E5%93%81%E4%BD%BF%E7%94%A8%E7%9A%84WiFi%E8%8A%AF%E7%89%87%E5%92%8C%E5%9B%BA%E4%BB%B6%E9%A9%B1%E5%8A%A8%E4%B8%8D%E6%94%AF%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            