
---
title: '使用 manim 用简单的代码制作精美的动画'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/06/22/article/bb3414d4b4fd6579642c7d88c8389b53?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Wed, 22 Jun 2022 15:53:02 GMT
thumbnail: 'https://cdn.sspai.com/2022/06/22/article/bb3414d4b4fd6579642c7d88c8389b53?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-557a067a><div class="update-wrap" data-v-557a067a></div><div class="content wangEditor-txt minHeight" data-v-557a067a><h2>manim 是什么</h2><p>manim 是视频博主 3Blue1Brown 开发的动画引擎，他使用 manim 创作出了许多直观、美丽的数学科普内容。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/22/article/bb3414d4b4fd6579642c7d88c8389b53?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="3Blue1Brown" data-original="https://cdn.sspai.com/2022/06/22/article/bb3414d4b4fd6579642c7d88c8389b53" referrerpolicy="no-referrer"></figure><p>可以先看一下我用 manim 制作的一个小动画，之后我会放出代码。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/22/f253ebd8fbd4f96c4902d6d191ea9e9c.gif" data-original="https://cdn.sspai.com/2022/06/22/f253ebd8fbd4f96c4902d6d191ea9e9c.gif" referrerpolicy="no-referrer"></figure><h2>前言</h2><p>我很早就了解到了 manim，但在很久以后我才尝试去使用它，令我惊讶的是它并没有想象中的麻烦，让我不禁联想到 Apple 的 SwiftUI，使用简单的几句代码，通过「描述」这里存在着什么样的东西，就能制作出想要的效果。</p><h2>安装</h2><p>在 mac 终端里分别输入</p><pre class="language-text"><code>brew install py3cairo ffmpeg</code></pre><p> </p><pre class="language-text"><code>brew install cmake pango scipy</code></pre><p> </p><pre class="language-text"><code>pip3 install manim</code></pre><h2>运行第一个项目</h2><p>manim 是运行在 python 下的，首先创建一个 python 文件 <code>test.py</code>，它基本结构是长这样的。</p><pre class="language-python"><code>from manim import * # 导入 manim

class Test(Scene): # 定义一个场景
    def construct(self):
        #code here</code></pre><p>新建一个文件夹 <code>manim</code> 用来存放 manim 项目，将文件放入。</p><p>为了运行这个项目，你需要先了解一点命令行的知识。</p><p>打开 mac 的终端，目前你处于根目录下，输出 <code>ls</code> 可以显示当下目录下的所有文件和文件夹。</p><p>输入 <code>cd <文件夹名></code> 可以进入到这个文件夹。</p><p>例如，我的文件夹 <code>manim</code> 是创建在文件夹 <code>Downloads</code> 下的，要进入 <code>manim</code> 文件夹，我需要输入</p><pre class="language-text"><code>cd Downloads

cd manim</code></pre><p>或者</p><pre class="language-text"><code>cd Downloads/manim</code></pre><p>进入到 <code>test.py</code> 所在的文件后，可以通过这样一行命令运行项目。</p><pre class="language-text"><code>manim test.py Test</code></pre><p>这里 <code>Test</code> 是我在上面的示例中定义的场景（<code>Scene</code>）名，manim 每次运行一个文件中的一个场景。</p><h2>语法</h2><p>先来看最简单的一个例子</p><pre class="language-python"><code>circle = Circle()
self.play(Write(circle))</code></pre><p>如此，就创建了这么一个动画</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/06/22/article/11dbc0d29dea9302c6e051c1d019b751?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="simpleExample" data-original="https://cdn.sspai.com/2022/06/22/article/11dbc0d29dea9302c6e051c1d019b751" referrerpolicy="no-referrer"></figure><p>我们通过 <code>circle = Circle()</code> 创建了一个圆，然后播放（play）了 <code>Write(circle)</code> 这个动画。</p><p>这就是 manim 的大概逻辑了。</p><p>我们来看文章开头的那个例子是怎么实现的。</p><p>为了素材的管理方便，我在 <code>manim</code> 文件夹下创建了一个 <code>images</code> 文件夹用来存放图片，在里面放了两个歌手的图片。</p><p>注意我这里用的是 <code>.svg</code> 格式的矢量图，因为矢量图可以进行一个物体转变为另一个物体的插值运算。</p><p>我在文章 <a href="https://sspai.com/post/72703">不会设计，如何 1 分钟让土素材变得「上镜」</a> 里讲到如何使用 Vector Magic 将图片转化为矢量图</p><p>这时我的文件夹结构是这样的</p><pre class="language-text"><code>manim
├─ images
│    ├─ cardiB.svg
│    └─ iggy.svg
└─ test.py</code></pre><p>首先引入这两张图片</p><pre class="language-python"><code>cardi = SVGMobject("./images/cardiB.svg").shift(LEFT*3).scale(3)

iggy = SVGMobject("./images/iggy.svg").shift(RIGHT*3).scale(3)</code></pre><p><code>.</code> 代表的是当前文件夹，<code>"./images/cardiB.svg"</code> 是图片的路径，一个对象被创建时，它默认位置在画面中心，通过 <code>.shift(LEFT*3).scale(3)</code> 将其往左移动 3 个单位并放大 3 倍。</p><pre class="language-"><code>self.play(Write(cardi), rate_func = smooth, run_time = 3)
self.wait(0.5)

self.play(ReplacementTransform(cardi, iggy), rate_func = smooth, run_time = 3)
self.wait(0.5)</code></pre><p> </p><ul><li><code>rate_func = smooth</code>：动画插值方式为贝塞尔曲线</li><li><code>run_time = 3</code>：动画持续实践为 3 秒</li><li><code>self.wait(0.5)</code>：停顿 0.5 秒</li></ul><p>这里我只写了两个动画，一个是创造第一张图片 <code>cardi</code> 的 <code>Write()</code> 动画，另一个是将 <code>cardi</code> 转变为 <code>iggy</code> 的 <code>ReplacementTransform()</code>动画。</p><h2>学习资源</h2><ul><li><a href="https://docs.manim.community/en/stable/installation/macos.html">Manim Community</a>:最好理解的文档，但是是英文的，并且需要翻梯子。</li><li><a href="https://manim.org.cn/docs.html">Manim Kindergarten</a>：这是上面那份文档的中文版，虽说有了中文，但由于并非 1:1 翻译，其实可读性不如上面那份文档</li></ul><h2>结语</h2><p>3Blue1Brown 说过，你应该使用 manim 来制作数学科普视频，如果要做其他的视频，比起 manim 有其他更好的选择。</p><p>不过，对于程序容易理解的场景（例如字幕出现），使用代码来制作动画比起剪辑软件有着更强的可更改性和复用性，或者，如果你的视频比较简单，只是一些字幕与元素的堆叠，使用 manim 能帮助你快速创建质感很强的动画。</p><p>本文只是介绍一个强大的工具，一个用代码制作动画的方式，并非想要替换掉你的工作流，合理运用多个工具的优点，如果你并没有做视频的需求，就当看个乐吧。</p></div><div class="update-details-wrap" data-v-557a067a></div><!----></div><div style="border:1px solid transparent;" data-v-557a067a></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-557a067a><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>21</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>4</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-9741" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E4%BD%BF%E7%94%A8%20manim%20%E7%94%A8%E7%AE%80%E5%8D%95%E7%9A%84%E4%BB%A3%E7%A0%81%E5%88%B6%E4%BD%9C%E7%B2%BE%E7%BE%8E%E7%9A%84%E5%8A%A8%E7%94%BB%E3%80%91manim%E6%98%AF%E4%BB%80%E4%B9%88manim%E6%98%AF%E8%A7%86%E9%A2%91%E5%8D%9A%E4%B8%BB3Blue1Brown%E5%BC%80%E5%8F%91%E7%9A%84%E5%8A%A8%E7%94%BB%E5%BC%95%E6%93%8E%EF%BC%8C%E4%BB%96%E4%BD%BF%E7%94%A8manim%E5%88%9B%E4%BD%9C%E5%87%BA%E4%BA%86%E8%AE%B8%E5%A4%9A%E7%9B%B4%E8%A7%82%E3%80%81%E7%BE%8E%E4%B8%BD%E7%9A%84%E6%95%B0%E5%AD%A6%E7%A7%91%E6%99%AE%E5%86%85%E5%AE%B9%E3%80%82%E5%8F%AF%E4%BB%A5%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F06%2F22%2Ffad6282627841dbf3a5dc08d4bd9974f.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-8434" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E4%BD%BF%E7%94%A8%20manim%20%E7%94%A8%E7%AE%80%E5%8D%95%E7%9A%84%E4%BB%A3%E7%A0%81%E5%88%B6%E4%BD%9C%E7%B2%BE%E7%BE%8E%E7%9A%84%E5%8A%A8%E7%94%BB%E3%80%91manim%E6%98%AF%E4%BB%80%E4%B9%88manim%E6%98%AF%E8%A7%86%E9%A2%91%E5%8D%9A%E4%B8%BB3Blue1Brown%E5%BC%80%E5%8F%91%E7%9A%84%E5%8A%A8%E7%94%BB%E5%BC%95%E6%93%8E%EF%BC%8C%E4%BB%96%E4%BD%BF%E7%94%A8manim%E5%88%9B%E4%BD%9C%E5%87%BA%E4%BA%86%E8%AE%B8%E5%A4%9A%E7%9B%B4%E8%A7%82%E3%80%81%E7%BE%8E%E4%B8%BD%E7%9A%84%E6%95%B0%E5%AD%A6%E7%A7%91%E6%99%AE%E5%86%85%E5%AE%B9%E3%80%82%E5%8F%AF%E4%BB%A5%E5%85%88%E7%9C%8B%E4%B8%80%E4%B8%8B%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            