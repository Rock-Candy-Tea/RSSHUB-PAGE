
---
title: '谁家推送服务限制最严格'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/04/13/fcfa03c6a9059113757cff79280de857.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Tue, 19 Apr 2022 15:14:45 GMT
thumbnail: 'https://cdn.sspai.com/2022/04/13/fcfa03c6a9059113757cff79280de857.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-0b37afcb><div class="update-wrap" data-v-0b37afcb></div><div class="content wangEditor-txt minHeight" data-v-0b37afcb><blockquote><p style="margin-left:0px;">先说句题外话，又过了这么多年了，没想到国内Android的统一推送还是没有实现。</p></blockquote><p style="margin-left:0px;text-align:justify;">由于工作需要，最近正好在调研各家系统推送服务，我发现从他们的技术文档可以分析出很多有意思的东西，比如说能看出来哪家厂商的推送限制最严格，最考虑用户的综合体验。在讲解之前，我们先简单提几个推送服务的基本概念：</p><ul><li style="text-align:justify;">设备：用户所持有的某台设备，在技术文档中所提到的日活跃用户数一般也就指日联网设备数</li><li style="text-align:justify;">应用：某台设备上安装的某个应用，后续我们所描述的推送数量限制都是以此维度比较的</li><li style="text-align:justify;">推送：应用进程活跃或关闭时，通过系统级的推送通道下发消息，一般以通知消息的形式呈现给用户，点击后激活应用进程</li><li style="text-align:justify;">透传：仅在应用活跃时可接收数据，仍然依赖系统的推送服务器下发，但数据格式一般可以自定义，处理逻辑也是由应用自己实现，所以应用如果被杀死，自然就处理不到了</li></ul><p style="margin-left:0px;text-align:justify;">一个不那么规范的示意图：</p><figure class="image ss-img-wrapper image_resized" style="width:267px;"><img src="https://cdn.sspai.com/2022/04/13/fcfa03c6a9059113757cff79280de857.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/04/13/fcfa03c6a9059113757cff79280de857.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;"><strong>注：下文以x表示日联网设备数量；我们主要关注推送，不过多说明透传的限制。</strong></p><h3 style="text-align:justify;">各家次数限制</h3><h4 style="text-align:justify;">华为</h4><p style="margin-left:0px;text-align:justify;">对于某设备某应用，推送和透传次数总共不超过<strong>3000次/每日</strong>；相当于该应用每日推送总量上限为：<code>f(x) = 3000 * x</code></p><p style="margin-left:0px;text-align:justify;">简要解读：华为严格限制了某设备某应用所能接收的推送数量，所以对于某应用而言，推送总量和设备数量线性相关。</p><h4 style="text-align:justify;">小米</h4><p style="margin-left:0px;text-align:justify;">透传没有数量限制，而推送分为<strong>普通级别</strong>和<strong>重要级别</strong>，重要级别的消息（比如即时通讯消息、个人订单状态变化等）没有数量限制，但需要单独向小米团队申请。下面只说明普通级别的消息：</p><p style="margin-left:0px;text-align:justify;">对于某应用，推送总量上限为<strong>x的数倍/每日</strong>，这个倍数和你的应用分类有关，比如新闻资讯是5倍，时尚购物是2倍，我们以最低的2倍为例，该应用每日推送总量上限为：</p><ul><li style="text-align:justify;">当x < 10000时，<code>f(x) = 2 * 10000 = 20000</code></li><li style="text-align:justify;">当x >= 10000时，<code>f(x) = 2 * x</code></li></ul><p style="margin-left:0px;text-align:justify;">简要解读：从小米推送的官方文档来看，和华为不同，并没有明确限制某设备某应用接收的数量，只限制了某应用对于所有设备的推送总量，换言之，极端情况下，我可以把这个额度全部推给某一台设备。所以你的用户少到一定程度时，单台设备可接收的推送数量会远大于华为的3000次限制。当然，这种极端情况其实属于一种漏洞了，虽然文档确实没有说明，但估计是不可行的。</p><h4 style="text-align:justify;">OPPO</h4><p style="margin-left:0px;text-align:justify;">不支持透传，推送分为<strong>公信</strong>和<strong>私信</strong>，私信类似小米的重要级别消息，不限量，需要单独申请。下面只说明公信：</p><p style="margin-left:0px;text-align:justify;">对于某应用，推送总量上限为<strong>2x/每日</strong>，该应用每日推送总量上限为：</p><ul><li style="text-align:justify;">当x < 50000时，<code>f(x) = 2 * 50000 = 100000</code></li><li style="text-align:justify;">当x >= 50000时，<code>f(x) = 2 * x</code></li></ul><p style="margin-left:0px;text-align:justify;">对于某设备，公信和私信总和接收数上限为<strong>2000/每日</strong>。</p><p style="margin-left:0px;text-align:justify;">简要解读：OPPO的规则和小米非常类似，但没有像小米那样按应用分类给不同的倍数，而是固定为2倍。且对于某设备，无论公信还是私信，每日接收推送的总和上限为2000，也就是说该设备无论有多少个应用接入了OPPO推送，其每日接收总量固定。所以即便你申请了私信总量无限，但单一用户仍然有限。</p><h4 style="text-align:justify;">vivo</h4><p style="margin-left:0px;text-align:justify;">不支持透传，推送分为<strong>运营消息</strong>和<strong>系统消息</strong>，类似小米和OPPO，但又不尽相同，vivo的系统消息默认是可以直接使用的，不向小米和OPPO那样需要申请，只不过每日推送总量限制与运营消息相同，为<strong>x的1倍</strong>。系统消息虽然在文档中声称<strong>不限制某设备某应用的接收数量</strong>，但实际上有总量限制，所以某一台设备接收最大数也就是总量，如果需要增量再向官方申请（但至于可以申请多少，肯定也不是无限的）。下面只说明运营消息：</p><p style="margin-left:0px;text-align:justify;">对于某应用，推送总量上限为<strong>x/每日</strong>，该应用每日推送总量上限为：</p><ul><li style="text-align:justify;">当x < 10000时，<code>f(x) = 10000</code></li><li style="text-align:justify;">当x >= 10000时，<code>f(x) = x</code></li></ul><p style="margin-left:0px;text-align:justify;">对于某设备某应用，运营消息接收数上限为<strong>5/每日</strong>，系统消息则为<strong>无限/每日</strong>。</p><p style="margin-left:0px;text-align:justify;">简单解读：vivo的限制规则和其他家有很大不同，对于某设备某应用的普通运营消息做了很严格的控制，每天仅为5条，因此该设备当天总接收量取决于所安装的集成了vivo系统推送的应用数，这和OPPO直接限制成2000/每日有些许差异。</p><h3 style="text-align:justify;">横向对比</h3><p style="margin-left:0px;text-align:justify;">在分析完上述各家推送的文档之后，我们从两个角度来进行对比。</p><h4 style="text-align:justify;">从开发者角度</h4><p style="margin-left:0px;text-align:justify;">作为应用开发者，我们比较关心的是每天总共可以推送多少消息出去，将上文函数绘制出来就非常清楚了：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/04/13/ce3e510d0fffd97c17227ad417b3fa40.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/04/13/ce3e510d0fffd97c17227ad417b3fa40.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">在单个应用每天可推送总量这个指标上看，华为对应函数的斜率是3000，可谓是一骑绝尘，给到普通开发者的资源也算非常慷慨的了。然后再单独看其他三家吧：</p><ul><li style="text-align:justify;">当设备数小于1万时，可推送总量：OPPO > 小米 > vivo。</li><li style="text-align:justify;">当设备数介于1万到5万之间时，可推送总量依然是：OPPO > 小米 > vivo，但小米与vivo的差距随着设备数增多而增大；</li><li style="text-align:justify;">当设备数大于5万时，可推送总量：OPPO = 小米 > vivo，此时OPPO和小米已经一致，并与vivo的差距越来越大。</li></ul><p style="margin-left:0px;text-align:justify;">因此对开发者来说，总体上可推送数量对比：华为 > OPPO > 小米 > vivo。<s>没错，产品运营同学们可以对华为用户加大营销力度了。</s></p><h4 style="text-align:justify;">从用户角度</h4><p style="margin-left:0px;text-align:justify;">刚刚提到的总量其实并不是用户最关心的，由于各家厂商的规则各异，我们更关心的是<strong>某设备每天能收到的推送数量上限</strong>。</p><p style="margin-left:0px;text-align:justify;">因此我们<strong>以y表示某设备所安装的应用数</strong>（接入了对应系统推送的），得出如下函数：</p><ul><li style="text-align:justify;">华为：<code>f(y) = 3000 * y</code></li><li style="text-align:justify;">小米：由于其官方文档并没有对设备维度作说明，只能按平均值计算，所以是<code>f(y) = (2 + 5) / 2 * y = 3.5 * y</code>，2和5分别为上文提到的不同应用分类限制倍数的最小值和最大值，其实更为合理的是按所安装应用类型的分布来计算。</li><li style="text-align:justify;">OPPO：与安装应用数量无关，<code>f(y) = 2000</code></li><li style="text-align:justify;">vivo：<code>f(y) = 5 * y</code></li></ul><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/04/13/03dc93b523a089e3575eec1ef49d7e21.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2022/04/13/03dc93b523a089e3575eec1ef49d7e21.png" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">由图可知，对用户来讲，不同厂商推送对所安装应用数量的敏感度是不一样的，每天能收到的推送数量上限情况如下：</p><ul><li style="text-align:justify;">当安装应用数量小于400时，华为 > OPPO > vivo > 小米</li><li style="text-align:justify;">当安装应用数量介于400到（约）571时，华为 > vivo > OPPO > 小米</li><li style="text-align:justify;">当安装应用数量大于（约）571时，华为 > vivo > 小米 > OPPO</li></ul><p style="margin-left:0px;text-align:justify;">总体看来，华为依然是一骑绝尘，不管你安装多少应用，收到的推送数量都是最多的，换言之，也是理论上用户体验最不好的。从函数图像上来看，结合实际情况（一般人不会安装超过400个应用）vivo和小米推送是管控相对较为严格的，理论上用户体验最佳。OPPO相对而言比较简单粗暴，这对于轻度用户来说不是很友好。</p><p style="margin-left:0px;text-align:justify;">上述结论是完全基于官方文档的说明来进行的数据分析，它更多是表明了对于开发者和用户的可影响程度。在实际体验中，几家厂商并没有太大差异，最终影响用户设备接收推送体验的因素也非常复杂，可能应用的开发者针对不同用户也有不同频次的推送，也可能用户有自己的应用设置习惯，所以每个人的感受也千差万别。此外，即便开发者不对用户体验负责，厂商的推送平台还是会对大家负责的，毕竟任何异常量级的数据都会受到风控的，而且对于滥用推送的开发者，平台也会有相应的处罚机制。</p><h3 style="text-align:justify;">参考</h3><ul><li style="text-align:justify;"><a href="https://dev.mi.com/console/doc/detail?pId=2086">小米文档中心</a></li><li style="text-align:justify;"><a href="https://developer.huawei.com/consumer/cn/doc/development/HMSCore-Guides/faq-0000001050042183#section196822541234">华为推送服务</a></li><li style="text-align:justify;"><a href="https://open.oppomobile.com/wiki/doc#id=11210">OPPO开放平台</a></li><li style="text-align:justify;"><a href="https://dev.vivo.com.cn/documentCenter/doc/359#_Toc64906673">vivo开放平台</a></li></ul><h3 style="text-align:justify;">关于Apple</h3><p style="margin-left:0px;text-align:justify;">我也看了一下Apple的推送服务文档，并没有提到相关的限制，所以我这里没有做相关分析，也许要开发者帐号才能查看？欢迎熟悉这方面业务的同学评论。</p></div><div class="update-details-wrap" data-v-0b37afcb></div><!----></div><div style="border:1px solid transparent;" data-v-0b37afcb></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-0b37afcb><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>7</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>3</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-427" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E8%B0%81%E5%AE%B6%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E9%99%90%E5%88%B6%E6%9C%80%E4%B8%A5%E6%A0%BC%E3%80%91%E5%85%88%E8%AF%B4%E5%8F%A5%E9%A2%98%E5%A4%96%E8%AF%9D%EF%BC%8C%E5%8F%88%E8%BF%87%E4%BA%86%E8%BF%99%E4%B9%88%E5%A4%9A%E5%B9%B4%E4%BA%86%EF%BC%8C%E6%B2%A1%E6%83%B3%E5%88%B0%E5%9B%BD%E5%86%85Android%E7%9A%84%E7%BB%9F%E4%B8%80%E6%8E%A8%E9%80%81%E8%BF%98%E6%98%AF%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%E3%80%82%E7%94%B1%E4%BA%8E%E5%B7%A5%E4%BD%9C%E9%9C%80%E8%A6%81%EF%BC%8C%E6%9C%80%E8%BF%91%E6%AD%A3%E5%A5%BD%E5%9C%A8%E8%B0%83%E7%A0%94%E5%90%84%E5%AE%B6%E7%B3%BB%E7%BB%9F%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%EF%BC%8C%E6%88%91%E5%8F%91%E7%8E%B0%E4%BB%8E%E4%BB%96%E4%BB%AC%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-2381" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E8%B0%81%E5%AE%B6%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%E9%99%90%E5%88%B6%E6%9C%80%E4%B8%A5%E6%A0%BC%E3%80%91%E5%85%88%E8%AF%B4%E5%8F%A5%E9%A2%98%E5%A4%96%E8%AF%9D%EF%BC%8C%E5%8F%88%E8%BF%87%E4%BA%86%E8%BF%99%E4%B9%88%E5%A4%9A%E5%B9%B4%E4%BA%86%EF%BC%8C%E6%B2%A1%E6%83%B3%E5%88%B0%E5%9B%BD%E5%86%85Android%E7%9A%84%E7%BB%9F%E4%B8%80%E6%8E%A8%E9%80%81%E8%BF%98%E6%98%AF%E6%B2%A1%E6%9C%89%E5%AE%9E%E7%8E%B0%E3%80%82%E7%94%B1%E4%BA%8E%E5%B7%A5%E4%BD%9C%E9%9C%80%E8%A6%81%EF%BC%8C%E6%9C%80%E8%BF%91%E6%AD%A3%E5%A5%BD%E5%9C%A8%E8%B0%83%E7%A0%94%E5%90%84%E5%AE%B6%E7%B3%BB%E7%BB%9F%E6%8E%A8%E9%80%81%E6%9C%8D%E5%8A%A1%EF%BC%8C%E6%88%91%E5%8F%91%E7%8E%B0%E4%BB%8E%E4%BB%96%E4%BB%AC%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            