
---
title: 'Obsidian 插件之 Dataview'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://i.loli.net/2021/08/08/qFhjgzCyNfoUcOV.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Mon, 09 Aug 2021 06:09:33 GMT
thumbnail: 'https://i.loli.net/2021/08/08/qFhjgzCyNfoUcOV.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-3e67f99b><div class="content wangEditor-txt minHeight" data-v-3e67f99b><h2>写在前面</h2><p>距离上次发布obsidian使用类的文章已经一个月了，这段时间大家过得怎么样？有把obsidian用起来吗？</p><p>这篇仍然是使用类干货，当你积累了10+篇自己的笔记，或许会需要它。</p><p>写笔记也好，做什么东西也好，我认为很忌讳的一点是过度设计，废了很大的功夫想要在一切开始之前造一个完美的轮子，结果造完之后极大可能你的记笔记热情已经没有了。</p><p>所以我不建议你等待，等待任何笔记流程的设计。不是有了完美工作流之后你才能开始工作，而是做着做着就根据自己的场景和需要慢慢铺就了适合你的工作流。</p><p>这也是渐进式笔记的概念。ob当时带着双链和关系图谱出现，本意就是让使用者渐进式的搭建自己的知识库。</p><p>渐进式的观点还能很好的改善完美主义。（刚看完《如何成为不完美主义》的一点小启发。）</p><p>这也就是我为什么说等你积累到10篇以上，会需要这篇文章。如果你才开始记笔记，请先放下一切问题记起来。</p><p>言归正传，来看看dataview的使用场景。</p><h2>使用场景</h2><p>假设你现在积累了一众笔记，这些笔记之间除了双链还有一些关联，现在你想要一个目录，可以一目了然的聚合这些笔记。</p><p>以下是一些场景：</p><ul><li>生成<strong>包含同样关键字的笔记</strong>的目录</li><li>生成<strong>同一个标签的笔记</strong>的目录</li><li>生成<strong>同一个作者的书目</strong>的目录</li></ul><p>这时候，dataview就派上用场了。</p><p>dataview可以生成MOC，或者你也可以跟我一样，不去管MOC是什么，就把它当作一个目录。</p><p>我们知道，目录是一篇文章的概览。dataview其实生成了你的多篇文章目录。</p><p>如果你有这种需要的话，就接着看下去吧。</p><h2>安装插件</h2><p>众所周知（如果你不知道，现在可以知道了），ob插件有两种安装方式：</p><ol><li>直接在<code>第三方插件->社区插件</code>搜索安装</li><li>下载到插件文件，一般是一个插件文件夹，然后放在库目录下的<code>.obsidian/plugins</code>目录下。（至于从哪里下载，可以从github或者有些群会下载下来共享）</li></ol><p><strong>设置</strong>：该插件不需要修改任何设置即可使用。</p><p>接下来就开始生成目录吧！</p><h2>使用</h2><p>方法千千万，我只写三种生成目录的方式：</p><ul><li>从名字</li><li>从作者</li><li>从标签</li></ul><p>如果有更多的需求，说明你是个高阶使用者，请去查看更高阶的文章，或者去看插件作者的官网。</p><h3>从文件名</h3><p><i>场景：假设，现在你有多篇关于【习惯】的笔记，并且这些笔记的<strong>名称中都有“习惯”两个字</strong>。记录了好几个习惯养成的方法，今天你忽然意识到，关于习惯的方法论已经看了好几个了，想把它们列出来放到一起看看能不能产生什么化学效果。</i></p><p>老规矩，先贴一个语法和效果图：<br> </p><figure class="image ss-img-wrapper"><img src="https://i.loli.net/2021/08/08/qFhjgzCyNfoUcOV.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://i.loli.net/2021/08/08/qFhjgzCyNfoUcOV.png" referrerpolicy="no-referrer"></figure><p>下面讲讲规则，别害怕看“代码”，总共就5行，大部分还是不用改的，比如我上面的代码，其实你只用替换双引号里面的内容哟，是不是简单多了？</p><p>首先，dv语法要写到代码块里，如果有了解过markdown的小伙伴，应该对代码块不陌生。上下三个上撇，就是一个代码块。</p><p>在首行写上<code>dataview</code>，插件就可以识别这部分代码了。</p><figure class="table"><table><thead><tr><th>设置字段</th><th>释义</th><th>必要与否</th></tr></thead><tbody><tr><td>list</td><td>展现形式。创建列表，还有table、task可以选择</td><td>必要</td></tr><tr><td>from</td><td>检索范围。从哪个文件夹（写在双引号里面），或者标签（写在#后面）</td><td>非必要</td></tr><tr><td>where</td><td>聚合条件。contains(file.name,"Dataview")就是匹配文件名为“Dataview”的文件</td><td>非必要</td></tr><tr><td>sort</td><td>排序，根据什么做排序。 <code>sort file.ctime</code>就是根据文件的创建时间正序</td><td>非必要</td></tr></tbody></table></figure><p>以上解释希望你看懂了。下面我举一个例子，还以开头的假设场景为例，你要怎么写呢？</p><pre class="language-null"><code>```dataview
list 
from ""
where contains(file.name,"习惯")
```</code></pre><p>这样就可以了。</p><ul><li>list：你创建了一个列表/清单。</li><li>from：留空就是不筛选文件夹和标签，从所有笔记文件去找。</li><li>where条件：匹配（contains）了文件名（file.name）中包含“习惯”两个字的笔记</li></ul><p>如果你需要排序，就写sort，不需要，留空就可以。</p><p>你应该发现了<code>file.name</code>和<code>file.ctime</code>的写法，没错，这是dataview内置的。下面是dataview官网中描述的支持的元数据，都可以供搜索和排序语法使用。在后面将要说到的创建table，还可以作为列显示。</p><figure class="image ss-img-wrapper"><img src="https://i.loli.net/2021/08/08/7JDtQ6MczTY3nxl.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://i.loli.net/2021/08/08/7JDtQ6MczTY3nxl.png" referrerpolicy="no-referrer"></figure><p>上面的从文件名创建列表你看懂了的话，用从标签创建列表练习一下吧～其实上面有包含哦，但我们还是练习以下，以防有人没看懂。</p><h3>从标签</h3><p><i>场景：假设，你有几篇笔记，打了同一个标签，比如</i><code><i>#时间管理</i></code><i>。现在你想要把时间管理标签下的笔记形成一个目录。</i></p><p>你该怎么写dataview语句呢？</p><p>还记得上面的4个关键设置字段吗？<code>from</code>是检索范围，既可以从文件夹，又可以从标签。</p><pre class="language-dataview"><code>```dataview
list
from #时间管理 
```</code></pre><p>不需要排序的话，代码就是这么简单。</p><p>你学会了吗？</p><p>如果学会了，下面我们可以加点好玩的东西。</p><h3>从作者</h3><p><i>场景：假设，你最近读了同一个作者的几部作品（论文、书籍、视频、电影都是一样的），形成了几篇笔记。笔记多了以后，你就想弄一个该作者的专题。这时候，有什么办法能做到呢？</i></p><p>哎，dataview的支持元数据里可没有作者这个属性啊，怎么办呢？</p><p>我们自己加属性！</p><p>这时候，yml就派上用场了。</p><h3>用YML给笔记加点元素</h3><p>简单的说yml是一种标记语言。顺便说一下markdown也是一种标记语言。朴素的理解就是以某种规则写的一种文本。</p><p>各位，用工具的时候，我们可以不求甚解，拿过来学会怎么用就可以了，甚至，你只用知道怎么在自己的需求中用就可以了。</p><p>所以不需要特别去了解yml。我们来看看yml怎么为我们所用吧。</p><p>yml语法大概长这样：</p><pre class="language-"><code>---
title: 
author: 
tags: []
---</code></pre><p><strong>yml的规则</strong><br>1、只要写在6个横杠符号之间，yml就可以被识别。够简单吧？</p><p>2、必须写在文件最上方</p><p>里面的<code>title</code>、<code>author</code>我们叫它key，也就是你给这个字段起的名字，所有的key都是自己定义，没有必要的规则，就像你给表格起列名一样。yml的key也支持中文名哦。例如这样：</p><pre class="language-"><code>---
作者: 鲁迅
---</code></pre><p>我就给笔记加了“作者”这个属性。</p><p>然后我们就可以使用“作者”作为条件建立目录了。</p><h3>dataview使用yml的元素</h3><p>where和sort就可以直接使用你在yml中设置的key了。看看下面的写法：</p><pre class="language-dataview"><code>```dataview
list 
from ""
where contains(作者,"鲁迅")
```</code></pre><p>看下效果：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/09/675d393d3b83df3765bbc942088c2a85.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/09/675d393d3b83df3765bbc942088c2a85.png" referrerpolicy="no-referrer"></figure><p>上面依次是：包含作者为“鲁迅”的原笔记、聚合作者为“鲁迅”的目录编辑模式、聚合作者为“鲁迅”的目录预览模式。</p><p>嗯哼，鲁迅合集就做好了。</p><h2>扩展：创建一个书目列表吧！</h2><p>上面你已经学会了限制检索范围、模糊搜索文件名来创建列表，学会了从标签创建列表，还学会了用yml定义的key当作字段做条件，基本的检索语法你已经学会啦。</p><p>现在我们想在展示形式上有所改变，比如书目列表。我不想只展示作品的名字，我还想展示作者、阅读日期、标签。</p><p>还记得上面列表中的展示形式吗？</p><p>对，就是dataview语法的第一行那个<code>list</code>，现在我们来变一下，写个<code>table</code>吧。</p><p>不过我们的语法有一点小小的改动。既然是table，那么列名就必不可少。</p><p>先贴一下代码看看吧:</p><figure class="image ss-img-wrapper"><img src="https://i.loli.net/2021/08/08/Xm4DFryzwWnsA61.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://i.loli.net/2021/08/08/Xm4DFryzwWnsA61.png" referrerpolicy="no-referrer"></figure><p>上面唯一的变化就是table这一行：<br><code>table author,from,tags</code> 。table后面这三个字段就是我为表格设计的列。而author是我为笔记中的作者元素，from是书籍来源，tags是标签。这三个元素都写在来yml，如今被dataview识别，就可以展现我想要的列表。</p><p>where条件里，我写的匹配字段是<code>type</code>，这也是我yml里面的元素，表示输入内容，自定义了三个值：book、page、video。</p><p>sort这句，用author字段排序，后面跟了一个<code>desc</code>，表示倒叙。</p><hr><h2>结语</h2><p>以上，dataview常用的内容就讲完啦。task就暂时不讲了，使用的不多。</p><p>如果你有什么不明白的，欢迎留言告诉我。</p><p>谢谢你看到这里，下期再见！</p></div><!----></div><div style="border:1px solid transparent;" data-v-3e67f99b></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-3e67f99b><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>14</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>5</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-9404" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90Obsidian%20%E6%8F%92%E4%BB%B6%E4%B9%8B%20Dataview%E3%80%91title%3Adataview%E4%BD%BF%E7%94%A8tags%3A%5B%5D%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%3A%5B%5Ddatetime%3A2021-08-0809%3A55%E5%8F%91%E5%B8%83%E6%97%A5%E6%9C%9F%3A2021-08-08%E5%86%99%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2021%2F08%2F10%2Fa1f1042c929b17d5da65747184662e49.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="icon icon-article_weibo right-16"></i></a><span><div role="tooltip" id="el-popover-737" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="icon icon-article_weixin right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90Obsidian%20%E6%8F%92%E4%BB%B6%E4%B9%8B%20Dataview%E3%80%91title%3Adataview%E4%BD%BF%E7%94%A8tags%3A%5B%5D%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%3A%5B%5Ddatetime%3A2021-08-0809%3A55%E5%8F%91%E5%B8%83%E6%97%A5%E6%9C%9F%3A2021-08-08%E5%86%99%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="icon icon-article_twitter right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            