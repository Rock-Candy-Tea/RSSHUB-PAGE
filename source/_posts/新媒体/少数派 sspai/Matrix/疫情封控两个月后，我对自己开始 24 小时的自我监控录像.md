
---
title: '疫情封控两个月后，我对自己开始 24 小时的自我监控录像'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/05/23/article/82a851d91d502af37dbcd81c13a497a4?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Mon, 23 May 2022 03:39:38 GMT
thumbnail: 'https://cdn.sspai.com/2022/05/23/article/82a851d91d502af37dbcd81c13a497a4?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-6dd0eb6a><div class="update-wrap" data-v-6dd0eb6a></div><div class="content wangEditor-txt minHeight" data-v-6dd0eb6a><p><strong>Matrix 首页推荐</strong>  </p><p><a href="https://sspai.com/matrix">Matrix</a> 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。  </p><p>文章代表作者个人观点，少数派仅对标题和排版略作修改。</p><hr><p>疫情封控两个月后，人变得愈发懒散，每天的成果只有吃饭睡觉。为了摆脱这种状态，我决定在书房对自己进行 24 小时的监控录像，督促自己提升效率。</p><p>自我监控方案有两点需求：首先，软硬件必须在本地操作、储存，绝对不能联网；其次工作中途经常离开书房，回放时能跳过无人片段。</p><p><strong>寻找监控工具</strong>：</p><ul><li>视频剪辑软件：自动识别长时间静止的画面，删除或加速相关视频帧。</li><li>录屏软件：带移动侦测功能，检测到人则开启录像，无人则自动暂停，无需联网就能使用。</li><li>播放软件：自动跳过超过 10s 的静止画面。</li><li>直连电脑的摄像机：不联网，不用 SD 卡将视频直接存储在电脑上。虽然萤石、小米有移动侦测功能，但视频需上传云端，风险过大。</li></ul><p>找了许久，始终找不到合适的工具。监控摄像头和行车记录仪能跳过静止画面，但这类工具都不能直连电脑，且限制很多，不方便后期回放剪辑。</p><p>最后靠着少数派群友 @chen 的推荐，尝试 DVR-Scan，补完了自我监控方案。</p><h2><strong>自我监控方案</strong></h2><ol><li><strong>晨间唤醒</strong>：起床后，用手机单独录一句话。这句话在前一天准备好，包括日期、当日目标，也可以引入美好的回忆、憧憬的未来、向往的地方、喜欢的艺术 (音乐、名画、诗句)。<br>晨间唤醒参考了 <a href="https://www.xuetangx.com/course/THU07111001088/">积极心理学</a>，收集积极情绪材料，给自己创造美好的情绪。</li><li><strong>录制视频</strong>：用 VLC 和摄像头录制视频，按计划开始工作学习。</li><li><strong>过滤视频</strong>：晚上 11 点，DVR-Scan 过滤静止视频片段，记录录制时长和处理后的视频时长。</li></ol><figure class="image ss-img-wrapper image_resized" style="width:555px;"><img src="https://cdn.sspai.com/2022/05/23/article/82a851d91d502af37dbcd81c13a497a4?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="视频时长记录表格" data-original="https://cdn.sspai.com/2022/05/23/article/82a851d91d502af37dbcd81c13a497a4" referrerpolicy="no-referrer"><figcaption>视频时长记录表格</figcaption></figure><p><strong>4. 视频回放</strong>：100x 倍速回放工作视频，检查工作效率和成果。如果需要听声音，则使用 PotPlayer 播放降噪，剪辑出要使用的片段。原始视频和过滤视频保存一月，定期清理。</p><p><strong>5. 当日回顾</strong>：记录 3 件好事，总结好事发生的原因。<br>这可以是日常生活中常见的小事，比如读到一本好书、吃到一道好菜、听到一个亲友的好消息、在公交车上有人为你让座、孩子今天会走路了，等等。</p><p>接下来，将详述自我监控方案的准备、流程及遇到的问题。</p><h2><strong>监控准备</strong></h2><p>自我监控方案的硬件需要摄像头、电脑，软件则使用 VLC、DVR-Scan、PotPlayer。</p><p>摄像头预算一百左右就行，之前买过上千的罗技摄像头，画质并未有明显区别。</p><p>收音设备使用的是摄像头自带的麦克风。之所以不用桌面的声卡外接话筒，是因为容易有回音，杂音更重。</p><h2><strong>录制视频：VLC</strong></h2><p>摄像头录像方案较少，大多是录屏软件的附带功能，我尝试了以下 8 种：</p><ol><li>相机：Windows 自带应用，录制方便，但不能调节输出选项。</li><li><a href="https://www.flashbackrecorder.com/zh/express/">FlashBack Express</a>：能调节帧率，镜像，虚化背景，但免费版只支持 2 小时内的录制。</li><li><a href="https://www.bandicam.cn/">Bandicam</a>：录制时能抑制噪音，同步扬声器音频，自由调节编码、帧率，但免费版只支持录制 10 分钟且有水印。</li><li><a href="https://github.com/MathewSachin/Captura/releases/tag/v8.0.0">Capture</a>：免费开源，需手动<a href="https://blog.csdn.net/dglx_/article/details/122389601">配置 ffmpeg</a>，但项目已经停止在 2018，而且应用不能对单独摄像头进行录制，不能调节摄像头所占画幅，帧率调节也仅限录屏画面。</li><li><a href="https://ohsoft.net/eng/ocam/intro.php?cate=1002">oCam</a>：打着免费招牌但有弹窗广告，且录制视频偏大。</li><li><a href="https://getsharex.com/">Sharex</a>：免费开源强大的截图软件，也具备录屏功能，能调节编码和帧率，但只能单一录屏或录像。</li><li><a href="https://obsproject.com/">OBS</a>：免费开源直播软件，也可以录制视频，操作性极强，但我工作时同时在多路推流直播，无法同时录制摄像头。</li><li><a href="https://www.videolan.org/vlc/">VLC</a>：免费开源视频软件，能调节输出视频的编码、帧率、格式，几乎全能，相同环节下输出视频最小，但操作麻烦，只能单一录屏或录像，暂停录制容易有 bug。</li></ol><p>监控方案的单次录制时间在 12 小时以上，需要调低帧率以控制视频大小，选择了 VLC 作为录制软件。如果你要同时录屏和录像，可以使用 OBS 或 oCam。</p><p><strong>录制过程：</strong></p><ol><li>打开 VLC 的 Media -> Open Capture Device，将<code>Video device name</code>和<code>Audio device name</code>选为摄像头，然后点击底部<code>Play</code>按钮旁边的下拉菜单，选中<code>Convert</code>。</li></ol><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/05/23/article/cdf86ae1d8e0c8e989485f74801f7663?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/05/23/article/cdf86ae1d8e0c8e989485f74801f7663" referrerpolicy="no-referrer"></figure><p>2. Settings -> Profile 中选择视频输出方案，推荐选择 <code>Video - H.264 + MP3 (MP4)</code>，接着点击旁边的扳手按钮，修改输出方案。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/05/23/article/7adba9a3fa45be85d69a38ae65cfe542?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/05/23/article/7adba9a3fa45be85d69a38ae65cfe542" referrerpolicy="no-referrer"></figure><p>3. Profile edition -> Video codec -> Encoding parameters，依次调整视频的编码、比特率、画面质量、帧率，编码建议使用 H-264，码率推荐 10 fps。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/05/23/article/68245b8ce8059a8a6ae253050ce9d9dc?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/05/23/article/68245b8ce8059a8a6ae253050ce9d9dc" referrerpolicy="no-referrer"></figure><p>4. Destination file 设置输出路径和视频名称。</p><h2><strong>剪辑视频：DVR-Scan</strong></h2><p>过滤视频的静态画面，是监控方案中的核心环节。开始我考虑用 QuickCut 过滤，但它是通过声音来判断视频是否静止（与飞书妙记的「跳过空白片段」原理类似），监控视频中大部分时间是没声音的，不适合用 QuickCut 剪辑。</p><p>群里 @chen 推荐了 <a href="https://github.com/Breakthrough/DVR-Scan">DVR-Scan</a>，能从画面判断是否需要过滤。</p><blockquote><p>DVR-Scan 是一个跨平台命令行（CLI）应用程序，可以自动检测视频文件中的运动事件（例如安全摄像头镜头）。除了定位每个运动事件的时间和持续时间外，DVR 扫描还将每个运动事件的片段保存到一个新的单独的视频剪辑中。DVR-Scan 免费开源软件（FOSS）是用 Python 编写的，并且基于 Numpy 和 OpenCV，而且可以扩展和黑客入侵。</p></blockquote><p>DVR-Scan 操作很简单，视频目录内右键点击「在终端打开」，执行默认输出命令即可得到过滤后的视频。12 小时的视频，处理时间在二十分钟。DVR-Scan 有个限制，只能导出为<code>.avi</code>视频。</p><pre class="language-shell"><code>#默认输出命令
dvr-scan -i some_video.mp4 -o some_video_motion_only.avi

# -t 是 DVR-Scan 的动作检测敏感度，默认为 0.15，越低则越敏感
#下列命令将敏感度调为 0.5，最大程度的删除静止画面帧
dvr-scan -t 0.5 -i some_video.mp4 -o some_video_motion_only.avi

# -b 是 DVR-Scan 的算法，默认为 MOG，追求速度则使用 CNT
#最快速度的删除静止画面帧，但会牺牲准确率，有更多的静止画面帧被留存
dvr-scan -b CNT -i some_video.mp4 -o some_video_motion_only.avi
</code></pre><p>DVR-Scan 不同命令的测试效果如下：</p><figure class="table"><table><thead><tr><th style="border:1px solid rgb(214, 214, 214);padding:6px 13px;"><strong>命令</strong></th><th style="border:1px solid rgb(214, 214, 214);padding:6px 13px;"><strong>耗时（s）</strong></th><th style="border:1px solid rgb(214, 214, 214);padding:6px 13px;"><strong>输出视频（mins）</strong></th></tr></thead><tbody><tr><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">默认</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">124</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">07:15</td></tr><tr><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">-t 0.5</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">125</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">06:52</td></tr><tr><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">-b CNT</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">107</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">10:05</td></tr><tr><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">-t 0.5 -b CNT</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">104</td><td style="border:1px solid rgb(214, 214, 214);padding:6px 13px;">08:39</td></tr></tbody></table></figure><p>另外，DVR-Scan 可以使用<code>-roi</code>命令，指定监测区域，只对该区域的动作进行监测。</p><p>DVR-Scan 进阶命令查看<a href="https://dvr-scan.readthedocs.io/en/latest/guide/examples/">官方文档</a>。</p><h2><strong>播放降噪：PotPlayer</strong></h2><p>桌面录音容易有较大的噪音，重新处理的话需要大量时间，因此我将降噪环节放在视频播放器中处理。</p><ul><li>开启降噪：风噪等一系列噪声会消失，但是带过降噪耳机的都知道，开启降噪会有一种很糊的感觉，这时视频的声音就会变得无比无比的糊。</li><li>开启语音增强：语音增强会在很糊的声音中明显听到人的声音，但是还是略显不足，还是有点杂，而且声音特别大。</li><li>关闭规格化：这时声音就不会那么大，也不会过于杂了，这时的声音已经相比处理前干净多了。</li><li>开启超高音：打开均衡器，选择「超高音」方案。</li></ul><figure class="image ss-img-wrapper image_resized" style="width:488px;"><img src="https://cdn.sspai.com/2022/05/23/article/0ef196baaa506138227d08797d00d2c1?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="PotPlayer 降噪设置" data-original="https://cdn.sspai.com/2022/05/23/article/0ef196baaa506138227d08797d00d2c1" referrerpolicy="no-referrer"><figcaption>PotPlayer 降噪设置</figcaption></figure><p>设置完成后，播放时 PotPlayer 会自动对视频进行降噪，无需额外花时间处理视频。</p><h2><strong>总结</strong></h2><p>自我监控分为 5 步，晨间唤醒：计划 --> 录制视频：VLC --> 过滤视频：DVR-Scan --> 视频回放：PotPlayer --> 当日回顾。</p><p>经过几天的自我监控后，我对于自己的活动有了更清晰的认知，方便进行控制、修正。监控视频存储在本地，不对第三方开放，也可以很放心地做自己。每日回顾中，直面自己的缺点、错误，积极地调整。</p><p><strong>参考资料：</strong></p><ul><li><a href="https://askubuntu.com/questions/422341/how-can-i-detect-motion-in-a-long-mostly-dull-video/423028#423028">How can I detect motion in a long, mostly dull video?</a></li><li><a href="https://blog.csdn.net/NeiHan2020/article/details/118368739">如何设置 potplayer 播放器把人声凸显出来并降噪？</a></li><li><a href="https://www.xuetangx.com/course/THU07111001088/">网课：积极心理学</a></li></ul><p>> 下载 <a href="https://sspai.com/page/client">少数派 2.0 客户端</a>、关注 <a href="https://sspai.com/s/J71e">少数派公众号</a>，解锁全新阅读体验 📰 </p><p>> 实用、好用的 <a href="https://sspai.com/mall">正版软件</a>，少数派为你呈现 🚀</p></div><div class="update-details-wrap" data-v-6dd0eb6a></div><!----></div><div style="border:1px solid transparent;" data-v-6dd0eb6a></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-6dd0eb6a><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>52</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>20</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-9554" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E7%96%AB%E6%83%85%E5%B0%81%E6%8E%A7%E4%B8%A4%E4%B8%AA%E6%9C%88%E5%90%8E%EF%BC%8C%E6%88%91%E5%AF%B9%E8%87%AA%E5%B7%B1%E5%BC%80%E5%A7%8B%2024%20%E5%B0%8F%E6%97%B6%E7%9A%84%E8%87%AA%E6%88%91%E7%9B%91%E6%8E%A7%E5%BD%95%E5%83%8F%E3%80%91Matrix%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90Matrix%E6%98%AF%E5%B0%91%E6%95%B0%E6%B4%BE%E7%9A%84%E5%86%99%E4%BD%9C%E7%A4%BE%E5%8C%BA%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E5%BC%A0%E5%88%86%E4%BA%AB%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%A7%E5%93%81%E4%BD%93%E9%AA%8C%EF%BC%8C%E6%9C%89%E5%AE%9E%E7%94%A8%E4%BB%B7%E5%80%BC%E7%9A%84%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%9D%E8%80%83%E3%80%82%E6%88%91%E4%BB%AC%E4%BC%9A%E4%B8%8D%E5%AE%9A%E6%9C%9F%E6%8C%91%E9%80%89Matrix%E6%9C%80%E4%BC%98%E8%B4%A8%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F05%2F22%2F9a850394d70ef92ba3c50d4274986908.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-2665" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E7%96%AB%E6%83%85%E5%B0%81%E6%8E%A7%E4%B8%A4%E4%B8%AA%E6%9C%88%E5%90%8E%EF%BC%8C%E6%88%91%E5%AF%B9%E8%87%AA%E5%B7%B1%E5%BC%80%E5%A7%8B%2024%20%E5%B0%8F%E6%97%B6%E7%9A%84%E8%87%AA%E6%88%91%E7%9B%91%E6%8E%A7%E5%BD%95%E5%83%8F%E3%80%91Matrix%E9%A6%96%E9%A1%B5%E6%8E%A8%E8%8D%90Matrix%E6%98%AF%E5%B0%91%E6%95%B0%E6%B4%BE%E7%9A%84%E5%86%99%E4%BD%9C%E7%A4%BE%E5%8C%BA%EF%BC%8C%E6%88%91%E4%BB%AC%E4%B8%BB%E5%BC%A0%E5%88%86%E4%BA%AB%E7%9C%9F%E5%AE%9E%E7%9A%84%E4%BA%A7%E5%93%81%E4%BD%93%E9%AA%8C%EF%BC%8C%E6%9C%89%E5%AE%9E%E7%94%A8%E4%BB%B7%E5%80%BC%E7%9A%84%E7%BB%8F%E9%AA%8C%E4%B8%8E%E6%80%9D%E8%80%83%E3%80%82%E6%88%91%E4%BB%AC%E4%BC%9A%E4%B8%8D%E5%AE%9A%E6%9C%9F%E6%8C%91%E9%80%89Matrix%E6%9C%80%E4%BC%98%E8%B4%A8%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            