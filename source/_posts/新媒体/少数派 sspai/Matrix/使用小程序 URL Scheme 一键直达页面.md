
---
title: '使用小程序 URL Scheme 一键直达页面'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/editor/u_/c4j0a35b34t99b7ntdi0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Wed, 25 Aug 2021 09:33:09 GMT
thumbnail: 'https://cdn.sspai.com/editor/u_/c4j0a35b34t99b7ntdi0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-6a669db8><div class="content wangEditor-txt minHeight" data-v-6a669db8><h3><strong>Matrix 首页推荐</strong></h3><p><a href="https://sspai.com/matrix">Matrix</a> 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。</p><p>文章代表作者个人观点，少数派仅对标题和排版略作修改。</p><hr><p>一直以来，很多用户都希望微信的小程序能够支持 URL Scheme。正好 V2EX 网友 @<a href="https://v2ex.com/member/ITisCool" target="_blank">ITisCool</a> 分享了几条相关的 URL Scheme，根据 <a href="https://v2ex.com/t/797533" target="_blank">文章</a> 分享的方法，作者也构造了一些实用的小程序 URL Scheme。接下来就来看看，如何构造微信小程序的 URL Scheme。</p><p>本身依托于文章<a href="https://sspai.com/post/66334" target="_blank">《URL Scheme 查询指南》</a>，在 iOS 上，URL Scheme 是用于定位应用内某个页面的类似网址的存在，设置妥当后可被用于快速跳转到应用中的某个页面/功能。</p><ul><li>部分捷径下载地址：<a href="https://www.icloud.com/shortcuts/34292418752346c38ba593b91fafbee2" target="_blank">粤康码</a> <a href="https://www.icloud.com/shortcuts/950c3d8068754b229be9d615bf64d6aa" target="_blank">穗康码</a> <a href="https://www.icloud.com/shortcuts/e27fdf1dd15645f7aa4de689b24f5b73" target="_blank">微信乘车码</a> <a href="https://www.icloud.com/shortcuts/7529f11c78574b50ac6577a0477f69ef" target="_blank">通信行程卡</a> <a href="https://www.icloud.com/shortcuts/4ba762c65ff344ab9ebea96b17fcaec6" target="_blank">深i您健康码</a> <a href="https://www.icloud.com/shortcuts/d278981375cc440f8430cae99752f505" target="_blank">深圳平安门禁</a> <a href="https://www.icloud.com/shortcuts/7544fdb8076a4768ad81eb1f99885ca4" target="_blank">上海随申码</a> <a href="https://www.icloud.com/shortcuts/3ca0058db49745a786a9f93a140f6126" target="_blank">北京健康宝</a> <a href="https://www.icloud.com/shortcuts/852093c885a14989b14a5651bf9d44ff" target="_blank">渝康码</a> <a href="https://www.icloud.com/shortcuts/4146495d2cfa414ba8933d5e9523e667" target="_blank">南昌赣通码</a> <a href="https://www.icloud.com/shortcuts/683061bba01143f8990945b2897fae4e" target="_blank">辽事通</a> <a href="https://www.icloud.com/shortcuts/a9eb29f3532e47c18ed30c68464c288a" target="_blank">八闽健康码</a> <a href="weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_72145ecf601b&path=pages/scan/scan.html" target="_blank">扫张贴码</a></li><li>部分 Launch Center Pro Action 下载：<a href="launch://x-callback-url/import?title=%E4%BA%B2%E6%88%9A%E7%A7%B0%E5%91%BC&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_dcbfa5f1ac2e" target="_blank">亲戚称呼</a> <a href="launch://x-callback-url/import?title=%E6%8B%8D%E7%85%A7%E8%AF%86%E8%8A%B1&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_60c5387f05e3%26path%3Dpages/recogNew/recogNew.html" target="_blank">拍照识花</a> <a href="launch://x-callback-url/import?title=%E5%BE%AE%E4%BF%A1%E4%B9%98%E8%BD%A6%E7%A0%81&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_3cf62f4f1d52" target="_blank">腾讯乘车码</a> <a href="launch://x-callback-url/import?title=%E9%80%9A%E4%BF%A1%E8%A1%8C%E7%A8%8B%E5%8D%A1&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_0ed5d82fd775%26path%3Dpages/result/result.html%3Fresult%3D%7B%7B%7B%22color%22%3A%22green%22%2C%22phone%22%3A%2213166666666%22%2C%22time%22%3A%22%5B%5Btextexpander%3Atime%5D%5D%22%2C%22message%22%3A%22%E7%A6%8F%E5%BB%BA%E7%9C%81%E8%8E%86%E7%94%B0%E5%B8%82%22%7D%7D%7D" target="_blank">通信行程卡</a><a href="launch://x-callback-url/import?title=%E5%85%AB%E9%97%BD%E5%81%A5%E5%BA%B7%E7%A0%81&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_72145ecf601b%26path%3Dpages/index/index.html%3FuserId%3D2c9bc694730bdc8a01730d9ae1b60a8a%26sessionId%3D2c9bc77c7b7499f8017b78f041ce2899" target="_blank">八闽健康码</a> <a href="launch://x-callback-url/import?title=%E6%89%AB%E5%BC%A0%E8%B4%B4%E7%A0%81&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_72145ecf601b%26path%3Dpages/scan/scan.html%3FdbId%3D1" target="_blank">扫张贴码</a> <a href="launch://x-callback-url/import?title=%E6%B7%B1%E5%9C%B3%E9%80%9A%2B&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_5d980ccb0c36%26path%3Dpages/qrcIndexWithMenu/qrcIndexWithMenu.html">深圳通+</a> <a href="launch://x-callback-url/import?title=%E5%B0%8F%E7%BA%A2%E4%B9%A6%E6%90%9C%E7%B4%A2&url=weixin%3A//app/wx5aa333606550dfd5/jumpWxa/%3FuserName%3Dgh_52be748ce5b7%26path%3Dpages/secondary/search/index.html">小红书搜索</a></li></ul><h2>信息展示</h2><p>在日常生活中，小程序有很大一部分使用场景都是用于信息的展示。例如出示乘车码、健康码、行程卡等等，尤其疫情当前，进入商场餐厅都必须出示健康码/行程码才能入内。现在的生活里已经离不开了码，所以本次小教程先以信息展示切入，来看看有哪些实际的应用。</p><h3>乘车码</h3><p>虽然不少城市的地铁与公交都已经支持了各种 Pay，但依旧有不少读者习惯使用微信乘车码。以腾讯乘车码为例，打开微信乘车码小程序，点击右上角的「导航」图标，再点击「乘车码」进入乘车码的信息页面。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a35b34t99b7ntdi0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a35b34t99b7ntdi0.jpeg" referrerpolicy="no-referrer"></figure><p>点击「更多资料」，查看小程序的「账号原始ID」，例如乘车码的 gh_3cf62f4f1d52。记下这串 ID，可以说是乘车码这个小程序的「身份证」。这个步骤相当基础，以下每一个例子都会机遇这个步骤来寻找这串原始 ID。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a3db34t99b7ntdig.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a3db34t99b7ntdig.jpeg" referrerpolicy="no-referrer"></figure><p>有了小程序账号的原始 ID 之后，就可以根据固定的 URL Scheme 格式进行构造了。微信打开小程序的 URL Scheme 格式如下：</p><pre class="language-apache"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=账号原始ID</code></pre><p>其中的「wx5aa333606550dfd5」是固定的注册代号，无需更改。依葫芦画瓢，如果各位需要打开某个小程序，只需在 userName 参数后面跟上「原始ID」即可。所以可以构造出乘车码的 URL Scheme，如下所示：</p><pre class="language-apache"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_3cf62f4f1d52</code></pre><p> </p><figure class="image ss-img-wrapper image_resized" style="width:501px;"><img src="https://cdn.sspai.com/editor/u_/c4j0a3lb34t9a5fkkqlg.gif" data-original="https://cdn.sspai.com/editor/u_/c4j0a3lb34t9a5fkkqlg.gif" referrerpolicy="no-referrer"></figure><p>此处演示使用的是我惯用的 Launch Center Pro 跳转，如果读者习惯使用快捷指令，也可以在快捷指令中新建一个动作。新增一个打开 URL 的动作，将 URL Scheme 复制进去，也可以起到一样的效果。快捷指令还可以在桌面微件、背部轻拍等功能中快速启动，这里就交给各位读者老爷们自行发挥啦。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a3tb34t9arh0b1og.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a3tb34t9arh0b1og.jpeg" referrerpolicy="no-referrer"></figure><h3>车来了</h3><p>除了能够直接打开某个小程序，在研究这个 URL Scheme 的过程中，还有一个意外发现：如果使用 URL Scheme 打开小程序，可以跳过开屏广告，直接进入主页面。使用上述的方法，得到车来了的「原始ID」，我们一样可以顺利构造出打开「车来了」小程序的 URL Scheme。</p><p>但如果我们想更进一步，直接一步到位触达某条公交线路详情页面，那该怎么做呢？</p><p>好在微信也提供了一个 path 参数，可以直接打开指定页面。直达某页面的 URL Scheme 格式如下所示：</p><pre class="language-plain text"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=账号原始ID&path=页面路径</code></pre><p>但是问题也随之而来，如何获取页面路径？这就有一定的操作门槛了，如果需要获取页面的路径，需要有一个自己的小程序才能查询到其他小程序的页面路径入口。前往 <a href="https://mp.weixin.qq.com/" target="_blank">微信公众平台</a> 扫码登录，注册一个小程序。注册好之后，点击右上角的「工具」>「生成小程序码」。</p><p>如果你已经注册过公众号的话，我们会在下一个例子里会介绍公众号获取路径的方法，此处注册小程序的步骤可以跳过。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a45b34t9a5fkkqm0.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a45b34t9a5fkkqm0.png" referrerpolicy="no-referrer"></figure><p>输入要查找的小程序名称，例如此处的「车来了精准实时公交」。此处的搜索不支持模糊搜索，需要输入完整的小程序名称。在输入完成后，点击右边的「搜索」图标，出现搜索结果之后，才可以点击「下一步」。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a4db34t9abj2c6cg.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a4db34t9abj2c6cg.png" referrerpolicy="no-referrer"></figure><p>点击「获取更多页面路径」按钮，在此处输入自己的微信号，再点击「开启」之后，就可以查询页面路径了。如果开启成功，会在顶部弹出通知，显示「开启入口成功」。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a4lb34t9a5fkkqmg.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a4lb34t9a5fkkqmg.png" referrerpolicy="no-referrer"></figure><p>返回车来了小程序，来到需要获取路径的页面，例如此处的 K02 路公交详情页面。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a4tb34t9abj2c6d0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a4tb34t9abj2c6d0.jpeg" referrerpolicy="no-referrer"></figure><p>点击右上角的「更多」按钮，再点击「复制页面路径」，就可以得到 K02 路的页面路径，如下所示：</p><pre class="language-apache"><code>pages/linedetail2/linedetail.html?nextStop=&#123;&#125;&line=&#123;"lineId":"594166803814","lineName":"K02","direction":0,"lineNo":"r02669"&#125;&city=&#123;"cityId":"051","cityName":"莆田","cityVersion":2,"isGpsCity":1,"isHot":0,"isNewCity":0,"isSupport":1,"pinyin":"PuTian","supportSubway":0,"wechatFavoriteGray":0,"localCityId":"051"&#125;&targetStop=&#123;"couponFlag":0,"distanceToSp":-1,"lat":25.4712269632472,"lng":119.12347092956134,"order":30,"sId":"0594-1425","sn":"涵江区教育局"&#125;</code></pre><p>再通过乘车码中的方法，如法炮制获取打开「车来了」的 URL Scheme，如下所示：</p><pre class="language-apache"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_35bd264ef886</code></pre><p>最后只需要将页面路径拼接到 URL Scheme 后面，即可实现直接打开某个具体页面。页面路径的参数名为 path，复制上述我们获取到的「页面路径」，可构造出如下的 URL Scheme：</p><pre class="language-plain text"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_35bd264ef886&path=pages/linedetail2/linedetail.html?nextStop=&#123;&#125;&line=&#123;"lineId":"594166803814","lineName":"K02","direction":0,"lineNo":"r02669"&#125;&city=&#123;"cityId":"051","cityName":"莆田","cityVersion":2,"isGpsCity":1,"isHot":0,"isNewCity":0,"isSupport":1,"pinyin":"PuTian","supportSubway":0,"wechatFavoriteGray":0,"localCityId":"051"&#125;&targetStop=&#123;"couponFlag":0,"distanceToSp":-1,"lat":25.4712269632472,"lng":119.12347092956134,"order":30,"sId":"0594-1425","sn":"涵江区教育局"&#125;</code></pre><p>将它做成一个 Launch Center Pro 的 Action，将这段 URL Scheme 复制进去，但是运行该 Action 之后我们又遇到了另一个问题，报错提示：「URL cloud not be opened」</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a55b34t9arh0b1p0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a55b34t9arh0b1p0.jpeg" referrerpolicy="no-referrer"></figure><p>如果对 LCP 有一定了解，可以猜到这是因为没有编码导致的。而问题就出在 path 上，在 path 参数的前后分别加上 &#123;&#123; &#125;&#125;，这是 LCP 它自带的编码语法，这样括号之后即可正常运行，演示效果如下。</p><figure class="image ss-img-wrapper image_resized" style="width:549px;"><img src="https://cdn.sspai.com/editor/u_/c4j0a5db34t99b7ntdj0.gif" data-original="https://cdn.sspai.com/editor/u_/c4j0a5db34t99b7ntdj0.gif" referrerpolicy="no-referrer"></figure><p>如果读者需要使用捷径打开这个 URL Scheme，同样需要使用「URL 编码」模块对 path 参数进行单独编码，然后再将 URL Scheme 和 path 进行拼接，否则会导致无法进入指定的页面。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a5lb34t9a5fkkqn0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a5lb34t9a5fkkqn0.jpeg" referrerpolicy="no-referrer"></figure><h3>通信行程卡</h3><p>在之前的文章 <a href="https://sspai.com/post/66334" target="_blank">URL Scheme 查询指南</a> 下面，有读者评论说：是否有通信行程卡的 URL Scheme？当时对该软件进行解包之后发现，该软件没有注册任何 URL Scheme，自然也就不能通过它打开。</p><p>但是现在有了小程序的 URL Scheme，那么接下来让我们一起热心地试着来实现这位读者的需求。使用上面的方法获得通信行程卡的「原始 ID」，经过 LCP 打开之后效果如下所示。这样就能做到一键打开行程卡的效果了，它的 URL Scheme 地址如下：</p><pre class="language-null"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_0ed5d82fd775</code></pre><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a65b34t9a5fkkqng.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a65b34t9a5fkkqng.jpeg" referrerpolicy="no-referrer"></figure><h2>拍照识别</h2><p>讲完了乘车码、车来了、通信行程卡三个例子后，相信读者也能对这类 URL Scheme 有了一个初步的认识，三个小程序它们实现的都是信息的展示，但不少小程序并不只是起到信息展示的作用，也有不少小程序通过调用手机硬件，来部分实现主 App 中的功能，这其中就有不少学生朋友喜爱的小猿搜题等。接下来就以小猿搜题为例，看看另一种形式的小程序 URL Scheme 玩法。</p><h3>小猿搜题</h3><p>打开小猿搜题小程序，点击「拍照搜题」，这时候可以看到在拍照页面，同样出现了一个「更多」的图标。为了能够一步直达拍照页面，就需要获取拍照页面的路径。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a85b34t9abj2c6eg.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a85b34t9abj2c6eg.jpeg" referrerpolicy="no-referrer"></figure><p>在「车来了」例子中，介绍了使用小程序后台获取地址的方法，但是如果恰好只有公众号，也是可以获取到页面路径的。登录公众号后台，在首页点击新的创作，选择「图文消息」。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a6db34t99b7ntdjg.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a6db34t99b7ntdjg.png" referrerpolicy="no-referrer"></figure><p>点击顶部提供的「小程序」插入功能，搜索「小猿搜题」，然后进行下一步操作。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/30/2f1efb9d1e859b458c4a79367e35db3e.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/30/2f1efb9d1e859b458c4a79367e35db3e.png" referrerpolicy="no-referrer"></figure><p>点击「获取去更多页面路径」，在开启入口处输入自己的微信号，点击开启。成功后会在顶部提示「已开启」。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/30/4784533e570463e25a1806563c2368f0.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/30/4784533e570463e25a1806563c2368f0.png" referrerpolicy="no-referrer"></figure><p>此时，打开小猿搜题小程序，点击更多选项。会在下方的分享菜单中看到「复制页面路径」按钮，点击即可复制，获取拍照页面的地址，如下所示：</p><pre class="language-apache"><code>pages/camera/camera.html</code></pre><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/30/187dc751609878a8353504e55d6ba6fe.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/30/187dc751609878a8353504e55d6ba6fe.png" referrerpolicy="no-referrer"></figure><p>将拍照页面的地址和打开「小猿搜题」的 URL Scheme 拼接，得到如下 URL Scheme，可以一键直达拍照界面。URL Scheme 如下所示：</p><pre class="language-apache"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_10ba875ac32b&path=pages/camera/camera.html</code></pre><p> </p><figure class="image ss-img-wrapper image_resized" style="width:477px;"><img src="https://cdn.sspai.com/editor/u_/c4j0a8db34t9a5fkkqog.gif" data-original="https://cdn.sspai.com/editor/u_/c4j0a8db34t9a5fkkqog.gif" referrerpolicy="no-referrer"></figure><h3>拍照识花</h3><p>将「小猿搜题」的方法如法炮制，也可以得到「识花君」的拍照识花页面的 URL Scheme，如下所示：</p><pre class="language-apache"><code>weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_60c5387f05e3&path=pages/recogNew/recogNew.html
</code></pre><figure class="image ss-img-wrapper image_resized" style="width:520px;"><img src="https://cdn.sspai.com/editor/u_/c4j0a95b34t9a5fkkqp0.gif" data-original="https://cdn.sspai.com/editor/u_/c4j0a95b34t9a5fkkqp0.gif" referrerpolicy="no-referrer"></figure><h3>美团共享单车</h3><p>既然可以拍照识别，那么扫描二维码自然不在话下。日常我们扫码的一个高频场景就是路边扫码开启共享单车，炎炎夏日谁不想赶紧开一辆车跑路呢。但在测试美图的单车扫码页面时遇到了一些麻烦：顶部没有了导航图标，无法获取页面路径。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/editor/u_/c4j0a9lb34t99b7ntdl0.jpeg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/editor/u_/c4j0a9lb34t99b7ntdl0.jpeg" referrerpolicy="no-referrer"></figure><p>如果某个小程序，它的扫描或者拍照功能是直接使用微信的拍照接口，它就无法做到一键直达。对比刚才的「小猿搜题」和「拍照识花」的例子，它们是构建了自己的拍照页面，才可以获得拍照页面的地址。</p><p>放弃了小程序这条路，解包美团应用可发现了美团扫一扫的 URL Scheme，如果是安装使用官方 App 的页面倒是可以一键直达，扫码开车。美团扫一扫的 URL Scheme 如下所示：</p><pre class="language-css"><code>imeituan://www.meituan.com/scanQRCode</code></pre><h4>小程序搜索</h4><p>在传统的 URL Scheme 中，除了打开一个页面或者功能之外，还有一种很重要的玩法，那就是使用 URL Scheme 进行搜索。而部分的微信小程序也提供了这样的支持，下面以微博小程序为例看看，如何使用小程序进行搜索。</p><h4>微博</h4><p>打开微博小程序搜索页面，使用上面的方法获取搜索页面的 path，结果如下：</p><pre class="language-null"><code>pages/Discover/Discover.html?searchValue=王毅说各方有必要同塔利班接触</code></pre><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/30/22c9acef9073c197ef350acc1f7dab41.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/30/22c9acef9073c197ef350acc1f7dab41.png" referrerpolicy="no-referrer"></figure><p>可以看出，searchValue 的值正是搜索栏推荐的文本，所以不难想出只要构造如下 URL Scheme，即可一键跳转到微博小程序搜索。</p><pre class="language-null"><code>weixin://app/wx58164a91f1821369/jumpWxa/?userName=gh_5f1a249e0ced&path=pages/Discover/Discover.html?searchValue=[prompt]&needResult=true</code></pre><p>经过测试，该 URL Scheme 可以正常工作，但是美中不足之处在于，无法直接显示搜索结果，需要手动点击回车搜索，演示效果如下。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/30/5127d4408c15749a1cce4f79ca2ef81f.gif" data-original="https://cdn.sspai.com/2021/08/30/5127d4408c15749a1cce4f79ca2ef81f.gif" referrerpolicy="no-referrer"></figure><p>其他的部分小程序也支持这个玩法，但是要注意并不是每个小程序的搜索页都有搜索参数，对于部分没有参数的小程序，请读者不要过于纠结，这是小程序的设计不足之处。</p><p>此处一并给出直接打开部分小程序的搜索页面的 URL Scheme：</p><pre class="language-null"><code>京东
weixin://app/wx58164a91f1821369/jumpWxa/?userName=gh_45b306365c3d&path=pages/search/list/list.html

小红书
weixin://app/wx58164a91f1821369/jumpWxa/?userName=gh_52be748ce5b7&path=pages/secondary/search/index.html

美团外卖
weixin://app/wxd930ea5d5a258f4f/jumpWxa/?userName=gh_72a4eb2d4324&path=packages/index/search/search.html</code></pre><h4>URL Scheme 应用</h4><p>有了这些微信 URL Scheme 之后，自然就是如何使用它们，目前常见的一些 URL Scheme 打开方式如下所示：</p><ul><li>做成捷径的小组件</li><li>做成捷径添加到桌面使用</li><li>做成捷径并设置双击背面打开</li><li>做成 Launch Center Pro action</li></ul><p>具体要使用那种方式，这可以根据使用频率来决定，如果是每天都要用的，可以设置为最简单的双击背面打开。一般频率的使用，捷径或者 LCP 都可以考虑，选择合适自己的就可以了。</p><p>除此之外，还可以将它做成一个 Launch Center Pro action，借助 <a href="https://sspai.com/post/34961" target="_blank">LCP 的肌肉记忆优势</a>，可以更方便地使用小程序。如果是像小猿搜题和拍照识花这样低频使用软件，将它添加到 LCP 之后，还更方便查找，不必每次都去搜索查找小程序。</p><p>LCP 的软件图标的获取可以参考 <a href="https://sspai.com/post/27234" target="_blank">提取 Mac OS X / iOS 应用图标的 6 种技巧</a>，建议使用 <a href="http://submit.icoicon.com/" target="_blank">icoicon.com</a> 获取正方形的图标，而不是圆角的图标，如果使用圆角图标，旁边会有黑边。</p><h4>应用场景</h4><p>对企业或者商户而言，可以更方便地在 iOS 平台推广自己的产品。以少数派为例，可以直接将 <a href="weixin://app/wx5aa333606550dfd5/jumpWxa/?userName=gh_de14512926a5&path=packages/goods/detail/index.html?alias=27551qmqgfwe8&banner_id=f.27442871~goods.4~2~2nGQjukq" target="_blank">PiStore 商品链接</a> 放在网页上，如果读者想要购买产品的话，可以直接点击链接跳转小程序详情页面，让购买产品的过程更加方便。</p><p>对个人而言，微信小程序 URL Scheme 可以减少点击次数，直达功能页面。对于低频率使用的小程序，可以直接在 LCP 中新建动作使用，而不必专门下载对应的应用。借助捷径，也可以变相达成 Android 端类似的「将小程序放在桌面」的目的。</p><p>再进一步说，带有搜索参数的 URL Scheme，还可以结合 <a href="https://sspai.com/post/68026" target="_blank">妙用重定向，优化 iOS 的搜索体验</a>  中提到的方法，将两者结合起来使用，相信会有更好的使用体验。 </p><h4>扩展阅读</h4><ul><li><a href="https://sspai.com/post/66334" target="_blank">URL Scheme 查询指南</a></li><li><a href="https://sspai.com/post/68497" target="_blank">支付宝、云闪付小程序一键直达：URL Scheme 跳转扩展用法</a></li></ul><h4>参考资料</h4><ul><li><a href="https://smilesoftware.com/textexpander/entry/more-elaborate-date-formatting-with-textexpander" target="_blank">More Elaborate Date Formatting with TextExpander</a></li><li><a href="https://v2ex.com/t/797533" target="_blank">iOS 快捷指令一键打开粤康码、微信乘车码，附 URL Scheme</a></li></ul><p>> 下载少数派 <a href="https://sspai.com/page/client">客户端 </a>、关注 <a href="https://sspai.com/s/J71e">少数派公众号 </a>，了解更妙的数字生活 🍃</p><p>> 想申请成为少数派作者？<a href="https://sspai.com/apply/writing" target="_blank">冲！</a></p></div><!----></div><div style="border:1px solid transparent;" data-v-6a669db8></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-6a669db8><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>169</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>147</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-9544" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%20URL%20Scheme%20%E4%B8%80%E9%94%AE%E7%9B%B4%E8%BE%BE%E9%A1%B5%E9%9D%A2%E3%80%91%E4%B8%80%E7%9B%B4%E4%BB%A5%E6%9D%A5%EF%BC%8C%E5%BE%88%E5%A4%9A%E7%94%A8%E6%88%B7%E9%83%BD%E5%B8%8C%E6%9C%9B%E5%BE%AE%E4%BF%A1%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%83%BD%E5%A4%9F%E6%94%AF%E6%8C%81URLScheme%E3%80%82%E6%AD%A3%E5%A5%BDV2EX%E7%BD%91%E5%8F%8B%40ITisCool%E5%88%86%E4%BA%AB%E4%BA%86%E5%87%A0%E6%9D%A1%E7%9B%B8%E5%85%B3%E7%9A%84URLScheme%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%96%87%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2Farticle%2F55c57a1b-5998-707d-bc1e-a979ad231b19.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-6006" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E4%BD%BF%E7%94%A8%E5%B0%8F%E7%A8%8B%E5%BA%8F%20URL%20Scheme%20%E4%B8%80%E9%94%AE%E7%9B%B4%E8%BE%BE%E9%A1%B5%E9%9D%A2%E3%80%91%E4%B8%80%E7%9B%B4%E4%BB%A5%E6%9D%A5%EF%BC%8C%E5%BE%88%E5%A4%9A%E7%94%A8%E6%88%B7%E9%83%BD%E5%B8%8C%E6%9C%9B%E5%BE%AE%E4%BF%A1%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%83%BD%E5%A4%9F%E6%94%AF%E6%8C%81URLScheme%E3%80%82%E6%AD%A3%E5%A5%BDV2EX%E7%BD%91%E5%8F%8B%40ITisCool%E5%88%86%E4%BA%AB%E4%BA%86%E5%87%A0%E6%9D%A1%E7%9B%B8%E5%85%B3%E7%9A%84URLScheme%EF%BC%8C%E6%A0%B9%E6%8D%AE%E6%96%87%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            