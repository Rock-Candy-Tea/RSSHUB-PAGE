
---
title: '我的 Obsidian 工作流：模板+QuickAdd+Dataview 快速创建和自动索引'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2021/08/17/a8f990ac41e8237724ba4982beceafde.gif'
author: 少数派 sspai
comments: false
date: Tue, 17 Aug 2021 15:47:51 GMT
thumbnail: 'https://cdn.sspai.com/2021/08/17/a8f990ac41e8237724ba4982beceafde.gif'
---

<div>   
<div class="articleWidth-content" data-v-43a7e9c2><div class="content wangEditor-txt minHeight" data-v-43a7e9c2><h2>你可以想象到的最优雅的输入方式</h2><p>嗨，大家！</p><p>不知不觉，使用Obsidian已经一年了，从一开始无从下手，到在日记（Obsidian的核心插件）中写一元笔记，从写写流水帐，到它几乎承包了我所有的笔记场景。而我也从一个笔记爱好者成为了一名写作者。</p><p>我的笔记场景经过一轮更新重组，变为了以下这些：</p><ol><li>闪念笔记：随时记录闪念，到当天日记。如果有需要展开的闪念，则在时间充裕时单独做一张卡片。</li><li>文献笔记：即阅读和观影笔记。阅读产生的思考会在阅读完之后拆分到新的卡片。</li><li>项目笔记：为写作而服务，分为灵感提案、写作中的文章和已完成的文章。</li></ol><p>当我的文章多起来以后，我发现要找到它们开始变得困难。我会想知道我有哪些灵感是还没有写的，这样我接下来可以构思新文章；哪些是正在写作的，方便我继续写；哪些是已经发布的；哪些只发布了一个平台，另一个平台还在等待发布。</p><p>怎么解决呢？我想到了Dataview插件，它根据不同的条件生成文件目录。于是我设计了一些属性，用于提案笔记和输出笔记，让他们可以被Dataview识别，自动帮我归好类。</p><p>整理之后果然非常清晰明了，打开项目索引笔记，我就可以看到现在进行中的项目，灵感库还有哪些是还没写的，还有展示已发布的项目列表，每次看到都有一种成就感。</p><p>接下来，为了让每一次新建的提案笔记能够被目录分别收录，我统一了创建提案笔记的模板，使用快速添加命令直接创建一条提案笔记，就能让这条新灵感被项目列表的灵感库所收录。</p><p>搞定了这一个工作流，其他的笔记也可以复制这一整套流程。</p><p>今天要为大家介绍的就是：使用<strong> 模板+QuickAdd+Dataview </strong>打造快速创建和自动索引的工作流。</p><p>这个工作流对我来说大大精简了笔记操作步骤，让重点回归到写作本身。相信对于经常写阅读笔记和输出笔记的小伙伴都会有帮助。</p><h2>我的工作流演示</h2><p>先来演示一下我的提案笔记的一整个流程：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/a8f990ac41e8237724ba4982beceafde.gif" data-original="https://cdn.sspai.com/2021/08/17/a8f990ac41e8237724ba4982beceafde.gif" referrerpolicy="no-referrer"><figcaption>我的工作流演示</figcaption></figure><h3>它们在做什么？</h3><ol><li>我用快捷键【Ctrl+Shift+T】唤起了快速输入【提案笔记】</li><li>键入名字后回车</li><li><strong>自动</strong>新建了一条提案笔记</li><li>它被<strong>自动</strong>放在我的项目笔记文件夹下</li><li>并且<strong>自动</strong>插入了我的提案笔记模板</li><li>同时<strong>自动</strong>汇入了项目索引下的Idea库列表</li></ol><h3>它们是如何配合工作的？</h3><ul><li><strong>模板文件</strong>：以少量的模板语法编写，可以在创建文件时自动写入文件名和创建时间。使用了dataview能够识别的属性，方便自动建立索引。</li><li><strong>quickAdd</strong>：quickAdd 使用模板创建了新的文件，并存放到指定的文件夹。如果你还在用新建文件再移动到想要的目录这种方式，相信你用过quickAdd之后一定会爱上。</li><li><strong>Dataview</strong>：使用搜索语句生成索引目录，因为写好了语句，当有新的文件满足它的条件时，会自动更新目录。</li></ul><p>其他的一点小魔法：</p><ul><li><strong>命令面板 + 快捷键</strong>：由于把quickAdd添加到了命令，并且设置了快捷键。于是做到了一键唤出，直接输入名称即可创建好一个笔记。</li></ul><h2>工作流打造开始</h2><h3>第一步：明确你想要在索引页面看到什么</h3><p>不考虑是否能实现，你想要在索引页面看到什么样的内容呢？你的应用场景是什么？你期望以什么形式展示你的信息呢？</p><p>接下来以我写读书笔记的真实场景为例。由于我做了一些读书笔记，现在我想要一个书目列表，能看到我的阅读记录。</p><p>我想要展现的内容是：书的名称、作者、图书分类、阅读来源、阅读状态。</p><p>这些都想清楚之后，就可以开始动手了。</p><h3>第二步：设计字段</h3><p>要想要能够在索引页面展现这些字段（书名、作者、阅读来源、阅读状态），我们需要向读书笔记里添加这些属性。</p><p>有两种方式可以给文件添加属性，一种是之前在Dataview教程里提到的yaml，另一种是<code>字段名::字段值</code>这样的写法。两种写法都可以被Dataview识别。</p><p>使用yaml，或者<code>字段名::字段值</code>这样的写法，以方便dataview能够读取。</p><p>鉴于在<a href="https://sspai.com/post/68183" target="_blank">上一篇文章</a>中已经演示过如何用yaml添加属性了，这次我们演示另一种写法：</p><pre class="language-"><code>书名:: 
作者::
分类:: 
来源::
阅读状态::
开始日期:: 
读完时间:: 
</code></pre><p>先在一个读书笔记中写上这些内容，将已有的信息对应填上去，作为备用。如果你还没有读书笔记文件，也可以跟着建一个测试的文件，将上方内容复制进去，一会儿我们会看到效果。</p><p>下面是我的演示文件：</p><figure class="image ss-img-wrapper image_resized" style="width:288px;"><img src="https://cdn.sspai.com/2021/08/17/1d0406b3d23dba5fbc9f808d5ec7c46e.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/1d0406b3d23dba5fbc9f808d5ec7c46e.png" referrerpolicy="no-referrer"></figure><h3>第三步：Dataview 建立索引</h3><p>创建一个新文件，命一个你容易识别的名字，比如我新建一个索引文件夹，专门放各类索引。把这个新文件命名为“阅读列表”。</p><p>开始写Dataview代码：</p><pre class="language-dataview"><code>```dataview
table 书名,作者,分类,来源,阅读状态
from "工作流演示/文献"
sort file.ctime desc
```
</code></pre><p><code>table</code>：创建一个表格。后面跟的“书名,作者,分类,来源,阅读状态”都是我们设计好的<strong>字段名</strong>，注意是字段名而不是字段值哦。另外逗号必须是英<strong>文逗号</strong>。</p><p><code>from</code>：检索的文件范围。我这里写的是《大学》这个读书笔记文件所在的文件夹。如果想从全库检索，则直接写空字符串<code>""</code>。</p><p><code>where</code>：检索条件。我这里暂时没有写，则不做过滤。</p><p><code>sort</code>：排序。使用了Dataview给文件默认添加的属性<code>file.ctime</code>，意思是文件创建时间。<code>desc</code>是排序方式，倒叙。想要正序效果，请使用<code>asc</code>。</p><p>最后来看看效果。刚才的测试文件已经被加载出来了。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/8336a7b8b7b66a51de9da880d4006bd1.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/8336a7b8b7b66a51de9da880d4006bd1.png" referrerpolicy="no-referrer"></figure><h3>第四步：新建模板</h3><p>既然我们设计的字段可以展现出想要的索引效果，那么就可以把它存成模板了。</p><p>在你的模板文件夹，新建一个文件，命名“阅读笔记模板”。模板内写入一下内容：</p><pre class="language-"><code>书名:: &#123;&#123;NAME&#125;&#125;
作者::
分类:: 
来源::
阅读状态::
开始日期:: &#123;&#123;DATE:YYYY-MM-DD&#125;&#125;
读完时间:: 
</code></pre><p> </p><p>⬆️上面这段使用了2个模板语法:</p><ul><li><code>&#123;&#123;NAME&#125;&#125;</code>：文件名。会自动在创建文件时写入当前文件名。</li><li><code>&#123;&#123;DATE:YYYY-MM-DD&#125;&#125;</code>：是日期的语法。写在这里是想要自动记录开始阅读的日期。<ul><li><code>YYYY</code>是<code>2021</code>格式的年；</li><li><code>MM</code>是2位格式的月的写法，输出是<code>08</code>；</li><li><code>DD</code>是2位格式的日期，如<code>01</code>、<code>02</code>、<code>17</code></li></ul></li></ul><h3>第五步：quickAdd</h3><h4>quickAdd 是什么？</h4><p>quickAdd 可以直接理解为快速添加。它可以添加两种类型：</p><ol><li>捕捉输入，插入到指定文件的指定位置</li><li>使用已有模板快速添加一个文件，可以指定文件位置</li></ol><p>我这里说的比较简单，它还可以做到一些比较复杂的指令，但是本文只介绍简单的用法，让它能够快速为你所用。本文没有什么门槛，请放心食用。</p><h4>设置一个快加命令</h4><p>请先安装quickAdd插件，如何安装这里不再赘述，前面文章都有写到。</p><p><strong>1、新建一个快加指令</strong></p><p>打开quickAdd设置界面。我们选择使用<code>Template</code>类型，输入一个名字作为命令名。点击<code>Add Choice</code>确认添加。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/10dd42fa3ace3d4ccdecdd82b900d497.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/10dd42fa3ace3d4ccdecdd82b900d497.png" referrerpolicy="no-referrer"><figcaption>添加一个快加命令</figcaption></figure><p>操作过后一个新的命令就新建好了。</p><p><strong>quickAdd的类型：</strong></p><ol><li>Template：使用模板新建文件。</li><li>Capture：捕获。捕获输入内容，添加到指定文件内部。</li><li>Macro：宏指令。本文不涉及。</li><li>Multi：多菜单。这个很简单，但本文也先不讲。</li></ol><p><strong>2、设置该指令</strong></p><p>点击该命令右侧的齿轮⚙️进行设置。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/097880897fb15929e6239aa80e6c3d4d.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/097880897fb15929e6239aa80e6c3d4d.png" referrerpolicy="no-referrer"></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/921f4d7ddd72b89b81e81ff6338180e2.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/921f4d7ddd72b89b81e81ff6338180e2.png" referrerpolicy="no-referrer"></figure><p> </p><p>下面解释一下各设置项的意思：</p><ul><li><code>Template Path</code>：模板文件路径。在这里选择上一步我们创建好的模板文件。</li><li><code>File Name Format</code>：文件名格式，是一个开关。关闭此开关会默认以输入的内容作为新建文件的<strong>文件名</strong>。打开此开关我们就可以在<code>File Name</code>指定文件名的格式。<ul><li><code>File Name</code>：文件名。只有当<code>File Name Format</code>开关打开时才可以编辑。比如你想要按照日期加上输入文本来命名，则可以写<code>&#123;&#123;DATE:YYYY-MM-DD&#125;&#125;-&#123;&#123;VALUE&#125;&#125;</code>。</li></ul></li><li><code>Create in folder</code>：是否创建到文件夹。打开状态会将新文件存放在下方选择的文件夹内。<ul><li><code>Choose folder when creating a new note</code>：新笔记存放的位置。只有当上一个设置项为打开状态时才会出现。选择路径后，记得点击一下选择框右侧的<code>Add</code>添加。</li></ul></li><li><code>Create in same folder as active file</code>：将新笔记存放在当前打开的笔记同一个文件夹。这个选项和上一个选项只用打开一个即可。</li><li><code>Append link</code>：是否添加新笔记的链接到当前文件。</li><li><code>Increment file name</code>：增量文件名。打开后，如果已存在同名文件，则会在文件名后面增加数字。</li><li><code>Open</code>：是否打开新建文件。</li><li><code>New Tab</code>是否在新的面板打开新建笔记。</li></ul><p>你可以先照着我截图中的设置，来设置自己的设置项。这样有助于你快速看到和本文一样的效果。</p><p>关闭这个设置面板，设置会自动保存。</p><p><strong>3、添加到命令，并设置快捷键</strong></p><figure class="image ss-img-wrapper image_resized" style="width:286px;"><img src="https://cdn.sspai.com/2021/08/17/1470a2267b21e4f9388bde9872d34cf0.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/1470a2267b21e4f9388bde9872d34cf0.png" referrerpolicy="no-referrer"><figcaption>添加到命令</figcaption></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/4ea19d9c24e8f4df8fa08d7fbf655923.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/4ea19d9c24e8f4df8fa08d7fbf655923.png" referrerpolicy="no-referrer"><figcaption>点亮阅读笔记命令右侧的闪电⚡️图标</figcaption></figure><p>点亮阅读笔记命令右侧的闪电⚡️图标，将“阅读笔记”命令添加到命令面板。</p><p>现在，我们可以在命令面板找到这个命令了。如果你想要快速找到它，可以给该<strong>命令置顶</strong>。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/b501c99493eb490cca6dad331ee39aef.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/b501c99493eb490cca6dad331ee39aef.png" referrerpolicy="no-referrer"><figcaption>置顶命令</figcaption></figure><p>如果你想要<strong>更快</strong>的操作，还可以给这个命令添加快捷键。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/a467b80d2ee95fe71be30bb25e2ceaf2.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/08/17/a467b80d2ee95fe71be30bb25e2ceaf2.png" referrerpolicy="no-referrer"><figcaption>给命令添加快捷键，我设置的是Command+shift+B</figcaption></figure><p>现在我们就能用快捷键【Command/Ctrl+shift+B】来唤起【QuickAdd:阅读笔记】命令了。</p><h2>验收成果</h2><p>现在我们来使用快捷键唤起【QuickAdd:阅读笔记】命令，并输入一个书名试一下。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/08/17/dcba11c49f836590f65fb4fd13befc35.gif" data-original="https://cdn.sspai.com/2021/08/17/dcba11c49f836590f65fb4fd13befc35.gif" referrerpolicy="no-referrer"><figcaption>成果演示</figcaption></figure><p>一个新的阅读笔记就创建好了，它被存放在“工作流演示/文献”文件夹下，笔记内自动添加了我们设计好的阅读笔记模板，并且自动写入了笔记名称和当前日期。</p><p>而我们的阅读列表，也实时更新了。</p><h2>后记</h2><p>这篇文章很长，介绍了我在Obsidian里的工作流，它能够帮我节省很多诸如新建文件、移动文件到文件夹、插入模板等操作，对我来说十分的方便与顺手。</p><p>希望能给你一点灵感打造属于自己的工作流。</p><p>欢迎在下方展示你的成果，也欢迎任何对文章和Obsidian的反馈。</p><p>谢谢你看到这里，下期见！</p></div><!----></div><div style="border:1px solid transparent;" data-v-43a7e9c2></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-43a7e9c2><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>8</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>4</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-6305" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E6%88%91%E7%9A%84%20Obsidian%20%E5%B7%A5%E4%BD%9C%E6%B5%81%EF%BC%9A%E6%A8%A1%E6%9D%BF%2BQuickAdd%2BDataview%20%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E5%92%8C%E8%87%AA%E5%8A%A8%E7%B4%A2%E5%BC%95%E3%80%91title%3A%E6%A8%A1%E6%9D%BF%2BquickAdd%2Bdataview%E5%B7%A5%E4%BD%9C%E6%B5%81tags%3A%5B%5D%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%3A%5B%5Ddatetime%3A2021-08-1511%3A59%E7%8A%B6%E6%80%81%3A%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2021%2F08%2F17%2F3ac8155f9f356af8a3538152a056d698.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-1255" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E6%88%91%E7%9A%84%20Obsidian%20%E5%B7%A5%E4%BD%9C%E6%B5%81%EF%BC%9A%E6%A8%A1%E6%9D%BF%2BQuickAdd%2BDataview%20%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E5%92%8C%E8%87%AA%E5%8A%A8%E7%B4%A2%E5%BC%95%E3%80%91title%3A%E6%A8%A1%E6%9D%BF%2BquickAdd%2Bdataview%E5%B7%A5%E4%BD%9C%E6%B5%81tags%3A%5B%5D%E5%8F%91%E5%B8%83%E5%B9%B3%E5%8F%B0%3A%5B%5Ddatetime%3A2021-08-1511%3A59%E7%8A%B6%E6%80%81%3A%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            