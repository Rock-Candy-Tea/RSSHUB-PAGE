
---
title: '为什么不自己写个音乐播放器呢'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2021/09/08/article/d0649c8e11b3fe723120be607d5405a7?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Wed, 08 Sep 2021 13:59:07 GMT
thumbnail: 'https://cdn.sspai.com/2021/09/08/article/d0649c8e11b3fe723120be607d5405a7?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-6a669db8><div class="content wangEditor-txt minHeight" data-v-6a669db8><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/d0649c8e11b3fe723120be607d5405a7?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="Logo" data-original="https://cdn.sspai.com/2021/09/08/article/d0649c8e11b3fe723120be607d5405a7" referrerpolicy="no-referrer"></figure><h2>简易云音乐简洁的的第三方网易云音乐播放器</h2><p><a href="https://simplecloudmusic.com/" target="_blank">🌎 访问</a>  |  <a href="https://github.com/dufu1991/simple-cloud-music" target="_blank">👨🏻‍💻 GitHub</a></p><h2>🌼 技术与特性</h2><ol><li>主要技术栈包含 PWA、 Svelte 、rollup、svelte-stack-router、svelte-lazy 等。</li><li>支持网易云音乐账号登录（扫码、手机密码或验证码、邮箱密码）。</li><li>支持歌词翻译和滚动显示。</li><li>支持私人 FM、每日推荐、心动模式等。</li><li>支持查看歌曲热评，过滤评论广告与官方硬塞热评，四楼终于不再是广告了！</li><li>每日自动签到（上送 Android 端签到，因为积分最高）。</li><li>推荐 PWA 模式使用，Chrome 和 Edge 浏览器根据首次打开时的提示安装，Safari 手动安装。</li><li>播放器最大化时支持下滑最小化，最小化模式支持左滑切换下一曲，滑动支持速度判断。</li><li>更多特性开发中。</li><li>前端菜鸟一枚，水平有限，期待大佬提出改进意见。</li></ol><h2>🍽️ 如何食用</h2><ol><li>本应用使用了 PWA 技术，本质还是网页应用，只是对比纯网页体验有所提升。请将图标添加至设备桌面使用，相当于将网页书签放置桌面，方便快速打开，且不占用设备存储空间。</li><li>Android 设备建议使用较新版本的 Chrome 或 Edge 浏览器直接打开 <a href="https://simplecloudmusic.com/" target="_blank">简易云音乐</a> ，根据提示安装至桌面使用。国内手机自带的浏览器及其他第三方浏览器由于对 chromium 内核的魔改与阉割，对 PWA 的支持一言难尽。正常情况进入页面根据提示安装至桌面即可，或按照下图手动添加。很多手机操作系统默认会关闭 APP 将网页标签放到桌面的权限，可按照以下方式（设置--应用设置--应用管理--找到 Chrome 或者 Edge 浏览器--权限管理--添加桌面快捷方式）打开权限，不同品牌手机有些许差异，请以自己的手机系统为准。注：不知是 Microsoft 和 Google 自己不上架还是被国内应用商店出于商业目的限制了，各大主流应用商店要么无法下载，要么下载的版本都是很多年前的旧版。请自行想办法安装较新版本的 Chrome 或 Edge，或到我提供的这个地址下载。<a href="https://simplecloudmusic.com/assets/microsoft-edge-92-0-902-59.apk" target="_blank">下载 Edge apk</a>，<a href="https://simplecloudmusic.com/assets/google-chrome-92-0-4515-131.apk" target="_blank">下载 Chrome apk</a>。</li><li>iOS 设备安装就很简单了，用自带的 Safari 浏览器打开 <a href="https://simplecloudmusic.com/" target="_blank">简易云音乐</a>，按照以下提示即可安装至桌面。</li></ol><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/2033544d0f46869b670c1c4dc9c82e16?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="Logo" data-original="https://cdn.sspai.com/2021/09/08/article/2033544d0f46869b670c1c4dc9c82e16" referrerpolicy="no-referrer"></figure><h2>💭 项目背景</h2><p>想找个项目练手 Svelte，就对比了几个音乐类应用，刚好有开源的网易云 API <a href="https://github.com/Binaryify/NeteaseCloudMusicApi" target="_blank">Binaryify/NeteaseCloudMusicApi</a> 可用，就搞了这个工程。</p><p>内容资源使用网易云音乐，UI 界面参考了 <a href="https://music.apple.com/cn/browse" target="_blank">Apple Music</a> 与 <a href="https://github.com/qier222/YesPlayMusic" target="_blank">YesPlayMusic</a>。</p><p>写一点自己使用过的一些音乐 APP 感受对比。</p><h3>1. Apple Music</h3><h4>优点</h4><ul><li>无广告，界面简洁。</li><li>音质不虚标，会员策略简单易懂无套路。</li><li>资源数量相对来说还比较丰富，内容也比较多元化。</li></ul><h4>缺点</h4><ul><li>Mac 端不知为何加载超级慢，服务器不是搬到云上贵州了吗？作为亲儿子应用不应该啊。</li><li>可能是使用的时间少，没有数据支撑，推荐机制的智障程度和 Siri 有的一拼。</li><li>根据我的个人习惯，喜欢一首歌，但一般不会喜欢这首歌的整张专辑和艺人的所有歌曲。所以 Apple Music 的音乐分类着重突出专辑与艺人维度，总感觉怪怪的。</li><li>可能是我自己品味太 low 或者主要针对欧美市场，官方整理的歌单与分类口味不对。</li></ul><h3>2. 网易云音乐</h3><h4>优点</h4><ul><li>推荐机制与算法真的牛逼，和 Spotify 有的一拼。</li><li>歌单机制是真的强大，我认为网易云应该感谢这些无私奉献的网友。</li><li>评论区真是有意思，你管它段子是真是假，有意思就行。</li><li>小众音乐、轻音乐、独立音乐人等模块做的比较好。</li></ul><h4>缺点</h4><ul><li>版权资源相对其他家较少，歌曲变灰很多。</li><li>功能大杂烩，广告满天飞。</li><li>在 UI 设计与用户体验方面即使算上 Apple Music 在内，早期版本的网易云音乐也是一流的。注意是之前的版本，现如今，各种广告植入，各种功能乱塞，各种奇怪的设定，举个简单的例子，歌曲评论默认按照推荐而不是点赞数排列，我想了下按推荐排列就可以在里面夹带私活了呀。</li><li>吃相难看，音质虚标，会员套路多。</li></ul><h3>3. QQ 音乐</h3><h4>优点</h4><ul><li>以 QQ 音乐、酷狗、酷我为代表的的腾讯音乐集团，资源齐全，齐全到国内垄断，垄断到监管部门几次约谈，约谈之后依然可以敷衍了事，不了了之。</li></ul><h4>缺点</h4><ul><li>界面太乱，花里胡哨，功能杂乱无章。出了个简洁版，只是先把用户当韭菜培养习惯。按照正常商业逻辑，做大做强了就要盈利就一定会夹带私活；没起来？那简单了啊，砍刀部一挥砍刀，这项目没了。不要太相信这些大厂的鬼话了，夸克就是最好的例子。</li><li>会员没买过，听大家的说法也是套路满满。</li></ul><h3>4. Spotify</h3><h4>优点</h4><ul><li>资源齐全，即使是华语音乐资源都很齐全，Apple 应该学习一下。</li><li>各个平台的客户端体验都超级棒，尤其是 Spotify Connect 功能，一个第三方开发商能做到这般体验已经相当可以了。</li><li>推荐机制与算法很强。</li></ul><h4>缺点</h4><ul><li>官方渠道会员价相对其他平台来说有点离谱，不过扪心自问了一下，这应该是消费者自己的问题。</li><li>在大陆地区正常网络就能访问，但是官方竟然不给个简体中文版本（可能是我笨，不知道怎么弄）。</li></ul><h2>🤷‍♂️ 已知问题或体验欠佳点</h2><ul><li>播放器最大化时，由于 Android 无法阻止系统返回，iOS 无法阻止 Safari 右滑返回，进行此操作会返回上一页之后播放器才能最小化，有一点不符合操作预期，暂时无解。</li><li>由于 Safari 不支持 CSS 特性 scroll-behavior: smooth（平稳滚动），手动写了 scrollSmoothTo 方法实现歌词平滑滚动，但是似乎是因为 Safari 自带的滚动延迟与自定义滚动的时间计算有冲突，若刚好在切换歌词的极短时间内手动滚动歌词会出现滚动回退现象（看人品）。考虑此需求不重要，暂不予解决（Android 原生支持 smooth，体验良好）。</li><li>此应用始终是个网页应用，无法在第一级页面返回时提示即将退出应用的二次确认。</li><li>目前浏览器好像没有提供完整的系统级媒体控制 API，所以无法使用线控耳机等后台方式切换下一曲等。</li><li>官方歌词格式混乱，已发现的特殊情况都一一处理，可能还存在其他莫名其妙的混乱情况，查看歌词可能导致应用报错或歌词显示错误。</li><li>PWA 模式已经设置了仅竖屏使用，但手机横屏打开应用时页面计算的高度是横屏高度，播放器最大化与最小化就一定概率出现问题，请关闭浏览器进程（注意是浏览器进程）竖屏重新打开。</li><li>虽然很多地方都做了懒加载，但是某些不适合懒加载的情况下，歌曲列表超级长的时候，由于短时间内页面要渲染大量数据，根据手机性能，可能会有延迟。</li><li>iOS 设备右滑返回上一页是 Safari 浏览器自带的功能，但是在 PWA 模式下右滑返回上一页会自动加载一下页面，体验不好但不影响功能。</li><li>iOS 的 Safari 在 PWA 模式下不能后台播放音乐？我在 Mac 的 Simulator 里面是完全没问题的，没法玩了啊。库克远程施个法？下一部就换 iPhone。</li><li>Android 端使用的时候，会在通知栏显示如下提示，这是浏览器自带的通知，查了下好像没有关闭的 API 。强迫症看不下去可以关闭浏览器的通知权限，但对应的通知栏控制功能也会关闭。</li></ul><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/66bf5e93453ab6f78ae59672810939c8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="notice" data-original="https://cdn.sspai.com/2021/09/08/article/66bf5e93453ab6f78ae59672810939c8" referrerpolicy="no-referrer"></figure><h2>⚙️ 部署</h2><p>如果你有自己的服务器，建议将此应用与网易云 API 都部署至你自己的服务器，减轻我的服务器压力。</p><ul><li>部署网易云 API，详情参见 <a href="https://github.com/Binaryify/NeteaseCloudMusicApi" target="_blank">Binaryify/NeteaseCloudMusicApi</a>。</li><li>执行<code>git clone https://github.com/dufu1991/simple-cloud-music.git</code>克隆本仓库代码。</li><li>设备安装好 node 环境之后，进入工程目录，执行 <code>node i</code> 安装依赖。</li><li>修改 <code>src/utils/request.js</code> 文件里面的 baseURL 为你的网易云 API 地址，执行 <code>npm run dev</code> 启动本地联调，此时访问的是 public 下面的文件。</li><li>执行 <code>npm run build</code> 编译打包文件至 html 目录下，然后将 html 文件夹里面的文件上传到你的 Web 服务器即可访问。</li><li>如果要直接部署，执行 <code>npm run deploy</code> 根据命令行提示输入自己的服务器地址、账号、密码、静态文件部署路径等信息，将直接将打包好的工程部署至 Web 服务器。</li><li>要实现 PWA 的 Service Workers（离线访问），必须要 HTTPS 证书，关于域名、证书、服务器等相关内容请自行了解。</li></ul><h2>📜 开源许可</h2><p>本项目仅供个人学习研究使用，禁止用于商业及非法用途。</p><p>基于 <a href="https://opensource.org/licenses/MIT" target="_blank">MIT license</a> 许可进行开源。</p><h2>🌊 灵感来源与大感谢</h2><p>非常感谢 API 源代码，来自 <a href="https://github.com/Binaryify/NeteaseCloudMusicApi" target="_blank">Binaryify/NeteaseCloudMusicApi</a> 。</p><p><a href="https://music.apple.com/" target="_blank">Apple Music</a></p><p><a href="https://www.spotify.com/" target="_blank">Spotify</a></p><p><a href="https://music.163.com/" target="_blank">网易云音乐</a></p><p><a href="https://github.com/qier222/YesPlayMusic" target="_blank">YesPlayMusic</a></p><h2>📷 部分截图 </h2><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/34732363b249d84326531d7d8fa0e86c?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="screen1" data-original="https://cdn.sspai.com/2021/09/08/article/34732363b249d84326531d7d8fa0e86c" referrerpolicy="no-referrer"></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/83b6c60362c5f336384f4839b1b714b7?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="screen2" data-original="https://cdn.sspai.com/2021/09/08/article/83b6c60362c5f336384f4839b1b714b7" referrerpolicy="no-referrer"></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/d753333b5caedf3a1244a640b75d64f0?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="screen3" data-original="https://cdn.sspai.com/2021/09/08/article/d753333b5caedf3a1244a640b75d64f0" referrerpolicy="no-referrer"></figure><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/e74215bd9fe54184b759ceb7a33966c8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="Loscreen4go" data-original="https://cdn.sspai.com/2021/09/08/article/e74215bd9fe54184b759ceb7a33966c8" referrerpolicy="no-referrer"></figure><h2>🎨 Design </h2><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/6c0b7583dd280172bac10fac47c45c8b?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="cover" data-original="https://cdn.sspai.com/2021/09/08/article/6c0b7583dd280172bac10fac47c45c8b" referrerpolicy="no-referrer"></figure><h2>🪢 杂谈</h2><ul><li>因为 UI 界面图片区域较多，暂时不考虑暗黑模式（主要是暗黑模式对设计要求较高，做不好了啦）。</li><li>哦，如果想请我喝杯咖啡或是赞助一下服务器费用，也是可以的。</li></ul><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/09/08/article/893bfc5062cd9241414122afc83d8a89?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt="lollipop" data-original="https://cdn.sspai.com/2021/09/08/article/893bfc5062cd9241414122afc83d8a89" referrerpolicy="no-referrer"></figure><h2>🚑 反馈与建议</h2><p>由于主要只在 Android 设备上测试，且只用了我个人的网易云音乐账号数据，避免不了不同设备不同版本不同数据产生的 bug，望积极反馈。</p><ul><li>猿类请到 GitHub 提 <a href="https://github.com/dufu1991/simple-cloud-music/issues" target="_blank">Issues</a> 。</li><li>非猿类可邮件至 <a href="mailto:simplecloudmusic@163.com?subject=%E7%AE%80%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E5%8F%8D%E9%A6%88%E4%B8%8E%E5%BB%BA%E8%AE%AE" target="_blank">simplecloudmusic@163.com</a></li></ul></div><!----></div><div style="border:1px solid transparent;" data-v-6a669db8></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-6a669db8><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>13</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>9</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-2942" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%87%AA%E5%B7%B1%E5%86%99%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%E5%91%A2%E3%80%91%E7%AE%80%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%AE%80%E6%B4%81%E7%9A%84%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%F0%9F%8C%8E%E8%AE%BF%E9%97%AE%7C%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BBGitHub%F0%9F%8C%BC%E6%8A%80%E6%9C%AF%E4%B8%8E%E7%89%B9%E6%80%A7%F0%9F%8D%BD%EF%B8%8F%E5%A6%82%E4%BD%95%E9%A3%9F%E7%94%A8%F0%9F%92%AD%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF%E6%83%B3%E6%89%BE%E4%B8%AA%E9%A1%B9%E7%9B%AE%E7%BB%83%E6%89%8BSvelte%EF%BC%8C%E5%B0%B1%E5%AF%B9%E6%AF%94%E4%BA%86%E5%87%A0%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2021%2F09%2F08%2F3bd9868527afff2b05ef79e10cb32a8e.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-3298" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%87%AA%E5%B7%B1%E5%86%99%E4%B8%AA%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%E5%91%A2%E3%80%91%E7%AE%80%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%AE%80%E6%B4%81%E7%9A%84%E7%9A%84%E7%AC%AC%E4%B8%89%E6%96%B9%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8%F0%9F%8C%8E%E8%AE%BF%E9%97%AE%7C%F0%9F%91%A8%F0%9F%8F%BB%E2%80%8D%F0%9F%92%BBGitHub%F0%9F%8C%BC%E6%8A%80%E6%9C%AF%E4%B8%8E%E7%89%B9%E6%80%A7%F0%9F%8D%BD%EF%B8%8F%E5%A6%82%E4%BD%95%E9%A3%9F%E7%94%A8%F0%9F%92%AD%E9%A1%B9%E7%9B%AE%E8%83%8C%E6%99%AF%E6%83%B3%E6%89%BE%E4%B8%AA%E9%A1%B9%E7%9B%AE%E7%BB%83%E6%89%8BSvelte%EF%BC%8C%E5%B0%B1%E5%AF%B9%E6%AF%94%E4%BA%86%E5%87%A0%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            