
---
title: '如何在你的 M1_M2 Mac 本地运行 Stable Diffusion？'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2022/09/12/article/bdca8d980a2b4c9c853171d0ce8f5cf8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Mon, 12 Sep 2022 08:41:07 GMT
thumbnail: 'https://cdn.sspai.com/2022/09/12/article/bdca8d980a2b4c9c853171d0ce8f5cf8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-557a067a><div class="update-wrap" data-v-557a067a></div><div class="content wangEditor-txt minHeight" data-v-557a067a><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/bdca8d980a2b4c9c853171d0ce8f5cf8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/bdca8d980a2b4c9c853171d0ce8f5cf8" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">Stable Diffusion 的人工智能绘画能力，我在之前已经不止一次给你展示过了。</p><iframe class="ss-videoIframe" src="https://player.bilibili.com/player.html?bvid=BV11e4y1d7w2"> </iframe><p> </p><p style="margin-left:0px;text-align:justify;">目前， Stable Diffusion 的代码和模型<strong>都已开源</strong>。按理说，每一个感兴趣的用户，都应该正在开心地尝试作画。但是，这种模型执行起来，需要足够的算力支持。前些日子，你还得需要一块专业级 GPU 来运行它。我买不起专业 GPU 怎么办呢？就从 Google Colab 租了云 GPU 来用。为此，还交了钱订阅 Colab Pro 。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/864c8946620a64a1aeb0a0745271ff75?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/864c8946620a64a1aeb0a0745271ff75" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">而随着最近 PyTorch 对苹果 ARM 芯片支持的完善，你现在完全可以在自己的 M1/M2 Mac 上面运行 Stable Diffusion ，来获得绘图结果了。</p><p style="margin-left:0px;text-align:justify;">想想看，不花一分钱去租或者买 GPU ，就能在本地出图。那岂不是相当于把一个插画师随身携带了？想想都兴奋。</p><p style="margin-left:0px;text-align:justify;">但问题是，在上周，为了实现这个功能，你还需要按照别人提供的详细教程，在本地安装一系列的软件包。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/bc2808d78f1d2423c3de368bc8bc6cca?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/bc2808d78f1d2423c3de368bc8bc6cca" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">设置上稍微出点儿问题，往往就会让小白用户手足无措。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/a17278329b32143ce53d40171ce08602?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/a17278329b32143ce53d40171ce08602" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">嘿，我明明只是打算输入文本生成图像，为什么需要达到计算机二级终端命令行操作水平才行？</p><p style="margin-left:0px;text-align:justify;">这个痛点，不只是想尝鲜的新手会有，就连专业人士也会觉得很麻烦。这么多年被图形界面宠坏了，大伙儿早就更习惯了窗口交互。连换个描述语，都要在一行行代码里面做文本替换，不愉快。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/a79f6c1105aa2c12c7865a60990f7c29?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/a79f6c1105aa2c12c7865a60990f7c29" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">今天我偶然看到了一个新的 Github 项目，叫做 Diffusion Bee ，可以有效解决咱们这个痛点 —— 终于，在 M1/M2 Mac 上面，图形界面开箱即用。不需要手动安装依赖、命令行输入参数，更不用对报错调试…… 总之，你可以直接用 Stable Diffusion 来画图了！</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/981414478349e3af85fcd1914c8983c8?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/981414478349e3af85fcd1914c8983c8" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;"><a target="_blank" rel="noopener noreferrer" href="https://github.com/divamgupta/diffusionbee-stable-diffusion-ui">项目链接在这里</a>。你需要做的，就是点击这个硕大无朋的 Download 按钮，下载安装包。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/e4272eb11abfa742e408ce2c84752339?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/e4272eb11abfa742e408ce2c84752339" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">然后，双击打开软件包，拖拽图标，即可完成安装。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/e170b6b942da5bce5683a6a694c31ddf?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/e170b6b942da5bce5683a6a694c31ddf" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">执行安装后的软件包，软件开启。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/35f06741dc371d3d18fc5cb5547128ab?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/35f06741dc371d3d18fc5cb5547128ab" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">首次运行的时候，DiffusionBee 需要下载两个模型。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/a05706a1dee64c4a85194df410bbf8d2?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/a05706a1dee64c4a85194df410bbf8d2" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">第一个模型较大，有好几个 GB，网速慢的话稍等一下。好在这是一次性的，以后就不用这么麻烦了。</p><p style="margin-left:0px;text-align:justify;">这是第二个模型在下载中：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/ccf698e2f224f8a7e73f715d9f53d636?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/ccf698e2f224f8a7e73f715d9f53d636" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">模型加载完毕后，你会看到一个非常简单洁净的页面。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/bd67cb80f8ba28e27341f7a20feeea60?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/bd67cb80f8ba28e27341f7a20feeea60" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">下面我们来尝试输入 prompt （描述语）吧：</p><p style="margin-left:0px;text-align:justify;">我输入的是：</p><blockquote><p style="margin-left:0px;">a cat and a dog chasing each other on planet mars （一只猫和一只狗在火星追逐嬉戏）</p></blockquote><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/487ef06099eb5dffe71a2aa1750f23b9?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/487ef06099eb5dffe71a2aa1750f23b9" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">好了，点击蓝色的 Generate 按钮就可以了。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/42f0bdb55951acc3bdbd944b4bb7bec6?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/42f0bdb55951acc3bdbd944b4bb7bec6" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">这里生成的速度，就得看你的电脑配置了。根据官方说明，16GB 内存的 M1 Pro ，生成一张图片大概需要 30 秒钟。我的配置低一些，是 2020 款初代 M1 Macbook Pro ，而且内存里面驻留了很多服务，时间也就相应拉长。如果你的芯片配置更高、内存更大（例如 32GB），那么生成速度会更快。</p><p style="margin-left:0px;text-align:justify;">我觉得其中内存是关键因素，因为如果模型没法放在内存中，就需要不断读写到交换存储空间，速度会显著拖慢。</p><p style="margin-left:0px;text-align:justify;">好了，图片生成完毕。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/03a2b851209f935df4581b74ef1e03d6?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/03a2b851209f935df4581b74ef1e03d6" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">你觉得怎么样？</p><p style="margin-left:0px;text-align:justify;">我觉得不够智能 —— 应该给它俩弄套专用太空服，要不然怎么能体现出来是在火星环境呢？</p><p style="margin-left:0px;text-align:justify;">当然，你可以通过描述，加入太空服，给它俩穿上。</p><p style="margin-left:0px;text-align:justify;">点击保存按钮，把图片存下来吧。然后你就可以开始生成下一幅图片了。</p><p style="margin-left:0px;text-align:justify;">这样一来，每次打算给文章配个题图，我就只需要开启这个小应用，搞定。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/fefb8c46658a20ab4befa47833a1149a?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/fefb8c46658a20ab4befa47833a1149a" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">咱们本次的题图，就是这么生成的：</p><blockquote><p style="margin-left:0px;">a painter is drawing a picture on a macbook</p></blockquote><p style="margin-left:0px;text-align:justify;">你觉得效果怎么样？</p><p style="margin-left:0px;text-align:justify;">Diffusion Bee 的作者感慨，说没有想到一个周末完成的小项目，居然收获了那么多的关注，甚至在 HackerNews 上面冲上榜首。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2022/09/12/article/4e3e39250b248aeca5426f1846331415?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2022/09/12/article/4e3e39250b248aeca5426f1846331415" referrerpolicy="no-referrer"></figure><p style="margin-left:0px;text-align:justify;">估计有很多专业用户，也会嗤之以鼻：</p><blockquote><p style="margin-left:0px;">哼，不就是给命令行套了个壳吗？有啥了不起？花里胡哨的！</p></blockquote><p style="margin-left:0px;text-align:justify;">其实我倒是觉得， Diffusion Bee 收到欢迎非常容易理解 —— 同等动机水平下，人们更喜欢降低行为的成本。没错，这样的一个小应用，看似不过是给命令行早就能够达成的功能「套个壳」。但这看似很小的一点改进，却使得一款新技术可以瞬时触达到更多普通用户。<strong>他们原本就有使用的热情，只不过是被复杂的操作方法和频繁的报错折磨到放弃。</strong></p><p style="margin-left:0px;text-align:justify;">所以，如果你有机会，用低成本降低一群人的痛苦。那老祖宗的那句「勿以善小而不为」就该派上用场了。别怕被所谓的「专业人士」嘲笑，尽管去做有价值的事吧。</p><p style="margin-left:0px;text-align:justify;">既然 Diffusion Bee 这么简单的 Stable Diffusion 使用途径出现了，你是不是得赶紧亲自动手，试试 Stable Diffusion 人工智能绘图给你带来的便捷和愉悦？</p><p style="margin-left:0px;text-align:justify;">欢迎你把自己的使用心得，在留言区和大伙儿分享。</p><p style="margin-left:0px;text-align:justify;">如果你觉得本文有用，请<strong>充电</strong>。</p><p style="margin-left:0px;text-align:justify;">如果本文可能对你的朋友有帮助，请<strong>转发</strong>给他们。</p><p style="margin-left:0px;text-align:justify;">欢迎<strong>关注</strong><a target="_blank" rel="noopener noreferrer" href="https://sspai.com/column/245">我的专栏「科研利器」</a>，以便及时收到后续的更新内容。</p><span class="ss-paidSection" product-id="278" type="paidSection"> </span><p> </p><h2 style="text-align:justify;"><strong>延伸阅读</strong></h2><ul><li style="text-align:justify;"><a target="_blank" rel="noopener noreferrer" href="https://sspai.com/post/73256">【星球精选】Obsidian 中的 excalibrain 插件：免费的 theBrain ？</a></li><li style="text-align:justify;"><a target="_blank" rel="noopener noreferrer" href="https://sspai.com/post/54836">如何用 Python 和 BERT 做多标签（multi-label）文本分类？</a></li><li style="text-align:justify;"><a target="_blank" rel="noopener noreferrer" href="https://sspai.com/post/67451">如何更高效用 Roam？免费分享 Roam Untangled 作者 Jamie Miles 的几个小技巧</a></li><li style="text-align:justify;"><a target="_blank" rel="noopener noreferrer" href="https://sspai.com/post/69866">如何用 Python 和决策树预测广告点击行为？（云环境视频教程）</a></li></ul></div><div class="update-details-wrap" data-v-557a067a></div><!----></div><div style="border:1px solid transparent;" data-v-557a067a></div><div class="article-side sideTop" style="display:none;left:0;" data-v-cb5db094 data-v-557a067a><div class="download-guide-container" data-v-12d5b4c4 data-v-cb5db094><div class="btn-wrapper" data-v-12d5b4c4><!----><button class="btn btn-view" data-v-12d5b4c4><i class="iconfont iconfont-phone" data-v-12d5b4c4></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-12d5b4c4><!----></a></div><div class="item-wrapper" data-v-cb5db094><button class="btn btn-charge" data-v-cb5db094><i class="iconfont" data-v-cb5db094></i></button><span class="count" data-v-cb5db094>13</span></div><div class="item-wrapper" data-v-cb5db094><button class="btn-mini btn-comment" data-v-cb5db094><i class="iconfont iconfont-comment" data-v-cb5db094></i></button><span class="count" data-v-cb5db094>4</span></div><div class="item-wrapper" data-v-cb5db094><span data-v-cb5db094><div role="tooltip" id="el-popover-1176" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BD%A0%E7%9A%84%20M1%2FM2%20Mac%20%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%20Stable%20Diffusion%EF%BC%9F%E3%80%91StableDiffusion%E7%9A%84%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%98%E7%94%BB%E8%83%BD%E5%8A%9B%EF%BC%8C%E6%88%91%E5%9C%A8%E4%B9%8B%E5%89%8D%E5%B7%B2%E7%BB%8F%E4%B8%8D%E6%AD%A2%E4%B8%80%E6%AC%A1%E7%BB%99%E4%BD%A0%E5%B1%95%E7%A4%BA%E8%BF%87%E4%BA%86%E3%80%82%E7%9B%AE%E5%89%8D%EF%BC%8CStableDiffusion%E7%9A%84%E4%BB%A3%E7%A0%81%E5%92%8C%E6%A8%A1%E5%9E%8B%E9%83%BD%E5%B7%B2%E5%BC%80%E6%BA%90%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2F2022%2F09%2F12%2F6fee57e54f3299ce6ffec7bb781b4e26.png%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="iconfont iconfont-weibo-simple right-16"></i></a><span><div role="tooltip" id="el-popover-9269" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="iconfont iconfont-wechat-simple right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BD%A0%E7%9A%84%20M1%2FM2%20Mac%20%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8C%20Stable%20Diffusion%EF%BC%9F%E3%80%91StableDiffusion%E7%9A%84%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E7%BB%98%E7%94%BB%E8%83%BD%E5%8A%9B%EF%BC%8C%E6%88%91%E5%9C%A8%E4%B9%8B%E5%89%8D%E5%B7%B2%E7%BB%8F%E4%B8%8D%E6%AD%A2%E4%B8%80%E6%AC%A1%E7%BB%99%E4%BD%A0%E5%B1%95%E7%A4%BA%E8%BF%87%E4%BA%86%E3%80%82%E7%9B%AE%E5%89%8D%EF%BC%8CStableDiffusion%E7%9A%84%E4%BB%A3%E7%A0%81%E5%92%8C%E6%A8%A1%E5%9E%8B%E9%83%BD%E5%B7%B2%E5%BC%80%E6%BA%90%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="iconfont iconfont-twitter-simple right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-cb5db094><i class="iconfont iconfont-share" data-v-cb5db094></i></button></span></span></div><div class="item-wrapper" data-v-cb5db094><button class="btn-mini btn-collect" data-v-cb5db094><i class="iconfont iconfont-collect" data-v-cb5db094></i></button></div><!----></div><!---->  
</div>
            