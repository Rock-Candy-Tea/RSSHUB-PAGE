
---
title: '你的必要隐私手册（二）—— 控制联网与应用列表读取'
categories: 
 - 新媒体
 - 少数派 sspai
 - Matrix
headimg: 'https://cdn.sspai.com/2021/07/23/4a27f2616c27e588dfb7a67fef50d150.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
author: 少数派 sspai
comments: false
date: Fri, 23 Jul 2021 13:23:21 GMT
thumbnail: 'https://cdn.sspai.com/2021/07/23/4a27f2616c27e588dfb7a67fef50d150.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1'
---

<div>   
<div class="articleWidth-content" data-v-3e67f99b><div class="content wangEditor-txt minHeight" data-v-3e67f99b><h3><strong>Matrix 首页推荐</strong></h3><p><a href="https://sspai.com/matrix">Matrix</a> 是少数派的写作社区，我们主张分享真实的产品体验，有实用价值的经验与思考。我们会不定期挑选 Matrix 最优质的文章，展示来自用户的最真实的体验和观点。</p><p>文章代表作者个人观点，少数派仅对标题和排版略作修改。</p><hr><h2>简介</h2><p>这是「你的必要隐私手册」系列的第二章 —— 关于「联网控制」与「限制应用列表读取」。</p><p>如果你并未阅读过本系列的第一章，推荐先从那里开始：《<a href="https://sspai.com/post/67797">你的必要隐私手册（一） —— 权限管控，存储空间隔离</a>》。本章的许多内容将以那篇文章为基础展开。</p><p>为简洁起见，本文及以后的系列文章将不再重复实操条件与例行声明（除非相对之前的文章有变动。这种情况将另行声明）。取而代之，这篇文章（当然，后面的文章也是如此 😊）将直入主题，探讨在 Android 手机下，两个可以切实保护隐私的办法：</p><ul><li>控制联网；</li><li>限制应用列表读取；</li></ul><p>需要注意的是：本章需要你在 Magisk 的基础上，再额外安装一个框架：<a href="https://github.com/LSPosed/LSPosed" target="_blank">LSPosed</a><sup class="ss-footnote" href title="这个软件的名字（和下面的截图）可能会引起你的遐想。但这个软件和这里并没有你想象中的那种东西 😀" footnote-id="1">1</sup>。这是一个现代化的 Xposed 实现。安装方式将与正文一同给出。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/4a27f2616c27e588dfb7a67fef50d150.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/4a27f2616c27e588dfb7a67fef50d150.png" referrerpolicy="no-referrer"><figcaption>LSPosed。请忽略图标的配色（</figcaption></figure><p>话不多说，让我们开始吧。</p><h2>控制联网 —— AFWall+</h2><blockquote><p>⚠ 部分应用（如「某某运动健康」）可能会因长时间无法正常连接至互联网而停止运行。</p><p>⚠ 如设定「局域网限制」，部分需要「<a href="https://zh.wikipedia.org/wiki/%E5%9B%9E%E7%8E%AF" target="_blank">回环连接</a>」的应用可能无法正常工作。</p></blockquote><p>本章将要介绍的应用：AFWall+，是一个可以控制应用联网行为的「防火墙」。它可以管控某个应用与互联网或者本地其它应用的通信行为。</p><p>举个例子。你也许不希望这些应用能够访问互联网：</p><ul><li>输入法。因为它可能忠实的记录了你在手机上的每一次输入；</li><li>通知收纳。因为它能拿到你所有的通知记录；</li><li>电子保险柜。因为它有能力读取非常重要的信息。</li></ul><p>那么，不妨遵循「<a href="https://zh.wikipedia.org/zh-hans/%E6%9C%80%E5%B0%8F%E6%9D%83%E9%99%90%E5%8E%9F%E5%88%99#:~:text=%E7%BB%B4%E5%9F%BA%E7%99%BE%E7%A7%91%EF%BC%8C%E8%87%AA%E7%94%B1%E7%9A%84%E7%99%BE%E7%A7%91%E5%85%A8%E4%B9%A6%20%E5%9C%A8%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6%20%E4%BB%A5%E5%8F%8A%E5%85%B6%E5%AE%83%E9%A2%86%E5%9F%9F%E4%B8%AD%EF%BC%8C%20%E6%9C%80%E5%B0%8F%E6%9D%83%E9%99%90%E5%8E%9F%E5%88%99%20%E6%98%AF%E8%A6%81%E6%B1%82%E8%AE%A1%E7%AE%97%E7%8E%AF%E5%A2%83%E4%B8%AD%E7%9A%84%E7%89%B9%E5%AE%9A%20%E6%8A%BD%E8%B1%A1%E5%B1%82%20%E7%9A%84%E6%AF%8F%E4%B8%AA%E6%A8%A1%E7%BB%84%E5%A6%82,%E7%94%A8%E6%88%B7%20%E6%88%96%E8%80%85%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F%20%E5%8F%AA%E8%83%BD%E8%AE%BF%E9%97%AE%E5%BD%93%E4%B8%8B%E6%89%80%E5%BF%85%E9%9C%80%E7%9A%84%20%E4%BF%A1%E6%81%AF%20%E6%88%96%E8%80%85%20%E8%B5%84%E6%BA%90%20%E3%80%82" target="_blank">最小权限原则</a>」，关上它们访问互联网的大门。</p><p>AFWall+ 是一款免费且开源的应用，你可以在 <a href="https://github.com/ukanth/afwall/" target="_blank">GitHub</a> 找到它的源代码。它将需要 root 权限来设定拦截规则。</p><h3>安装</h3><p>你可以点击下面的卡片，或者在合适的渠道下载并安装 AFWall+。</p><span class="ss-application" app-id="16123"> </span><p>下载并安装完毕后，应用可能处于英文状态。你可以通过录屏所示的步骤将其切换为中文：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/671670ce8be45de582710e553806c350.gif" data-original="https://cdn.sspai.com/2021/07/23/671670ce8be45de582710e553806c350.gif" referrerpolicy="no-referrer"><figcaption>设置中文</figcaption></figure><p>下文将假设你的 AFWall+ 处于中文状态。之后，本文还会介绍 AFWall+ 的一个功能，叫做「局域网控制」。它将会在文章的后半部分用到，因此先在这里开启它：</p><ul><li>点击「右上角三个点」、「首选项」、「规则/连接」；</li><li>选中「局域网控制」。</li></ul><p>完整的操作录屏如下：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/34faea5750ae5a7a44bb9da36adc12e8.gif" data-original="https://cdn.sspai.com/2021/07/23/34faea5750ae5a7a44bb9da36adc12e8.gif" referrerpolicy="no-referrer"><figcaption>开启「局域网控制」</figcaption></figure><p>之后，回到应用首页，开始设置联网管控规则。</p><h3>设置联网管控规则</h3><p>迎面而来的，是一长串的列表。它代表着可以被施以联网规则的项目。也许你已经注意到了：开头的几个并不是应用，而是系统的一些组件等。它们不在本文的介绍范围内。你可以在之后自行了解每一项的作用。需要提醒的是：请不要在未明确作用的情况下修改这些「非应用的选项」，否则可能导致整个系统都无法正常连接到互联网。</p><p>与之同时，每个项目都有三个复选框，代表可以控制的联网行为。从左至右，分别是：</p><ul><li>局域网；</li><li>WIFI；</li><li>移动数据。</li></ul><p>介绍到这里，你也许已经跃跃欲试，想要限制某些应用的联网行为了。如果现在就勾选一些项目的选项，并在开启防火墙的情况下点击「右上角三个点」、「应用规则」，你会发现：除开被勾选的应用，其它的应用都无法上网了。这是因为 AFWall+ 默认被设定为「白名单机制」：只有勾选的应用才允许连接对应的网络。你可以点击主界面的这个地方将 AFWall+ 设定为「黑名单模式」（阻止所选项）：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/7144eb3f5db8250f0a752c3dc626bb69.gif" data-original="https://cdn.sspai.com/2021/07/23/7144eb3f5db8250f0a752c3dc626bb69.gif" referrerpolicy="no-referrer"><figcaption>更改防火墙的默认行为</figcaption></figure><p>这样，只有你勾选的项目才会被阻止，而其它未勾选项将默认放行。下文的介绍也以「阻止所选项（黑名单）」为前提。</p><p>为方便理解，举例说明用法：你想要阻止列表里的 Abstruct 应用连接到 WIFI。那么，只需要勾选 Abstruct 所在项的第二个复选框即可。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/98ca8b4ec723935b480a09ec24322383.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/98ca8b4ec723935b480a09ec24322383.png" referrerpolicy="no-referrer"><figcaption>给 Abstruct 勾选第二个复选框~</figcaption></figure><p>设定完成后，不要忘记点击「右上角三个点」、「启用防火墙」，来应用你的拦截规则。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/c3fc59ba083651efa9f010956f6e2fab.gif" data-original="https://cdn.sspai.com/2021/07/23/c3fc59ba083651efa9f010956f6e2fab.gif" referrerpolicy="no-referrer"><figcaption>启用防火墙 & 应用规则</figcaption></figure><p>需要额外说明的是：「启用防火墙」只在第一次应用规则时需要点击。之后该选项将变为「禁用防火墙」。后续请点击「应用规则」，以应用新设定的管控策略。</p><p>如果现在就打开应用，你会发现：在连接到 WIFI 的情况下，该应用无法加载出任何互联网的内容了。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/79cf29f2e58de1f381ba21742934c4b3.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/79cf29f2e58de1f381ba21742934c4b3.png" referrerpolicy="no-referrer"><figcaption>应用在仅连接 WIFI 的环境下已经无法加载出任何内容</figcaption></figure><p>这代表成功施加联网限制。当然，该限制目前只针对于 WIFI。如果需要，还可以勾选第三个复选框 —— 移动数据。这样，该应用就无法借助自己的力量，通过「WIFI」与「移动数据」发送任何数据到互联网了。</p><h3>局域网</h3><p>细心的你也许发现了：这里加上了一个值得注意的限定语：「借助自己的力量」。</p><p>难道说，应用可以借助别人的力量，以实现发送数据的目的？至少目前的设定下，是可以的。被限制的应用，理论上可以通过「局域网」将自己的数据传输给另一个应用，并以另一个应用作为代理，将数据发送至互联网。</p><p>幸运的是，要解决这个问题很简单，只需要同时勾选第一个选项即可。这样，这个应用就无法通过「局域网」与其它应用传输网络数据了。</p><p>也就是说，如果想要彻底限制应用在通常情况下<sup class="ss-footnote" href title="还有一些其它的联网行为可以限制，但它们用到的情况较少。你可以在「设置」、「规则/连接」、「规则行为」下方看到所有可以控制的联网行为" footnote-id="2">2</sup>的联网行为，应该将三个勾都勾上：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/5a793b033ead833739c83a70e9aba597.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/5a793b033ead833739c83a70e9aba597.png" referrerpolicy="no-referrer"><figcaption>压得死死的</figcaption></figure><p>同理，你可以针对需求，对特定的应用设定合适的管控规则。之后，这个应用就会安分的呆在本地，不会意外的和外面的网络世界有联系了。</p><p>因为该软件免费且开源，所以没有附上替代品。</p><h2>隐藏应用列表</h2><blockquote><p>⚠ 会破坏应用的分享功能（相应应用无法得知被分享应用的存在）。但可以通过「保存副本」等应用进行「中转」，以变相达到分享的目的。</p><p>⚠ 如开启「白名单模式」，且未选择「排除系统应用」，请记得在模板中加入系统的 WebView 应用，否则被隐藏且依赖于 WebView 的应用会闪退。</p><p>⚠ Syscall 相关的拦截还未做出（截至写稿日）。但其它的检测方式可以成功拦截。</p></blockquote><p>由于一些众所周知的原因，Magisk 等会修改系统的软件包名被列入了一些软件的反作弊清单内。尽管这在一定程度上帮助维持了软件行业的健康发展，但也误伤了众多以相同方式优化 Android 的用户。</p><p>与之同时，也有一些软件，会利用各式各样的系统漏洞，来试图获知手机上安装的应用程序列表，以期生成用户的数据画像。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/a13ee7c1ca1116516f9326fb3290906f.jpg?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/a13ee7c1ca1116516f9326fb3290906f.jpg" referrerpolicy="no-referrer"><figcaption>可爱的小程序怎么会有坏心思呢（不是</figcaption></figure><p>因而，限制一些应用读取应用列表，就成为了平衡隐私与便利的重要方法之一。<a href="https://github.com/Dr-TSNG/Hide-My-Applist" target="_blank">HideMyApplist</a> 就是这么一个 Xposed 模块，可用于限定指定应用可以读取的应用列表。</p><p>为保证最佳体验，本文后面的内容将用 LSPosed 框架进行技术演示。其底层依赖于 Riru。如果不清楚 Riru 的用途，是什么以及如何安装，那么可以 <a href="https://sspai.com/post/67797">点击这个链接</a> 查看本系列第一章对它的介绍。如果不知道 Xposed 是什么的话，你可以将其看成一种「免刷 ROM 即可修改系统的框架」，或是到 <a href="https://www.xda-developers.com/xposed-framework-hub/" target="_blank">XDA</a> 查看对 Xposed 的详尽介绍。</p><h3>安装</h3><p>在开始之前，需要安装 LSPosed。这是一个现代化的 Xposed 实现。可以在 Magisk 仓库里下载到 LSPosed：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/2eec7ad724916b4ce09b47d7d6796684.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/2eec7ad724916b4ce09b47d7d6796684.png" referrerpolicy="no-referrer"><figcaption>LSPosed 位于 Magisk 仓库</figcaption></figure><p>安装完成后，请重启手机。重启完毕后，应用列表里面应该会多出一个叫做 LSPosed 的应用。这代表安装完成，可以进行后面的步骤了。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/5660f5414642cc65b4519710cc34ebd1.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/5660f5414642cc65b4519710cc34ebd1.png" referrerpolicy="no-referrer"><figcaption>安装完成</figcaption></figure><p>点开 LSPosed，你应该可以看到类似绿色的「已激活」的画面：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/c096da4cf16324a40012f7f71f4f30d7.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/c096da4cf16324a40012f7f71f4f30d7.png" referrerpolicy="no-referrer"><figcaption>成功激活的页面</figcaption></figure><p>需要说明的是：在未安装并激活任何「模块」的情况下，LSPosed <strong>不会</strong>发挥任何作用。示意图中的「XX模块已启用」是针对已经设定好的情况，不代表初始效果。</p><p>如果能看到绿色的「已激活」，则代表 LSPosed 工作正常<sup class="ss-footnote" href title="如果你看到了黄色的背景，特别是附带有 SELinux 规则不正确等提示，很可能说明你的 ROM 有问题。根治的唯一办法是换系统..." footnote-id="3">3</sup>，可以添加「模块」了。点击「仓库」，找到「隐藏应用列表 / Hide My Applist」，并右滑到「版本」栏中，点击「附件」以下载模块安装包。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/9869ed35053e4aaf9bb6713d7a5432dd.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/9869ed35053e4aaf9bb6713d7a5432dd.png" referrerpolicy="no-referrer"><figcaption>下载模块的页面</figcaption></figure><p>安装完成后，请在 LSPosed 中激活该模块。步骤如下：</p><ul><li>点击「模块」、「隐藏应用列表」；</li><li>打开顶部的「启用模块」。</li></ul><p>最终效果图如下<sup class="ss-footnote" href title="作用域只需要选择「系统框架」" footnote-id="4">4</sup>：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/ca85e3ca4e8e88b8345913aac315903e.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/ca85e3ca4e8e88b8345913aac315903e.png" referrerpolicy="no-referrer"></figure><p>之后，须重启手机。重启完毕后，打开「隐藏应用列表」，开始设置应用列表读取规则。当然，在未设定之前，「隐藏应用列表」<strong>不会</strong>真的拦截应用对列表的读取请求。请忽略示意图中的拦截情况。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/6ba248162acf259b01d241d9f7810bc8.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/6ba248162acf259b01d241d9f7810bc8.png" referrerpolicy="no-referrer"><figcaption>安装完毕的示意图</figcaption></figure><h3>设定拦截规则</h3><p>为了拦截应用列表，需要定义「模板」。这是一串清单，其根据「白名单」或是「黑名单」的设定来拦截位于清单上应用的探测。当然，你也可以根据需求选择「白名单」模式。这里将使用「黑名单」机制进行演示。点击「模板管理」，并点击「创建黑名单模板」，开始设置模板。</p><figure class="ss-imgRows" figcaption="模板设置页面"><img src="https://cdn.sspai.com/2021/07/23/f052d528698308b0048a71a4a31451e0.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2021/07/23/f052d528698308b0048a71a4a31451e0.png" referrerpolicy="no-referrer"><img src="https://cdn.sspai.com/2021/07/23/4e2226845fd00d0f2c749489740f0a7c.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" alt data-original="https://cdn.sspai.com/2021/07/23/4e2226845fd00d0f2c749489740f0a7c.png" referrerpolicy="no-referrer"></figure><p>这里有一些（可以设定的）选项，下面逐一介绍一下：</p><ul><li>模板名称：标识符，方便管理。对实际拦截无影响；</li><li>被 X 个应用使用：不可设定。表示该模板被多少应用使用。由于还没有对任意应用应用该「模板」，这里的计数为 0。暂时忽略即可，对设定模板无影响；</li><li>隐藏 X 个应用：指定该模板需要拦截的应用列表。在这里被选中的应用，将无法被应用了「模板」的应用读取；</li><li>启用 X 条 maps 规则：本文将忽略它，因为默认的拦截规则已经能够挡住日常的读取请求。</li></ul><p>为方便理解用法，先假定这么一个应用场合：</p><ul><li>需要创建一个叫「隐藏 Magisk」的模板；</li><li>需要隐藏的应用是 Magisk。</li></ul><p>那么，可以这么设定：</p><ul><li>在「模板名称」填入「隐藏 Magisk」；</li><li>点击「隐藏 X 个应用」后的「编辑列表」，选中 Magisk。</li></ul><p>完整的操作录屏如下：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/a7be65fc9e4c73a0172c9e084bcfe774.gif" data-original="https://cdn.sspai.com/2021/07/23/a7be65fc9e4c73a0172c9e084bcfe774.gif" referrerpolicy="no-referrer"><figcaption>创建模版 ing...</figcaption></figure><p>不要忘记点击右上角的「软盘」图标以保存模板。保存完毕后，回到「模板管理」页面，你会发现刚刚创建的模板已经列出。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/c50fb989070498c71ab4c9220483d323.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/c50fb989070498c71ab4c9220483d323.png" referrerpolicy="no-referrer"><figcaption>新模板出现了！</figcaption></figure><p>这样，就有了一个可以拦截读取 Magisk 应用的模板了。接下来，需要做的事情就是将该模板应用到「不希望读取到 Magisk」的应用上。为方便演示，这里以 LibChecker 作为示例。回到主页，点击「选择生效应用」，找到 LibChecker。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/e2593702ebd27ff60008235719aa749e.gif" data-original="https://cdn.sspai.com/2021/07/23/e2593702ebd27ff60008235719aa749e.gif" referrerpolicy="no-referrer"><figcaption>定位 LibChecker</figcaption></figure><p>要启用限制，需要首先点击「启用隐藏」。这会使下方许多原本不可选择的选项变为可选。各选项的含义及（在这里）所需的设定如下：</p><ul><li>工作模式：筛选要应用的模板类型。默认是黑名单。勾上就是白名单，不勾就是黑名单。由于需要的是「黑名单模式」，这里将不勾选此项；</li><li>启用所有隐藏模式：字面义。不勾的话，需要点击「选择隐藏方式」自行选择隐藏模式。为保证隐藏效果，这里将勾选此项；</li><li>选择隐藏方式：可选的隐藏方式。这里因选择了「启用所有隐藏模式」，忽略；</li><li>启用 X 个模板：对该应用施加的模板。由于在这里只需要「隐藏 Magisk」，因此选择「隐藏 Magisk」模板即可；</li><li>额外隐藏 X 个应用：字面义。这里不会用到，忽略；</li><li>额外启用 X 条 maps 规则：字面义。这里也不会用到，忽略。</li></ul><p>字多不看？这里有完整的操作录屏：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/6627843c495f9ee5ff5a7b26377b20df.gif" data-original="https://cdn.sspai.com/2021/07/23/6627843c495f9ee5ff5a7b26377b20df.gif" referrerpolicy="no-referrer"><figcaption>其实也没有那么复杂... 文字叙述果然还是有局限性的啊...</figcaption></figure><p>不要忘了点击右上角的软盘图标来保存！🙋‍♀</p><p>如果这时强制停止<sup class="ss-footnote" href title="这是为了让拦截生效" footnote-id="5">5</sup>，并重新打开 LibChecker，你会发现：应用无法读取到 Magisk 了。</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/c81ff59856601d101642962b54e7edbc.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/c81ff59856601d101642962b54e7edbc.png" referrerpolicy="no-referrer"><figcaption>Magisk 不见了！</figcaption></figure><p>这代表拦截成功。自此以后，该应用就无法得知 Magisk 应用的存在了<sup class="ss-footnote" href title="这里只是说 Magisk 应用本身不会被检测到。不通过检测包名来识别 Magisk 的不受影响" footnote-id="6">6</sup>。同理，你也可以对其它的应用施加这样的限制。这样，应用就无法读取到黑名单内的应用列表了。</p><h3>验证拦截效果</h3><p>不过，看到这里，你也许会思考这么一个问题：拦截真的生效了吗？要怎么知道它是不是真的生效了？不用担心，作者已经考虑到了这个问题。可以通过主页上的「检测测试」功能，来检测拦截是否真的生效。</p><p>使用方法如下：</p><ol><li>给「隐藏应用列表」应用启用一个模板。这里将以「隐藏 Magisk」作为例子；</li><li>点击「设置」，开启「Hook 模块自身」；</li><li>强行停止「隐藏应用列表」；</li><li>长按删除掉除「com.topjohnwu.magisk」以外的包名（因为只做了拦截 Magisk 的设定。如不删除的话会影响到测试结果）；</li><li>点击「检测测试」，进行测试。</li></ol><p>完整的操作录屏如下：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/73e5dfa7fdf4ec78b5b554ccbd3969d8.gif" data-original="https://cdn.sspai.com/2021/07/23/73e5dfa7fdf4ec78b5b554ccbd3969d8.gif" referrerpolicy="no-referrer"><figcaption>测试拦截是否生效</figcaption></figure><p>最终的结果应该类似下面的截图：</p><figure class="image ss-img-wrapper"><img src="https://cdn.sspai.com/2021/07/23/8552a844284de52cec1d98aa3ffd8a2b.png?imageView2/2/w/1120/q/40/interlace/1/ignore-error/1" data-original="https://cdn.sspai.com/2021/07/23/8552a844284de52cec1d98aa3ffd8a2b.png" referrerpolicy="no-referrer"><figcaption>拦截检测结果</figcaption></figure><p>如与上图一致，就可以证明「隐藏应用列表」确实已经生效<sup class="ss-footnote" href title="部分拦截需要配合该软件的 Riru 模块才能生效。部分拦截可能要重启以后才能生效。syscall 拦截未编写，因此一定是能检测到的" footnote-id="7">7</sup>。</p><p>限于篇幅原因，展开介绍的内容就到这里了。但该应用还有许多高级的拦截功能，不妨一试：</p><ul><li>除了黑名单，还可以用「白名单」限制特定应用「只能读取的应用列表」；</li><li>一个应用可以应用多个拦截「模板」。这在简化特定设定方面非常实用；</li><li>maps 拦截；</li><li>该模块有一个配套的 Magisk 模块<sup class="ss-footnote" href="https://github.com/Dr-TSNG/Hide-My-Applist" title="如果在检测结果中，File detections 一项全为 N，则无需模块。反之则需要。你可以在 GitHub Releases 下载到配套模块：https://github.com/Dr-TSNG/Hide-My-Applist" footnote-id="8">8</sup>，可以按需启用。</li></ul><p>因为该软件同样免费且开源，所以没有附上替代品。</p><h2>结语</h2><p>以上就是两个保护隐私的方案介绍的全部内容了。</p><p>受制于 UI 设计的原因，这里介绍的两个软件上手起来会相对复杂一些。不过，在设定完成后，便不必始终操心。</p><p>也许你已经注意到了：这里介绍的内容操作起来比较局限，也许还会损伤到应用的正常功能。因此，<strong>下一期文章中，将介绍禁用应用组件的方法。这样，既可以尽量避免破坏应用的正常功能，又能在一定程度上保护隐私。</strong></p><p>一如既往的，衷心希望这里的内容对你有所帮助，也衷心感谢 <a href="https://unsplash.com/" target="_blank">Unsplash</a> 提供的无版权精致图片。本文的许多图片都来自于此。那么，下期见。</p><p>> 下载少数派 <a href="https://sspai.com/page/client">客户端 </a>、关注 <a href="https://sspai.com/s/J71e">少数派公众号 </a>，了解更妙的数字生活 🍃</p><p>> 想申请成为少数派作者？<a href="https://sspai.com/apply/writing" target="_blank">冲！</a></p></div><!----></div><div style="border:1px solid transparent;" data-v-3e67f99b></div><div class="article-side sideTop" style="display:none;left:0;" data-v-7be936cf data-v-3e67f99b><div class="download-guide-container" data-v-14f9065e data-v-7be936cf><div class="btn-wrapper" data-v-14f9065e><!----><button class="btn btn-view" data-v-14f9065e><i class="iconfont iconfont-phone" data-v-14f9065e></i></button></div><a href="https://sspai.com/s/JYjP" target="_blank" data-v-14f9065e><!----></a></div><div class="item-wrapper" data-v-7be936cf><button class="btn btn-charge" data-v-7be936cf><i class="iconfont" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>22</span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-comment" data-v-7be936cf><i class="iconfont iconfont-comment" data-v-7be936cf></i></button><span class="count" data-v-7be936cf>13</span></div><div class="item-wrapper" data-v-7be936cf><span data-v-7be936cf><div role="tooltip" id="el-popover-7383" aria-hidden="true" class="el-popover el-popper popper-share right ss-popper-dark-border" style="width:undefinedpx;display:none;"><!----><div class="article-side-share-btn"><a href="https://service.weibo.com/share/share.php?url=null?ref=weibo&title=%E3%80%90%E4%BD%A0%E7%9A%84%E5%BF%85%E8%A6%81%E9%9A%90%E7%A7%81%E6%89%8B%E5%86%8C%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E6%8E%A7%E5%88%B6%E8%81%94%E7%BD%91%E4%B8%8E%E5%BA%94%E7%94%A8%E5%88%97%E8%A1%A8%E8%AF%BB%E5%8F%96%E3%80%91%E7%AE%80%E4%BB%8B%E8%BF%99%E6%98%AF%E3%80%8C%E4%BD%A0%E7%9A%84%E5%BF%85%E8%A6%81%E9%9A%90%E7%A7%81%E6%89%8B%E5%86%8C%E3%80%8D%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%AB%A0%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8E%E3%80%8C%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E3%80%8D%E4%B8%8E%E3%80%8C%E9%99%90%E5%88%B6%E5%BA%94%E7%94%A8%E5%88%97%E8%A1%A8%E8%AF%BB%E5%8F%96%E3%80%8D%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E5%B9%B6%E6%9C%AA%E9%98%85%E8%AF%BB%E8%BF%87%E6%9C%AC%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%8C%E6%8E%A8%E8%8D%90%E5%85%88%E4%BB%8E%E9%82%A3%E9%87%8C%E5%BC%80%E5%A7%8B%EF%BC%9A%E3%80%8A%E4%BD%A0%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&pic=https%3A%2F%2Fcdn.sspai.com%2Farticle%2Fdc05cc5f-3a89-fe39-0578-fef150458273.jpg%3FimageMogr2%2Fauto-orient%2Fquality%2F95%2Fthumbnail%2F!1420x708r%2Fgravity%2FCenter%2Fcrop%2F1420x708%2Finterlace%2F1&appkey=3196502474#" target="_blank"><i class="icon icon-article_weibo right-16"></i></a><span><div role="tooltip" id="el-popover-8059" aria-hidden="true" class="el-popover el-popper" style="width:undefinedpx;display:none;"><!----><div style="text-align:center;"><div id="qr-code"></div><small class="qr-small">扫码分享</small></div></div><span class="el-popover__reference-wrapper"><i class="icon icon-article_weixin right-16"></i></span></span><a href="https://twitter.com/share?text=%E3%80%90%E4%BD%A0%E7%9A%84%E5%BF%85%E8%A6%81%E9%9A%90%E7%A7%81%E6%89%8B%E5%86%8C%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E6%8E%A7%E5%88%B6%E8%81%94%E7%BD%91%E4%B8%8E%E5%BA%94%E7%94%A8%E5%88%97%E8%A1%A8%E8%AF%BB%E5%8F%96%E3%80%91%E7%AE%80%E4%BB%8B%E8%BF%99%E6%98%AF%E3%80%8C%E4%BD%A0%E7%9A%84%E5%BF%85%E8%A6%81%E9%9A%90%E7%A7%81%E6%89%8B%E5%86%8C%E3%80%8D%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC%E4%BA%8C%E7%AB%A0%E2%80%94%E2%80%94%E5%85%B3%E4%BA%8E%E3%80%8C%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E3%80%8D%E4%B8%8E%E3%80%8C%E9%99%90%E5%88%B6%E5%BA%94%E7%94%A8%E5%88%97%E8%A1%A8%E8%AF%BB%E5%8F%96%E3%80%8D%E3%80%82%E5%A6%82%E6%9E%9C%E4%BD%A0%E5%B9%B6%E6%9C%AA%E9%98%85%E8%AF%BB%E8%BF%87%E6%9C%AC%E7%B3%BB%E5%88%97%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%8C%E6%8E%A8%E8%8D%90%E5%85%88%E4%BB%8E%E9%82%A3%E9%87%8C%E5%BC%80%E5%A7%8B%EF%BC%9A%E3%80%8A%E4%BD%A0%E7%9A%84%EF%BC%88%E6%9D%A5%E8%87%AA%20%40%E5%B0%91%E6%95%B0%E6%B4%BEsspai%EF%BC%89%E5%85%A8%E6%96%87%EF%BC%9A&url=null" target="_blank" class="twitter"><i class="icon icon-article_twitter right-16"></i></a></div></div><span class="el-popover__reference-wrapper"><button class="btn-mini btn-share" data-v-7be936cf><i class="iconfont iconfont-share" data-v-7be936cf></i></button></span></span></div><div class="item-wrapper" data-v-7be936cf><button class="btn-mini btn-collect" data-v-7be936cf><i class="iconfont iconfont-collect" data-v-7be936cf></i></button></div><!----></div><!---->  
</div>
            