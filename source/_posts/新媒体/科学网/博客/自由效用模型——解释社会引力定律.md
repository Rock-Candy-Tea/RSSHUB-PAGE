
---
title: '自由效用模型——解释社会引力定律'
categories: 
 - 新媒体
 - 科学网
 - 博客
headimg: 'https://cors.zfour.workers.dev/?http://image.sciencenet.cn/home/202104/05/095436aoof8fmp8ozdfszn.jpg'
author: 科学网
comments: false
date: Mon, 05 Apr 2021 09:56:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://image.sciencenet.cn/home/202104/05/095436aoof8fmp8ozdfszn.jpg'
---

<div>   
<p><span style="font-family: 宋体">  一百多年来，研究者们陆续在铁路客运、公路出行、人口迁移、信息流通、商品贸易、社会交往、科研合作等大量人、物、信息的流动现象中，发现存在类似万有引力定律的规律——两地之间的某种流动量正比于两地人口数量的乘积，反比于两地之间距离的幂（或指数）函数。这种规律被称为<strong>社会引力定律</strong>。据此建立的引力模型（国内也译为重力模型）在交通出行分布预测、人口迁移量预测、地区间贸易量预测等诸多方面获得了广泛应用。但复杂的社会系统中为何会有这样简单的引力定律存在？这是个非常吸引人的问题。</span><span style="font-family: 宋体;"> </span></p><p style="line-height:115%"><span style="font-family: 宋体"></span></p><p><span style="font-family: 宋体">  在过去的半个多世纪里，很多研究者对社会引力定律根源做出过不同视角的解释[1]。其中最广为人知的是物理学家用最大熵原理[2]、经济学家用随机效用理论中的Logit模型[3]对社会引力定律进行的解释。但这两类解释均未考虑实际人类移动行为中普遍存在的个体相互作用：实际中的出行者在出行途中会相互影响而形成拥堵，在目的地人多也会造成拥挤，进而影响出行者对目的地的选择行为。之前，我和合作者将个体选择目的地的过程刻画成了一种能体现个体之间相互作用的拥挤博弈，并由此导出了引力模型（见“<a href="http://blog.sciencenet.cn/blog-404069-1187651.html" target="_blank"><span style="font-family: 等线;color: black">目的地选择博弈——空间交互新理论，引力模型新解释</span></a>”）。但当时我们假设所有的选择者都是完全理性的，他们有无限的知识和计算能力，能对选项的效用形成准确认知。然而，在实际社会系统中的选择者总会受到各种内外因素的影响，导致选择的理性是有界限的。但是，能够同时反映目的地选择行为中个体有限理性和相互作用这两个关键特征的社会引力定律解释依然缺乏。</span><span style="font-family: 宋体;"> </span></p><p style="line-height:115%"><span style="font-family: 宋体"></span></p><p><span style="font-family: 宋体">  最近，我和合作者们建立了一个自由效用模型来解释社会引力定律。我们以一个简单的交通系统作为研究背景，该系统中有许多从同一起点出发的出行者，他们从若干地点中选择一个地点作为自己的目的地。其中，每个地点带给其选择者的效用不仅包括目的地的固定收益、路途上的固定成本等构成的固定效用，还包括去往同一目的地的出行者们相互影响所导致的路途拥堵成本和目的地拥挤成本构成的可变效用，这两者的和在经济学中被称为边际效用，它是一个单调递减函数。我们假设出行者在选择目的地时，都希望自己能获得的效用最大化。那么问题就变成了：个体如何选择才能让自己获得最大的效用？</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family: 宋体">  这一问题与经济学中的一个消费者在支出预算固定的条件下如何购买多种等价商品的问题是非常类似的。消费者在购买这些商品时，为了让所购买的各种商品提供的总效用（即各种商品边际效用积分的和）最大化，最佳策略就是让任何一种商品的边际效用等于其他任何一种商品的边际效用，这被称为“等边际准则”。如果消费者改变这一策略，把购买某种商品的一部分钱拿去购买另一种商品，就会使少买前一种商品所损失的效用超过多买后一种商品所增加的效用，从而使自身获取的总效用降低（见下图）。因此，消费者不会再改变等边际效用的各种商品的数量，此时系统的状态在经济学中被称为“消费者均衡”。</span><span style="font-family: 宋体;"> </span></p><p style="text-align:center"><img src="https://cors.zfour.workers.dev/?http://image.sciencenet.cn/home/202104/05/095436aoof8fmp8ozdfszn.jpg" title alt="fig1.jpg" width="260" height="242" style="width: 260px; height: 242px;" referrerpolicy="no-referrer"><br></p><p><strong><span style="font-size:13px;font-family:宋体">固定预算下消费者选择两种商品所获效用的示意图</span></strong><span style="font-size:13px;font-family:宋体">（来源于</span><a href="https://economicdictator.com/" target="_blank"><span style="font-size:13px;font-family:宋体">https://economicdictator.com</span></a><span style="font-size:13px;font-family:宋体">）。简单起见，在本文中我假设这两种商品的价格是相等的，即Px=Py。图中两条蓝实线是两种商品的边际效用函数，蓝虚线分开的左右两实线下方面积之和就是消费者获取的总效用。从图中可以看出，只有两种商品边际效用相等时，总效用才会达到最大。</span></p><p style="text-align:center"><span style="font-family:宋体"> </span></p><p><span style="font-family:宋体">  类似地，交通系统中的出行者们也会遵循等边际准则，他们的最佳目的地选择策略同样是让所有目的地的边际效用都相等。此时若任何一个出行者将自己已选定的目的地更改为另一个目的地，只会降低自己所获得的效用，系统的总效用也会降低。因此，理性的出行者都会遵循等边际准则以使自身的效用最大化，此时系统的总效用也会达到最大（这种状态在交通科学中被称为“用户平衡”）。换句话说，在已知各目的地边际效用函数的前提下，我们就可以通过求解以系统总效用（即各种目的地边际效用积分的和）最大为目标函数、以出行者总量为约束的最优化模型，来预测选择各个目的地的出行者数量。这个模型在数学形式上与拥挤博弈以及用户平衡分配模型[4]都是一致的，它们都反映了理性出行者之间的相互作用。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family: 宋体">  但在真实世界中，出行者是有限理性的，他们很难精确知道所有目的地的真实效用。如果出行者对所有目的地的效用都完全不知道，他们就只能纯随机地选择目的地。如果出行者想获得更高的效用，就必须通过学习才能获取更多有关目的地效用的知识，而获取这些知识所需的信息量最自然的度量就是负的信息熵<span style="font-family: "times new roman";">-<em>H</em></span>。如果单位信息量的价格是<span style="font-family: "times new roman";"><em>T</em></span>，那么出行者个体需要付出的学习成本就是<span style="font-family: "times new roman";">-<em>TH</em></span>，所有出行者需要付出的学习成本就是价格与负系统熵的乘积<span style="font-family: "times new roman";">-<em>TS</em></span>。出行者们会权衡自身能获取的效用与付出的学习成本，来做出最佳选择策略。此时最优化模型的目标函数就可以写为系统总效用减去总学习成本。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family: 宋体">  有趣的是，该模型的目标函数与物理学中的亥姆霍兹自由能函数<span style="font-family: "times new roman";"><em>F</em>=<em>U</em>-<em>TS</em></span>在数学形式上是一致的，因此我们把该模型称为“自由效用”模型。换句话说，出行目的地选择系统可类比为一个包含若干子系统、与热库进行热接触的等温等容热力学系统——出行者的数量类比为粒子的数量，模型目标函数的第一项类比为包含势能的热力学系统的内能（因此在势博弈中此项被命名为“势函数”[5]），信息价格类比为热库的温度，总信息熵类比为热力学系统的熵，学习成本类比为热力学系统与热库之间交换的热量，边际效用则类比为子系统的化学势。但这两个系统的本质是不同的：热力学系统遵循自由能最低原理使系统达到平衡状态，在该状态下所有子系统均具有相同的化学势；而出行目的地选择系统自由效用的最大化则是出行者遵循等边际准则做出的最佳选择策略所导致的结果。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family: 宋体">  上述自由效用模型既能反映出行者之间的相互作用，又能反映出行者的有限理性特征。之前解释社会引力定律的最大熵模型、Logit模型和简化的目的地选择博弈模型都是自由效用模型的特例。当信息学习价格为零时，自由效用模型就退化为目的地选择博弈模型。在出行者之间的相互作用被忽略的情况下，自由效用模型就与Logit模型具有相同的数学形式。但二者的假设是不同的：Logit模型假设个体对选项效用的认知存在偏差，该偏差服从独立同分布的Gumbel分布；而自由效用模型则假设有限理性个体需付出额外的学习成本来认知选项的效用（我们认为这更符合实际）。另外，在忽略出行者之间的相互作用时（就像忽略气体分子间的相互作用一样），自由效用模型的解与事先假设出行者们的出行总成本固定（尽管实际中出行者的总成本不可能像物理系统总能量那样固定）的最大熵模型的解是一致的，但自由效用模型并不需固定出行总成本，因为出行者们付出的总成本是他们最终选择的结果，而不是前提。总之，从相互作用的有限理性个体的选择行为的角度建立的自由效用模型更符合实际，能为社会引力定律提供更合理的解释，有助于我们更深入地理解社会、交通、经济等复杂系统中空间交互模式的底层机制。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family:宋体">  自由效用模型不仅可以解释社会引力定律，还可以解释势博弈模型中的势函数。Monderer和Shapley提出的势博弈模型[5]中的目标函数是类比物理学中的势函数建立的，其平衡解就是势函数最大时的解，此时所有玩家具有相同的收益，玩家不能单方面改变选择策略再来提高自身的收益。但是，Monderer和Shapley对如何解释势函数提出了一个问题“This raises the natural question about the economic content (or interpretation) of P (potential function): What do the firms try to jointly maximize? We do not have an answer to this question.”现在，我们从自由效用模型中就可以知道，玩家只会追求自身效用（即博弈中的收益）最大化，采用的最佳策略就是让自己所选选项与其他被选的选项的边际效用相等。当所有玩家都遵循这样的等边际准则时，各个选项边际效用函数积分之和（即总效用）自然就是最大的。换句话说，势函数最大是玩家个体最优选择策略的结果，而不是玩家们共同追求的目标。这让我们对势博弈模型有了更本质的理解，能让我们能更好地为各类复杂社会系统中的选择行为建模。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family:宋体">  自由效用模型不仅能够描绘交通系统中出行者的目的地选择行为，还可以描绘出行者的出行方式选择和路径选择行为。自由效用模型的一个特例——Logit模型本身就是交通科学中预测出行方式选择概率的经典模型。但传统的Logit模型无法体现出行者之间的相互作用。在实际中，出行方式的效用会受到使用相同方式的出行者数量的影响，例如公交车上的乘客人数的增加将降低公交车乘客的舒适程度。相比之下，自由效用模型能更好地刻画实际中存在相互作用的出行者们的出行方式选择行为。此外，前面介绍了不考虑学习成本的自由效用模型与交通科学中预测出行者路径选择行为的用户平衡分配模型在数学形式上是一致的，而考虑学习成本的自由效用模型则与交通科学中的随机用户平衡分配模型[6]具有一致的数学形式。但是，国内多数交通规划教材中都认为用户平衡模型目标函数中路段成本函数的积分缺乏合理的解释。而自由效用模型则可以让我们从出行者选择行为的角度更好地理解用户平衡模型背后的根源。总之，自由效用模型为建立描绘出行选择行为的统一框架提供了新的途径。特别是在当前这个能反映人类移动行为的大数据日益丰富的时代，通过从这些大数据中挖掘个体群体出行选择规律来合理设置自由效用模型中的各类效用函数，可以为定量分析处处充满着出行者相互作用的复杂交通系统提供一套可选的工具。</span><span style="font-family: 宋体;"> </span></p><p><span style="font-family:宋体">  事实上，我们在之前投往Journal of Statistical Mechanics: Theory and Experiment期刊的“Free utility model for explaining the social gravity law”这篇论文的初稿中（见<a href="https://arxiv.org/abs/2009.07984v1" target="_blank">https://arxiv.org/abs/2009.07984v1</a>），已经讨论了用自由效用模型来描绘出行目的地、方式和路径选择行为，并建立了出行者同时选择目的地和路径的网络组合模型。但审阅我们论文的两位审稿人都认为非交通领域的读者可能不太容易理解出行路径、方式选择以及组合建模的问题，建议我们删除这些与解释社会引力定律无关的内容。因此我们最终发表的论文（见<a href="https://iopscience.iop.org/article/10.1088/1742-5468/abee18" target="_blank">https://iopscience.iop.org/article/10.1088/1742-5468/abee18</a>或<a href="https://arxiv.org/abs/2009.07984v2" target="_blank">https://arxiv.org/abs/2009.07984v2</a>）并未包含这部分内容。但我觉得这部分内容在交通科学方面还是非常有价值的，它不仅能让我们从人类出行选择行为的角度更好地理解多种经典出行需求预测模型背后的根源，还可以让我们在一个统一的建模框架下系统研究出行者的完整出行决策过程。因此，王浩和我又对这部分内容进行了进一步的扩充和细化，用自由效用模型分别和同时描绘了出行者的目的地、方式和路径选择行为。这部分工作目前已经以“Describing traveler choice behavior using the free utility model”为题共享到了arXiv上，详见<a href="https://arxiv.org/abs/2104.00223" target="_blank">https://arxiv.org/abs/2104.00223</a>。希望有更多交通领域的读者能看到它。</span><span style="font-family: 宋体;"> </span></p><p><strong><span style="font-family:宋体">参考文献：</span></strong></p><p><span style="font-family: 宋体;">[1] 闫小勇, 社会引力定律追根溯源, 2020 物理学报 69(8) 088903</span></p><p><span style="font-family: "times new roman";"><span style="font-family: 宋体;">[2]</span><span style="font-size: 13px; font-family: CMR10;"> Wilson A G, </span><span style="font-size: 13px; font-family: CMTI10;">A statistical theory of spatial distribution models</span><span style="font-size: 13px; font-family: CMR10;">, 1967 </span><span style="font-size: 13px; font-family: CMTI10;">Transport. Res. </span><span style="font-size: 13px; font-family: CMBX10;">1 </span><span style="font-size: 13px; font-family: CMR10;">253-269</span></span></p><p><span style="font-family: "times new roman";"><span style="font-family: 宋体;">[3]</span><span style="font-size: 13px; font-family: CMR10;"> Domencich T A and Mcfadden D 1975 </span><span style="font-size: 13px; font-family: CMTI10;">Urban Travel Demand: A Behavioral Analysis </span><span style="font-size: 13px; font-family: CMR10;">(Amsterdam: North-Holland Publishing Co.)</span></span></p><p><span style="font-family: "times new roman";"><span style="font-family: 宋体;">[4]</span><span style="font-size: 13px; font-family: CMR10;"> Beckmann M J, McGuire C B and Winsten C B 1956 </span><span style="font-size: 13px; font-family: CMTI10;">Studies in the Economics of Transportation </span><span style="font-size: 13px; font-family: CMR10;">(New Haven: Yale University Press)</span></span></p><p><span style="font-family: "times new roman";"><span style="font-family: 宋体;">[5]</span><span style="font-size: 13px; font-family: CMR10;"> Monderer D and Shapley L S, </span><span style="font-size: 13px; font-family: CMTI10;">Potential games</span><span style="font-size: 13px; font-family: CMR10;">, 1996 </span><span style="font-size: 13px; font-family: CMTI10;">Games Econ. Behav. </span><span style="font-size: 13px; font-family: CMBX10;">14 </span><span style="font-size: 13px; font-family: CMR10;">124-143</span></span></p><p><span style="font-family: "times new roman";"><span style="font-family: 宋体;">[6]</span><span style="font-size: 13px; font-family: CMR10;"> Fisk C, </span><span style="font-size: 13px; font-family: CMTI10;">Some developments in equilibrium traffic assignment</span><span style="font-size: 13px; font-family: CMR10;">, 1980 </span><span style="font-size: 13px; font-family: CMTI10;">Transport. Res. Part B: Methodol. </span><span style="font-size: 13px; font-family: CMBX10;">14 </span><span style="font-size: 13px; font-family: CMR10;">243-255</span></span></p><p><br></p>                    <br><br>
                                        <label style="font-size:13px; color:#850f0f">转载本文请联系原作者获取授权，同时请注明本文来自闫小勇科学网博客。<br>链接地址：</label><a href="http://blog.sciencenet.cn/blog-404069-1280348.html" target="_blank" style="font-size:13px; color:#850f0f">http://blog.sciencenet.cn/blog-404069-1280348.html </a>
  <br><br>上一篇：<a href="http://blog.sciencenet.cn/blog-404069-1223497.html" target="_black">何去何从？—— 圆周率日，再讲讲论文背后的故事：）</a><br>                    <!--大赛结束-->
                                        
  
</div>
            