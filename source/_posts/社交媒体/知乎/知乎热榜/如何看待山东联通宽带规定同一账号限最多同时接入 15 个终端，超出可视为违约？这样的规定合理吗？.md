
---
title: '如何看待山东联通宽带规定同一账号限最多同时接入 15 个终端，超出可视为违约？这样的规定合理吗？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://picsum.photos/400/300?random=1357'
author: 知乎
comments: false
date: Fri, 11 Feb 2022 03:45:08 GMT
thumbnail: 'https://picsum.photos/400/300?random=1357'
---

<div>   
contaminated的回答<br><br><p data-pid="H0OT7sfl">我特别想Cue一下这个回答: </p><a data-draft-node="block" data-draft-type="link-card" href="https://www.zhihu.com/answer/2342544127" data-image="https://pic2.zhimg.com/v2-6fa91286aad43746228efc06aacf0125_bh.jpg" data-image-width="750" data-image-height="429" class="internal">请问如何看待山东联通宽带规定同一账号限最多同时接入15个终端？</a><p data-pid="OwV-GaD6">这种一本正经胡说八道的营销号竟然还能有这么多赞。实现统计终端用户数量用基本的计算机网络知识是无法实现的。可能有企业级的流量嗅探或者流量统计功能能实现估计终端数量，但是也精确不到十几这个数量级。</p><p data-pid="4ckFNx_h">至少这个回答里提出的几点思路是绝对不可行的。</p><p data-pid="BXQQGvfT">首先，经过路由器转发后，所有转发后的数据包都会被打成路由器的mac地址。如果开了NAT功能(家用路由器基本必开了)，内网ip也会被映射成路由器在公网上的ip。路由器的上层设备理论上无法区分这个数据包是来自路由器的转发，还是一个直连机器(路由器本质上就是一台小电脑)，也无法得知转发前子网内部的任何情况，只能通过活跃端口数得知有多少个链接。</p><p data-pid="x-uK-MQK">TTL只和操作系统有关，如果你不在内网中再嵌套内网(多层路由器转发)，最终的结果一定是来自windows的数据包TTL为64，来自Linux的数据包TTL为255，无法实现区分。</p><p data-pid="y-jwRUZ6">至于使用User-Agent进行区分，拜托都2022年了，https加密后哪能看到User-Agent，这营销号小编还活在20年前吗？</p><p data-pid="eUv5v0QB">至于ip报文的id域，它在最初设计上是为了超过大小的ip报文做分片，表明这些报文来自同一个分片。每个ip报文被分片后，都会再从编号0开始标记一组分片，和之前的分片没有半毛钱关系。因此，通过ip报文的id域是否连续，来判定是否来自同一个终端设备看着很唬人，其实完全是胡扯。</p><p data-pid="BTwXS2Ao">其实稍微更靠谱一点的想法，是TCP协议使用的序列号和确认号。但是这个编号依旧和目标网站有关。对于每一个不同的目标网站(不同ip)，操作系统都会生成一个独立的随机的起始序列号。对于运营商的上层网络设备，是无法区分这是同一个终端的不同链接，还是不同的终端的流量的，因此无法实现终端设备的数目统计。</p>  
</div>
            