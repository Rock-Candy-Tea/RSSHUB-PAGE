
---
title: '如何看待山东联通宽带规定同一账号限最多同时接入 15 个终端，超出可视为违约？这样的规定合理吗？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://picsum.photos/400/300?random=342'
author: 知乎
comments: false
date: Fri, 11 Feb 2022 09:32:04 GMT
thumbnail: 'https://picsum.photos/400/300?random=342'
---

<div>   
contaminated的回答<br><br><p data-pid="H0OT7sfl">2022.02.11 17：01 更新：</p><p data-pid="caXh9mFg">写这篇回答的本意，其实是想说引用的回答给出的方案是不怎么靠谱的，从不否认运营商有方法实现上网设备数的鉴别，事实上，实现的思路肯定有不少哈。</p><p data-pid="2tDfMl58">对于某些高校的校园网这种强制web认证，或者用锐捷客户端强行记录终端mac地址的方法，不属于本文中提到了”基本计算机网络知识“了，这属于主动信息收集（笑）。当然，我校校园网没这么反人类，直接在无线连接时走了WPA2-enterprise，在连接无线网络时输自己的账号密码就好了，刚入学时用过一段时间校园网提供的备选web认证，在手机端经常莫名其妙认证过期需要重新显式登录，体验极差。在此表扬一下我校的信息化办公室。</p><p data-pid="8MRQT-lz">部分评论提到了十几年前的网络尖兵，确实是个有些年代的产物了。大概搜了搜，当时用户提供的破解方法之一就是在ADSL猫后再接一个自己的路由器，这其实就是现在大多数家用用户自建路由器的方案了哈。说到底，做NAT的路由器在谁手里，谁就掌握了主动权。</p><p data-pid="cUv1BNcW">当然了，答主的计网水平大概也就是个本科考试水平，感谢 <a class="member_mention" href="http://www.zhihu.com/people/93d4cf4a4db32fd7b38d929d30142c82" data-hash="93d4cf4a4db32fd7b38d929d30142c82" data-hovercard="p$b$93d4cf4a4db32fd7b38d929d30142c82">@八里土人</a> 在评论区指出的流量指纹分析方法之一（也是网络尖兵的技术之一），这种通过TCP/IP协议中的设计（在我看来也许算是设计缺陷？）的思路。类似思路应该还有使用ttl，mss, recwin，recwin和mss等字段的比例关系进行计算分析。</p><hr><p data-pid="Qhru9RCe">我特别想Cue一下这个回答: </p><a href="https://www.zhihu.com/answer/2342544127" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-6fa91286aad43746228efc06aacf0125_bh.jpg" data-image-width="750" data-image-height="429" class="internal">请问如何看待山东联通宽带规定同一账号限最多同时接入15个终端？</a><p data-pid="OwV-GaD6">这种一本正经胡说八道的营销号竟然还能有这么多赞。实现统计终端用户数量用基本的计算机网络知识是无法实现的。可能有企业级的流量嗅探或者流量统计功能能实现估计终端数量，但是也精确不到十几这个数量级。</p><p data-pid="4ckFNx_h">至少这个回答里提出的几点思路是绝对不可行的。</p><p data-pid="BXQQGvfT">首先，经过路由器转发后，所有转发后的数据包都会被打成路由器的mac地址。如果开了NAT功能(家用路由器基本必开了)，内网ip也会被映射成路由器在公网上的ip。路由器的上层设备理论上无法区分这个数据包是来自路由器的转发，还是一个直连机器(路由器本质上就是一台小电脑)，也无法得知转发前子网内部的任何情况，只能通过活跃端口数得知有多少个链接。</p><p data-pid="x-uK-MQK">TTL只和操作系统有关，如果你不在内网中再嵌套内网(多层路由器转发)，最终的结果一定是来自windows的数据包TTL为64，来自Linux的数据包TTL为255，无法实现区分。</p><p data-pid="y-jwRUZ6">至于使用User-Agent进行区分，拜托都2022年了，https加密后哪能看到User-Agent，这营销号小编还活在20年前吗？</p><p data-pid="eUv5v0QB">至于ip报文的id域，它在最初设计上是为了超过大小的ip报文做分片，表明这些报文来自同一个分片。每个ip报文被分片后，都会再从编号0开始标记一组分片，和之前的分片没有半毛钱关系。因此，通过ip报文的id域是否连续，来判定是否来自同一个终端设备看着很唬人，其实完全是胡扯。</p><p data-pid="BTwXS2Ao">其实稍微更靠谱一点的想法，是TCP协议使用的序列号和确认号。但是这个编号依旧和目标网站有关。对于每一个不同的目标网站(不同ip)，操作系统都会生成一个独立的随机的起始序列号。对于运营商的上层网络设备，是无法区分这是同一个终端的不同链接，还是不同的终端的流量的，因此无法实现终端设备的数目统计。</p>  
</div>
            