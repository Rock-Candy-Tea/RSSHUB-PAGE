
---
title: 'MU5735 航班其中一部黑匣子已找到，接下来将重点开展哪些工作？通过这部黑匣子会获取哪些信息？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://pic3.zhimg.com/v2-df653791d058b06d0a2cb321f5cd720c_1440w.jpg?source=b1748391'
author: 知乎
comments: false
date: Wed, 23 Mar 2022 11:46:19 GMT
thumbnail: 'https://pic3.zhimg.com/v2-df653791d058b06d0a2cb321f5cd720c_1440w.jpg?source=b1748391'
---

<div>   
电光幻影炼金术的回答<br><br><p data-pid="fg5BC-e_">我的专业是计算机这块，参考网上的FDR（飞行数据记录仪）开源代码<sup data-text="FDR decoder" data-url="http://www.warrenstutt.com/aal77fdrdecoder/" data-draft-node="inline" data-draft-type="reference" data-numero="1">[1]</sup>，为大家分析（科普）一下大概的解码过程和具体挑战在哪里。请点个追更，持续更新。</p><p data-pid="wydlChsU">1、概述：FDR主要是依据美国国家运输安全委员会 (NTSB)指定的标准提供的FDR，我们要解码黑盒子的目的，就是把保存在FDR文件中的原始数据，恢复并且加以多方验证，得到有意义的结论。可以看成是一个数据清理+跨学科数据分析+数据挖掘的过程。</p><p data-pid="6kadPsxH">2、我们使用的FDR和这次飞机失事的FDR可能有型号区别，但是以我的经验判断，规范和解码过程，在high-level上，不会有大的区别。</p><p data-pid="0v-g5ENa">3、期望的输出示例：</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-df653791d058b06d0a2cb321f5cd720c_1440w.jpg?source=b1748391" data-size="normal" data-rawwidth="1938" data-rawheight="968" data-default-watermark-src="https://pic1.zhimg.com/v2-6b0571b9fa383b5070176a0fe5c45242_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-df653791d058b06d0a2cb321f5cd720c_r.jpg?source=b1748391" referrerpolicy="no-referrer"><figcaption>每一行代表着一个frame，每一列应该代表一种飞行传感器</figcaption></figure><p data-pid="xOndSAAy">4、更加可读的样例：</p><figure data-size="normal"><img src="https://pica.zhimg.com/v2-97b5d76476c3755b4591223ef7b10b72_1440w.jpg?source=b1748391" data-size="normal" data-rawwidth="1200" data-rawheight="1130" data-default-watermark-src="https://pic1.zhimg.com/v2-64aec572ba1390b8bc8c051b3d383409_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pica.zhimg.com/v2-97b5d76476c3755b4591223ef7b10b72_r.jpg?source=b1748391" referrerpolicy="no-referrer"><figcaption>FDR中飞行速度的输出结果</figcaption></figure><p data-pid="p0fUhwuC">5、原始数据类似存储在这样的存储片中，由于可能受到较大的损坏，<b>所以本算法的主要目的，是尽可能地恢复和修复数据。</b></p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-09f0d33b5688a09154b8ce9c87535788_1440w.jpg?source=b1748391" data-caption data-size="normal" data-rawwidth="912" data-rawheight="334" data-default-watermark-src="https://pica.zhimg.com/v2-2ab5e7e8d4efd59e4bde696f6452de7d_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pic1.zhimg.com/v2-09f0d33b5688a09154b8ce9c87535788_r.jpg?source=b1748391" referrerpolicy="no-referrer"></figure><p data-pid="XKqnKFth">6、硬件部分，生产厂商会提供对应的读取仪器，读取仪器的内部结构主要包括离散逻辑检测器、模拟信号读取、同步传输仪器、以及数据串口等。这部分更新比较快，不同型号也不一样，不再赘述。</p><p data-pid="utbycIwy">6、FDR是如何收集信息的？飞机上有中央采集单元<sup data-text="FDR收集数据过程" data-url="https://aviation.stackexchange.com/questions/57375/what-is-the-format-of-data-stored-by-a-flight-data-recorder" data-draft-node="inline" data-draft-type="reference" data-numero="2">[2]</sup>，所有数据都会送到飞机的中央采集单元（比如遵循<u><a href="http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/ARINC_717" class=" wrap external" target="_blank" rel="nofollow noreferrer">ARINC 717</a>标准）。然后这种数据会分发给其他单元，包括FDR里面的</u>防碰撞数字存储器（crash-resistant digital memory）。</p><p data-pid="5PDXhMsx">7、一种FDR中信息的标准形式为飞行记录器电子文档（FRED）<sup data-text="FRED" data-url="https://www.aviationtoday.com/2004/04/01/product-focus-say-hello-to-fred/" data-draft-node="inline" data-draft-type="reference" data-numero="3">[3]</sup>。什么是FRED？FRED将记录器的输出转换为地面回放系统的可用参数信息。换言之，RED 将提供一种标准的“信息交换”手段——一种标准的数据转换文件格式。</p><p data-pid="JX-8206m">区别于其他信息格式，FRED的优势在于以一种兼容的、统一的信息格式，把准确的工程数据（英尺、节等），反映到屏幕上，供用户分析。FRED的用户范围从国家运输安全委员会 (NTSB) 的事故调查员到航空公司维护人员查看维护或事故数据的部门，以及查看飞行运行质量保证 (FOQA) 数据的航空公司安全部门。飞行记录仪、维修记录仪和数据采集单元的制造商将为不同的设备型号提供与 FRED 兼容的软件模块。</p><p data-pid="KckfGQV9">这次飞机中的格式不一定是FRED，但是应该原理和保存方式是类似的。</p><p data-pid="s1HfPU7X">8、<b>下面要将重头戏了，怎么从FDR中获取信息？至少要经过以下几个步骤</b>：</p><p data-pid="Xa6Qjl4-">（1） 根据数据的布局（layout）确定不同参数段的位置。注意可能有些参数段已经被完全摧毁了。</p><p data-pid="bdyVyFO-">（2）验证每个布局段参数的可行性（validity），这一步可以看成是初筛，筛掉一些根本不合理的参数。</p><p data-pid="tQWQbqDq">（3）在不同的飞行阶段的数据进行比较，交叉验证。大家可以这么理解，飞机的不同飞行阶段的数据是有很强的规律的（比如事故之前的相当一段时间的数据都是正常的），那么可以利用这段正常的数据来判断，获取的不同阶段的飞行数据是否有效。这一步可以看成二次筛查。</p><p data-pid="N1QOZ-D1">（4）对于长的完全不可读的区域，找到最优的匹配方案。也就是说，尽管有些数据已经被损毁，不符合原来制定的规则，但是我们还是想要尽可能的把这部分数据利用起来。这一步要做的就是用各种办法解决不可读区域的数据。</p><p data-pid="x0GwM4Vn">（5）检查数据的时序完整性（chronological integrity ），我们前面获得的数据，很可能是片段化的数据，不足以确定整个飞行过程的故事。我们这一步要做的，就是从碎片化的数据中，拼凑出一个比较完整的故事。</p><p data-pid="-fHFAxBP">感谢大家的点赞。</p><p data-pid="Fu1eDtml">9、评论区有人问，为什么恢复数据要一两年，可以看到上面的步骤，每一步都不那么简单。结果出来之后还要结合常识和专家知识，进行多轮验证。我看到的FDR统计图中有这样的信息：</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-8c06fd33d1495788fa7bb863fb687d2d_1440w.jpg?source=b1748391" data-caption data-size="normal" data-rawwidth="802" data-rawheight="410" data-default-watermark-src="https://pic1.zhimg.com/v2-12ac4a9cdb634d821f7d4e6817558eed_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pic2.zhimg.com/v2-8c06fd33d1495788fa7bb863fb687d2d_r.jpg?source=b1748391" referrerpolicy="no-referrer"></figure><p data-pid="dqBG9WLz">这张图的题目是飞行公司有数据块文档的比例，可以看出只有一半的公司有完整的文档，20%的公司有不完整的文档。文档的用处就是帮助公司理解数据，很多公司的文档不完整，只能出了事了去找别的公司或者机构请求文档。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-e14671b1b6a52e6e8c3f329b98e0aa4b_1440w.jpg?source=b1748391" data-caption data-size="normal" data-rawwidth="822" data-rawheight="412" data-default-watermark-src="https://pic1.zhimg.com/v2-ee7c4896f1a9d0cb264bfac81d73f6d5_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pic1.zhimg.com/v2-e14671b1b6a52e6e8c3f329b98e0aa4b_r.jpg?source=b1748391" referrerpolicy="no-referrer"></figure><p data-pid="94OMSx2-">另一张图也展示了，不是所有的航空公司有能力检查和处理所有FDR的数据的，即便有数据，由于技术和资金的限制，可能挖掘也不够。这些调查主要是针对法国公司展开的，我国的公司在科技上可能没这些公司强悍，所以可以想象结果可能更不乐观。特别是这次东航董事长发布会的念稿表现，不禁让人怀疑公司的实力。</p><p data-pid="_LlPb0KO">强调一下，后面这张图展示的是<b>平时（正常飞行时）对于FDR数据的处理能力</b>，按照国际航空组织的规定，平时FDR的数据也要尽可能地分析，及时发现问题。平时如果对于FDR数据的处理和挖掘不到位，不但会产生安全隐患，万一出事了需要读FDR数据，也不具有足够的技术能力进行鲁邦快速处理。</p><p data-pid="V_r4SIAi">10、影响FDR解码的因素有很多，除了损坏程度之外，跟传感器的年龄有关，也跟外接信号有关（如果错误地接入外部设备会导致原始数据损坏）。同时也跟机械构件的拆解有关。所以央视新闻报道，在找黑匣子的时候，救援人员被吩咐了，如果说遇到黑匣子，不要移动，要请专家来评估，找一个最好的方式把黑匣子取出。</p><p data-pid="WlRmJgLa">11、下面结合美国联邦航空总署（FAA）对波音737MAX黑匣子的分析结果，给大家展示一些更多细节。JT610在2018年10月29日于Jakarta, Indonesia坠毁。航空公司组成的调查组联合了澳大利亚和新加坡组成的专家组，对黑匣子进行了分析。分析结果显示了水平稳定平衡系统（ horizontal stabilizer trim system ）的反常移动（注意本次事故有博主也分析水平气动面出了问题，不知道是不是类似）。以及多重飞行deck effects（指新飞行器的固有问题）。报告特别提到了FDR的信息跟物理数据（外部观测数据）是吻合的，也就是说FDR的单一数据是不足以下结论的，还要和外部检测数据（比如雷达等）进行匹配，对准之后才能下结论。</p><p data-pid="vOI9DJ6U">12、回应一些评论区的问题，可能也是一般的非专业朋友比较关心的：</p><blockquote data-pid="ECL6Ltw_">（1）为什么解码过程要设计得这么复杂？</blockquote><p data-pid="AejNns_8">解码过程并不复杂，前面也讲了。复杂的是修复和校验的过程。包含和外部数据校验、自洽性验证、非法数据的最有匹配等多个繁杂的步骤。每一部分都是跨学科的，并非计算机专家就能解决，还需要足够的飞行器知识。我看911的数据，至少有192个传感器，这些传感器数据之间的关系是什么，每个的错误在哪，有哪些可以互相印证，有哪些信息是互相矛盾的，都比较复杂。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-9738b818a37cdfea311e71e7f7fc3694_1440w.jpg?source=b1748391" data-caption data-size="normal" data-rawwidth="1876" data-rawheight="1610" data-default-watermark-src="https://pic3.zhimg.com/v2-4609d0adb55d2960f15de1d4a2a4ecd4_720w.jpg?source=b1748391" class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-9738b818a37cdfea311e71e7f7fc3694_r.jpg?source=b1748391" referrerpolicy="no-referrer"></figure><blockquote data-pid="i4jeFkLD">（2）请问恢复后的数据解释上是否有权威部门？或者有多方共同执行监督？</blockquote><p data-pid="UXlHvrBj">好坏自然是有的，每个结论都是有置信度的，支持的证据越高，证据自洽性越高，合理的可能性就越高。同样对数据的理解越深，越可能挖掘出新的知识。</p><p data-pid="Lqkk5ev6">但是这个好坏是否有“权威”来衡量呢？首先客观上国内和国际上的经验都不多，上一次失事都是10年前了。10年是什么概念？10年前我还没有笔记本电脑，10年前的程序员现在可能已经失业了，10年前的飞行专业专家可能都不会编程，10年前机器学习还停留在SVM、决策树、核方法的阶段，现在都是深度学习了。作为一个需要比较多技术、数据挖掘验证也比较繁琐、并且平时可以训练的数据不多的领域，可以说是比较难的。</p><p data-pid="uu1ra_33">说到权威，我又想起了那位董事长，可以说是非常典型的“权威”代表了（从地位上来看）。他们这个年纪，管理、人情世故以及政治自然是很懂，但是对于技术这块，能懂一些基本概念，基本想法已经不容易了。我想发布会的时候他根本没听懂记者在问啥。从某种程度上也是理解的，这些权威从一个部门领导、到国企小公司副手、到大公司副手、到多家小公司头头、再到大公司头头，一步步打怪升级上来是不容易的，也不能苛求他们懂很多技术。至于专业问题，不能靠“权威”，还得靠谁的事实多，谁更专业，谁的逻辑严谨。</p><blockquote data-pid="P9M2MTb4">（3）为什么不做多几个备份呢 十个八个总有一个是完好的吧，感觉这玩意也不贵的样子。</blockquote><p data-pid="4GvuHqzE">这得看是物理上的备份还是电子上的备份，物理上现在有两个黑匣子，一前一后，应该也是够的了，也肯定得考虑配重、更换成本、信号同步成本等多重问题。要知道飞行失事必然是极端事件。至于电子上的备份，利用数据冗余来提升解码准确率，我相信是有相关机制的，但是可能帮助也有限。</p><blockquote data-pid="V1pO9iTf">（4）和FDR、QAR数据打了七八年交道了，远没有楼主说的这么眩晕，FDR用的都是上个世纪之前的技术，和当下的信息技术相比，几乎是幼儿园级，扯不到科技能力上。</blockquote><p data-pid="wYj9OXBJ">我相信你应该是处理的正常的FDR数据七八年了（十年之内我国飞机还未失事），而不是和剧烈损坏的、可能是残缺的、并且包含大量异常（包括本身的异常和数据损坏造成的异常）数据的处理。这两者难度完全不同，显而易见。日常的FDR数据维护只需要几个航司的工程师即可，但是失事飞机的FDR数据恢复却经常要跨公司请专家（见上文），这就是区别。</p><blockquote data-pid="hSdOXEPc">（5）请问这个解码工作国内第三方能做吗？还是必须波音或者黑匣子制造商才能做？</blockquote><p data-pid="Y5wPZhMx">懂相关专业背景，能担责任的第三方应该不多。而且国企之间利益及各种关系复杂，除非点名要参与调查，懂得专家也不一定愿意淌这趟浑水，非常辛苦不说，搞错了（或者不准确）还得担很大的责任。</p><blockquote data-pid="ICpLqV1c">（6）所以黑匣子如果没怎么损坏，其实数据不需要太久就可以公布</blockquote><p data-pid="AXr278eJ"><b>FDR的解码过程是要伴随事故原因调查的综合分析过程，而不是直接单纯的数据读取过程。</b>因此即便损坏不大（不可能完全没损坏，根据经验），也不太会直接拿出来公布。即便公布了几十万个原始参数，大众也读不懂。还不如静静等结果。</p><blockquote data-pid="XmAmFTkv">（7）大哥，您这是加解密，从零推导。如果一切正常，直接参考厂家说明书操作很快就能读写出来。现在就看到底损坏了多少，如果存储损坏，那直接就报废了。如果某个过程损坏，都能较快的推导出来的，毕竟人家原始推导过程都有的，就怕人家不给，这样才会毕竟慢。。。。一个不专业的人说的不专业的话哦，大家听听就好。</blockquote><p data-pid="eKL-_d4i">首先这篇文章是科普向，并非面对专业人士。另外，你说的”存储损坏直接报废“的论断不正确，可参考上文分析。与之相反，即便部分损坏，其他部分也可能是好的。并且相当一大块工作针对的是存储损坏部分的处理，即便数据损坏，也可以找一个尽可能对的解，何况有各种regularization约束，结合冗余情况分析，是有希望出结果的。黑匣子解码不像某些键盘侠扛着键盘就能轻易搞定，是需要综合分析的。</p><blockquote data-pid="kroNgLol">（8）不就几个月/几天搞定了，直接读出来不就完事了，不就简单二进制读取。</blockquote><p data-pid="RwFFvIRe">觉得非常简单的，建议你先读一读下面的几十页文献。不要觉得你的几个月/几天比专家团队的几年还牛逼，PUA专家有点过分了。</p><blockquote data-pid="xaxqzKLd">（9）你怎么知道数据损坏了？</blockquote><p data-pid="Tgs9Afo6">我也希望数据没损坏，但从以往经验来看，数据部分损坏的可能性比较大。这次究竟损坏没有，程度有多大，还需要检查。毕竟解码黑匣子不能只寄托在数据完好保存上。</p>  
</div>
            