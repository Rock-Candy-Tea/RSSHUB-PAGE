
---
title: '如何看待 7 月 13 日 B 站服务器疑似突然崩溃？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://picsum.photos/400/300?random=3492'
author: 知乎
comments: false
date: Tue, 13 Jul 2021 16:06:45 GMT
thumbnail: 'https://picsum.photos/400/300?random=3492'
---

<div>   
余歌的回答<br><br><p>众说纷纭之下，一个简单的猜测。</p><p>一些情报：</p><p>1.b站，豆瓣，a站等都崩了</p><p>2.豆瓣，a站等很快恢复了，b站在编写回答的目前还没有恢复。</p><p>3.疑似云服务提供商因意外断电。</p><p>以下是猜测：</p><p>因为云服务提供商出现意外，a站和豆瓣很快接到报警，然后启动容灾方案，重新部署了环境。</p><p>至于Bilibili，从这篇文章 </p><p><a href="http://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/article/1618923" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">cloud.tencent.com/devel</span><span class="invisible">oper/article/1618923</span><span class="ellipsis"></span></a> </p><p>可以得知b站的LB是自研的，还有容灾系统也是自研的，一种比较靠谱的可能流程是：</p><p>1. 云服务提供商提供的CDN出现意外之后，大量请求绕过CDN直接打到网关。</p><p>2. 网关收到大量请求，自动启动了容灾策略。</p><p>3. 容灾策略启动服务降级。服务降级了但没完全降。</p><p>4. CDN挂了，网关也跟着挂了，服务雪崩，一直崩到整个环境。</p><p>5. 整个环境炸了，重启全部容器需要相当长的时间。</p><p>至于一些其他有的没的，各种各样的情况可能性就太低了。鸡蛋不可能放在一个篮子里，bilibili这么大一公司也不可能把机器全放在一栋楼，然后楼里断电还没ups。</p><p>大家都是冷备热备冷热备，多机房异地容灾。这么久还没恢复我目前认为合理的情况只有这一个了。</p><hr><p>有朋友告诉我恢复了，但是我这里还没有恢复。进一步是证实了容器组启动成功了，但是副本还不够多，现在还是降级状态。</p><hr><p>刷出来了的朋友给我发了一下图，我发现他们刷到的视频都涉及差不多的，而且根本不是他看的东西，看起来是先把主战跑起来了推荐系统还没跑起来。</p>  
</div>
            