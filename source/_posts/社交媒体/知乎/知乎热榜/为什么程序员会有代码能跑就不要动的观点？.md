
---
title: '为什么程序员会有代码能跑就不要动的观点？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://pic2.zhimg.com/v2-7caaf83ff7b42bfa85184e9f0180d409_1440w.jpg'
author: 知乎
comments: false
date: Mon, 11 Oct 2021 03:41:06 GMT
thumbnail: 'https://pic2.zhimg.com/v2-7caaf83ff7b42bfa85184e9f0180d409_1440w.jpg'
---

<div>   
夏天的回答<br><br><p>大家都知道，这是<b>编程的第一法则</b>：如果您的代码以某种莫名方式跑起来了，就不要再碰它了。</p><figure data-size="normal"><img src="https://pic2.zhimg.com/v2-7caaf83ff7b42bfa85184e9f0180d409_1440w.jpg" data-caption data-size="normal" data-rawwidth="639" data-rawheight="546" data-default-watermark-src="https://pic4.zhimg.com/v2-1a6a941d4cdca7e2eb611f8de7eadd99_720w.jpg" class="origin_image zh-lightbox-thumb" data-original="https://pic2.zhimg.com/v2-7caaf83ff7b42bfa85184e9f0180d409_r.jpg" referrerpolicy="no-referrer"></figure><p>系统非常稳定，代码不要随便动：</p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-9a78d315ed7c80f21a125ffaaf22d7b6_1440w.jpg" data-caption data-size="normal" data-rawwidth="500" data-rawheight="845" data-default-watermark-src="https://pic1.zhimg.com/v2-4f39c9bc1577d4767669441ac9334fa0_720w.jpg" class="origin_image zh-lightbox-thumb" data-original="https://pic4.zhimg.com/v2-9a78d315ed7c80f21a125ffaaf22d7b6_r.jpg" referrerpolicy="no-referrer"></figure><p>如果第一个程序员没考虑太多，用了if else。新需求出现时，后面接受的程序员不愿意重新建构，都往后面加if else。</p><p>一年又一年，一代又一代，从“粪球”到“屎山”，大概你能做的就是以“屎”盖“屎”，只要代码能跑起来就是大胜利。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-29e77ad5d277c727fb378d9022a31696_1440w.jpg" data-size="normal" data-rawwidth="2006" data-rawheight="338" data-default-watermark-src="https://pic3.zhimg.com/v2-7895ad0a4eb6265f53d6351be57e392d_720w.jpg" class="origin_image zh-lightbox-thumb" data-original="https://pic1.zhimg.com/v2-29e77ad5d277c727fb378d9022a31696_r.jpg" referrerpolicy="no-referrer"><figcaption>关于祖传代码的讨论有多激烈？</figcaption></figure><p>其实也不是所有人都不想修正代码，最可怕的是，你只删了一行代码，整个程序就跑不动了，而且原因你可能根本想不到。<b>本以为把它的爸爸妈妈解决掉就行，可它悄悄地和妈妈的哥哥的表舅的三姨夫的女婿的姑妈的女儿有一腿儿~</b></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-68d5d06d824483817fdcbcaa610fc0fb_1440w.jpg" data-caption data-size="normal" data-rawwidth="640" data-rawheight="646" data-default-watermark-src="https://pic1.zhimg.com/v2-1ca14eaf557524e5deb367c01f3cc990_720w.jpg" class="origin_image zh-lightbox-thumb" data-original="https://pic4.zhimg.com/v2-68d5d06d824483817fdcbcaa610fc0fb_r.jpg" referrerpolicy="no-referrer"></figure><p>当然，谁都有写得一手好工业级代码的追求。</p><p>同样的需求同样的逻辑，不同的人实现出来的效果可能完全不一样，那么<b>好的编码习惯应该如何培养呢？？？</b></p><h2>（一）纯粹从写代码上看</h2><p>单从写代码上看，那么我们需要掌握良好的编码风格：</p><ul><li><b>日志打印</b>。日志打印非常关键，尤其是在生产环境出现线上问题的时候，通常我们只能通过日志去排查问题。因为日志规范打印非常重要。</li><li><b>代码模块化设计</b>。不要一个方法或一个类写太长，这样非常不方便维护和理解，也不方便代码复用。理论上我们的代码是越少越好。我们需要将代码按照功能进行模块化设计，每个模块负责一个小功能。</li><li><b>并发处理</b>。可能出现并发的地方要注意线程安全，否则会出现难以预料的结果，并发问题也非常难以排查。</li><li><b>注释</b>。现代软件开发一般都是团队合作，而不是单兵战斗，所以代码一定要做好注释，尤其是核心功能，要注释清晰。否则可能过一段时间自己都忘记了为什么要这么写。</li><li><b>异常处理&错误码</b>。错误码的指定原则：快速溯源、沟通标准化。</li></ul><p>还有很多良好的编码规范，建议读下<b>阿里出的《Java开发手册》</b>。</p><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-d5defc57a5a0efb21f047b05f8076adb_1440w.jpg" data-caption data-size="normal" data-rawwidth="912" data-rawheight="810" class="origin_image zh-lightbox-thumb" data-original="https://pic1.zhimg.com/v2-d5defc57a5a0efb21f047b05f8076adb_r.jpg" referrerpolicy="no-referrer"></figure><h2>（二）从应用程序设计上看</h2><ul><li><b>应用分层</b>。 据业务架构实践，结合业界分层规范与流行技术框架分析，推荐分层结构如图</li></ul><figure data-size="normal"><img src="https://pic1.zhimg.com/v2-6ab4d66c8811178f45664042856a1513_1440w.jpg" data-caption data-size="normal" data-rawwidth="762" data-rawheight="692" class="origin_image zh-lightbox-thumb" data-original="https://pic1.zhimg.com/v2-6ab4d66c8811178f45664042856a1513_r.jpg" referrerpolicy="no-referrer"></figure><ul><li><b>领域模型设计规约</b>：</li></ul><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-c8afc93f92f1b8d3f6403a2d16235fa7_1440w.jpg" data-caption data-size="normal" data-rawwidth="1490" data-rawheight="492" class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-c8afc93f92f1b8d3f6403a2d16235fa7_r.jpg" referrerpolicy="no-referrer"></figure><p>关于编码规范强烈推荐每个程序员都要读的一本书：<b>《重构：改善既有代码的设计》</b>。</p><h2>（三）面向对象设计</h2><p>（1）<b>掌握几种设计模式</b>。</p><p>如工厂模式、策略模式等，才能应对复杂的业务逻辑。</p><p>（2）<b>SOLID原则</b></p><figure data-size="normal"><img src="https://pic4.zhimg.com/v2-d86bc82ffe261bc980463bac8d0ef68c_720w.jpg" data-caption data-size="normal" class="content_image" referrerpolicy="no-referrer"></figure><p>（3）<b>DDD-领域驱动设计</b></p><p>DDD能帮助我们快速有效学习业务领域知识，深入挖掘业务的痛点，并通过技术手段进行落地。</p><figure data-size="normal"><img src="https://pic3.zhimg.com/v2-b4404156ab8f32798cf70e52c7ff711b_1440w.jpg" data-caption data-size="normal" data-rawwidth="1368" data-rawheight="738" class="origin_image zh-lightbox-thumb" data-original="https://pic3.zhimg.com/v2-b4404156ab8f32798cf70e52c7ff711b_r.jpg" referrerpolicy="no-referrer"></figure><h2>（四）项目流程</h2><ul><li><b>在动手写代码前先写好方案设计文档</b>。尽可能的详细，包含业务流程、系统交互、数据表的设计、API的设计等等。方案设计文档写得好，后面编码其实是很快的。</li><li><b>做好功能的拆解和工作量安排</b>。</li><li><b>要学会say no！</b>：不合理的需求要学会拒绝，不能只被动的接需求，我们并不是编码机器。<b>切记不要把自己当成一个工具人！</b></li></ul><h2>（五）其他优秀实践经验总结</h2><p>（1）<b>不要重复造轮子</b>。尽可能代码复用，不要重复造轮子，浪费时间，而且基础设施往往需要经过时间的沉淀才成熟。</p><p>（2）<b>多阅读优秀的开源项目源码，吸取其优秀的设计经验</b>。</p><p>（3）<b>做好CodeReview</b>。被别人CR代码，能够聆听其他同事的意见，有助于自己进步。CR别人的代码，能够逼迫自己在代码上精益求精。总之相互交流，共同进步。</p><p>另外我自己也总结了个人<b>最常使用的几个效率生产工具</b>，全部放在下面这个回答里面，感兴趣可以看看：</p><a href="https://www.zhihu.com/question/465346075/answer/2046895695" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-97d7b8580bd253b85edaf0d830448688_bh.jpg" data-image-width="1319" data-image-height="948" class="internal">神级程序员都在用什么工具?</a><p>再给大家<b>推荐一本非常不错的书</b>，本人非常后悔没有更早的阅读：</p><a href="https://www.zhihu.com/question/459130825/answer/2097213348" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-e689680ef6cfdf57de5fe7f3ac8eb48d_l.jpg" data-image-width="1080" data-image-height="1080" class="internal">2021年你读了哪些觉得比较好的计算机书籍？</a><p>希望本回答能对大家有所帮助~</p>  
</div>
            