
---
title: '一个每天都会变的六位数密码，每天一次输入机会，输入正确能得到500万，请问多少天能得到它？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎热榜
headimg: 'https://www.zhihu.com/equation?tex=999999.000001'
author: 知乎
comments: false
date: Wed, 02 Mar 2022 07:00:25 GMT
thumbnail: 'https://www.zhihu.com/equation?tex=999999.000001'
---

<div>   
SuperSodaSea的回答<br><br><p data-pid="wt5pDksl">TL;DR：如果理解为“每天都会变”指的是每一天的密码都会和昨天不一样，那么期望天数是 <img src="https://www.zhihu.com/equation?tex=999999.000001" alt="999999.000001" eeimg="1" referrerpolicy="no-referrer"> 天。如果没有这个限制，期望天数是 <img src="https://www.zhihu.com/equation?tex=1000000" alt="1000000" eeimg="1" referrerpolicy="no-referrer"> 天。</p><hr><p data-pid="CP5MJ06J">原答案：</p><p data-pid="iaKqRV0P">需要注意的是题目中说是“<b>每天都会变</b>”的六位数密码，所以（除了第一天之外）每天密码可能的数量是去掉了前一天数字后的 <img src="https://www.zhihu.com/equation?tex=10%5E6+-+1" alt="10^6 - 1" eeimg="1" referrerpolicy="no-referrer"> 而非 <img src="https://www.zhihu.com/equation?tex=10%5E6" alt="10^6" eeimg="1" referrerpolicy="no-referrer"> 。</p><p data-pid="AGQ9wH9u">我们可以考虑三种不同的输入策略：</p><p data-pid="0uNP7MPD">① 每天都输入同一个数字。</p><p data-pid="RJl31UX8">② 每天都随机输入一个数字。</p><p data-pid="9SvXUkLr">③ 除第一天外每天都随机输入一个和昨天不同的数字。</p><p data-pid="FECfe2HD">显然，第一天无论怎样输入，正确的概率都是 <img src="https://www.zhihu.com/equation?tex=10%5E%7B-6%7D" alt="10^&#123;-6&#125;" eeimg="1" referrerpolicy="no-referrer"> 。从第二天开始概率就有所不同了：</p><p data-pid="bpFXmlEW">① 每天都输入同一个数字的话，从第二天开始正确的概率是 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7B10%5E6+-+1%7D+%5Cgt+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="\frac&#123;1&#125;&#123;10^6 - 1&#125; \gt \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> 。</p><p data-pid="EKKgs-CO">② 每天都随机输入一个数字，从第二天开始正确的概率是 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B10%5E6-1%7D%7B%2810%5E6+-+1%29+%5Ctimes+10%5E6%7D+%3D+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="\frac&#123;10^6-1&#125;&#123;(10^6 - 1) \times 10^6&#125; = \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> 。</p><p data-pid="pV6BPR0E">③ 每天都随机输入一个和昨天不同的数字，从第二天开始正确的概率是 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B10%5E6-2%7D%7B%2810%5E6+-+1%29%5E2%7D+%5Clt+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="\frac&#123;10^6-2&#125;&#123;(10^6 - 1)^2&#125; \lt \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> 。</p><p data-pid="m9mIPcwJ">显然 <img src="https://www.zhihu.com/equation?tex=p_1+%5Cgt+p_2+%5Cgt+p_3" alt="p_1 \gt p_2 \gt p_3" eeimg="1" referrerpolicy="no-referrer"> ，所以每天盯着一个数选是最优的策略（虽然差距和随机选相比非常小）。</p><hr><p data-pid="HdSYk_86">设第一次输入正确的概率是 <img src="https://www.zhihu.com/equation?tex=p_0+%3D+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="p_0 = \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> ，第二次及以后输入正确的概率是 <img src="https://www.zhihu.com/equation?tex=p_1+%3D+%5Cfrac%7B1%7D%7B10%5E6+-+1%7D" alt="p_1 = \frac&#123;1&#125;&#123;10^6 - 1&#125;" eeimg="1" referrerpolicy="no-referrer"> ，由期望的定义可得：</p><p data-pid="kn9UdtPh"><img src="https://www.zhihu.com/equation?tex=E+%3D+1+p_0+%2B+2+%281-p_0%29+p_1+%2B+3+%281-p_0%29+%281-p_1%29+p_1+%2B+4+%281-p_0%29+%281-p_1%29%5E2+p_1+%2B+%5Ccdots" alt="E = 1 p_0 + 2 (1-p_0) p_1 + 3 (1-p_0) (1-p_1) p_1 + 4 (1-p_0) (1-p_1)^2 p_1 + \cdots" eeimg="1" referrerpolicy="no-referrer"> </p><p data-pid="LHFboblS">变换一下可以得到：</p><p data-pid="iy7yN61D"><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+%5Cfrac%7BE+-+p_0%7D%7B1-p_0%7D+%26%3D+2+p_1+%26%2B+3+%281-p_1%29+p_1+%26%2B+4+%281-p_1%29%5E2+p_1+%2B+%5Ccdots+%5C%5C+%281-p_1%29%5Cfrac%7BE+-+p_0%7D%7B1-p_0%7D+%26%3D+%26%2B+2+%281-p_1%29+p_1+%26%2B+3+%281-p_1%29%5E2+p_1+%2B+%5Ccdots+%5Cend%7Balign%2A%7D" alt="\begin&#123;align*&#125; \frac&#123;E - p_0&#125;&#123;1-p_0&#125; &= 2 p_1 &+ 3 (1-p_1) p_1 &+ 4 (1-p_1)^2 p_1 + \cdots \\ (1-p_1)\frac&#123;E - p_0&#125;&#123;1-p_0&#125; &= &+ 2 (1-p_1) p_1 &+ 3 (1-p_1)^2 p_1 + \cdots \end&#123;align*&#125;" eeimg="1" referrerpolicy="no-referrer"> </p><p data-pid="UPqV_z_H">两式相减得：</p><p data-pid="mgBR54zH"><img src="https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%2A%7D+p_1%5Cfrac%7BE+-+p_0%7D%7B1-p_0%7D+%26%3D+2+p_1+%2B+%281-p_1%29+p_1+%2B+%281-p_1%29%5E2+p_1+%2B+%5Ccdots+%5C%5C+p_1%5Cfrac%7BE+-+p_0%7D%7B1-p_0%7D+%26%3D+p_1+%2B+1+%5C%5C+E+%26%3D+p0+%2B+%5Cfrac%7B%281-p_0%29%28p_1%2B1%29%7D%7Bp_1%7D+%5C%5C+%26%3D+%5Cfrac%7B1-p_0%2Bp_1%7D%7Bp_1%7D+%5C%5C+%26%3D+1+%2B+%5Cfrac%7B1-p_0%7D%7Bp_1%7D+%5Cend%7Balign%2A%7D" alt="\begin&#123;align*&#125; p_1\frac&#123;E - p_0&#125;&#123;1-p_0&#125; &= 2 p_1 + (1-p_1) p_1 + (1-p_1)^2 p_1 + \cdots \\ p_1\frac&#123;E - p_0&#125;&#123;1-p_0&#125; &= p_1 + 1 \\ E &= p0 + \frac&#123;(1-p_0)(p_1+1)&#125;&#123;p_1&#125; \\ &= \frac&#123;1-p_0+p_1&#125;&#123;p_1&#125; \\ &= 1 + \frac&#123;1-p_0&#125;&#123;p_1&#125; \end&#123;align*&#125;" eeimg="1" referrerpolicy="no-referrer"> </p><p data-pid="D0MffwrH">代入 <img src="https://www.zhihu.com/equation?tex=p_0+%3D+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="p_0 = \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> 和 <img src="https://www.zhihu.com/equation?tex=p_1+%3D+%5Cfrac%7B1%7D%7B10%5E6-1%7D" alt="p_1 = \frac&#123;1&#125;&#123;10^6-1&#125;" eeimg="1" referrerpolicy="no-referrer"> 得 <img src="https://www.zhihu.com/equation?tex=E+%3D+%5Cfrac%7B999999000001%7D%7B1000000%7D+%3D+999999.000001" alt="E = \frac&#123;999999000001&#125;&#123;1000000&#125; = 999999.000001" eeimg="1" referrerpolicy="no-referrer">。所以期望天数为 <img src="https://www.zhihu.com/equation?tex=999999.000001%E5%A4%A9+%5Capprox+2739.723%E5%B9%B4" alt="999999.000001天 \approx 2739.723年" eeimg="1" referrerpolicy="no-referrer"> （不考虑闰年）。</p><hr><p data-pid="EWtlQj7x">如果相邻两天的正确密码是可以相同的，那么无论是每天输入同一个数字还是随机一个数字，每天正确的概率都是 <img src="https://www.zhihu.com/equation?tex=p+%3D+%5Cfrac%7B1%7D%7B10%5E6%7D" alt="p = \frac&#123;1&#125;&#123;10^6&#125;" eeimg="1" referrerpolicy="no-referrer"> 。公式是</p><p data-pid="OiMMhHzQ"><img src="https://www.zhihu.com/equation?tex=E+%3D+1+p+%2B+2+%281-p%29+p+%2B+3+%281-p%29%5E2+p+%2B+4+%281-p%29%5E3+p+%2B+%5Ccdots" alt="E = 1 p + 2 (1-p) p + 3 (1-p)^2 p + 4 (1-p)^3 p + \cdots" eeimg="1" referrerpolicy="no-referrer"> </p><p data-pid="yASKiAs6">用与之前同样的错位相减法可得 <img src="https://www.zhihu.com/equation?tex=E+%3D+1000000" alt="E = 1000000" eeimg="1" referrerpolicy="no-referrer"> 。</p><hr><p data-pid="a8vUbILM">如果哪里算错了欢迎在评论区指正。</p><p></p>  
</div>
            