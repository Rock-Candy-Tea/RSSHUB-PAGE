
---
title: '通过数据分析，这次国足出线的概率有多高？'
categories: 
 - 社交媒体
 - 知乎
 - 知乎日报
headimg: 'https://pic3.zhimg.com/v2-6ff75475953dbd503dfaaa393088dafd_l.jpg?source=8673f162'
author: 知乎
comments: false
date: 2021-11-20 01:49:18
thumbnail: 'https://pic3.zhimg.com/v2-6ff75475953dbd503dfaaa393088dafd_l.jpg?source=8673f162'
---

<div>   
<div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder">



</div>

<div class="content-inner">




<div class="question">
国足出线概率仅为0.01%你怎么看？

<div class="answer">

<strong>
<img class="avatar" src="https://pic3.zhimg.com/v2-6ff75475953dbd503dfaaa393088dafd_l.jpg?source=8673f162" referrerpolicy="no-referrer">
<span class="author">量化调酒师</span>
<a href="https://www.zhihu.com/question/499465962/answer/2231324083" class="originUrl" hidden>查看知乎原文</a>
</strong>

<div class="content">
<p><strong>经过精确的计算，中国队有 0.0355%（万分之三点五五）的机会获得小组前两名直接出线，有 0.5614%的机会获得小组第三名获得附加赛的资格。</strong></p>
<p>这是目前的积分情况：</p>
<figure><img class="content-image" src="https://pic2.zhimg.com/v2-622bd6a1911aae308b5e630938c0612c_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p>我的计算经过了两个版本：粗糙版本和精细版本。</p>
<p><strong>粗糙估计版本：</strong></p>
<p>假设最乐观的情况：六个队水平相同（虽然国足实际上和日本、澳大利亚、沙特不是一个档次），每场比赛“胜”、“平”、“负”的概率相同，都是 1/3。目前剩余 12 场比赛，共有</p>
<p><img class="content-image" src="https://www.zhihu.com/equation?tex=3%5E%7B12%7D%3D531441" alt referrerpolicy="no-referrer"></p>
<p>种结果的可能性。我们使用程序来算一下国足最终出现的概率是多高。</p>
<p>沙特、日本、澳大利亚、阿曼、中国和越南分别积分 16、12、11、7、5、0 分。遍历这 531441 场比赛结果，通过程序可以得到最终排序情况数和概率。</p>
<ul>
<li>中国队单独第一的情况数：9 种，概率=0.002%</li>
<li>中国队并列第一的情况数：204 种，概率=0.038%</li>
<li>中国队单独第二的情况数：2714 种，概率=0.511%</li>
<li>中国队并列第二的情况数：3866 种，概率=0.727%</li>
<li>中国队单独第三的情况数：16687 种，概率=3.140%</li>
<li>中国队并列第三的情况数：17885 种，概率=3.365%</li>
<li>中国队单独第四的情况数：107814 种，概率=20.287%</li>
<li>中国队并列第四的情况数：47082 种，概率=8.859%</li>
<li>中国队单独第五的情况数：270176 种，概率=50.838%</li>
<li>中国队并列第五的情况数：23601 种，概率=4.441%</li>
<li>中国队单独第六的情况数：41403 种，概率=7.791%</li>
</ul>
<p>总结一下，</p>
<ol>
<li>中国队最有可能的结果是保持小组单独第五名，概率高达 50.838%，超过一半；其次升至小组单独第四名，概率为 20.287%。</li>
<li><strong>中国队有 1.278%的机会获得小组前两名直接出线！</strong>（概率中包括并列第二，不保证直接出线）</li>
<li><strong>中国队有 6.505%的机会获得小组第三名（包括并列第三）获得附加赛的资格。</strong>（概率中包括并列第三，不保证一定获得附加赛资格；概率中不包括并列第二掉落至小组实际第三）</li>
</ol>
<p><strong>我们梦想一种可能性：</strong>沙特未来四战全败，中国未来四战全胜，此外阿曼胜澳大利亚、越南，越南胜日本，日本平澳大利亚，澳大利亚平越南。这样最终小组积分为：</p>
<p>中国 17 分，沙特、澳大利亚、日本、阿曼均为 16 分，越南 4 分，<strong>中国队小组第一出线！完美！</strong></p>
<p><strong>上述模型存在两个主要问题：</strong></p>
<ol>
<li><strong>等概率：</strong>胜平负的概率均为 1/3，显然不符合实际情况，中国队和其他队的水平并不是五五开，需要更精确的来估计。</li>
<li><strong>并列的处理：</strong>小组并列第二，不保证直接出线；小组并列第三，不保证一定获得附加赛资格；而附加赛资格中还应该包括并列第二掉落至小组实际第三的概率。所以最终得到了直接出线和获得附加赛资格的概率还不够准确。</li>
</ol>
<p><strong>针对上述问题，我设计了如下精细化版本的估计：</strong></p>
<ol>
<li>目前对球队胜平负概率能够参考的最准确的指标就是<strong>菠菜公司的赔率</strong>，由于最后四轮的赔率尚未公布，我们采用第一轮大循环的赔率作为第二轮的参考（由于多场比赛在中立场进行，在此忽略主客场因素）。</li>
<li>假设有多只队伍最终积分相同，由于无法预测净胜球孰高孰低的信息，我们假设<strong>总积分相同的队伍有等概率排到所有可能的位置</strong>。例如：某一种结果组合有 0.1%的概率，而这种结果最终的结果是沙特队 21 分，中国、澳大利亚、日本、阿曼均为 16 分，越南 0 分，那么中国队在第 2、第 3、第 4、第 5 的概率均增加 0.1%÷4=0.025%。</li>
</ol>
<p><strong>精细化版本：</strong></p>
<p>我从权威菠菜公司某某 365 上提取前六轮的赔率信息，这里使用各国英文首字母 S、J、A、O、C、V 分别代表沙特(Saudi Arabia)、日本(Japan)、澳大利亚(Australia)、阿曼(Oman)、中国(China)、越南(Vietnam)。</p>
<figure><img class="content-image" src="https://pic3.zhimg.com/v2-2da9602b5d1c4ba21300b200d81687d8_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p>其中 Home、Away 代表主队和客队，Win、Draw、Lose 是主队获胜、打平、失利的赔率。后面四场依据前六场的赔率得到：</p>
<figure><img class="content-image" src="https://pic1.zhimg.com/v2-1cc7d265d14111fa58b5f0a7f17e632b_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p>我们知道<strong>赔率是同概率成反比的</strong>。假设胜、平、负的赔率分别为</p>
<p><img class="content-image" src="https://www.zhihu.com/equation?tex=w%2Cd%2Cl" alt referrerpolicy="no-referrer"></p>
<p>, 于是<strong>主队获胜、打平、失利的概率</strong>分别是</p>
<p><img class="content-image" src="https://www.zhihu.com/equation?tex=%5Cfrac%7Bw%5E%7B-1%7D%7D%7Bw%5E%7B-1%7D%2Bd%5E%7B-1%7D%2Bl%5E%7B-1%7D%7D%2C%5C+%5Cfrac%7Bd%5E%7B-1%7D%7D%7Bw%5E%7B-1%7D%2Bd%5E%7B-1%7D%2Bl%5E%7B-1%7D%7D%2C%5C+%5Cfrac%7Bl%5E%7B-1%7D%7D%7Bw%5E%7B-1%7D%2Bd%5E%7B-1%7D%2Bl%5E%7B-1%7D%7D." alt referrerpolicy="no-referrer"></p>
<p>注意到</p>
<p><img class="content-image" src="https://www.zhihu.com/equation?tex=%5Cfrac%7B1%7D%7Bw%5E%7B-1%7D%2Bd%5E%7B-1%7D%2Bl%5E%7B-1%7D%7D" alt referrerpolicy="no-referrer"></p>
<p>就是菠菜公司的返还率。我们制定每场比赛的胜平负的概率如下表：</p>
<figure><img class="content-image" src="https://pic3.zhimg.com/v2-37bbeb60b1023543af7e2f1fc5d0a701_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p>12 场比赛的每一种组合（AV,JC,SO,JS,OA,VC,AJ,CS,VO,JV,OC,SA）都可以取 1（代表胜利）、0（代表打平）、-1（代表失利），而每种组合的概率是 12 场比赛对应的概率的乘积。每种结果结束后，各队的积分如下：</p>
<ul>
<li>final_S = S + dic[SO] + dic[-JS] + dic[-CS] + dic[SA]</li>
<li>final_J = J + dic[JC] + dic[JS] + dic[-AJ] + dic[JV]</li>
<li>final_A = A + dic[AV] + dic[-OA] + dic[AJ] + dic[-SA]</li>
<li>final_O = O + dic[-SO] + dic[OA] + dic[-VO] + dic[OC]</li>
<li>final_C = C + dic[-JC] + dic[-VC] + dic[CS] + dic[-OC]</li>
<li>final_V = V + dic[-AV] + dic[VC] + dic[VO] + dic[-JV]</li>
</ul>
<p>其中 dic = &#123;1:3,0:1,-1:0&#125; 是积分字典，代表胜、平、负分别得到 3 分、1 分和 0 分；S、J、A、O、C、V 是初始积分 16、12、11、7、5、0，而 final 前缀的变量代表总得分。最终将六个总得分进行排序就可以得到中国队的最终排位。接下来，我们遍历所有</p>
<p><img class="content-image" src="https://www.zhihu.com/equation?tex=3%5E%7B12%7D%3D531441" alt referrerpolicy="no-referrer"></p>
<p>种组合，将所有可能的概率加起来就是中国队最终排位的概率。</p>
<p>我撰写了 Python 程序，代码如下：</p>
<figure><img class="content-image" src="https://pic3.zhimg.com/v2-1cf67a16640819e29515b8db7c5de76e_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p><strong>最终输出：</strong></p>
<figure><img class="content-image" src="https://pic2.zhimg.com/v2-cdc6ff376c14f2fecbaac09dbdd5f77d_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
<p><strong>结果：</strong></p>
<ul>
<li>中国队小组第一的概率 = 0.0006%</li>
<li>中国队小组第二的概率 = 0.0349%</li>
<li>中国队小组第三的概率 = 0.5614%</li>
<li>中国队小组第四的概率 = 27.1519%</li>
<li>中国队小组第五的概率 = 69.9990%</li>
<li>中国队小组第六的概率 = 2.2521%</li>
</ul>
<p><strong>总结：</strong></p>
<ol>
<li>中国队最有可能的结果是<strong>保持小组第五名，概率高达 70%，其次升至小组第四名，概率为 27%</strong>，其他位次的概率非常低。</li>
<li><strong>中国队有 0.0006%（百万分之六）的机会小组第一出线，有 0.0355%（两千八百分之一）的机会获得小组前两名直接出线。</strong></li>
<li><strong>中国队有 0.5614%（一百八十分之一）的机会获得小组第三名获得附加赛的资格。</strong></li>
</ol>
<p><strong>留给中国队的时间不多了！</strong></p>
<figure><img class="content-image" src="https://pic3.zhimg.com/v2-0c50c68650f32402c102ca2d4b167235_720w.jpg?source=8673f162" alt referrerpolicy="no-referrer"></figure>
</div>
</div>


<div class="view-more"><a href="https://www.zhihu.com/question/499465962">查看知乎讨论<span class="js-question-holder"></span></a></div>

</div>


</div>
</div></div>  
</div>
            