
---
title: '脑力小体操：休闲谜题'
categories: 
 - 图片
 - 煎蛋
 - 首页
headimg: 'https://cors.zfour.workers.dev/?http://img.jandan.net/news/2019/01/06d5feaa083029f4aab794aa04d5d3c4.jpg!custom'
author: 煎蛋
comments: false
date: Sat, 10 Apr 2021 15:23:00 GMT
thumbnail: 'https://cors.zfour.workers.dev/?http://img.jandan.net/news/2019/01/06d5feaa083029f4aab794aa04d5d3c4.jpg!custom'
---

<div>   
<blockquote><p>Tribus Puzzle</p></blockquote><img src="https://cors.zfour.workers.dev/?http://img.jandan.net/news/2019/01/06d5feaa083029f4aab794aa04d5d3c4.jpg!custom" referrerpolicy="no-referrer"><p>国外报纸上的Tribus Puzzle ​​​。大家上下班通勤或坐飞机火车的时候，可以打发一下时间。</p>
<p><img src="https://cors.zfour.workers.dev/?http://wx4.sinaimg.cn/mw1024/a1262f29ly1gpf58aexphj20iy0agweu.jpg" alt="脑力小体操：休闲谜题" referrerpolicy="no-referrer"></p>
<p>简单地说，就是用1、2、3填满方格，每横和每竖里，每个数字只能出现一次。</p>
<hr>
上一期 <a target="_blank" rel="external" href="http://jandan.net/p/108742">筹码和底牌，哪个消失得更快？</a><p></p>
<p>本质上的解法就是分类列算式，比较每个决策分支带来的收益。具体计算只要仔细一点，大家都能解出。就不赘述了。就说一下思路吧</p>
<p>很多朋友也注意到，庄家两色底牌数目相等时，下一把必会让玩家输。</p>
<p>然后，来自<strong>Valkyriee</strong>的简单解析</p>
<h4 class="pullquote">红黑牌不需要很复杂。初中知识就能解<br>
以最后2:1为例，此时剩a元。肯定全压2，压b元。只有两种情况；<br>
要么最后剩牌1:1，剩a+b元。压1元放掉这局，最后翻倍，得2(a+b-1)元。<br>
要么剩2:0，剩a-b元。最后翻倍再翻倍，得4(a-b)元。<br>
根据博弈论，你赢的钱只能是两者相等的情况。不然老板可以操纵比赛使情况变为你受益变低的情况。<br>
因为此轮b为自变量，继而得到b与a的关系式。<br>
同理，再次往前推，3:1与2:2的情况……<br>
或者从前往后推，列式计算。<br>
最终得到：<br>
第一局压1块钱放掉，赌局进入3:2<br>
第二局压3块钱。迫使赌局进入2:2的情况<br>
第三局压1块钱放掉。赌局进入2:1</h4>
<p><strong>bachraw</strong>尝试得到一般的结论</p>
<p><strong>为简便，作两个假设：1.筹码可精确分割，2.最小押注可为0。在筹码很大的情况，和题目近似等价。<br>
楼上几个回复有正确的、详细的过程，这里不再重复。简述一下玩家和庄家的“最佳”玩法：玩家持有筹码N，第一局压0，庄家让他输或者赢都无所谓(如果必须压1，那么庄家肯定选择让玩家输掉第一局)，第二局压1/5×N，庄家必须让他赢。第三局压0(同第一局)，第四局压剩余筹码的1/3，庄家必须让玩家赢。第五局压0(同第一局)，第六局全压，必胜。这样最大收益为16/5×N。<br>
这是个均衡点，也就是说如果玩家不这样压，那么最后赢的更少。如果庄家不这样做，玩家会赢得更多。<br>
当然，如果玩家必须至少压1个筹码，并且筹码不可精确分割，那么对庄家略有利，玩家总收益会略低于16/5×N。<br>
对于一般的情况，用归纳法扩展一下 (***尚未证明***)，<br>
— 如果剩余筹码为N，剩余牌总数S，红黑牌差D(红多或红少无所谓)，那么玩家应该压D/S×N以达到最大收益。<br>
— 在红黑相等的情况下，牌总数S，玩家起始筹码为N，那么玩家总收益为G(S)=N×S/(S-1)×G(S-2)，即<br>
G(2)=2 N<br>
G(4)=8/3 N<br>
G(6)=16/5 N<br>
G(8)=128/35 N</strong></p>
<p>以及<strong>鱼鱼鱼葱卷</strong>对一般结论的证明</p>
<p>@bachraw:</p>
<h4 class="pullquote">我来完成这个证明吧。<p></p>
<p>把 N 消掉，用 F(a, b) 表示一个单位赌注在面对 a 张红牌、b 张黑牌时的收益(包含本金)。可见 G(S) = F(S/2, S/2) * N。</p>
<p>从以上讨论，可知 F 满足以下边界条件和递推关系：<br>
　　F(a, 0) = F(0, a) = 2 ^ a；<br>
　　F(a, b) = 2 * F(a-1, b) * F(a, b-1) / (F(a-1, b) + F(a, b-1))。</p>
<p>留意到 F(a, b) 是 F(a-1, b) 和 F(a, b-1) 的调和平均，作代换 H(a, b) = 2^(a+b) / F(a, b)，则 H 满足：<br>
　　H(a, 0) = H(0, a) = 1；<br>
　　H(a, b) = H(a-1, b) + H(a, b-1)。<br>
可见，H 就是杨辉三角，即<br>
　　H(a, b) = binom(a+b, a) = binom(a+b, b) = (a+b)! / (a! * b!)。</p>
<p>代换回 F，得<br>
　　F(a, b) = 2^(a+b) * a! * b! / (a+b)!。<br>
那么<br>
　　G(2a) / N = F(a, a) = 2^(2a) * (a!)^2 / (2a)! = ((2a)!!) ^ 2 / (2a)! = (2a)!! / (2a-1)!!，<br>
亦即<br>
　　G(2a) = 2a / (2a-1) * G(2a-2)。</p></h4>  
</div>
            