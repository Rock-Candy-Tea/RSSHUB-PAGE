
---
title: '数值方法论01·减法与乘法公式'
categories: 
 - 游戏
 - GameRes 游资网
 - 热点推荐
headimg: 'https://di.gameres.com/attachment/forum/202207/27/111825rxv53i45y1sxs434.jpg'
author: GameRes 游资网
comments: false
date: Wed, 27 Jul 2022 00:00:00 GMT
thumbnail: 'https://di.gameres.com/attachment/forum/202207/27/111825rxv53i45y1sxs434.jpg'
---

<div>   
<i><font color="#808080">作者有意换工作，正在寻找下家，微信15717512147</font></i><br>
<br>
战斗数值设计中，加减法与乘除法各有什么优劣？<br>
<br>
<div class="quote"><blockquote>减法公式：<br>
<strong>伤害 = 技能系数 * 攻击 - 防御</strong><br>
比如梦幻西游、三国志战略版<br>
<br>
乘（除）法公式：<br>
<strong>伤害 =技能系数*攻击 * 减伤率</strong><br>
=技能系数*攻击 * 护甲/（护甲+常数）<br>
比如LOL、阴阳师</blockquote></div><br>
总结了大家对此问题一些常见的观点：<br>
<br>
<ul type="1" class="litype_1"><li>减法优点在于易理解，防御收益明显，问题在于双方攻防相近时，伤害结果跳变问题：（对方1000防御时，己方1003攻击比1001攻击伤害高三倍，差异过大）</li><li>乘法公式优点在于后期收敛，效果更可控<br>
</li></ul><br>
本文中，我将提出一些自己的思考角度<br>
<br>
<strong><font color="#de5650">0.基本模型</font></strong><br>
<br>
最简化的战斗模型：战斗回合数=EHP/EDPS<br>
<br>
<ul><li><strong>Ehp：</strong> 有效生命 （effective health point）<br>
</li></ul><br>
Ehp受自身的HP、闪避、防御、护甲、韧性、格挡、招架、免伤、技能系数、等级加成、各种抗性等等数值影响<br>
<br>
<ul><li><strong>Edps：</strong> 有效输出 （effective damage per second）<br>
</li></ul><br>
Edps受自身的攻击力、命中值、暴击率、暴击效果、穿刺、急速、等级加成、各种属性攻等等数值影响。<br>
<br>
<strong><font color="#de5650">1.乘法公式</font></strong><br>
<br>
乘法公式（减伤率）本质上和血量更像同一种东西：不会受对方攻击影响，线性地提升生存力<br>
<br>
下面举一个实际的例子<br>
<br>
<div class="quote"><blockquote>取原攻击为100，血量为10000的简化战斗模型：<br>
游戏时间 = 血量 / 每轮伤害<br>
伤害 = 攻击 * 减伤率<br>
减伤率=护甲/（护甲+100）</blockquote></div><br>
<div align="center">
<img aid="1047964" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111825rxv53i45y1sxs434.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111825rxv53i45y1sxs434.jpg" width="448" id="aimg_1047964" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111825rxv53i45y1sxs434.jpg" referrerpolicy="no-referrer">
</div><br>
乘法公式，护甲收益线性<br>
<br>
表面上，随着护甲增加的减伤率是收敛型：<br>
<br>
<div align="center">
<img aid="1047965" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111825t9q996rgw6ojuorl.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111825t9q996rgw6ojuorl.jpg" width="482" id="aimg_1047965" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111825t9q996rgw6ojuorl.jpg" referrerpolicy="no-referrer">
</div><br>
减伤率=护甲/（护甲+100）<br>
<br>
但实际上eHP（有效生命值）跟护甲为线性关系：<br>
<br>
<div align="center">
<img aid="1047966" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111825db4gqpvgpnupzug1.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111825db4gqpvgpnupzug1.jpg" width="483" id="aimg_1047966" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111825db4gqpvgpnupzug1.jpg" referrerpolicy="no-referrer">
</div><br>
ehp=原血量*（100%+生存时长提升比）<br>
<br>
也可以用求导数的方式观察：<br>
<br>
生存力y=[ 10000/(k/(x+k)) ]' =100/k ，k取常数，导数也是常数，所以护甲对于生存力收益是恒定的。<br>
<br>
<strong><font color="#de5650">2.减法公式</font></strong><br>
<br>
减法公式本质是格挡值，更类似于闪避，是一种机制，是独立于生命值的另一个生存力维度。<br>
<br>
无法抛开对方的攻击去谈对于生存力收益，就像无法抛开对方命中范围去计算闪避的收益一样，所以与乘法公式不同，建立模型时至少要定一个敌方攻击。<br>
<br>
实例：<br>
<br>
<div class="quote"><blockquote>敌方攻击200<br>
己方生命500，以150防御作为标准防御，<br>
这样每轮标准伤害=200-150=50，（最低有1点伤害的保底值）<br>
标准回合数=500/50=10<br>
<br>
等效生命=原生命实际回合数/标准回合数<br>
比如我实际扛了12回合，等效血量就是500*12/10=600</blockquote></div><br>
取防御140到200的情况来观察：<br>
<br>
<div align="center">
<img aid="1047967" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111826jriwhrlm2xigycmg.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111826jriwhrlm2xigycmg.jpg" width="593" id="aimg_1047967" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111826jriwhrlm2xigycmg.jpg" referrerpolicy="no-referrer">
</div><div align="center"><font size="2"><font color="#808080">防御越接近对手攻击，效果越明显</font></font></div><font size="2"><font color="#808080"><br>
</font></font><br>
<div align="center"><font size="2"><font color="#808080">
<img aid="1047968" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111826v8vjavgjg5gvvzvz.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111826v8vjavgjg5gvvzvz.jpg" width="600" id="aimg_1047968" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111826v8vjavgjg5gvvzvz.jpg" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#808080">防御增长的收益，非常不线性</font></font></div><br>
这样一来，产生了强烈的竞争对抗：进攻方需要极力避免自己的攻击力被别人的防御力逼近，反之防御方也极力追求高防御来产生质变。<br>
<br>
在这种强烈竞争的数值关系下，梦幻养成数值就可以做得克制：<br>
<br>
一把极品武器比一把国标白板武器只多了几十点伤害，<br>
一颗14级宝石只比15级宝石少了8点伤害，<br>
<br>
但总有大R不惜花几十万去追求，因为大R知道这几点数值真的很有用。<br>
<br>
对平民、轻度玩家的眼中，超级土豪的属性看起来也并没有比自己高太多，不会有太强的不平衡感。这样的设计一定程度保护了众多平民的自尊心，对整体生态有益。<br>
<br>
游戏整体数值规模也不会膨胀太多。与同类型游戏相比，梦幻在重度数值的基础上始终做到了小数值，以数值策划的视角来看令人称道。小数值对轻度玩家、新人来说更友好，而且对大部分算力不强、眼力不佳的普通玩家来说，动辄六七位数的伤害、血量反而会导致失焦——太大了玩家数不过来，不敏感。<br>
<br>
<strong><font color="#de5650">3.不灵活的减法公式</font></strong><br>
<br>
以减法公式为基础的梦幻西游中，输出技能里攻击频率高的设计：<br>
<br>
大唐横扫3或4刀，（每刀技能系数90%——120%）<br>
<br>
狮驼岭连环击6刀，（每刀技能系数70%——110%）<br>
<br>
<div align="center"><font size="2"><font color="#808080">
<img aid="1047969" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111826slw9ccp6azwj29mv.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111826slw9ccp6azwj29mv.jpg" width="600" id="aimg_1047969" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111826slw9ccp6azwj29mv.jpg" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#808080">连环击：70%已是梦幻输出技能系数下限</font></font></div><br>
试图站在技能设计者的角度去看：<br>
<br>
1.如果想设计高频率的伤害技能，那么每次技能系数就得低，不然强度过于失控<br>
<br>
2.但最低只能到普攻的70%左右，因为再降低就非常容易接近高防对手的防御线，导致不破防，攻击骤降。<br>
<br>
除了固定伤害的DOT类输出（毒、紧箍咒），物理、法术战斗体系中都没有小额伤害组成的输出玩法。<br>
<br>
再看使用乘法公式的阴阳师：<br>
<br>
铃鹿御前大招：44%系数，群体多段低伤害<br>
<br>
sp妖刀大招：295%系数，单体高伤害<br>
<br>
可以看出：因为不存在每段伤害都要结算的”格挡值“，所以伤害表现的形式自由很多。<br>
<br>
<div align="center"><font size="2"><font color="#808080">
<img aid="1047970" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111826m3w5ymnhz83j9h6d.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111826m3w5ymnhz83j9h6d.jpg" width="600" id="aimg_1047970" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111826m3w5ymnhz83j9h6d.jpg" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#808080">多段伤害的表现力</font></font></div><br>
其他情况包括但不限于：<br>
<br>
科幻星战游戏中，大到战列巡洋舰，小到舰载机，他们的单发伤害显然应该有巨大差距的，我们希望两者都能同时上场，而不是某一种船永远是最优解；<br>
<br>
养虫群类、花瓣树叶类、暴雨梨花针之类的技能，战斗表现也需要高频率才更符合认知，从而增加代入感；<br>
<br>
以上这些伤害大小过于悬殊的情况，减法公式的适配性是差的。<br>
<br>
<strong><font color="#de5650">4.不那么可控的乘法公式</font></strong><br>
<br>
梦幻有一个独特生态设计：很多玩家选择压级（69级，89级），保留核心游戏体验的前提下，轻量化，肝度与付费层面上更低负担，并形成了一套独特的玩家生态。此处暂不展开<br>
<br>
原本设计”皮厚高防御“的职业的战斗体验是：在面对同等级的物理输出时，都能大幅降低对方伤害<br>
<br>
175级输出3000攻击，175级皮厚2800防御，每轮伤害：200 （伤害减免率93.3%）<br>
<br>
69级输出1000攻击，69级皮厚900防御，每轮伤害：100（伤害减免率90%）<br>
<br>
如果梦幻不是以格挡式减伤为主，而会导致一个问题：<br>
<br>
比如设计175级高防职业减伤率到90%，那么69级高防职业的减伤率只能到40%乃至更低，不然成长性无法体现。<br>
<br>
这就带来一个问题：69级玩家，就算是高防职业，也不能体现出"皮厚"。<br>
<br>
为了增加生存力，就只能往血量上加，而这就与其他"血牛"职业同质化了，少了"皮厚"这一个维度。<br>
<br>
究其原因，因为在减法公式中，攻击与防御是紧密相关的对抗属性，只要两者投放比例控制好，<br>
<br>
从1级到200级，呈现出来的战斗体验可以是相对恒定的；<br>
<br>
而乘法公式因为本质是给血量加成，并不存在对抗属性来维持不同量级的数值体验。<br>
<br>
<strong><font color="#de5650">5.减法与乘法，并不互斥</font></strong><br>
<br>
梦幻为了规避减法公式的一些缺陷，很早就在后续更新中引入了修炼等机制，虽然仍以减法为基础，但最终是一个复合公式。加上属性的合理规划与严格克制的投放，老生常谈的减法公式高防一人屠城问题，在梦幻中是不存在的。<br>
<br>
而在近期表现良好的《无尽的拉格朗日》，我们也可以看到它选择了复合式的减伤机制：<br>
<br>
<div align="center">
<img aid="1047971" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111826z4qzqp90qcakxn00.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111826z4qzqp90qcakxn00.jpg" width="600" id="aimg_1047971" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111826z4qzqp90qcakxn00.jpg" referrerpolicy="no-referrer">
</div><div align="center"><font size="2"><font color="#808080">减法：格挡式</font></font></div><font size="2"><font color="#808080"><br>
</font></font><br>
<div align="center"><font size="2"><font color="#808080">
<img aid="1047972" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111827i97xj0xlbl4yrj8i.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111827i97xj0xlbl4yrj8i.jpg" width="600" id="aimg_1047972" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111827i97xj0xlbl4yrj8i.jpg" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#808080">乘法：百分比减伤</font></font></div><br>
同时，给这两种减伤都设置了90%的上限，规避了边界跳变的问题。<br>
<br>
<div align="center"><font size="2"><font color="#808080">
<img aid="1047973" zoomfile="https://di.gameres.com/attachment/forum/202207/27/111827pzljy54g7gsd47q4.jpg" data-original="https://di.gameres.com/attachment/forum/202207/27/111827pzljy54g7gsd47q4.jpg" width="600" id="aimg_1047973" inpost="1" src="https://di.gameres.com/attachment/forum/202207/27/111827pzljy54g7gsd47q4.jpg" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#808080">极端收益的最后10%没有了</font></font></div><br>
<div align="left"><font size="2"><font color="#808080"></font></font></div><div align="left"><font size="2"><font color="#808080">原文：https://zhuanlan.zhihu.com/p/545769490</font></font></div><br>
  
</div>
            