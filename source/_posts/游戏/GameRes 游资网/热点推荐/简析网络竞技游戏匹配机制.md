
---
title: '简析网络竞技游戏匹配机制'
categories: 
 - 游戏
 - GameRes 游资网
 - 热点推荐
headimg: 'https://di.gameres.com/attachment/forum/202111/29/111304sbbm8xmdmhab8bz8.png'
author: GameRes 游资网
comments: false
date: Mon, 29 Nov 2021 00:00:00 GMT
thumbnail: 'https://di.gameres.com/attachment/forum/202111/29/111304sbbm8xmdmhab8bz8.png'
---

<div>   
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_2519383">
如今的市场上的网络游戏，或多或少都存在着竞技的元素，而能否为玩家匹配到合理的对手，成为了该系统带给玩家体验好与坏的关键。本文将从一个入门从业者的角度进行粗浅的总结与思考，欢迎批评与指正。<br><br><strong><font color="#de5650">一、MMR机制——炉石传说、DOTA２、LOL、LOLM</font></strong><br><br>
MMR机制全称为matchmaking system，也被乘坐隐藏分。MMR机制存在的目的是尽可能给出不可预知的比赛即绝对平衡的比赛，要求双方获胜的概率都尽可能倾向于５０％。<br><br>
而隐藏分可能会受到诸多因素的影响，例如玩家近期水平的浮动。<br><br>
同时，现阶段的游戏匹配也往往不会只使用MMR机制作为游戏匹配的依据，往往会结合其他因素来对玩家实力进行综合衡量。例如玩家所在地区网络延迟状况、玩家预选位置、玩家水平等综合因素。<br><br><div align="center">
<img id="aimg_1022981" aid="1022981" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111304sbbm8xmdmhab8bz8.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111304sbbm8xmdmhab8bz8.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111304sbbm8xmdmhab8bz8.png" referrerpolicy="no-referrer">
</div>
<br>
从设计思路来看，MMR匹配机制倾向于绝对的公平，来保证玩家有更好的竞技体验。但同时也会滋生一些其他问题，例如隐藏分低于玩家真实分数时，就容易出现补分（对局获得积分极少）的情况。而隐藏分的评价往往不只取决于本局游戏的胜负，也受到玩家局内行为的影响。（KDA、伤害值等），而这给了部分玩家投机空间，也使得部分玩法（送死流）成为受害者。<br><br><strong><font color="#de5650">二、ELO机制——王者/LOLM（曾）</font></strong><br><br>
王者荣耀与LOLM均为ELO机制游戏的典型代表，此处引用下ELO的概念：1960年，美国国际象棋协会(USCF)采纳了埃洛教授的等级分系统。国际棋联于1970年也采纳了这套系统。 ELO等级分的原理 ELO等级分的计算则是从一个时间点开始有一个初始分，然后随着每次比赛，根据比赛结果和对手的等级分，进行自己等级分的修正，进而在多次比赛后收敛得到接近选手真实水平的积分。 即使粗略看比赛成绩表，也能够看出选手的表现是有起伏的，也就是有“状态”之分。强手未必恒定表现好于弱手；每人之状态在不同的日子不同的比赛里都会有好 坏不同。而总的来说整个生涯里每一点上，一名选手的表现将大致围绕在某个平均水平上下波动，有时会有背离，而出现大背离的情况比出现小背离的情况频率要低。<br><br>
从以上一段中我们可以得出，其实ELO其本身只是一种通过大量实践进行修正的积分排名制度，与王者荣耀中令人痛恨的ELO匹配并无绝对关联。那么王者荣耀的ELO匹配又是什么？<br><br>
王者荣耀的ELO匹配更多的是一种基于游戏粘性而采取的破坏体验的做法，即双方的实力不会处于绝对平衡的状态。<br><br><div align="center">
<img id="aimg_1022982" aid="1022982" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111305t55od3xwjjexjfwm.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111305t55od3xwjjexjfwm.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111305t55od3xwjjexjfwm.png" referrerpolicy="no-referrer">
</div>
<br>
如图所示，即玩家有可能在对局中，匹配到比自己系数分高一百的对手，而这已经足以让胜利天平倾向对方。<br><br>
此种做法从竞技游戏的角度来讲并不合理，但适用于相当一部分手游，原因如下：首先手游自身的竞技属性低于端游，同时较低的成本也会吸引相当数量的非竞技属性玩家。此种游戏生态下，保证各种玩家在游戏中的体验成了优先级更高的事情。<br><br><strong><font color="#de5650">三、trueskill 2——光环、彩虹六号</font></strong><br><br><div align="center">
<img id="aimg_1022983" aid="1022983" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111305xpjutokejfhs7hhu.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111305xpjutokejfhs7hhu.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111305xpjutokejfhs7hhu.png" referrerpolicy="no-referrer">
</div>
<br>
trueskill主要是微软开源，在其旗下XBOX平台的游戏进行应用，相比于传统的MMR，则更灵活, 易扩展, 也更容易应用。由于理论及公式过于复杂，此处不进行展开讲解，仅具体讨论其创新点。<br><br>
TrueSkill算法认为每一个参与排名的人的能力是不稳定的，即所谓的神经刀，这使得玩家的实力并非一条绝对的水平线，而是符合正态分布的。相当于是在MMR的基础上，对MMR值的标准差进行了统计，考虑到了玩家的不稳定性。通过TrueSkill算法，对比匹配双方的玩家实力的方差，来得出更合理的结果。<br><br><div align="center">
<img id="aimg_1022984" aid="1022984" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111305ucine3e3eqppqnbw.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111305ucine3e3eqppqnbw.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111305ucine3e3eqppqnbw.png" referrerpolicy="no-referrer">
</div>
<br><strong><font color="#de5650">四、独特机制参考</font></strong><br><br><strong>皇室战争</strong><br><br>
皇室战争的匹配机制较为简单，由于该游戏的奖惩机制处于相对稳定的零和博弈（胜方会获得败方的奖杯）的状态，且采用的是ELO算法，所以此处仅讲与其他ELO匹配算法游戏的不同点。<br><br>
皇室战争相较于其他竞技游戏，很重要一点的差异是存在局外养成，即游戏的胜负并不绝对依靠于玩家的操作。这往往对于强竞技属性但付费较少的玩家来说很容易造成不够好的体验，例如出现12级大本营对战5级大本营的情况。<br><br><div align="center">
<img id="aimg_1022985" aid="1022985" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111306xl4ybb04ldar4lkr.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111306xl4ybb04ldar4lkr.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111306xl4ybb04ldar4lkr.png" referrerpolicy="no-referrer">
</div>
<br>
而为了修正这部分玩家的体验，皇室战争做了额外的匹配规则，在5000杯（非高手阶段）以下，会参考玩家的国王塔等级来进行匹配，即系统不仅会为玩家匹配杯数相近的对手，也会匹配付费力度相近的对手。而较为巧妙的点是设置的5000杯这个节点，5000 杯以下的绝对公平保护了中小R及非氪玩家的权益，避免在开始就因为匹配机制就流失。而在5000杯以上，对于想要冲刺高排名的玩家而言，在此时付费也可以带来明显的卡等压制。相当于在前期以保障玩家体验为目的进行了短暂的付费抑制，而在玩家已经养成游戏习惯后，放大付费的收益。<br><br>
而在反作弊方面，皇室战争添加了一个有趣的设定，双方玩家在彼此经历三个非对方的对手前，无法再次遭遇到，增加了高分段演员的门槛，如图所示。<br><br><div align="center">
<img id="aimg_1022986" aid="1022986" zoomfile="https://di.gameres.com/attachment/forum/202111/29/111306v1xmrxrx1avsvm5a.png" data-original="https://di.gameres.com/attachment/forum/202111/29/111306v1xmrxrx1avsvm5a.png" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202111/29/111306v1xmrxrx1avsvm5a.png" referrerpolicy="no-referrer">
</div>
<br><strong>Glicko——csgo</strong><br><br>
csgo采用的算法为Glicko算法，此种算法为Elo的改进模式。Elo系统的问题在于无法确定选手评分的可信度，而Glicko系统正是针对此进行改进。Glicko系统在Elo的基础上引入了新的参数，即RD，ratings deviation，即考虑到了玩家对手之间的偏差值。简单举例，如果玩家A在赛季初期第一天凭借着版本优势及运气打上了王者段位，但其长久未玩，此时该玩家若再次进行匹配，结算时该玩家是否能被视为王者段位来进行加减分？答案显然是否定的，因为在假定情境中，玩家A上王者属于偶然事件，加上其长期未玩，没有足够的样本量来衡量其水平。Glicko中的RD值即为应对此种情况，玩家用于匹配的隐藏分由常规类似Elo值加上RD值构成，玩家游戏越频繁，则RD值越低，反之亦然。<br><br>
同样，作为开挂的重灾区，csgo也存在着锁分机制，即玩家若在短时间内积分有着大幅度变化，个人表现提升明显，则该账号会进入锁分状态，账号在锁分状态下，隐藏分无法增加。<br><br><strong><font color="#de5650">个人思考</font></strong><br><br>
经过以上各个阶段的总结，笔者得出以下几点思考<br><br>
1.匹配机制并无绝对的优劣之分，需要根据目的来进行选择。如文中所提到的MMR和ELO，这两种机制都有其存在的理由，核心关键依旧是需要策划同学判断出自身游戏定位，以及想要通过匹配来追求什么样的结果来确定匹配方式。<br><br>
2.复杂化、多维度的算法将会成为未来发展趋势。从最基础的MMR单一机制衍生为现在的GLicko、GLicko2、trueskill、trueskill2等优化算法的不断出现，也在不断佐证这一点。<br><br>
3.未来的匹配及积分算法会被更广泛地应用于反作弊系统。目前绝大部分游戏的反作弊机制还是依靠举报及主要是扫描后台进程，加密游戏进程，识别异常数据来完成，当然也会有对玩家异常的监测机制，但远远无法成为关键，而经过训练的AI模型或算法，或许在未来会成为游戏厂商在这场军备竞赛中获胜的关键。<br><br>
4.降低玩家上分难度将会成为未来匹配革新的关键。目前绝大部分玩家在竞技过程中，均会经历漫长的成长期，这是由多方面因素决定的，如玩家实力上升是逐渐趋于缓慢，新账号的隐藏分过低等因素。这也反映了现在的算法是比较难在小样本的情况下对玩家实力做出较为准确评估的，笔者认为后续能够降低上分路上的过程，及时把每个玩家送到该去的分段，不去影响他人的游戏体验也是值得优化的重点。<br><br><font size="2"><font color="#808080"></font></font><br><br>
</td></tr></tbody></table>


  
</div>
            