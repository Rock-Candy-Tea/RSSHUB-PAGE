
---
title: '年度「真香」预定！《斗罗大陆：魂师对决》研发过程全揭秘'
categories: 
 - 游戏
 - GameRes 游资网
 - 热点推荐
headimg: 'https://di.gameres.com/attachment/forum/202108/13/103336awftiw47ifee5dze.jpg'
author: GameRes 游资网
comments: false
date: Invalid Date
thumbnail: 'https://di.gameres.com/attachment/forum/202108/13/103336awftiw47ifee5dze.jpg'
---

<div>   
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_2509972">
7月22日，三七互娱研发品牌三七游戏自研战斗策略手游《斗罗大陆：魂师对决》正式上线。这款被称为三七「转型之作」的游戏首日新进用户370万，打破三七自研游戏记录，上线后更是持续发力，获得iOS畅销榜第四名的好成绩。<br>
<br>
最近，我们有幸采访到《斗罗大陆：魂师对决》研发团队，为大家揭开这款次世代大作的「神秘面纱」。<br>
<br>
<strong>GameRes：在大家看来，三七是传统MMO厂商，团队在什么契机下做这样一款游戏？</strong><br>
<br>
<strong>三七游戏：</strong>的确，早前我们研发的游戏类型比较单一，公众对三七的印象还停留在「大翅膀」时代。在2018年底，高层确立了「精品化、多元化」的研发战略。「放开手脚大干一场，做颠覆大家对三七印象的游戏」这一根植团队内心已久的想法，终于找到了释放的机会。<br>
<br>
<div align="center">
<img id="aimg_1000623" aid="1000623" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103336awftiw47ifee5dze.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103336awftiw47ifee5dze.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103336awftiw47ifee5dze.jpg" referrerpolicy="no-referrer">
</div><br>
《斗罗大陆》是阅文集团旗下非常热门的玄幻小说，其改编动画在腾讯视频热播，我们团队很多伙伴都是斗罗「铁粉」。这个受众广泛，团队喜爱的IP成了我们游戏立项时的重要标的。<br>
<br>
这不是我们第一次和《斗罗大陆》「亲密接触」。曾在2019年1月，我们推出了《斗罗大陆》小说改编的游戏《斗罗大陆H5》，上线后大受玩家好评。游戏还原了IP设定里的「武魂」元素，其策略搭配玩法让玩家津津乐道，至今已运营近三年，仍有大量活跃忠实玩家。然而当年的《斗罗大陆H5》为了适配H5移动端，在游戏画面上不能让研发团队尽情发挥。为了还原IP粉丝心目中的「斗罗大陆」，我们项目组决定重新向自己发起挑战，做一款全新的斗罗大陆手游，在美术上、玩法上都全面革新！<br>
<br>
<div align="center">
<img id="aimg_1000624" aid="1000624" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103336zj1tjx5d1lx2vrtq.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103336zj1tjx5d1lx2vrtq.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103336zj1tjx5d1lx2vrtq.jpg" referrerpolicy="no-referrer">
</div><br>
为此，我们对6万名《斗罗大陆》粉丝进行了问卷调研，并邀请多位粉丝进行了深度访谈。调研后发现，粉丝们对游戏画面、玩法设置、玩家互动等方面具有较高要求。相较于市面上已有的《斗罗大陆》IP产品，玩家期望下一款手游能够尽可能呈现《斗罗大陆》原著情节及设定，并且展现出原作中的角色魂师特色和团队配合的策略性，还原“原汁原味”的斗罗大陆。经历多次全方位调研、评估后，次世代手游《斗罗大陆：魂师对决》顺利立项，在公司内部定位为「S级」项目。<br>
<br>
发自内心地说，很开心能见到团队伙伴们在做他们真心热爱的事情，也希望三七能做出一款斗罗粉丝喜爱的游戏，更希望年轻人能在这款游戏里面读懂三七。<br>
<br>
<strong>GameRes：第一次做次世代游戏，遇到过哪些挑战？</strong><br>
<br>
<strong>三七游戏：</strong>尽管早有心理准备，但游戏开发难度还是远超我们想象。如何在高度还原IP的前提下，以游戏思维重构设计这个世界的画面表现、战斗法则、生态循环甚至各种交互细节，是我们每天都在思考的问题。况且有斗罗大陆3D动画珠玉在前，大家对斗罗手游的画面自然很难将就。所以，游戏的「颜值」——美术品质至关重要。<br>
<br>
<div align="center">
<img id="aimg_1000625" aid="1000625" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103336xr1rwx9ww9xqrwj1.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103336xr1rwx9ww9xqrwj1.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103336xr1rwx9ww9xqrwj1.jpg" referrerpolicy="no-referrer">
</div><br>
为了呈现更细腻的画面、打造更有质感的效果，提升玩家的沉浸感，我们决定将PBR（基于物理的光照）技术运用在《斗罗大陆：魂师对决》当中，以实现全景3D特效、实时无缝昼夜切换、动态体积光追踪。<br>
<br>
<div align="center">
<img id="aimg_1000626" aid="1000626" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103337xrvoqqtq48oo474y.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103337xrvoqqtq48oo474y.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103337xrvoqqtq48oo474y.jpg" referrerpolicy="no-referrer">
</div><br>
PBR物理光照追求物理正确，与团队希望营造的绚丽辉煌的斗罗幻想世界有一定差异。如何在制作PBR技术上融入风格化，成为团队遇到的第一道难题。<br>
<br>
为了解决PBR物理正确和风格化绚烂色彩之间的矛盾，研发团队优化调整Shader算法、光照模型以及光照方案，在物理正确和风格化之间寻找平衡，并摸索出一套自己的解决方案。<br>
<br>
<div align="center">
<img id="aimg_1000627" aid="1000627" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103337e9nn34z2mu334mio.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103337e9nn34z2mu334mio.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103337e9nn34z2mu334mio.jpg" referrerpolicy="no-referrer">
</div><br>
人物光照采用直接光照+相机光+光照探针的方式，让角色与场景高度融合的同时，保留微调可控性。<br>
<br>
<div align="center">
<img id="aimg_1000628" aid="1000628" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103337ofnnzs0s459s9e51.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103337ofnnzs0s459s9e51.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103337ofnnzs0s459s9e51.jpg" referrerpolicy="no-referrer">
</div><br>
在场景上，我们打造了自己的植被光照解决方案，让植被与地表高度融合。同时实时可交互花草系统，可踩可烧可观赏，提升游戏乐趣，强化战斗表现，玩家可以感受会呼吸的斗罗大陆。<br>
<br>
<div align="center">
<img id="aimg_1000629" aid="1000629" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103338npkup4pp2bzcbb6p.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103338npkup4pp2bzcbb6p.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103338npkup4pp2bzcbb6p.jpg" referrerpolicy="no-referrer">
</div><br>
天空和云雾在原有PBR技术的基础上，通过体积光和体积云的运用，天空的云和光线会带来更好的氛围，体积云既可以乌云密布，可以云开月明，体积光能看云海日出，能看晚霞千里，呈现出动漫原画中梦幻的感觉。<br>
<br>
在天气变换上，得益于昼夜系统对GI的精确控制，不同天气的环境氛围在斗罗中很容易被表达出来。难点在于独特天气的表现。团队成员为了展现雨天等独特天气，通过houdini软件模拟了多场下雨场景并记录下不同场景的地表水纹表现。通过对比多种下雨效果发现横向的雨水流动能非常好的描述真实的下雨场景，导出雨点和水平方向的法线就可以在游戏中实现逼真的下雨效果。让整体的天气变换极为逼真灵动。<br>
<br>
<div align="center">
<img id="aimg_1000630" aid="1000630" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103338h4c2v4ipp2g2npex.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103338h4c2v4ipp2g2npex.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103338h4c2v4ipp2g2npex.gif" referrerpolicy="no-referrer">
</div><br>
<strong>GameRes：游戏美术上还有哪些亮点？</strong><br>
<br>
<strong>三七游戏：</strong>如何在让制作团队快速转型的同时保留高效产能，一直是困扰大多数研发团队的难题。没有思路就没有出路，我们深知工欲善其事，必先利其器，团队在Unity引擎基础上进行了魔改，打造出「魔方框架」，结合美术流程中实际需求，推出了整套编辑器，在超百人的美术协作中实现「车同轨，书同文」，确保项目资源高质高效推进。<br>
<br>
<div align="center">
<img id="aimg_1000631" aid="1000631" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103339anc1xx1p4r18jvr1.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103339anc1xx1p4r18jvr1.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103339anc1xx1p4r18jvr1.gif" referrerpolicy="no-referrer">
</div><br>
除此之外，还有大量插件工具辅助制作与简化流程。让美术制作团队在极短时间内，走通并搭建了完整高效的次世代制作流程，保证了项目资源推进效率与质量。<br>
<br>
<div align="center">
<img id="aimg_1000632" aid="1000632" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103340ec1zz44w5cz51yc6.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103340ec1zz44w5cz51yc6.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103340ec1zz44w5cz51yc6.gif" referrerpolicy="no-referrer">
</div><br>
比如为支持斗罗世界华丽的技能表现，我们自主研发了技能编辑器，可以让美术人员通过简单的操作，实现如武魂融合技这类多角色多武魂同时协作表演的华丽效果，并通过对特效元素、镜头控制以及场景光影更替等节点的组合，让他们天马行空的想法得到实现，所见即所得。<br>
<br>
<div align="center">
<img id="aimg_1000633" aid="1000633" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103341we17etl987l9r0z9.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103341we17etl987l9r0z9.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103341we17etl987l9r0z9.gif" referrerpolicy="no-referrer">
</div><br>
这一编辑器极大地增强了美术动效表现力，我们以此为基础推广至其他在研项目，全面提高了公司产品竞争力。<br>
<br>
<strong>GameRes：实现这样的画面，对设备性能要求很高吧？</strong><br>
<br>
<strong>三七游戏：</strong>游戏画质的提升，随之而来的是能耗过大和机型适配性的问题。如何在保证高帧率、高画质的基础上降低能耗，成了摆在团队面前又一技术难关。<br>
<br>
经过多次的摸索，我们从美术和技术两方面下手，最终取得了画质和能耗之间的平衡，简而言之，就是做到了「既让马儿跑，又能让马儿少吃草」的效果。<br>
<br>
为了呈现更真实的光照，采用PBR技术的游戏通常会在游戏画面采取多个光源的做法，用直白的话来说，就是在游戏画面中多放几盏灯。但囿于手机性能、电池续航等因素，多个光源往往会制约游戏实际的表现力，甚至可能出现掉帧或卡顿的情况，用户体验适得其反。<br>
<br>
<div align="center">
<img id="aimg_1000634" aid="1000634" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103341lkekec1x3fp78rn8.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103341lkekec1x3fp78rn8.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103341lkekec1x3fp78rn8.jpg" referrerpolicy="no-referrer">
</div><br>
我们给出的方案是「间接光烘焙多光源」。这一解决方案，看似简单，但真正实施起来却十分复杂。为了达到预期的在间接光中产生真实的光照表现效果，团队参考了2018 GDC上寒霜引擎的GI数据存储方式，可以让烘焙的光源产生高光，让Lightprobe也产生高光。而在这一过程中，我们在光照模型基础上开发了编辑器，将其流程化，可在多个场景中甚至未来其他游戏的开发中反复使用。<br>
<br>
<div align="center">
<img id="aimg_1000635" aid="1000635" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103341s4o4rnxcrllvl5c0.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103341s4o4rnxcrllvl5c0.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103341s4o4rnxcrllvl5c0.jpg" referrerpolicy="no-referrer">
</div><br>
<div align="center">
<img id="aimg_1000636" aid="1000636" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103342pc8dbyb8snl2u3xb.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103342pc8dbyb8snl2u3xb.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103342pc8dbyb8snl2u3xb.jpg" referrerpolicy="no-referrer">
</div><br>
在技术层面，借助大数据系统对于海量用户数据的分析，研发团队最终采用了指令优化、管线优化、LOD（多细节层次）等技术，实现能效比的深度优化。<br>
<br>
<div align="center">
<img id="aimg_1000637" aid="1000637" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103342os62yd02qwqzsvkd.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103342os62yd02qwqzsvkd.jpg" width="546" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103342os62yd02qwqzsvkd.jpg" referrerpolicy="no-referrer">
</div><br>
我们在游戏中开发了自动优化变体和指令的工具，对不同变体在不同手机上的性能进行评估，并自动找出最佳方案。在采用自动优化变体之后，游戏在PostProcessing前的渲染耗时从10ms降低到了4ms以内。<br>
<br>
游戏的渲染也是一个极为复杂的过程。在不同环境下如何调整渲染顺序？如何选取合并方案？如何令每一个Culling都有所不同？这些都考验游戏研发团队的实力。我们采用了自定义的深度缓冲和颜色缓冲，在渲染表现、后处理等模块中公用一切可以用到的数据达到更高的帧率以及更低的功耗。<br>
<br>
<div align="center">
<img id="aimg_1000638" aid="1000638" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103342z9bfapz8lrsfp9qc.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103342z9bfapz8lrsfp9qc.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103342z9bfapz8lrsfp9qc.gif" referrerpolicy="no-referrer">
</div><br>
此外，我们和华为HmsCore在LOD技术和网络通信技术上展开了深度合作。其中Slimlod技术在中低端机上能为游戏带来5-10FPS的优化效果，Network kit 能给用户带来更好的网络体验。<br>
<br>
我们在iPhone 6s等机型上进行了压力测试，像预期的一样，虽然无法获得最细腻的游戏画面，但中高效果画面已相当精美，更重要的是，游戏的运行相当流畅，没有丝毫卡顿。<br>
<br>
<strong>GameRes：做出这样一款产品，对三七游戏来说意味着什么？</strong><br>
<br>
<strong>三七游戏：</strong>相比于游戏未来的市场效益，我们认为这款游戏对于公司更大的意义在于，花了两年时间把在次世代引擎上游戏研发的流程摸了个遍，统一了技术文档和底层逻辑，明确了次世代工业化研发流程，形成了一套可重复使用的体系。<br>
<br>
在游戏的研发中，我们根据实际的需求以及次世代引擎的特点，制作了整套简单易用的编辑器，例如草地编辑器、雾气编辑器、技能编辑器等等。<br>
<br>
此外，我们还把这些编辑器统一整合到魔方框架的场景工作平台中。场景中的光照、细节等都可以通过这个平台进行修改、优化，未来游戏的更新甚至其他游戏的研发，都可以借助这个平台完成。<br>
<br>
<div align="center">
<img id="aimg_1000639" aid="1000639" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103343k44h3x6gtfbcrf4g.gif" data-original="https://di.gameres.com/attachment/forum/202108/13/103343k44h3x6gtfbcrf4g.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103343k44h3x6gtfbcrf4g.gif" referrerpolicy="no-referrer">
</div><br>
更为重要的是，我们在底层对文档的逻辑进行了统一，实现可复制的制作流程。换句话说，以后生成的任何编辑器，都可以被纳入魔方框架的场景工作平台中，这将大大提升三七游戏研发的效率以及创意的天花板，为三七游戏开发次世代游戏打下坚实的基础。<br>
<br>
<div align="center">
<img id="aimg_1000640" aid="1000640" zoomfile="https://di.gameres.com/attachment/forum/202108/13/103343arkkoo4jj04j4re0.jpg" data-original="https://di.gameres.com/attachment/forum/202108/13/103343arkkoo4jj04j4re0.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202108/13/103343arkkoo4jj04j4re0.jpg" referrerpolicy="no-referrer">
</div><br>
因此，对于三七游戏而言，《斗罗大陆：魂师对决》的研发过程既是其对自己精品化理念的一次延续，也是对当下最顶尖研发技术的一次实践，甚至可以说是对未来的一次布局。<br>
<br>
<strong><font color="#de5650">结语</font></strong><br>
<br>
在采访最后，我们抛出一个这样的问题，花费大量人力物力死磕技术难关的动力是什么？研发团队大部分成员回复的核心都是两个字：玩家。<br>
<br>
其实任何新技术的运用，追求的都是更细腻的游戏画面、更强大的游戏表现力以及更高的流畅度。归根结底，还是为了玩家有更好的游戏体验。<br>
<br>
「给世界带来快乐」是三七游戏，也是整个三七互娱的企业使命。如何给世界带来快乐，最直接的方式之一就是通过高质量的游戏给玩家带来快乐。用创新还原经典——给IP全新的生命力；用技术拥抱变化——给玩家更好的游戏体验；用匠心塑造精品——为玩家创造无限乐趣。在《斗罗大陆：魂师对决》上，我们也看到了三七游戏研发团队将这种使命切切实实注入到游戏的内容以及研发的过程当中。<br>
<br>
作为三七游戏自研领域面向次世代的转型之作，运用最新技术、倾注大量精力打造的《斗罗大陆：魂师对决》到底能呈现出怎么样的效果？我们相信玩家在亲自试玩过后会给出自己的答案。<br>
<br>
<font size="2"><font color="#808080"></font></font><br>
<font size="2"><font color="#808080">原文：https://mp.weixin.qq.com/s/gAnaUFl5qJTSBq2rValrrg</font></font><br>
<br>
</td></tr></tbody></table>



  
</div>
            