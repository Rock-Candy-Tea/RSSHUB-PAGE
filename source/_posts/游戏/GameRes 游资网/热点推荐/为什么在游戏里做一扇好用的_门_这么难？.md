
---
title: '为什么在游戏里做一扇好用的_门_这么难？'
categories: 
 - 游戏
 - GameRes 游资网
 - 热点推荐
headimg: 'https://di.gameres.com/attachment/forum/202104/14/113742qrxx29zbeavrek6k.jpg'
author: GameRes 游资网
comments: false
date: Wed, 14 Apr 2021 00:00:00 GMT
thumbnail: 'https://di.gameres.com/attachment/forum/202104/14/113742qrxx29zbeavrek6k.jpg'
---

<div>   
<table cellspacing="0" cellpadding="0"><tbody><tr><td class="t_f" id="postmessage_2492686">
<div class="quote"><blockquote>天下开发者苦门久矣。</blockquote></div><br>
<div align="center">1</div><br>
不久前，独立游戏开发者Stephan Hövelbrinks 在推特上分享了一条个人体会：游戏里的门开发起来很复杂，可能造成很多各种各样的bug，“开发者都痛恨它们”。<br>
<br>
<div align="center">
<img id="aimg_972066" aid="972066" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113742qrxx29zbeavrek6k.jpg" data-original="https://di.gameres.com/attachment/forum/202104/14/113742qrxx29zbeavrek6k.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113742qrxx29zbeavrek6k.jpg" referrerpolicy="no-referrer">
</div><br>
没想到这条推文引发了很多游戏开发者的共鸣，大家纷纷在评论区大倒苦水——其中不乏来自3A游戏工作室的精英老兵。<br>
<br>
《控制》首席玩法设计师Sergey Mohov说，他们在开发门上花费的时间绝对要要比武器和技能系统多；《最后生还者2》联合总监Kurt Margenau也说，门是所有游戏元素中调教耗时最长的；《南方公园：完整破碎》设计师Andrew Dovichi则表示，门是整个游戏中最复杂的物件。<br>
<br>
还有几名Remedy的高级设计师也表示，《量子破碎》中的门让他们抓狂，其实游戏里根本没有所谓的门，玩家看到的一切都是靠“作弊方法”实现的。<br>
<br>
<div align="center">
<img id="aimg_972067" aid="972067" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113744ctw885zjwwvbbeoq.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113744ctw885zjwwvbbeoq.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113744ctw885zjwwvbbeoq.gif" referrerpolicy="no-referrer">
</div><br>
一时间，半个游戏圈都怨声载道，好像门就是游戏开发中的罪恶之源。<br>
<br>
<div align="center"><strong>2</strong></div><br>
门是游戏中再寻常不过的物体了，为什么这么多业界大牛会被一个小小的门搞的团团转呢？<br>
<br>
在早期的游戏中，门并不存在什么互动，通常玩家在门的一边输入开门指令，门就打开了，非常简单。<br>
<br>
但后来游戏开始追求真实的体验，门不仅要能打开，还要能关上，有时还需要开锁或者被撞开，打开之后还得能来回摇摆，此时需要考虑的事情一下子就多了起来。<br>
<br>
<div align="center"><font size="2"><font color="#708090">
<img id="aimg_972068" aid="972068" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113746qvb2fnv93veitv3n.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113746qvb2fnv93veitv3n.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113746qvb2fnv93veitv3n.gif" referrerpolicy="no-referrer">
</font></font></div><div align="center"><font size="2"><font color="#708090">门的模型消失的话就会……</font></font></div><br>
如今在游戏中加入一扇门，几乎会影响制作中的每一个环节。<br>
<br>
游戏策划需要设定门能够实现的功能，建模师要给门建模，动画师要给门加入开启和关闭的动画，程序要让门能够正常工作，音效师则要给门配上合适的音效。<br>
<br>
这时人物动画师可能在纠结要不要专门给角色加一个开门的动作，如果让门自己凭空开合，好像有些破坏真实感。但角色如果要伸手开门的话，就需要额外制作相应的动作，而且还需要让角色的动作和门的开合完美匹配，那可真是要命了。<br>
<br>
如果只是工作量大，门也许还不会遭到这么多的diss，关键是在游戏里加入门还会引入非常多的潜在问题。<br>
<br>
<div align="center">
<img id="aimg_972069" aid="972069" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113748xyyvko3zo3ow622u.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113748xyyvko3zo3ow622u.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113748xyyvko3zo3ow622u.gif" referrerpolicy="no-referrer">
</div><br>
曾有开发者写过有一篇业界有名的文章，叫做“门的问题”。列举了在游戏中加入门时需要考虑的各种问题，比如玩家能打开所有门吗？还是有一些门只是装饰？玩家如何分辨它们？门能够锁上和解锁吗？感应到玩家自动打开，还是需要玩家按一个按钮？玩家穿过后，门会自动关上吗？<br>
<br>
<div align="center">
<img id="aimg_972070" aid="972070" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113748aiphh4nff4kh4xnf.jpg" data-original="https://di.gameres.com/attachment/forum/202104/14/113748aiphh4nff4kh4xnf.jpg" width="600" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113748aiphh4nff4kh4xnf.jpg" referrerpolicy="no-referrer">
</div><br>
门的开闭很容易造成视觉上的穿帮，如果开门时有真实的碰撞，那早晚会被角色卡住，或者是门把角色也一起推开。如果门没有碰撞，那么很可能会在开启的过程中直接穿过角色的模型。无论如何，开发者都需要进一步的调整。<br>
<br>
<div align="center">
<img id="aimg_972071" aid="972071" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113752jyx9zl86vyd8ddym.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113752jyx9zl86vyd8ddym.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113752jyx9zl86vyd8ddym.gif" referrerpolicy="no-referrer">
</div><br>
比如《逃生》中，玩家可以按住鼠标，让门开一个小缝。在正常情况下，这个姿势很容易导致角色和门产生碰撞体积的重叠，因此在开门时游戏会将角色的碰撞体积缩小，之后再恢复正常。有人就利用这个机制，让碰撞体积卡在很小的状态，实现穿门、穿墙的邪道技巧。<br>
<br>
<div align="center">
<img id="aimg_972072" aid="972072" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113755zfffcig2f26dqbfd.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113755zfffcig2f26dqbfd.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113755zfffcig2f26dqbfd.gif" referrerpolicy="no-referrer">
</div><br>
有的门机制更复杂，一面是锁着的，但可以从一面打开，类似黑魂中的门。但这样的门如果设计得不够完善，玩家可能会在某个角度触碰到门另一侧的开关，直接穿墙把门打开。<br>
<br>
<div align="center">
<img id="aimg_972073" aid="972073" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113758j5znmq6g40rg0u00.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113758j5znmq6g40rg0u00.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113758j5znmq6g40rg0u00.gif" referrerpolicy="no-referrer">
</div><br>
门同时存在开启和关闭两种状态，开启的时候需要畅通无阻，关闭的时候需要阻挡一切角色通过。这会对AI的寻路系统会造成很大影响，不少寻路系统中AI只会根据地图来选择路线，完全不知道门的存在。<br>
<br>
<div align="center">
<img id="aimg_972074" aid="972074" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113759fsse7hzs1lwq1dzj.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113759fsse7hzs1lwq1dzj.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113759fsse7hzs1lwq1dzj.gif" referrerpolicy="no-referrer">
</div><br>
设计门的时候，制作者还需要考虑玩家的不确定性，各种意想不到的举动都可能导致门的失灵：门打开或关闭的时候正好有人站在门口怎么办？玩家搬来一个东西堵在门口会怎么样？<br>
<br>
《上古卷轴5》玩家就曾发现，只要在手里拿一个大号的物件，便可以直接穿过一些门，可能是因为门和物体接触时，碰撞判定被短暂停用了。<br>
<br>
<div align="center">
<img id="aimg_972075" aid="972075" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113803amrgzq00whngtvrr.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113803amrgzq00whngtvrr.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113803amrgzq00whngtvrr.gif" referrerpolicy="no-referrer">
</div><br>
类似的情况不少。在《黑暗之魂2》中，把自己置于木桶和门之间，也可以将自己挤进屋子里。<br>
<br>
<div align="center">
<img id="aimg_972076" aid="972076" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113806e8ieooifzf8of8ut.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113806e8ieooifzf8of8ut.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113806e8ieooifzf8of8ut.gif" referrerpolicy="no-referrer">
</div><br>
哪怕是在线的GTAOL，也存在门的问题。在最新的佩里科岛抢劫任务中，金库的门本来需要两名玩家同时加入两张门禁卡才能解锁，但有玩家发现，只要在门上做出掩护动作并转身瞄准，不用解锁，门直接就开了。<br>
<br>
<div align="center">
<img id="aimg_972077" aid="972077" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113812a0v5zcnq03gv4dnh.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113812a0v5zcnq03gv4dnh.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113812a0v5zcnq03gv4dnh.gif" referrerpolicy="no-referrer">
</div><br>
GTA 5中的门和玩家产生物理碰撞时会自然打开，这可能是转身瞄准的动作让人物的碰撞体积绕过了锁门检查而触发了开门的逻辑。<br>
<br>
<div align="center">
<img id="aimg_972078" aid="972078" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113817mogzt3emy16yfl0k.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113817mogzt3emy16yfl0k.gif" width="300" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113817mogzt3emy16yfl0k.gif" referrerpolicy="no-referrer">
</div><br>
当然如果只是一个门，制作者可以对它进行大量微调，直到它不出问题为止。但游戏中有太多的门了，根本不可能一个一个控制。且因为玩家经常会和门产生互动，功能越复杂的门，越容易出现问题。<br>
<br>
在开发《巫师3》“血与酒”DLC的过程中，CDPR的开发者就曾突然发现每一个建筑物的门都被打开了，包括那些本来不允许玩家进入，仅用作摆设的屋子，然而团队中没有人知道原因是什么。<br>
<br>
经过了一阵排查，他们发现是在围攻顿·泰尼城堡的任务中，任务设计师希望把任务做得更加线性，因此决定在任务前关闭城堡内所有的门，迫使玩家专注剧情本身。只有剧情结束后，才开放这些区域供玩家自由探索。<br>
<br>
<div align="center">
<img id="aimg_972079" aid="972079" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113819stsbqo9l84jtt4jj.jpeg" data-original="https://di.gameres.com/attachment/forum/202104/14/113819stsbqo9l84jtt4jj.jpeg" width="600" inpost="1" src="https://www.gameres.com/undefined" referrerpolicy="no-referrer">
</div><br>
但问题是，游戏中有很多的门，有些是要一直锁着的，有些是当玩家拿着对应的钥匙时才能解锁，而程序无法判断哪些门是单独为了这个任务关闭的，于是最终就把游戏中所有的门都打开了。<br>
<br>
<div align="center"><strong>3</strong></div><br>
在《巫师3》的案例中，开发者最后只能手动为游戏中的每一个门做了标记，“这个门之前是关的，任务之后也应该是关的”“这个门之前是需要钥匙的，任务之后也不能打开。”<br>
<br>
有时候游戏开发中的问题处理就是这么粗暴和直白，也解释了为什么开发者们如此痛恨容易出问题的门了。<br>
<br>
门的问题主要来自于玩家行为的不可预测和门逻辑的复杂性，因此要解决门的问题也要从这两方面下手。<br>
<br>
<div align="center">
<img id="aimg_972080" aid="972080" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113822yk4mo8glykkao0ko.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113822yk4mo8glykkao0ko.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113822yk4mo8glykkao0ko.gif" referrerpolicy="no-referrer">
</div><br>
有些游戏会限制玩家的行动。比如必须站在特定的位置按一个按钮门才会开启，有些门只有队友在剧情中可以打开，玩家无法主动开启。或者在开门时播放一段动画，夺去玩家的控制权。<br>
<br>
在《P.T.》中，玩家接近门时会自动触发开门的动画，在穿过门进入下一个房间之后才能重新控制角色。<br>
<br>
有人找到了一种触发开门事件但不进入下一个房间的方法。在下图中的角度可以看到，玩家其实没有真的开门，在开门的一瞬间，门实际上是消失了，在玩家通过之后再重新出现。利用一个动画，就能很好地跳过开门的过程和相关的一系列潜在问题。<br>
<br>
<div align="center">
<img id="aimg_972081" aid="972081" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113825ql8k8xsm052iiuwd.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113825ql8k8xsm052iiuwd.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113825ql8k8xsm052iiuwd.gif" referrerpolicy="no-referrer">
</div><br>
另外，真实的门不一定就是更好的门。<br>
<br>
如果你注意观察，会发现游戏中的门有很多不真实的地方，比如尺寸要比现实中大很多，而且多数门是双向开的。不论玩家在哪一侧，门一直都是向远离玩家的方向打开，这样开门的速度更快，而且不会和角色的身体发生冲突。<br>
<br>
在现实中，很少有门会装有双向铰链，但在游戏里，双向门能省去非常多的麻烦，而且多数玩家并不会注意到。<br>
<br>
很多人都称赞游戏《半衰期：爱莉克斯》中有最为真实的门。但实际上在游戏制作过程中，开发者们需要不断削弱门的真实性。<br>
<br>
最开始，V社的开发者设计了一个相当真实的门，开合完全用物理引擎模拟，带有铰链，关上的时候会自动锁住，而且像正常人家的门一样，只能单向开启。<br>
<br>
然而在测试中出现了一个神奇的情况，测试的玩家在游戏里突然不会开门了。<br>
<br>
<div align="center">
<img id="aimg_972082" aid="972082" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113826rpprem4s5scl401j.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113826rpprem4s5scl401j.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113826rpprem4s5scl401j.gif" referrerpolicy="no-referrer">
</div><br>
比如一扇门是要推开的，玩家第一次选择了拉，此时门自然不会有反应，但人的手臂已经向后拉动了。之后玩家会去尝试推门，当然是他们以为自己在推门，实际上手只是推回到了初始的位置，因此游戏中的门依然不会有反应，于是玩家就会反复地在腰间进行推拉动作，最终认定是这个门坏了。<br>
<br>
所以最后，《半衰期：爱莉克斯》中的门还是统一改成了双向门。<br>
<br>
后来开发者又尝试给门加上了一个可以转的门把手，只有像现实中一样转动把手门才能打开。结果测试玩家尝试了好久，但就是打不开门。原因是他没想到游戏会如此逼真，居然还要转把手。<br>
<br>
于是开发者又修改了设计，开门时，手部会自动做出转把手的动作，让玩家意识到把手是可以转动的。在实际的游玩中，很多玩家会跟着一起转动手臂，觉得是自己在控制门把手的转动，并认定这款游戏的门相当真实。<br>
<br>
<div align="center">
<img id="aimg_972083" aid="972083" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113828oh09k6kvvq9qs99o.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113828oh09k6kvvq9qs99o.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113828oh09k6kvvq9qs99o.gif" referrerpolicy="no-referrer">
</div><br>
当遇到门的问题时，通用的方法是放弃真实，选择变通。有的开发者使用滑动门代替了推拉门，有的会让门在开合时无视碰撞。还有的开发者得出结论，如果你的游戏不是必须有门，就别自找麻烦。<br>
<br>
比如早期的《刺客信条》中基本上是没有门的，直到《刺客信条：英灵殿》里，育碧才在游戏里加入了像样的门系统，但对于能够飞檐走壁的玩家来说，他们可能根本没有意识到有什么不同。<br>
<br>
<div align="center">
<img id="aimg_972084" aid="972084" zoomfile="https://di.gameres.com/attachment/forum/202104/14/113829rstuhm8n5pnu8juh.gif" data-original="https://di.gameres.com/attachment/forum/202104/14/113829rstuhm8n5pnu8juh.gif" width="400" inpost="1" src="https://di.gameres.com/attachment/forum/202104/14/113829rstuhm8n5pnu8juh.gif" referrerpolicy="no-referrer">
</div><br>
<div align="center"><strong>4</strong></div><br>
从众多开发者的血泪倾诉中，我们能管中窥豹，看到一些制作游戏的不易。<br>
<br>
其实不光是门，游戏开发中任何东西都不是看上去那么轻松易得的，背后可能是无数个小时的工作和思考。<br>
<br>
门的特殊性就在于，它的开发过程是如此的困难，但在玩家眼中又是如此的普通。开发者倾注了很多心血，花费大量时间研发的门，在实际游戏中可能根本不会引起注意。<br>
<br>
可以说，门是游戏中的一种奢侈品。它不是每个游戏必备的，也没法让游戏产生质的变化，但为了让游戏有更加完整、流畅的体验，很多开发者依然愿意花时间去设计一个好用的门。<br>
<br>
带着这样的理解，下一次在游戏中遇到性能优异、功能齐全的门时，你也许会对它生出新的敬意。<br>
<br>
<font size="2"><font color="#708090">作者：石叶</font></font><br>
<font size="2"><font color="#708090">来源：游研社</font></font><br>
<font size="2"><font color="#708090">地址：https://www.yystv.cn/p/7800</font></font><br>
<br>
</td></tr></tbody></table>



  
</div>
            