
---
title: '全网最细《黑神话》新实机演示中光线追踪，动作等技术细节报告！上篇'
categories: 
 - 游戏
 - 小黑盒
 - 游戏新闻
headimg: 'https://imgheybox.max-c.com/bbs/2022/08/20/6e25710322e3f0363850f84a1fca3cf5/thumb.jpg'
author: 小黑盒
comments: false
date: Sat, 20 Aug 2022 16:25:26 GMT
thumbnail: 'https://imgheybox.max-c.com/bbs/2022/08/20/6e25710322e3f0363850f84a1fca3cf5/thumb.jpg'
---

<div>   
<p><br><b>8.20注定是一个不平凡的一天，作者也是早上4点钟就从起床打开手机搜索着《黑神话》相关的新闻，至于为什么这么早，单纯是因为作者激动的睡不着觉。</b></p><p><img class="lazy" data-height="1080" src="https://imgheybox.max-c.com/bbs/2022/08/20/6e25710322e3f0363850f84a1fca3cf5/thumb.jpg" data-width="2160" referrerpolicy="no-referrer"></p><p>今天的官方放出来的东西实在是足量，<b>一个6分钟的即时演算过长，一个游戏新主题曲，一个游戏8分钟的实机演示</b><b>，</b>其实这些研究起来要些时间，在加上音乐这块对于我来说确实专业不对口，所以就不涉及这方面的分析了。</p><p><img class="lazy" data-height="1080" src="https://imgheybox.max-c.com/bbs/2022/08/20/15594a333d86c12b164db1c490875f90/thumb.jpg" data-width="2160" referrerpolicy="no-referrer"></p><p><b>本期主要讲6分钟的即使渲染过场，下期讲8分钟打斗实机演示。</b><br></p><p><b>第一个技术展示是<b>“海飞丝”技术，这也是俗称，官方名字叫“NVIDIAHairWorks毛发增强技术”</b></b>其实我应该在《黑神话：悟空》第一个实机演示发布的时候就该讲这个技术，因为第一个出场的“灵虚子”毛发表现力已经非常惊人了，但两年前的作者属于愣头青，脑子里完全没有蹭热度这几个字，只知道尽力把文章讲到全网最细，可惜完全没流量，不过现在我学乖了。</p><p><img class="lazy" data-height="818" src="https://imgheybox.max-c.com/bbs/2022/08/20/bbc6312b0c65e96b385184db9ee590bc/thumb.png" data-width="1627" referrerpolicy="no-referrer"></p><p>好了，不多废话了。我们先看第一张图，下方这个图就是比较明显的<b>海飞丝技术运用的画面。</b><br></p><p><img class="lazy" data-height="737" src="https://imgheybox.max-c.com/bbs/2022/08/20/56acda4b030b63407156ef4de6a9c671/thumb.png" data-width="1893" referrerpolicy="no-referrer"></p><p>相对于之前没有使用海飞丝技术的人物头发或者毛发来说，游戏人物的头发是一个整体的网格，<b>而我们下面看到的这张图却不一样，很明显每根头发都有一定的空隙，并且有运动的趋势</b>，而之前的游戏是是做到这些的，要么是一整个马尾运动，要么是一簇在头发运动。这是怎么做到的呢？<b>是因为加上了海飞丝技术之后，</b><b>人物的每一个根头发都是一个单独的网络，也就是可以单独去设计运动</b>（当然，不是真的让你去一根根地做）<b>之前的头发可能是几片区域合成的</b><b>，但现在真的是货真价实的几千几万根头发在人物头发飘动</b><br></p><p><img class="lazy" data-height="785" src="https://imgheybox.max-c.com/bbs/2022/08/20/40e1e24240391d73ce2688c2dd036d74/thumb.png" data-width="1874" referrerpolicy="no-referrer"></p><p>海飞丝技术早在虚幻4的大时代就已经是一个比较普遍的技术了，几乎有点投资的3A大作都会用上这个技术，所以这个技术发展到选择才会有如此好的表现力。<b>并且卡普空的RE引擎在这方面非常有造诣，之前在讲RE引擎的时候没有讲到这个地方，这边给补充上。</b></p><p><img class="lazy" data-height="914" src="https://imgheybox.max-c.com/bbs/2022/08/20/f4594fa11cf512c91bb9ab32f3144edb/thumb.jpg" data-width="1630" referrerpolicy="no-referrer"></p><p><b>第二个讲的会比较细一些，就是大家熟知的光线“追踪技术”技术。</b></p><p>在讲篇之前先给大家简单科普一下光线追踪的基础知识，因为估计80％玩家对于光线追踪技术的理解还是在“光追的光影”和“光追的反光”这个程度，这个也很正常，如果不是做了一名科普区作者，我可能这辈子都不会去了解这些技术的详情。其实关于光线追踪的技术非常多的，<b>就比如："光追焦散"“光追折射”"光追反射" "光追阴影 ""光追多层透明““光追环境光遮蔽"等等等等。单个的详细技术讲解这边就不扩展了，不然超篇幅太多了。</b></p><p><img class="lazy" data-height="1357" src="https://imgheybox.max-c.com/bbs/2022/08/20/28527e7da42ff2d313571c7d2fab9dc0/thumb.jpg" data-width="3199" referrerpolicy="no-referrer"></p><p>因为大家可能大部分的注意都集中在那个8分钟的实机战斗视频中了，所以忽视了那个6分钟视频，其实6分钟视频里面用到的光追技术非常多，我们接下来慢慢讲。</p><p><b>首先第一张图，<b>这张图是可以说代表了”光线追踪环境光遮蔽“技术的优越了</b>，同屏超过上千片树叶在晃动，其中不乏落叶。</b>对于传统光遮蔽技术来说这可以是噩梦级别的任务量，但通过光追技术来实现后不但任务量大大削减，而且画面还会更加的自然。</p><p><img class="lazy" data-height="780" src="https://imgheybox.max-c.com/bbs/2022/08/20/ecb189fb31caef6b7cdb20492430537f/thumb.png" data-width="1897" referrerpolicy="no-referrer"></p><p>再然后是这张图，图片中的光线来源是后面的蜡烛，因为蜡烛的光线设计难度在自然光线之上，这张图更能体现制作组的技术力。<b>首先这张图的人物与场景非常融洽，但这并不是归功于人物建模的高度精细，而是因为人物的光影采用了环境光遮蔽效果，</b>让人物更环境光线有了互动，注意看衣服边和后面的头发，这都是在与环境交互，所以也让人物处于这个场景里面非常的自然，画面表现贴近现实。</p><p><img class="lazy" data-height="786" src="https://imgheybox.max-c.com/bbs/2022/08/20/0a4ec79ece2bbae5760ae957e66020bd/thumb.png" data-width="1884" referrerpolicy="no-referrer"></p><p>这张的技术表现更为突出。</p><p><img class="lazy" data-height="757" src="https://imgheybox.max-c.com/bbs/2022/08/20/9f639d64c9a6405fe83c60863f16ebe6/thumb.png" data-width="1757" referrerpolicy="no-referrer"></p><p>接下是这张图，<b>这张图里面的这个碗，<b>这个碗是整个视频里面唯一的运用到”光线追踪焦散“技术的地方，这其实非常少见，</b></b>因为"光追焦散"是游戏厂商们非常喜欢的一个技术，这个技术能让游戏建模变的非常高大上，具体效果就比如我在上文放的《星球大战》图片里面所显示的一样，这个技术大量运用后可以非常吸引眼球。不过在这次《黑神话：悟空》中居然只稍微出现了一次，真是让人意外。</p><p><b>（8分钟的也有，不过受限于篇幅有限，只能等到明天出下篇的时候在告诉大家了）</b></p><p><img class="lazy" data-height="783" src="https://imgheybox.max-c.com/bbs/2022/08/20/db0fe6b489a584a173668fc3f98dd535/thumb.png" data-width="1758" referrerpolicy="no-referrer"></p><p><br></p><p><img class="lazy" data-height="393" src="https://imgheybox.max-c.com/bbs/2022/08/20/d348483f178118d20a9a3df0c808b481/thumb.png" data-width="1125" referrerpolicy="no-referrer"></p><p>这张图就有意思了，图片内的场景左边是室内，右边是室外，但两处受到的光线却是完全不同的，左边是室内发出的烛火的光芒，主要偏黄色调。而右边的自然光是偏蓝色调的，<b>但左边的室内环境并没有受右边的自然光的影响，</b><b>实现这个技术的方法是运用英伟达独家的ReSTIR演算技术。</b>ReSTIR技术方案会透过单一光线数据进行重新取样，并且透过空间与时间之间运作像素进行光线追踪参考依据，智能选取最佳演算方案，这也是达到这张画面呈现效果的原因。<br></p><p><img class="lazy" data-height="781" src="https://imgheybox.max-c.com/bbs/2022/08/20/075f712ce84201ec9a1993cfe931fa0d/thumb.png" data-width="1896" referrerpolicy="no-referrer"></p><br><p>好了，光追讲完了，接下来看看作者在反复观看了视频四五十遍里面发现的这些画面细节吧！</p><p><br></p><p><b>第一处细节，游戏画面中的花瓣落叶是真的会掉落到地面上的，而不是悄悄的消失。</b></p><p><img class="lazy" data-height="783" src="https://imgheybox.max-c.com/bbs/2022/08/20/507581dc85205af79c2e465217622852/thumb.png" data-width="1904" referrerpolicy="no-referrer"></p><p><br></p><p><img class="lazy" data-height="516" src="https://imgheybox.max-c.com/bbs/2022/08/20/157d6262b677f374ec8810fcb547f05c/thumb.png" data-width="1293" referrerpolicy="no-referrer"></p><p>虽然我发现这个细节的时候觉得很厉害，<b>但是又仔细一想觉得不妥，因为白白浪费了性能，这完全可以提前在地面上多做一点花瓣，虽然失去了一个细节，但可以节约不少性能成本。</b>因为这个即时演算的画面实在太烧显卡了<b>。不</b><b>知道你们有没有注意到另外一个细节，就是画面切换到屋顶瓦片的时候，《黑神话：悟空》制作组的电脑居然都没有及时渲染好画面，可想而知这个过场有多么的吃性能啊。</b></p><p><img class="lazy" data-height="795" src="https://imgheybox.max-c.com/bbs/2022/08/20/68baa5448c2daf6bf84692af512df7ca/thumb.png" data-width="1760" referrerpolicy="no-referrer"></p><p>0.3秒之后渲染好的画面：<br></p><p><img class="lazy" data-height="793" src="https://imgheybox.max-c.com/bbs/2022/08/20/f419fb140d3ae028662907c79112c6cb/thumb.png" data-width="1585" referrerpolicy="no-referrer"></p><p><b>所以这里我还是建议官方换一个方案，连官方的机器都没法跑到100％画面表现，玩家们的电脑和主机可想而知，</b>并且这个细节也是我在反复观看了多次的情况下捕捉到的，所以必要性也不是非常强。</p><p><br></p><p><b>第二个细节是手掌的纹路，虽然画面有点暗不容易察觉，但奈何作者我的观看的时长摆在这里了。</b>作者上一次提到手掌纹路还是在《荒野大镖客2》的讲解当中，有这方面细节的游戏非常少，所以能在国产游戏中看到这样的细节我发自内心的觉得自豪。</p><p><img class="lazy" data-height="792" src="https://imgheybox.max-c.com/bbs/2022/08/20/14348fc6f3cefdbd62b6b48b566071b3/thumb.png" data-width="1771" referrerpolicy="no-referrer"></p><p>其他的地面细节和建筑细节相信不少人也都看得出来，我也就没必要再拿出来水了。<b>最后的这只大蜘蛛，可以说是官方在炫技术</b>，蜘蛛的动作和纹理细节都是行业顶级，并且与环境交互做的特别好，光影细节处理的也非常完美。相比之下，作者前几天还在肝的《怪物猎人：崛起》里怪的细节就差了不少。这只蜘蛛的表现力真的爆表了。</p><p><img class="lazy" data-height="787" src="https://imgheybox.max-c.com/bbs/2022/08/20/307d79a113f3ac417fa447e1db438b49/thumb.png" data-width="1892" referrerpolicy="no-referrer"></p><p><b>最后，</b></p><p><b>希望《黑神话：悟空》能顺利的与大家见面，一款顶级的游戏面世真的能改变现在行业的很多，波兰之所以能从盗版横行的市场发展到如今现在的状况，《巫师》系列的功劳当仁不让，所以我也希望《黑神话》能成为中国的《巫师》。</b></p><p><b>——爱喝粥的鱼</b></p><p><img class="lazy" data-height="900" src="https://imgheybox.max-c.com/bbs/2022/08/20/cd6fa9e4bb293b9fc5dd4d83f0024318/thumb.jpg" data-width="1600" referrerpolicy="no-referrer"></p><p><br></p><p><b>本期技术方面参考资料：</b></p><p>https://zhuanlan.zhihu.com/p/165539118</p><p>https://zhuanlan.zhihu.com/p/159077421</p><p>https://finance.sina.com.cn/tech/2020-10-20/doc-iiznctkc6511210.shtml</p><p>https://www.sohu.com/a/397637530_120636419</p><p>https://zhuanlan.zhihu.com/p/542644563</p>  
</div>
            