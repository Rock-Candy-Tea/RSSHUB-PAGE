
---
title: '【掉线那些事儿2】nat3，DDoS攻击，黑客，和你游戏掉线'
categories: 
 - 游戏
 - 小黑盒
 - 游戏新闻
headimg: 'https://cdn.max-c.com/heybox/game/header/1634680_VynRj.jpg'
author: 小黑盒
comments: false
date: Sun, 18 Jul 2021 11:46:02 GMT
thumbnail: 'https://cdn.max-c.com/heybox/game/header/1634680_VynRj.jpg'
---

<div>   
<p>啊喽哈，这里是【Ficket: 追剧引擎】作者的摸鱼时刻，欢迎大家催更我的软件哦</p><p><img data-gameid="1634680" src="https://cdn.max-c.com/heybox/game/header/1634680_VynRj.jpg" referrerpolicy="no-referrer"></p><p>书接上回，上回书说到那  黑脸的张翼德在长坂坡上一声大喝</p><p>“大胆曹贼，居然使用掉线攻击，看我不开个加速器干死你”</p><h2>DDos攻击，黑客与掉线</h2><p>如果把ip比作地址，把数据比作快递的话，那么掉线的本质就是数据包裹无法送达到用户手里。</p><p><img class="lazy" data-height="509" src="https://imgheybox.max-c.com/bbs/2021/07/13/10ef5cdb3685e94c3af53d0d9eccb656/thumb.jpeg" data-width="640" referrerpolicy="no-referrer"></p><p>我知道很多人已经开始想一个关于q的话题，但是那真的不是导致掉线的根本原因。毕竟你用的是加速器，而不是魔法，如果真的一样的话，为啥会专门有个产品叫做加速器呢</p><p>常看游戏新闻的话，你应该经常看见DDos攻击的新闻，说那那个黑客组织攻击了某某游戏公司，或者那些玩家群体不满外挂处理不利，而DDos某个网站。搞得好像黑客非常好当，DDos人人都会</p><p>但是，没错，DDos就是简单到有手就会的黑客攻击方式。因为它的本质上就是不停的给人打电话，导致别人电话占线，而无法正常工作。</p><p><img class="lazy" data-height="306" src="https://imgheybox.max-c.com/bbs/2021/07/13/d69d0b3c3f29e1987d03f9acb460c377/thumb.jpeg" data-width="640" referrerpolicy="no-referrer"></p><p>我们先不用去想什么网络，计算机之类专业名词啊什么之类的，我们只思考数据传输</p><p>在我们的生活中，有两种信息传输模式，一种是打电话，一种是信件/邮件。</p><p><br></p><p>这两种的区别就是打电话得先接通才能打，信件则不需要接通就直接可以寄出。</p><p>假设你的女朋友被你兄弟抢走了，你想让他不爽，那你就把他的手机号留在58同城嘛。那你就把他的地址写成废品回收站嘛。</p><p>DDos的攻击原理和这如出一辙，</p><p>以tcp为例（tcp和udp是网络的两种传输协议），tcp基本就和打电话一样，你接电话得问问对面是谁吧，对面要一直不说话你才会挂电话对吧。</p><p><img class="lazy" data-height="240" src="https://imgheybox.max-c.com/bbs/2021/07/13/ffa564240c18bca4eaa2cc51c3dd5263/thumb.png" data-width="240" referrerpolicy="no-referrer"></p><p>基于tcp的DDos攻击就是用网上的无数台肉鸡同时给服务器发请求，在服务器应答“你谁啊，你要干嘛”的时候，保持沉默。因为服务器的连接有限，都跑去“喂喂，你谁啊”。</p><p>就这样，没有空闲服务正常人了，简单来说，就是占线了。</p><p>手机显示有个从菲律宾半岛到来的电话你接吗？</p><p>有个从冰岛寄来的快递你敢打开吗？（瘟疫公司开局记得选冰岛）</p><p>也就是因为这样，一个陌生的数据包从大洋彼岸飘过来的时候，你的电脑也会极有可能主动拒绝掉它。</p><h2>nat类型与收发室老大爷</h2><p>上回有人问我说ip数量不能增加吗，其实答案是【可以】，也可以是【不可以】</p><p>从协议的角度不可以，5单元201就是5单元201。</p><p>但从现实角度可以，5单元201里姓奥，名特曼的小姑娘</p><p><br></p><p>上回说到国内的网络运营商基本如同收发室老大爷</p><p><img class="lazy" data-height="359" src="https://imgheybox.max-c.com/bbs/2021/07/13/a45a7693f99d07043478a4c0e8b1eb2c/thumb.jpeg" data-width="580" referrerpolicy="no-referrer"></p><p>假设有个ip是1.1.1.1，想分给是十个人用</p><p>运营商就会开十个端口 1.1.1.1：(0~10) 分给这十个人</p><p>这个行为就是nat。</p><p>简单来说一个房子租了三个人，地址没法变对吧，都是201，但是我可以改备注</p><p>这样子快递员就可以送到你手上了对吧</p><p><b>但是！！！！！！！！！！！！！</b></p><p>这种做法只流行于ip数量不够的国家。国外每人好几个ip，好几套房，就没合租这么一说，人家犯得着搞什么菜鸟驿站，丰巢快递柜嘛</p><p>而大多数我们玩儿的游戏都是国外做的，人家不考虑这个，所以就导致了有些人可以裸连（公网ip），有些人开加速器都得看脸</p><p><b>想要理解nat类型，你就要理解这快递到底是怎么寄的</b></p><p>比如说，我是201室的奥特曼先生，要寄往冰岛人民路小卖铺，那我就可以和收发室老大爷说，</p><p>“大爷，从冰岛人民路小卖铺寄回来的拿东西，你给我好吧“</p><p><br></p><p>大爷说，你们小年轻就是事儿多，门口有个柜子，你让人给你写收货地址，写编号800的那个柜子就行</p><p>这个连接没问题对吧</p><p><br></p><p><b>诶，但这个时候有从另一个地址发到这个柜子的快递</b></p><p><b><br></b></p><p>请问大爷会把这个快递给你吗？</p><p>无条件给你就是nat1</p><p>你之前发快递到过这个地址就给你转发 就是 nat2</p><p>你之前发快递到过这个地址+备注才给你转发就是nat3</p><p><b>注意</b></p><p>公网ip一定是nat1，因为他压根就没有nat这个操作</p><p>从nat1到nat3游戏网络环境降低，安全度则升高</p><p>所以你搞个什么长城宽带，铁通什么的，别人想DDos你都找不到你在哪儿。</p><p><br></p><p><b>我们来思考一下nat3和nat3联机的场景是什么样子的。</b></p><p>快递从美国人民路小卖铺迪迦奥特曼</p><p> ----->寄往冰岛人民路小卖铺赛文收   </p><p>----> 小卖铺首发室接到快递</p><p>----> 收发室查阅快递记录</p><p> --->没有发现用户之前往美国寄过东西</p><p>---->拒收</p><p><b>这两者最重要的问题就是没有任何一方可以无条件接受信息包裹的</b></p><p><b>加速器就是做这么一个中转站的</b></p><p><b><br></b></p><p><img class="lazy" data-height="497" src="https://imgheybox.max-c.com/bbs/2021/07/13/b1a282a893af97cb92da1d7cfbce4342/thumb.jpeg" data-width="883" referrerpolicy="no-referrer"></p><p><b><br></b></p><p>很多人可能觉得加速器加速器就是加速的</p><p>比如说本来400ms，用了加速器就变成了50ms，非也</p><p>加速器在国内最最重要的就是给nat3类型的ip环境做中转站的</p><p>举个栗子两个都用加速器的nat3用户</p><p>----->用户：我要寄快递了</p><p>----->加速器1:您说，寄哪里（加速器可不会拒收你的消息的哦）</p><p>----->用户：我要寄那那那儿（另一个加速器加速后的地址，或者nat1/nat2）</p><p>------>加速器1：哦，好的（哦，小黑盒啊，它服务器就在我隔壁）</p><p>------->加速器2：收到，正在转发</p><p>这样nat3的网络环境只需要与加速器进行联络即可，加速器不可能拒收消息，因为你得打开客户端嘛。</p><p><br></p><p>ps：这应该算最通俗易懂的解释了，很多更深的内容就不讲了，比如说p2p里最重要的一点，你怎么知道对方的ip呢。不过这个就算内网穿透的话题了，该是<b>育碧程序员</b>看的内容，我就不班门弄斧了。</p><p>如果这期摸鱼你完全没看懂也无妨，自己下个 NatTypeTester 测试一下吧</p><p>我的是nat1哦~</p><p><img class="lazy" data-height="249" src="https://imgheybox.max-c.com/bbs/2021/07/13/0263389cd854ed5e35b1cc5f616f6b41/thumb.png" data-width="595" referrerpolicy="no-referrer"></p><p><br></p><p>有啥问题可以在评论区问哦。</p><p><br></p><p>哦，对了我的软件打算更新一个开卷有益功能，每周或者每天推送一篇短文。</p><p>这年头看的垃圾内容够多的了，偶尔洗涤一下心灵吧。</p><p>就像这样：</p><p><img class="lazy" data-height="571" src="https://imgheybox.max-c.com/bbs/2021/07/13/bed981bc643124140bf5f842041b9177/thumb.png" data-width="1342" referrerpolicy="no-referrer"></p><p><img data-gameid="1634680" src="https://cdn.max-c.com/heybox/game/header/1634680_VynRj.jpg" referrerpolicy="no-referrer"></p><p>喜欢的点个关注，我们下期再见，如果还有下期的话~</p><p><a href="heybox://open_subject" target="_blank">#掉线那些事儿#</a> <a href="heybox://open_subject" target="_blank">#学习#</a></p>  
</div>
            