
---
title: '盘点游戏外挂制作的基本原理'
categories: 
 - 游戏
 - 小黑盒
 - 游戏新闻
headimg: 'https://cdn.max-c.com/heybox/dailynews/img/cc5e4e3e86a148c17c84f167dcdb8dee/thumb.png'
author: 小黑盒
comments: false
date: Wed, 19 May 2021 18:53:20 GMT
thumbnail: 'https://cdn.max-c.com/heybox/dailynews/img/cc5e4e3e86a148c17c84f167dcdb8dee/thumb.png'
---

<div>   
<p><img class="lazy" data-height="256" src="https://cdn.max-c.com/heybox/dailynews/img/cc5e4e3e86a148c17c84f167dcdb8dee/thumb.png" data-width="666" style="width: 100%; height: 38.4384%;" referrerpolicy="no-referrer"></p><h2>    前言</h2><blockquote><p>从20世纪末开始，我国就进入了互联网发展的热潮，伴随互联网的发展和计算机的普及，电脑游戏也开始逐渐流行起来，但是当游戏登陆计算机后，由于计算机的多元化和超高自由度的可编辑性，几乎导致所有程序都可以反编译和修改，这就衍生出了游戏脚本、游戏破解等黑色产业。</p></blockquote><p>本期日记就来细盘游戏外挂的制作原理，由于覆盖计算机行业专业性词汇，身为理工男的日记尽量把文章写的白话通俗一点，好让更多盒友懂得其中的道理。</p><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/65fd8008f4e1cd0f55414becb1b94eb7/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>外挂基本概念</h2><p>要理解外挂基本概念，我们首先就要去了解计算机的运作原理，当我们在计算机上打开任何一个软件时，不管是QQ、word、还是游戏，它们本质上都是一个可执行的程序，唯一不同的就是由不同的计算机语言编写（计算机语言：C语言、C++、JAVA、PYTHON等）。</p><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/2cdf03c960647d90ff5ce9139926854e/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><p>尽管这些语言再花哨，但它们始终不能逃离计算机运作的本质，那就是数字0和1，计算机是由各种电子元器件组成的数字集成电路(把它看做复杂的电子元件大杂烩就行，CPU同理)，而这些电路在二进制中只能表示数字0和1，在逻辑上0代表“假”（就是反对的意思），1代表“真”（认同的意思），从而实现逻辑运算，在此基础上就可以做出简易的代码程序。</p><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/97931d95b426782b5b671b56592c9317/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><p>外挂同样也是电脑程序，不过它面向的不是用户，而是电脑中其他正在运行的程序。通过某种事件将自身嫁接到游戏程序中，截取并修改本地、或欺骗服务器下发的数据，从而实现各种意想不到作弊体验，如：修改人物跳跃数据可以实现高跳，修改人物坐标数据可以实现瞬移等等。但由于计算机的高度自由性，作弊的方法往往还有很多！</p><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/6326ab0a19a3486b014b52f956f8bff1/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>内存挂制作原理</h2><p>字面意思上就是通过修改游戏储存在电脑内存上的数据实现外挂，游戏为了提高运行效率，都会把程序释放的信息储存在内存里，再由计算机CPU分析后作出响应，而我们电脑内存可以大致分为5个区域——堆区、栈区、全局区、代码区、常量区，每个区都有独自的作用。</p><p><img class="lazy" data-height="711" src="https://cdn.max-c.com/heybox/dailynews/img/0fb4043f7db27251fddc0f4aaf1ff8e0/thumb.png" data-width="1920" style="width: 100%; height: 37.0312%;" referrerpolicy="no-referrer"></p><p>而作弊程序（CE修改器、ollydbg动态内存工具、风灵月影等）就是通过搜索并修改游戏储存在内存区域中的基址（理解为原始储存地址）实现作弊，由于内存数据是不断变动且庞大的，需要作弊者不断重复搜索排查数据，才能找到自己最终想要的字节数据。诸如几年前手机上的烧饼修改器，葫芦侠修改器等等，都是运用同样的原理。</p><h3>优点：存储速度快，读写方便。</h3><h3>缺点：数据不能长久保留、断电后自行消失，游戏更新后需要重新寻找基址。</h3><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/69443549002f548017870ad56e9f113e/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>WEB封包外挂制作原理</h2><p>这类外挂常常运用于网游，属于比较高端的一种，我们在网络游戏中做出的所有人物动作指令等，都是通过本机收到玩家键盘、鼠标等指令后，再将这些指令发送到游戏服务器上，服务器再判断这些指令是否合法后下发数据给客户端，以此实现玩家与游戏之间的互动，如果数据下发慢，连接不稳定就会形成我们所说的游戏延迟。</p><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/a5a0053691584a744f89342394987d2d/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><p>而作弊软件则是通过截取服务器下发到客户端上的封包数据，分析破解封包数据结构，自行生成模拟封包，再回馈给服务器说用户做了某某指令，以此欺骗服务器实现作弊。完全不用依赖游戏客户端就可以实现如：一击秒杀、翻倍经验等变态作弊（绝地求生雷达外挂也是同理）。</p><h3>优点：速度快，可操作性强，可以多人共享。</h3><h3>缺点：开发周期长，官方一查一个准。</h3><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/191574e1b8dfe1ec8b6afe86c283f839/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>替源外挂制作原理</h2><p>这类外挂相对以上两种比较简单，因为现阶段还不能完全实现云游戏，所以游戏源文件都会下载到玩家电脑上，这就给了作弊者可乘之机。作弊者通过编译解析游戏源文件，修改游戏建模场景、游戏地图，去除材质等等方法，再将已经修改过后的文件注入替换到游戏源文件实现作弊，不过在这之前有个前提，作弊者需要想办法绕过游戏对源文件的效验与检测（如MD5值效验等）。</p><h3>优点：操作方便、更改性强、游戏小更不会影响使用。</h3><h3>缺点：被查出的概率大，不能制作变态的功能。</h3><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/5bda317426f0000a470ef7b36b253f2c/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>私服型外挂制作原理</h2><p>如果网上流出某某私服游戏，就意味着游戏客户端源码已经完全泄露破解，作弊者可以通过自己架设的服务器与客户端端口对接，形成闭环。由此作弊者成为游戏中最大的外挂，也是最大的GM，可以随心所欲的修改游戏后台数据包括（角色经验、道具掉落、付费道具）等等，还可以替换游戏源文件。相对而言私服型外挂都是有一定成本的，中间夹杂很多利益关系。</p><h3>优点：不会封号，可操作范围广</h3><h3>缺点：有成本，时长寿命短，容易吃律师函。</h3><hr><p><img class="lazy" data-height="569" src="https://cdn.max-c.com/heybox/dailynews/img/9d508b8d95c3654c78fbcf7661ea593b/thumb.png" data-width="1536" style="width: 100%; height: 37.0443%;" referrerpolicy="no-referrer"></p><h2>模拟型外挂制作原理</h2><p>这类外挂比较常见，通常都叫做脚本之类东西，如：DNF搬砖、自动挂机、鼠标宏、世界刷屏等，它们都是通过作弊软件调用windows系统中的鼠标键盘API函数实现，如：</p><p>（GetCursorPos //获取当前鼠标坐标指针）</p><p>（Mooseeventf_Leftdown //按下鼠标左键）</p><p>（Mooseeventf_Rightup //松开鼠标右键）</p><p>通过这些指令来模拟真人玩家操作的方式，但是操作都比较机械化，明白人一眼就会看出是脚本号。</p><h3>优点：开发简易，不修改游戏文件、封号难。</h3><h3>缺点：不方便，太机械化和死板。</h3><hr><blockquote><p>其实任何影响游戏平衡性的工具都可以在名义上称作为外挂（氪金变强官方认可的外挂），而这些外挂都离不开四个基本原则“增、删、查、改”，同时制作外挂不仅要求开发者对操作系统有所理解，而且还要深入到游戏引擎，游戏逻辑。</p></blockquote><blockquote><p>最后，游戏开发实属不易，不是日记鼓励大家开挂，而是在多人游戏中请大家自觉遵守绿色游戏的准则（最近日记吃鸡被大哥干怕了），好了本期就到这里，喜欢日记的点个关注，每周都会给大家盘点不一样的游戏，下期给大家分享《不同游戏反作弊程序工作的原理》。</p><p><a href="heybox://open_subject" target="_blank">#PC游戏#</a> <a href="heybox://open_subject" target="_blank">#抵制外挂#</a></p></blockquote><p><br></p><h2>往期回顾</h2><p><a href="https://api.xiaoheihe.cn/v3/bbs/app/api/web/share?link_id=59386334" target="_blank">盘点10首游戏中动听的BGM</a></p><p><a href="https://api.xiaoheihe.cn/v3/bbs/app/api/web/share?link_id=58894210" target="_blank">盘点10款发售惨被“打脸”的大作</a></p><p><a href="https://api.xiaoheihe.cn/v3/bbs/app/api/web/share?link_id=58813687" target="_blank">盘点《古墓丽影的前世今生》</a></p>  
</div>
            