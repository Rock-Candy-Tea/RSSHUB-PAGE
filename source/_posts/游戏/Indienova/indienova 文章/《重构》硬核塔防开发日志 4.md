
---
title: '《重构》硬核塔防开发日志 4'
categories: 
 - 游戏
 - Indienova
 - indienova 文章
headimg: 'https://hive.indienova.com/farm/blog/2021/11/u-214316766640IUZ.png'
author: Indienova
comments: false
date: 2021-11-23 09:07:46
thumbnail: 'https://hive.indienova.com/farm/blog/2021/11/u-214316766640IUZ.png'
---

<div>   
<h4>前情回顾</h4><ul><li><a href="https://indienova.com/indie-game-news/devlog-refactor-1/" rel="noopener noreferrer" target="_blank">《重构》硬核塔防开发日志 1 和设计历程分享</a></li><li><a href="https://indienova.com/indie-game-news/devlog-refactor-2/" rel="noopener noreferrer" target="_blank">《重构》硬核塔防开发日志 2</a></li><li><a href="https://indienova.com/indie-game-news/devlog-refactor-3/" rel="noopener noreferrer" target="_blank">《重构》硬核塔防开发日志 3</a></li></ul><h4>引言</h4><p>都说好游戏是改出来的，这段时间多数都在迭代已有的设计，新的内容倒是添加的不多。最近发现一种设计的反思法，通常当脑子里刚冒出一个思路的时候，总会感觉这种思路无比正确，但往往放空一段时间之后，又会意识到这种思路的局限性。</p><p>所以我总结应对的方式是拖延法，没错，拖延也是一种有用的方式，当一个设计完成的时候，把它放在一边，过几天再开始做，那时的看法会更客观。当然啦，拖延也不等于啥也不干，你可以去做些其他任务，或者就利用这段时间去跟朋友玩放松一下。</p><p>废话少说，这篇日志主要想记录下游戏中一个比较大的迭代内容就是关于陷阱系统的设计。</p><h4>陷阱系统的设计</h4><p><strong>旧版的陷阱系统</strong></p><p>规则：在初始版图中随机刷新若干个陷阱，玩家<strong>可直接查看陷阱效果</strong>，当陷阱接入路线后，敌人经过时会受到特殊负面效果。</p><p><br></p><p><strong>迭代后的陷阱系统</strong></p><p>规则：在初始版图中随机刷新若干个<strong>未揭示的陷阱</strong>，<strong>未揭示的陷阱在被接入路线前无法得知其陷阱类型和效果</strong>，当将其接入路线后则揭示该陷阱，揭示后可查看陷阱效果并<strong>可花费代币更换其位置</strong>。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-214316766640IUZ.png" width="558" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>未揭示的陷阱</small></div><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-214316766660oTe.png" width="557" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>接入路线后，已揭示的陷阱</small></div><h4>为什么这么做？</h4><p><strong>1. 刷初始问题</strong></p><p>开局便公开的陷阱容易导致玩家反复重开游戏来寻找最优的初始布局，从而获取优势，这与随机生成地图的初衷背道而驰，反复操作也会产生一定的负面体验。</p><p><br></p><p><strong>2. 分散陷阱的弊端</strong></p><p>由于防御塔的攻击范围有限，陷阱集中的区域成为了部署防御的理想位置，但是其他远距离陷阱即使连接进道路，仍然无法发挥多大的效果。</p><p>这导致游戏的最优规划在开局便已经可以大概确定，游戏后期延长路线到陷阱的必要性大大降低。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-21431677055071Q.png" width="807" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>红框标识的远距离陷阱，几乎无法发挥效果</small></div><h4>如何改动？</h4><p>（做玩法设计感觉最困难的就是改，既有的设计会成为一种限制思维的框架，让人很难跳出去探索可能性。但这种可能性的空间太大，其中大部分都不能成为可行的方案。从已有的限制深入思考，从而知其根本，理解了再去探索可能性，则会感觉更加清晰。我常常一个设计要冥思苦想 1,2 周，有时家人看到我会以为我心情低落，其实我只是进入了那种深入思考的状态。）</p><p><strong>1. 隐藏初始陷阱</strong></p><p>通过将所有陷阱的类型进行隐藏，只有当连接路线之后才揭示，则从本源上消除了刷初始的必要性。揭示陷阱的过程也成为了游戏过程中随机性的一部分。</p><p>但是单纯地隐藏并不足以成为迭代的理由，因为陷阱的效果将影响玩家的路线设计，当揭示的陷阱与玩家预期不符时，不理想的摆放位置会造成更严重的负面体验。</p><p><br></p><p><strong>2. 增加换位功能</strong></p><p>在 1 改动的基础上，加入可消耗代币进行换位的功能，玩家可以自由改变已揭示陷阱的位置，例如放在路线上的任意位置。</p><p>因为可以自由换位，这样做确实避免了所揭示陷阱与玩家预期不符时所产生的负面体验，但同时衍生了一个新的问题：陷阱使用的策略性降低了，之前需要考验玩家的路线规划能力，由于可以自由换位被弱化了。</p><p><br></p><p><strong>3. 陷阱加入协同效应</strong></p><p>关于陷阱的设计方向我曾经有过两种想法，分别是基于空间思维和逻辑思维来增加策略性，基于空间思维表示陷阱的效果取决于与其他元素的空间关系，例如在相邻格子触发效果，朝特定方向移动时等等。</p><p>这种方向需要考验玩家的空间思维，但更适合在开局就揭示陷阱的位置，成为场景谜题的一部分。</p><p>第二个方向是基于逻辑思维，让陷阱基于敌人经过的顺次关系引入协同效应，单个陷阱的效果将不如多个陷阱组合的效果。</p><p><strong>举例说明</strong></p><ul><li>晕眩陷阱：晕眩 0.5 * X 秒，X=此前经过的陷阱数量</li><li>伤害陷阱：此后三格的移动敌人所受伤害提高 50%</li><li>闪烁陷阱：将敌人传送到 2 格前的位置，每个敌人一次</li></ul><p>如果三个陷阱随意分布，则只发挥到各自的效果，但如果将三个陷阱按照伤害-晕眩-闪烁紧连摆放，则会产生协同效应。</p><p>伤害陷阱增伤后，敌人在晕眩陷阱被控制，提高伤害陷阱的效果时间，通过闪烁陷阱回到 2 格前，再次经过伤害-晕眩陷阱，晕眩陷阱累积了 4 个陷阱，所晕眩时长也提高了 2 秒。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-214316769520TWP.png" width="668" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>伤害-晕眩-闪烁组合陷阱</small></div><p>此外还有复制，强化陷阱，使得组合的设计上限进一步提高。同时为了避免上限过高，换位后价格将逐步提升。</p><p><strong>当然这种设计思路还是有所取舍的，它不及基于空间思维的陷阱设计来得直观，以及对路线规划的影响也较小。但总的来说它还是值得尝试的方向，也欢迎玩家来体验评测。</strong></p><h4>其他碎碎念</h4><p>我平时写日志写得比较少，写的时候也喜欢把思考的过程记录下来，而不是只写做了啥，感觉可以帮我更好地理清思路。刚好经过一段爆肝，最近开发任务也少了一些，有空多记录下自己的进度和想法。独立游戏开发的生活 = 30% 的开发 + 30% 的思考 + 30% 的迷茫，噢，还有 10% 的快乐。</p><p><br></p><p>重构预计下个月就将正式上线了，这也是我做的第一款策略游戏，喜欢的朋友请帮忙加入下愿望单噢。好像这个月有玩家挑战赛，届时也会开放 DEMO 试玩。</p><p><a href="https://store.steampowered.com/app/1664670/_Refactor/" rel="noopener noreferrer" target="_blank"><small>https://store.steampowered.com/app/1664670/_Refactor/</small></a></p><p class="hidden-xs"><iframe src="https://store.steampowered.com/widget/1664670/" frameborder="0" style="width: 100%; height: 220px;"></iframe></p><div class="promo promo-border promo-white bottommargin topmargin"><h3>重构</h3><span>@indienova</span>
<a class="button button-dark button-xlarge button-border button-rounded" href="https://indienova.com/g/refactor" target="_blank"><i class="icon-display"></i> 去看看</a></div>
              
</div>
            