
---
title: '《重构》硬核塔防开发日志 3'
categories: 
 - 游戏
 - Indienova
 - indienova 文章
headimg: 'https://hive.indienova.com/farm/article/picture/2021/09/pic-title52823M.jpg'
author: Indienova
comments: false
date: 2021-09-09 08:08:43
thumbnail: 'https://hive.indienova.com/farm/article/picture/2021/09/pic-title52823M.jpg'
---

<div>   
<h4>前情回顾</h4><ul><li><a href="https://indienova.com/indie-game-news/devlog-refactor-1/" rel="noopener noreferrer" target="_blank">《重构》硬核塔防开发日志 1 和设计历程分享</a></li><li><a href="https://indienova.com/indie-game-news/devlog-refactor-2/" rel="noopener noreferrer" target="_blank">《重构》硬核塔防开发日志 2</a></li></ul><p><br></p><p><img src="https://hive.indienova.com/farm/article/picture/2021/09/pic-title52823M.jpg" class="fr-fic fr-dib" data-result="success" data-id="23326" referrerpolicy="no-referrer"></p><div class="embed-responsive embed-responsive-4by3 bottommargin-sm"><span class="f-video-editor fr-fvn fr-tnv" contenteditable="false"><iframe src="https://player.bilibili.com/player.html?bvid=1db4y117Wt" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" class="embed-responsive-item"> </iframe></span></div><div class="text-center image-caption"><small>新内容的实机演示，玩出了个超级迫击炮</small></div><h4>1. 对于随机配方的思考</h4><p>目前 5 个基础元素能够形成的技能组合为 35 种（如 AAA, BCE 等），共有 8 种合成塔，随机到某个特定合成塔和特定元素技能的概率平均为 1/280，以每把 40-60 个配方刷新来算，大概需要玩 7-8 局才能找到某个特定组合。这还是在未计算高科技塔对概率的影响以及未来可能增加总配方数的情况下。即使这 280 种组合中存在很多相对最优解足够丰富玩家的单局体验，但整体还是不可控成分偏重。</p><p>重构一直在期望创造一种体验，那就是让玩家可以有足够的自由发挥自己的策略创造力来解决问题。如果一个系统过于随机或者缺乏灵活性，都会让玩家无法发挥。如果玩家在经过多局游戏后，思考出某个独特的解决问题的思路，那么游戏机制就应该允许他去实践。</p><p>PS：我心目中最贴合这种体验的游戏就是自走棋。</p><p><br></p><p><strong>如何调整</strong></p><p><br></p><p><strong>A 元素技能与全局战术</strong></p><p>由于合成塔的战力基于合成塔与元素技能的随机组合，那么就注定这个系统并不够灵活，且高度依赖运气。如何打破这个僵局想了很久都想不出来，直到有一天和 B 哥吃饭，探讨这个问题的时候他说如果把元素数量减为 4 个会怎样。</p><p>印象中对合成的理解，每次合成就是一个战力的跳跃点，所以合成理应是有难度的，越是强力的配方就越难，每次合成之后玩家可以尽情享受压力的释放。</p><p>这也成为框住我思维的一个关键，为什么合成一定要是一段策略的终点？</p><p>经过讨论我们决定将元素数量减为 4 个，这将毫无疑问大大提高合成率。那么可以试试削弱单次合成的效果，同时整体的设计思路向多次合成之间的关系，以及合成与路线规划等全局战术之间的关系进行转变，看看能不能创造一个更大更复杂的协同关系。</p><p>首先的尝试突破点就是元素技能的重新设计。</p><p>元素技能需要围绕其组成主要元素形成特定的战术方向，玩家可以有针对性地调整选择元素的比例。</p><p>举例来说，水元素 C 加成效果是减速，而其组成的元素技能核心围绕“时间”展开，CCA 是回合开始后攻击力每秒提升 2%；CCC 是所有 30 秒后发生的属性提升 3 倍等。以 C 元素为核心的战术是尽可能延长路线和延缓敌人的行进速度，同时将带有该类技能的塔放置在路线规划的后段从而发挥威力。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-214310730153GTn.png" width="561" referrerpolicy="no-referrer"></p><p>同样的还有木元素 B 的加成效果是攻速，而其组成的元素技能则是围绕“普攻叠加”，每次攻击都会提升特定属性值。因此更好的路线规划是分段式的，将攻击范围尽可能同时覆盖路线前段和后段，使防御塔在前段利用普攻叠加属性，在敌人返回经过后段时发挥威力。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-2143107301683As.png" width="568" referrerpolicy="no-referrer"></p><p>同理还有 A 元素技能适合近战+单塔质量，D 元素技能适合倍增属性效果，E 元素技能的光环则适合打造抱团火力区。</p><p>开局 5 选 4 元素，4 个元素之间会形成丰富的策略组合空间。一个合理的防御体系是由多个合成塔共同组成的，比如长路线+C 系结尾+D 系强化，或者短路线+ E 系抱团+A 系强化等。当然由于随机性依然存在，合成塔的分布与路线设计必然需要多种策略进行混合，这个就要在战斗中灵活调整了。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-214310730215Iqa.png" width="443" referrerpolicy="no-referrer"></p><p style="user-select: auto; text-align: center;"><em>通过战前配置参战元素，玩家可以定制自己的策略</em></p><p><br></p><p><br></p><p><br></p><p><strong>B 元素技能槽</strong></p><p>但是这个改动仍然存在一个问题，就是单局元素技能减少到了 20 个，由于可能组合的减少，导致单局游戏的体验丰富度降低了，且仍然没有完美解决特定合成塔+特定元素技能概率低的问题。</p><p>为此，我们尝试了一个新方案，新增了元素技能槽的设计。</p><p>元素技能槽并不是另一个独立的系统，而是每个合成塔都有默认 1 个元素技能槽，你可以选择将新合成的合成塔放置在已合成塔上，来使其装备该新合成塔的元素技能，这么做会消耗新合成塔但可使场上的合成塔拥有 2 个元素技能。</p><p>目前来看有多个好处，1 是打破了必须通过抽取来找到某个组合的规则，你可以先合成特定合成塔，然后在抽到并合成特定元素技能时再对其进行装备（进一步优化了运气成分的问题）。2 是通过协同效应提高了防御塔的战力上限。3 是使低级配方和低级素材在后期仍然有作为组建元素技能装备的价值。</p><p>总的来说，随意地装备元素技能收益不一定更高，而应该将元素技能装备给重点培养的核心塔。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-214310730249zsc.png" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>打造顶级巨炮不再是梦想</small></div><h4><strong>2. 对于资源系统的思考</strong></h4><p>上一篇日志的时候，尝试对货币系统进行改造，期望通过增加代币获取来丰富玩家的策略选择。但是实际体验后发现仍然存在问题最终还是没有实装。原因是我们发现即使在拥有更多的代币的情况下，我们仍然只会向高收益的行为投入更多钱，比如升级科技和防御塔。</p><p>虽然当时还没想到怎么解决，但至少知道通过增加更多的资源是行不通的，而是应该思考如何动态控制不同行为在游戏过程中的相对价值，让玩家主动去选择。</p><p>另外在上个版本看玩家体验经常遇到一种情况，就是到了后期，路线已经铺的特别长了，再远的路线也没法提升太多战力（火力覆盖不到），但是富余的抽取次数只能用来继续铺路或合成，合成后却又缺乏金币对其进行升级，新合成塔只是凑数的没有带来更多的正面体验。</p><p>于是我又开始思考限定抽取次数的意义究竟是什么？</p><p>我想这大概能够限制玩家的合成节奏，通常必须经过平均 4-7 个回合左右才能完成 1 次合成，这样整体的游戏体验是比较平滑的。但是弊端也很明显，这样做缺乏灵活性，玩家不能够自由地控制资源分配，金币只能用于升级防御塔或科技，在合成节奏被控制的前提下，玩法的最优策略趋于一致：有规律的攀科技。</p><p>这对于我们想要的，玩家可以有足够的自由发挥自己的策略创造力来解决问题的体验是违背的。</p><p>假如将抽取改为同样消耗代币，那么玩家就可以灵活的调整自己不同的行为比例。结合前面说到的需要动态控制不同行为的相对价值，于是设计了以下的代币系统。</p><ol><li>取消固定的每回合抽取次数，改为消耗代币进行抽取</li><li>每次抽取都会使抽取价格上涨 10 元</li><li>当前回合没有进行抽取时，则抽取价格下降 10%</li><li>代币获取量会随着回合增长</li></ol><p>当抽取价格高时，其他行为的价值会提高，当抽取价格回落，抽取价值会提高。</p><p><img class="fr-fic fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-214310730413z0l.png" width="239" referrerpolicy="no-referrer"></p><p>当然这种设计需要很多辅助的调整，例如增加科技的收益，现在高科技塔变得更强同时需要升级科技到特定等级才能解锁，以及增加根据合成塔的稀有度上调合成塔的升级价格，无论你选择将资源更多投入到哪一项中，确保通过资源的限制形成高科技路线和中低科技路线的策略划分。</p><p>目前这些设计还在进一步测试，总的来说还是对新旧方案都保持开放的态度吧，游戏还有优化的空间。通过写日志是个好事情，感觉可以帮助开发者理清很多思路。</p><p>这个版本包还需要一些细节优化，预计在 9 月下旬可以放出 DEMO 体验，欢迎有兴趣的朋友加 QQ 群：809891580</p><p><br></p><p>顺便求一波愿望单~</p><p class="hidden-xs"><iframe src="https://store.steampowered.com/widget/1664670/" frameborder="0" style="width: 100%; height: 220px;"></iframe></p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/09/u-214310730097Hm4.png" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>大爆炸镇楼</small></div><div class="promo promo-border promo-white bottommargin topmargin"><h3>重构</h3><span>@indienova</span>
<a class="button button-dark button-xlarge button-border button-rounded" href="https://indienova.com/g/refactor" target="_blank"><i class="icon-display"></i> 去看看</a></div>
              
</div>
            