
---
title: '《重构》硬核塔防开发日志 1 和设计历程分享'
categories: 
 - 游戏
 - Indienova
 - indienova 文章
headimg: 'https://hive.indienova.com/farm/blog/2021/06/u-214313652701uAi.jpg'
author: Indienova
comments: false
date: 2021-06-17 03:10:29
thumbnail: 'https://hive.indienova.com/farm/blog/2021/06/u-214313652701uAi.jpg'
---

<div>   
<p>自 5 月 1 日写下第一行代码，现在已经有了一个初步的 DEMO，腾出空来写一篇开发日记记录下这段时间的工作。</p><p><strong>Steam 即将发行页：</strong></p><p class="hidden-xs"><iframe src="https://store.steampowered.com/widget/1664670/" frameborder="0" style="width: 100%; height: 220px;"></iframe></p><p><strong>试玩 DEMO 下载：</strong><a href="https://cowtransfer.com/s/6c0ec3b032364a" rel="noopener noreferrer" target="_blank">https://cowtransfer.com/s/6c0ec3b032364a</a></p><p><strong>DEMO 演示视频</strong>：<a href="https://www.bilibili.com/video/BV1664y167s9" rel="noopener noreferrer" target="_blank">https://www.bilibili.com/video/BV1664y167s9</a></p><h4 style="user-select: auto; text-align: left;">为什么做这款游戏</h4><p>其实从开始学习 Unity 开发游戏至今已有快三年了，这段时间陆陆续续开发了一些小游戏，有的是参加 GAME JAM 或者高校的游戏比赛，这些小游戏锻炼了我的开发技术，但其实它们都还只是停留在“作品”的层面。对于我来说，如果我希望将来可以以做独立游戏开发为自己的职业，就必须完成一款真正的以“产品”思维创造的游戏。而策略类游戏是我最喜欢的游戏类型，做其他类型的游戏我不知道别人会不会觉得好玩，但做策略游戏至少我自己知道它好不好玩，于是就决定选择策略游戏题材开始了我的“产品”之旅。</p><p>但做策略游戏一个很大的坑就是，这是一个很复杂的游戏类型，无论是我喜欢的文明，三国志，XCOM，它们的体量都不是独立游戏开发者能够完成的项目。我觉得做独立游戏最大的优势就是在于它的灵活性，可以不受限制地尝试各种想法，如果太长时间投入在一个项目中，就失去了这种快速试错的能力。于是我把目光放在更轻量的策略游戏上，例如我同样很喜欢玩的 Bad North，变量，Into the Breach 等，它们都有很丰富的内容，但是核心玩法都非常简单，只要开发出核心玩法就能够快速验证。确定好方向，我给自己定下 1-3-5 目标，1 个月完成 DEMO 验证，3 个月完成其他功能，5 个月打磨上线。</p><h4>立项期</h4><p>在确定好方向后，4 月份开始我就利用课余时间偶尔构思一下游戏，这段时间虽然还没有进行任何开发，却是最重要的时间，发挥创意天马行空很容易，但难的是把想法中的细节构思出来。很多想法在刚萌发会有一种自己是天才的感觉，但是当琢磨如何落地的细节时，就会发现各种各样不可避免的坑导致这个想法很难落地。我不反对做游戏多实践，游戏只有玩着的时候才知道是什么感觉，但对于开发策略游戏来说，必要的沉思是有意义的，它的乐趣不像休闲，解谜游戏那样容易验证，反而需要很投入地脑中预演才会感知到其中的一点乐趣。</p><p>使用纸上或桌面原型是很好的预演工具，之前做《寻居之蟹》解谜游戏的时候就用过，这次设计模块的摆放规则时，也使用了这个方法，初步验证了玩法的可行性。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-214313652701uAi.jpg" width="329" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>之前设计寻居之蟹关卡时用到的桌游棋子</small></div><p>另一个很好的方式是画界面原型，有些复杂的情况现实中摆不出来时，通过在 PS 里画出来，也能够帮助你想象游戏的运行过程。以下是我立项期针对塔防游戏尝试过的各种界面原型设计，可能因为我有做过交互的经验，绘制这样的原型比较容易。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-2143136531123Bs.png" width="600" referrerpolicy="no-referrer"></p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-214313653187yBs.png" width="546" referrerpolicy="no-referrer"></p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-214313653220Lww.png" width="577" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>尝试过的设计想法，有即时制也有回合制，塔防+卡牌等</small></div><p>期间也针对一些实在想不清楚地点，短暂快速开发了一些小原型，因为还有课业的压力，所以这段时间基本就是以构思预演为主。</p><h4>1 个月完成 DEMO</h4><p>自 5 月 1 日写下《重构》的第一行代码至今是 44 天，事实上在 5 月 31 号就已经完成了 DEMO 的内容，但是为了让玩家能够更好的测试体验，又花了十天的时间优化代码，解决了卡顿的问题，增加了新手引导，直到今天才算完成完整 DEMO。</p><p>简单回顾一下这 44 天的时间线：</p><ul><li><strong>5.1 - 5.3</strong> 完成版图系统</li><li><strong>5.4 - 5.7</strong> 完成放置系统</li><li><strong>5.7 - 5.11</strong> 完成敌人，波次系统</li><li><strong>5.12 - 5.15</strong> 完成防御塔，陷阱系统</li></ul><h4>迷茫期</h4><p>然后在 5.16-5.18 我陷入了一阵迷茫期，这段时间几乎没有任何产出，原因是我最早的设计方案里，还没有合成功能，整体设计是一个完全 Roguelike 的探索构建式塔防，每一次抽取模块都不会知道可能出现什么，上面可能是一个防御塔，也可能是一个陷阱，你必须在当回合把它们放置在合适的位置上，随着探索的深入，你会获得更好的防御塔或陷阱。</p><p>但是在尝试开发了 7 个防御塔和 3 个陷阱进行试玩后发现，塔防结合类似杀戮尖塔的卡组构建并不可行，因为你的防线本质上并不是一个卡组，卡组构建的本质是优化结构，你每回合只能用有限的手牌进行战斗。而已经建造的防御塔会持续提供战力，导致后续每一次构筑的影响都不断变小，最后失去选择的意义。</p><p>5.19 我给逼哥试玩这个游戏（后来他也加入了开发，负责程序和数值），并且讨论出了两个方向，一个是做类似于 infinitode 的长线成长，把卡组构建放在局外，通过游戏闯关获取和升级防御塔卡牌，然后可以在下一局开始游戏前搭配你的卡组。</p><p>另一个方向是做类似于宝石 TD 的合成，这种方案其实是跟现有玩法最契合的，但是我一直对宝石 TD 的合成设计不太喜欢，我更喜欢它的路线规则设计。原因是它要去记配方，这让我觉得很累，就好像打麻将目标是胡牌，玩的是规划和抉择，但是一些玩法要记各种牌型来算番，这部分可以作为额外的内容（例如交给计算机来算），但不应该让玩家去记太多。</p><h4>重新出发</h4><p>在一度打算就做长线成长之后，突然不知怎得脑子里冒出个想法，如果合成配方也是随机的呢？这样玩家就不需要去背任何配方了，而只需要根据当前最优来选择模块，然后根据刷出的随机配方随机应变。</p><p>沿着这个思路继续深挖，逐渐设计出了配方商店的回合刷新，花钱提前刷新，花钱购买配方等规则，在随机过程中丰富玩家的控制手段，玩家可以自己控制随机对自身的影响，将对记忆力的负担转化为对规划管理能力的考验。</p><p>5.21-5.30 加入了新成员之后，开发效率大大提高了，逼哥承担了合成功能的开发和游戏数值设计，以及我绘制了所有美术资源和后续接手合成功能的 UI 开发。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-214313655257hLl.png" width="478" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>绘制了五种元素防御塔，不同元素会给合成塔不同加成</small></div><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/06/u-214313657469aBS.png" width="657" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>现在的游戏画面</small></div><ul><li><strong>6.1 - 6.10</strong> 重构了代码架构，优化了性能。</li><li><strong>6.10 - 6.12</strong> 完成了新手引导功能。</li></ul><h4>后续计划</h4><p>目前游戏刚刚加入了新手引导，在开始新一轮的开发之前，准备先做一下玩家测试，希望感兴趣的玩家可以加入测试 QQ 群，群号：<code>809891580</code>。</p><p>另外希望吸纳一两名美术同学，主要是负责 2D 美术，和游戏 UI 设计，在校大学生也欢迎。</p>
              
</div>
            