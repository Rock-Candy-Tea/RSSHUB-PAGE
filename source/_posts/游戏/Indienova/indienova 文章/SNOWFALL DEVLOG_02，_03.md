
---
title: 'SNOWFALL DEVLOG_02，_03'
categories: 
 - 游戏
 - Indienova
 - indienova 文章
headimg: 'https://hive.indienova.com/farm/blog/2021/11/u-875258166580pC.png'
author: Indienova
comments: false
date: 2021-11-26 10:08:27
thumbnail: 'https://hive.indienova.com/farm/blog/2021/11/u-875258166580pC.png'
---

<div>   
<h4>SNOWFALL DEVLOG_02</h4><p>trello 的完成列表里堆积的东西越来越多，todo 里面也越来越多。</p><p>上周花了 2 天时间弄遮挡的剪影效果，试了 HB、FC 还有像素教皇的方法，由于我摄像机写的比较……的儿，导致有些情节下不能正常显示，而且有些用了<code>depth = -y</code> 这样处理的实例在 FC 那种做了深度排序的绘制方法下，某些手动操纵 depth 的实例，没办法很好的绘制出来，比较气馁，又不会解决，就暂时放下了。</p><p>—————<br>周末出去烧烤，去别人家蹭饭<br>—————</p><p>可能是吸引力法则，今天早上在 yoyo 的 blog 上搜到一篇文章，hyper light drifter 的程序员 juju(@jujuadams)分享的<a href="https://www.yoyogames.com/en/blog/silhouettes" rel="nofollow" target="_blank">剪影处理办法</a>，完全解决了之前的问题。（）</p><p>btw: 他今天还分享了 GMS2.3 的协程  O_O （他的 github 分享了很多 gms2 的东西）</p><p><a href="https://github.com/JujuAdams/Coroutines" rel="nofollow" target="_blank">Coroutines for GMS2.3 </a> </p><p>当然了，完全不会用，以后再看吧，先干力所能及的事儿。</p><p>摄像机的处理又导致一些 room zone 处理的问题，学习了几种教程的办法，还是有些问题，并不是很适用，昨晚在纸上大致想出了解决的办法，争取从坑里爬出来。</p><p>btw：下面这玩意可以节省一些生命，简化 GMS2 相机函数名的…… </p><p><a href="https://gist.github.com/ArendPeter/6958b62c29e1d430a9c8d82fd949e0cd" rel="nofollow" target="_blank">ShorterCamera</a></p><p>—————</p><p>之前做了一些原型用的 1-bit 像素实验的图，好在没有深入做太多。</p><p>上周日想试试非像素简单化处理的方式，不管怎样试试吧。</p><p>做了一个半拉克鸡的 mockup，美术的东西后面再弄，之前在 QQ 文档里记录了一些东西，纸上也记了一大堆，还有手机里，感觉这种做法太乱了，图方便反倒耗时间。月初的时候花了很多很多时间搜集资料，用 PureRef 制作了一大堆没整理的情绪板，为了防止写代码的过程忘记当时想要的感觉和方向。另外发小推荐了一款视觉资源管理软件 Eagle，搭配 chrome 插件真的很方便，而且可以通过剪贴板直接粘贴一些非图片资源。</p><p><img class="fr-fin fr-dib" alt="mood" src="https://hive.indienova.com/farm/blog/2021/11/u-875258166580pC.png" title="mood" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>mood</small></div><p><img class="fr-fin fr-dib" alt="rough mockup" src="https://hive.indienova.com/farm/blog/2021/11/u-87525816075t1o.png" title="rough mockup" referrerpolicy="no-referrer"></p><div class="text-center image-caption"><small>粗糙的 mockup</small></div><p>之前为了 GUI 字体清晰，把 sprite 2 倍显示了，现在感觉多亏这样处理，不然又要改好多东西。</p><p>这个月基本手游花费时间一共没超过半小时，手机屏幕使用时间控制在了 3 小时。</p><p><br></p><p>btw：SNOWFALL 是暂代名，我会尽量把平时制作过程中找到的我感觉有用的文章或者有帮助的视频或者相关的有用的资源贴在日志里。</p><p><br></p><p>2021 年 11 月 2 日</p><p>最近天气回温</p><p>Highway</p><h4>SNOWFALL DEVLOG_03</h4><p>经历了大概 10 天的严重睡眠不足，白天大部分时间不是补觉就是打瞌睡。接着生病，不过好在一天就恢复了。<br>基本上这些天都在做 3C，发小给的建议是花大量时间在 3C 上再往后推，要不然可能会有很多返工，可能还要持续一段时间。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527552621DVx.gif" referrerpolicy="no-referrer"></p><p>之前的准星和移动处理，基本上和 nuclear throne 差不多，开始测试的时候我用的手柄（像 helldivers 那样，没有开启准星），忽略了键鼠操作准星可能导致的问题。在键鼠下，当鼠标（准星）固定在某一个点时，角色会在移动的时候根据瞄准角度（鼠标位置）去自动转身，会有点奇怪，就像车在漂移，这个体验很难受。就改成了 helldivers 那种逻辑，在非瞄准状态下，射击方向和朝向匹配，这样在键盘操作上，如果不瞄准，就是 8 方向射击，更复古，也可以在不减少移动速度的情况下向一个固定方向射击；如果在比较安全的距离，利用瞄准来精确射击。</p><p><img class="fr-image-dropped fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527552627YZJ.gif" referrerpolicy="no-referrer"></p><p>精确射击本来打算给敌人设计弱点区，比如这样：</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527555699SJ8.jpg" referrerpolicy="no-referrer"></p><p>但是 top-down 3/4 这个视角很尴尬，比如横版卷轴或者 3D TPS、FPS 来说，敌人和玩家是站在地上，但在 2d top-down  这个视角下，其实敌人和玩家实际上是躺在地上 =_=</p><p>后来想如果做多个 hitbox，在子弹上再加 raycast 处理来检测 hitbox，后来想到如果关联到动画上可能工作量挺大，有点嫌麻烦，暂时先用瞄准线和敌人的中心点之间的角度来处理精确瞄准。后面还是需要试一下 raycast，哪怕只给 boss 或者比较强的敌人做这个功能，这个如果实现了，战斗会更有意思一些，对于枪法好的人来说。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527553697FbA.png" referrerpolicy="no-referrer"></p><p>另外学着用动画曲线做了一个完美换弹的试验，不过可能并不用像战争机器那样麻烦，可能 Returnal 那种处理更简化一些（虽然是建立在无限子弹的基础上），还没有考虑好，暂时没有扔进工程。</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527554138pnO.gif" referrerpolicy="no-referrer"></p><p>—————</p><p>在写代码和想功能之外，做美术资源的时候开始比较头疼，由于想做非像素，就没办法使用 aseprite，用 photoshop 在做动画上折磨了大概一天，实在是受不了了，找了一些做动画的插件，看视频感觉也不是很方便，就用去年疫情时候买的优动漫的正版开始做角色粗略动画，但是做到一半……发现动画的帧数还有限制，wtf，只好去买了个破解版的 Clip Studio Paint EX（功能全部开放），正版我实在是承受不起，在导出的时候 CSP 只能导出单帧图像，并不像 aseprite 那么方便，还要用 Free texture packer 处理成条状图再回 photoshop 里加颜色，不过整个流程都比只在 PS 里做动画心情舒畅多了。（顺便说一下，这个软件千万不要像我这样装繁体中文版，很多地方都看不懂，靠猜……还不如在安装的时候直接选择英文了）</p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527554459mtW.png" referrerpolicy="no-referrer"></p><p><img class="fr-fin fr-dib" src="https://hive.indienova.com/farm/blog/2021/11/u-87527555850DPV.png" referrerpolicy="no-referrer"></p><p>—————</p><p>大前天在 sprite editor 里操作的时候，GMS2 直接闪退（没有报错弹窗），重启后并没有任何提示信息，我也没当回事就忘了这茬儿。</p><p>前天晚上孩子睡觉以后，突然想去改一个功能，然后就出现了资源树里 object 索引出错的问题，无法新建任何 object，只要新建，各种代码报错（注释掉相关的，其他报错，无限），只要删除新建的 object，恢复，google 搜了很多也没找到相关的情况。</p><p>在请教了<a href="https://indienova.com/u/lukeee" rel="noopener noreferrer" target="_blank">@流贾君</a> 之后，只能导出所有文件做 yymp 重开项目，成功救回来了工程。</p><p>昨晚在 @流贾君 的过程中还发现音频组合材质组不能改名了（搜索了一下，在 reddit 和 gms 社区也有人发帖说这个问题）………上个月新建工程的时候还可以，我换了上一次的 runtime 发现也不能改名，暂时只能等更新了，不敢用 beta 版。</p><p>—————</p><p>有用的连接：</p><p>GMS2 BLOG 上的文章，不单单可以扩展世界，利用这个方法可以像魂系列那样来进行敌人的刷新处理</p><p><a href="https://www.yoyogames.com/en/blog/multiple-levels-tutorial" rel="nofollow" target="_blank">EXPANDING WORLDS: BUILDING GAMES WITH INTERCONNECTED LEVELS</a></p><p>由于更新 2.3 之后都没咋用过，看了这个教程感觉要补习很多东西，新加的 constructor 和 static，要花时间仔细学学用法。</p><p><a href="https://www.youtube.com/watch?v=h3dTA-j1EFk&list=PLFbSi4qne_ORkJZcCFhlRzFnqUXlTdHT3&index=124&t=248s" rel="nofollow" target="_blank">Static Variables</a></p><p><a href="https://www.youtube.com/watch?v=7YucSmZ3p24&list=PLFbSi4qne_ORkJZcCFhlRzFnqUXlTdHT3&index=125" rel="nofollow" target="_blank">Struct Inheritance</a></p><p>（上面俩视频连接都来自 Youtube 的 <a href="https://www.youtube.com/c/SamSpadeGameDev/featured" rel="nofollow" target="_blank">SamSpadeGameDev</a>，这个频道很不错）</p><p>—————</p><p>2021 年 11 月 22 日周一</p><p>早上阴沉沉 这会儿大太阳</p><p>Highway</p>
              
</div>
            