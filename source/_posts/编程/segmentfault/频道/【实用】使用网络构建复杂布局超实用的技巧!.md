
---
title: '【实用】使用网络构建复杂布局超实用的技巧!'
categories: 
 - 编程
 - segmentfault
 - — 频道
headimg: 'https://segmentfault.com/img/bVbOPUZ'
author: segmentfault
comments: false
date: 2021-03-23 08:09:13
thumbnail: 'https://segmentfault.com/img/bVbOPUZ'
---

<div>   
<blockquote>作者：Shadeed<br>译者：前端小智<br>来源：dmitripavlutin</blockquote><blockquote><strong>点赞再看</strong>，微信搜索<strong>【<a href="https://mp.weixin.qq.com/s/sY9ufGGKfcdaAQ7KJQs3HA" rel="nofollow">大迁世界</a>】</strong>,B站关注<strong>【<a href="https://space.bilibili.com/31089477" rel="nofollow">前端小智</a>】</strong>这个没有大厂背景，但有着一股向上积极心态人。本文 <code>GitHub</code> <a href="https://github.com/qq449245884/xiaozhi" rel="nofollow">https://github.com/qq44924588...</a> 上已经收录，文章的已分类，也整理了很多我的文档，和教程资料。</blockquote><p>最近开源了一个 Vue 组件，还不够完善，欢迎大家来一起完善它，也希望大家能给个 star 支持一下，谢谢各位了。</p><p><strong>github 地址：<a href="https://github.com/qq449245884/vue-okr-tree" rel="nofollow">https://github.com/qq44924588...</a></strong></p><p>网格布局是现代CSS中最强大的功能之一。使用网格布局可以帮助我们在没有任何外部 UI 框架的情况下构建复杂的、快速响的布局。在这篇文章中，将会介绍所有我们需要了解的 CSS 网格知识 ?。</p><h2>CSS 网格的基础知识</h2><p>我们直接进入代码，如下所示，先写些标签，源码在这个链接里面：<a href="https://codepen.io/Shadid/pen/zYqNvgv" rel="nofollow">https://codepen.io/Shadid/pen/zYqNvgv</a></p><pre><code><div class="container">
  <header>Header</header>
  <aside>Aside 1</aside>
  <section>Section</section>
  <aside>Aside 2</aside>
  <footer>Footer</footer>
</div></code></pre><p>在上面，我们创建了一个<code>header</code>、两个<code>aside</code>和一个<code>footer</code>元素，并将它们包装在一个<code>container</code> 元素中。我们为容器元素中的所有元素添加背景色和字体大小。</p><pre><code>.container > * &#123;
  background: aquamarine;
  font-size: 30px;
&#125;</code></pre><p>运行的网页如下：</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOPUZ" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>现在我们添加一些网格属性：</p><pre><code>.container &#123;
  display: grid;
  grid-gap: 5px;
  grid-template-areas: 
    "header"
    "aside-1"
    "aside-2"
    "section"
    "footer"
&#125;

/* Assign grid areas to elements */
header &#123;
  grid-area: header;
&#125;

aside:nth-of-type(1) &#123;
  grid-area: aside-1;
&#125;

aside:nth-of-type(2) &#123;
  grid-area: aside-2;
&#125;

section &#123;
  grid-area: section;
&#125;

footer &#123;
  grid-area: footer;
&#125;</code></pre><p>首先，我们定义了<code>display:grid</code>，它将启用网格布局，然后我们使用<code>grid-gap</code>在网格元素中增加间隙。</p><p>接下来，我们为每个html元素分配了一个网格区域名称。在<code>container 类中，我们可以使用</code>grid-template-areas`属性定 义html 模板的外观，注意网格模板区域是如何排列的。</p><pre><code>grid-template-areas: 
    "header"
    "aside-1"
    "aside-2"
    "section"
    "footer" </code></pre><p>元素的顺序与 dom 结构不同。但是，最终按我们网络区域的顺序来展示。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOQGJ" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>下一步是使我们的页面具有响应性。我们希望在更大的屏幕上使用不同的布局。CSS网格使得处理媒体查询和创建响应式布局变得非常容易。看下面代码：</p><pre><code>@media (min-width: 670px) &#123;
  .container &#123;
    grid-template-areas: 
      "header  header  header"
      "aside-1 section  aside-2"
      "footer    footer    footer"
  &#125;
&#125;</code></pre><p>我们所要做的就是在媒体查询中重新排序网格模板区域。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOQIs" alt="图片描述" title="图片描述" referrerpolicy="no-referrer"></span></p><h2>网格列和行</h2><p>如何使用 CSS 网格来组织列和？ 先从下面的代码开始：</p><pre><code><div class="container">
  <div class="item">One</div>
  <div class="item">Two</div>
  <div class="item">Three</div>
  <div class="item">Four</div>
  <div class="item">Five</div>
  <div class="item">Six</div>
</div></code></pre><p>添加一些基本的 css</p><pre><code>.container &#123;
  display: grid;
  height: 100vh;
  grid-gap: 10px;
&#125;

.item &#123;
  background: lightcoral;
&#125;</code></pre><p>我们为上面的 dom 结构使用了网格布局，并使用<code>grid-gap</code>增加了风格之间的间距。 现在，我们使用<code>grid-template-columns</code>属性来添加一些列。</p><pre><code>.container &#123;
    display: grid;
    height: 100vh;
    grid-gap: 10px;
    grid-template-columns: 100px 200px auto auto;
&#125;</code></pre><p>就像这样，我们使用了列。 我们指定第一列为<code>100px</code>，第二列为<code>200px</code>。 由于我们在第<code>3</code>列和第<code>4</code>列中应用了<code>auto</code>，因此剩余的屏幕长度将在其中分成两半。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbORd3" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>可以看到现在页面中有一个空白。 如果我想将<code>第六列</code>移至<code>第三列</code>和<code>第四列</code>怎么办？ 为此，我们可以使用<code>grid-column-start</code>和<code>grid-column-end</code>属性。</p><pre><code>.item:nth-of-type(6) &#123;
  grid-column-start: 3;
  grid-column-end: 5;
&#125;</code></pre><p>注意，我们使用<code>grid-column-end: 5</code>，值<code>5</code>指向列线。 第四列在网格的第五行结束。 <code>grid-column-start</code>和<code>grid-column-end</code>值是指网格线。</p><p>如果你觉得网格线的值让人困惑，你也可以使用<code>span</code>，下面的效果与上面一样：</p><pre><code>.item:nth-of-type(6) &#123;
  grid-column-start: 3;
  grid-column-end: span 2;
&#125;</code></pre><p>对于<code>span 2</code>，指定<code>div</code>占用网格中的两个插槽。 现在，假设要扩展<code>第二列</code>填充下面的空白区域。 我们也可以通过<code>grid-column-start</code>属性轻松地做到这一点。</p><pre><code>.item:nth-of-type(2) &#123;
  grid-row-start: span 2;
&#125;</code></pre><p>我们使用<code>span</code>和<code>grid-row-start</code>来指定我们想要占据两个插槽。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOR0w" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>如上所见，我们已经能够使用少量的CSS网格属性来构建非常复杂的布局。</p><h2>有效地使用 grid-templates</h2><p>现在来看看<code>grid-templates</code>，在本节中，我们将讨论如何为不同的屏幕大小创建不同的布局。</p><p>首先，还是先来一段 dom 结构：</p><pre><code><div class="container">
  <header>header</header>
  <aside>Left</aside>
  <section>Section</section>
  <aside>Right</aside>
  <footer>Footer</footer>
</div></code></pre><p>接着，添加一些样式：</p><p>``<br>.container &#123;<br>  display: grid;<br>  height: 100vh;<br>  grid-gap: 10px;<br>&#125;</p><p>.container > * &#123;<br>  background: coral;<br>  display: flex;<br>  justify-content: center;<br>  align-items: center;<br>&#125;`<br>``</p><p>我们给元素添加了背景色。从上面的代码中可以看到，我们也使用了<code>flex</code>属性。我们可以将<code>flex</code>和<code>grid</code>结合在一起。在这个特殊的例子中，我们使用<code>flex</code>属性中心对齐内容。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOR4r" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>对于移动端，我们希望<code>section</code>在<code>header</code>下面，<code>right</code> 在 <code>section</code> 下面，我们可以使用网格区域来完成。首先，我们定义网格区域：</p><pre><code>.container &#123;
  display: grid;
  height: 100vh;
  grid-gap: 10px;
  grid-template-areas: 
   "header"
    "section"
    "right"
    "left"
    "footer"
&#125;

aside:nth-of-type(1) &#123;
  grid-area: left;
&#125;

aside:nth-of-type(2) &#123;
  grid-area: right;
&#125;

section &#123;
  grid-area: section;
&#125;

footer &#123;
  grid-area: footer;
&#125;

header &#123;
  grid-area: header;
&#125;</code></pre><p>在 <code>grid-template-areas</code> 中可以看到，我们先有<code>header</code> ，然后是<code>section</code>，然后是<code>right</code>，最后是<code>left</code>。此外，我们希望我们的<code>section</code>比 <code>left</code> 和 <code>right</code>都大点。为了实现这一点，我们可以使用<code>rid-template-rows </code>属性 ?</p><pre><code>.container &#123;
  display: grid;
  height: 100vh;
  grid-gap: 10px;
  grid-template-areas: 
    "header"
    "section"
    "right"
    "left"
    "footer";
  grid-template-rows: 1fr 6fr 2fr 2fr 1fr;
&#125;</code></pre><p>少了一张图片 </p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/remote/1460000024488257" alt title referrerpolicy="no-referrer"></span></p><p>我们可以根据需要设置移动端的视图，接下我们使用媒体查询来适配一下大屏幕：</p><pre><code>@media (min-width: 500px)  &#123;
  .container &#123;
    grid-template-areas: 
      "header header  header"
      "left   section right"
      "footer footer  right";
    grid-template-rows: 1fr 6fr 1fr;
    grid-template-columns: 1fr 6fr 1fr;
  &#125;
&#125;</code></pre><h2>如何使用<code>minmax</code>函数动态跟踪元素的大小</h2><p>假设我们有两列，它们均匀地占据了屏幕上的可用空间。通过使用 <code>grid-template-columns</code>，我们可以很容易地做到这一点。但是，如果我们想要其中一个在<code>200px</code>到<code>500px</code>之间呢?我们的列可以适应不同的屏幕尺寸，但其中一个永远不会大于<code>500px</code>或小于<code>200px</code>。</p><p>对于这些类型的场景，我们使用<code>minmax</code>函数。 让我们来看看它的实际效果。</p><pre><code><div class="container">
  <div class="one">One</div>
  <div class="two">Two</div>
</div></code></pre><pre><code>.container &#123;
  display: grid;
  height: 100vh;
  grid-template-columns: minmax(200px, 500px) minmax(100px, auto);
&#125;
.one &#123;
  background: cyan;
&#125;
.two &#123;
  background: pink;
&#125;</code></pre><p>在这个例子中，第一列总是在<code>200px</code>到<code>500px</code>之间。然而，第二列的最小值可以是<code>100px</code>，对于更大的屏幕，它将覆盖屏幕的其余部分。</p><h2>如何使用 repeat 函数？</h2><p>我们讨论一下元素中的重复模式。我们如何处理它们?我们可以重复我们的代码或使用javascript。不过，还有另一种方法可以用css来实现。<code>repeat</code>函数表示轨道列表的一个重复片段，允许以更紧凑的形式编写显示重复模式的大量列或行。</p><pre><code><div id="container">
  <div>
    This item is 50 pixels wide.
  </div>
  <div>
    Item with flexible width.
  </div>
  <div>
    This item is 50 pixels wide.
  </div>
  <div>
    Item with flexible width.
  </div>
  <div>
    Inflexible item of 100 pixels width.
  </div>
</div></code></pre><pre><code>#container &#123;
  display: grid;
  grid-template-columns: repeat(2, 50px 1fr) 100px;
  grid-gap: 5px;
  box-sizing: border-box;
  height: 200px;
  width: 100%;
  background-color: #8cffa0;
  padding: 10px;
&#125;

#container > div &#123;
  background-color: #8ca0ff;
  padding: 5px;
&#125;</code></pre><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVcHVeP" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><h2>嵌套网格</h2><p>我还可以将网格嵌套在另一个网格中， 来看看如何实现这一点：</p><pre><code><div class="container">
  <div class="item">One</div>
  <div class="item">Two</div>
  <div class="item">Three</div>
  <div class="item inner-grid">
    <div class="item">i</div>
    <div class="item">ii</div>
    <div class="item">iii</div>
    <div class="item">iv</div>
    <div class="item">v</div>
    <div class="item">vi</div>
  </div>
  <div class="item">Five</div>
  <div class="item">Six</div>
</div></code></pre><p>我们首先在外部<code>container</code>上声明网格：</p><pre><code>.container &#123;
  display: grid;
  height: 100vh;
  grid-gap: 10px;
  grid-template-columns: repeat(auto-fill, minmax(200px, auto))
&#125;</code></pre><p>注意，我们在网格模板中有一个<code>repeat</code>函数，并将其与一个<code>minmax</code>函数组合在一起。我们现在也可以将网格属性应用到内部网格。</p><pre><code>.inner-grid &#123;
  display: grid;
  background: white;
  height: 100%;
  grid-gap: 5px;
  grid-template-columns: repeat(3, auto);
&#125;</code></pre><p>这样，我们网格中嵌套了一个网格。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/bVbOTrO" alt="clipboard.png" title="clipboard.png" referrerpolicy="no-referrer"></span></p><p>今天就跟大家分享到这里，感谢大家的观看，我们下期再见！</p><hr><p><strong>代码部署后可能存在的BUG没法实时知道，事后为了解决这些BUG，花了大量的时间进行log 调试，这边顺便给大家推荐一个好用的BUG监控工具 <a href="https://www.fundebug.com/?utm_source=xiaozhi" rel="nofollow">Fundebug</a>。</strong></p><p>原文：<a href="https://blog.soshace.com/how-to-build-complex-layouts-with-css-grid/" rel="nofollow">https://blog.soshace.com/how-...</a></p><h2>交流</h2><p>文章每周持续更新，可以微信搜索「 大迁世界 」第一时间阅读和催更（比博客早一到两篇哟），本文 GitHub <a href="https://github.com/qq449245884/xiaozhi" rel="nofollow">https://github.com/qq449245884/xiaozhi</a>  已经收录，整理了很多我的文档，欢迎Star和完善，大家面试可以参照考点复习，另外关注公众号，后台回复<strong>福利</strong>，即可看到福利，你懂的。</p><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/remote/1460000020353567?w=800&h=400" alt title referrerpolicy="no-referrer"></span></p>  
</div>
            