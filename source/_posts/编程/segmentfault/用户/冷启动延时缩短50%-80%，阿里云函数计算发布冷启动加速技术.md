
---
title: '冷启动延时缩短50%-80%，阿里云函数计算发布冷启动加速技术'
categories: 
 - 编程
 - segmentfault
 - 用户
headimg: 'https://segmentfault.com/img/remote/1460000039746717'
author: segmentfault
comments: false
date: 2021-04-01 08:09:39
thumbnail: 'https://segmentfault.com/img/remote/1460000039746717'
---

<div>   
<p><strong>简介：</strong> 近日，阿里云函数计算重磅发布冷启动加速技术，将原本属于开发者的镜像优化负担转由函数计算承担，进一步帮助开发者提高生产效率，专注业务创新。该技术源于阿里集团超大规模和场景高度复杂的容器环境，对镜像存储、加速技术有深厚的积累，并出色地承担了3年双十一，双十二，春节等大促秒杀场景的严苛的挑战。</p><p>容器镜像因其颠覆式创新成为云原生时代应用部署格式的事实标准。头部云厂商 FaaS (Function-as-a-Service) 服务如阿里云函数计算、AWS Lambda 也相继在2020年支持使用容器镜像部署函数，全面拥抱容器生态。<br>自发布以来，开发者陆续将机器学习、音视频处理、事件驱动离线数据处理、前端自动化等多个场景使用镜像快速无服务器化，提高效率、降低成本。<strong>然而，冷启动一直是 Serverless 无法绕开的问题。容器镜像需要将数据通过网络远程下载并解压，对于GB级别的镜像，拉取时间可能高达分钟级别，客观上放大了冷启动副作用，阻碍实时应用的 Serverless 演进。</strong></p><h3>函数计算冷启动加速功能</h3><p>近日，阿里云函数计算重磅发布冷启动加速技术，将原本属于开发者的镜像优化负担转由函数计算承担，进一步帮助开发者提高生产效率，专注业务创新。该技术源于阿里集团超大规模和场景高度复杂的容器环境，对镜像存储、加速技术有深厚的积累，并出色地承担了3年双十一，双十二，春节等大促秒杀场景的严苛的挑战。据悉，函数计算已将该技术上线至：杭州、北京、上海、美东、美西等 region。</p><h3>加速效果</h3><p>我们在选择了内部生产环境和开源社区的工作负载，覆盖机器学习、人工智能、前端自动化、Web 应用等7种镜像大小、IO 访问模式、启动命令的不同组合作为 benchmark，部署在 FC 北京区域。如下图所示，函数计算开启镜像加速功能后加速普遍超过 50%，对于机器学习场景中常见的臃肿镜像（如多个团队共享基础镜像, ml-small-import, ml-large-import, ai-cat-or-dog）加速效果更为明显（约 70%-86%），镜像越大优化空间往往越高。<br><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/remote/1460000039746717" alt="image.png" title="image.png" referrerpolicy="no-referrer"></span><br><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/remote/1460000039746718" alt="image.png" title="image.png" referrerpolicy="no-referrer"></span></p><h3>功能特点</h3><h4>FC 镜像加速具备以下特点：</h4><ol><li>使用简单：只需在函数上开启镜像加速，函数计算会自动制作加速镜像和缓存，转换完成后（5分钟以内），函数自动采用加速镜像缓存。</li><li>专注业务创新：开发者无需花费时间刻意精简优化镜像大小或严格区分 Serverless 和 Serverfull 应用镜像的构建方式，FC 负责按照应用实际使用数据拉取和解压。</li><li>加速免费，使用门槛低：镜像加速开启不产生额外费用，也不需要开发者额外购买或升级任何其他服务。事实上由于镜像拉取时间变短，相应的请求费用也随之降低。</li><li>极速弹性、缩容到 0、事件触发：FaaS 结合容器镜像已经极大简化了应用迁移至 Serverless，加速功能进一步解锁了实时、准实时工作负载，曾经需要分钟级别的容器启动现在可以几秒内快速启动，真正实现缩容到0。</li></ol><h3>未来规划</h3><p><strong>此次函数计算发布的冷启动加速技术，通过按需读取和更高效的解压技术在不同场景下加速 50%-80%，即使 GB 级别的镜像也可以在几秒内完成端到端启动。</strong>加速功能结合函数计算极致弹性和事件触发的特点，解锁了更多对实时要求高的工作负载。容器应用可以更容易地享受 Serverless 特性，真正做到缩容到0以及快速大规模扩容。FC 在未来会持续优化冷启动各个环节提供极致弹性，承担更多用户责任，使开发者专注业务创新。</p><h3>附录：实验场景数据</h3><p><span class="img-wrap"><img class="lazy" src="https://segmentfault.com/img/remote/1460000039746719" alt="image.png" title="image.png" referrerpolicy="no-referrer"></span></p><p><a href="https://developer.aliyun.com/article/782979?utm_content=g_1000258770" rel="nofollow">原文链接</a><br>本文为阿里云原创内容，未经允许不得转载。</p>  
</div>
            