
---
title: '7分钟了解Tensorflow.js'
categories: 
    - 编程
    - AI 研习社
    - 首页

author: AI 研习社
comments: false
date: Thu, 10 Jan 2019 03:31:36 GMT
thumbnail: 'https://cdn-images-1.medium.com/max/2000/0*aPXPaPQHeHnMHq-j'
---

<div>   
<table><tbody><tr><td width="50%"> Get to know TensorFlow.js in 7 minutes </td><td> 7分钟了解Tensorflow.js </td></tr><tr><td> <h1>Get to know TensorFlow.js in 7 minutes</h1><h2>And learn how you can run ML/DL models directly in the browser</h2><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/2000/0*aPXPaPQHeHnMHq-j" referrerpolicy="no-referrer"></p><p>Photo by <a href="https://unsplash.com/@mr_vero?utm_source=medium&utm_medium=referral">Irvan Smith</a> on <a href="https://unsplash.com/?utm_source=medium&utm_medium=referral">Unsplash</a></p><p>An increasing number of developers are using TensorFlow in their machine learning projects. In March this year, the TensorFlow team at Google announced the arrival of the much-awaited JavaScript framework, TensorFlow.js (which was previously called DeepLearn.js).</p><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/1600/1*F-1fq9TNjDnAYPAXnZP4Ww.png" referrerpolicy="no-referrer"></p><p>Image Source : Tensorflow.js Website</p><p>Now developers can build lightweight models and run them in the browser using JavaScript. Let’s understand what the need was for the development of this framework.</p> </td><td> <p>7分钟了解TensorFlow.js</p><p>学习怎样在浏览器中直接运行ML/DL模型</p><p>越来越多的开发者在他们的机器学习工程中使用TensorFlow。今年3月，Google的TensorFlow团队发布等待多时的JavaScript框架，TensorFlow.js(之前也叫做DeepLearn.js)</p><p>现在开发者可以编译轻量级的模型并在浏览器中使用JavaScript运行它，那么就让我们来理解这款框架的开发需要什么。</p> </td></tr><tr><td> <h4>History</h4><p>Before going to TensorFlow.js, I would like to start off with TensorFlow.</p><p>TensorFlow was developed in 2011 at Google as their propitiatory library for Machine learning/Deep learning applications at Google. This library was open sourced in 2015 under the Apache License.</p><p>TensorFlow is built in C++, which enables the code to execute at a very low level. TensorFlow has bindings to different language like Python, R, & Java. This enables TensorFlow to be used in these languages.</p><p>So, the obvious question is: what about JavaScript?</p><p>Conventionally, in JavaScript, ML/DL was performed by using an API. An API was made using some framework, and the model was deployed at the server. The client sent a request using JavaScript to get results from the server.</p><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/1600/1*PQljWmzjl-AD45YGJKROcg.png" referrerpolicy="no-referrer"></p><p>Client Server Architecture</p><p>In 2017, a project called Deeplearn.js appeared, which aimed to enable ML/DL in JavaScript, without the API hassle.</p><p>But there were questions about speed. It was very well known that JavaScript code could not run on GPU. To solve this problem, WebGL was introduced. This is a browser interface to OpenGL. WebGL enabled the execution of JavaScript code on GPU.</p><p>In March 2018, the DeepLearn.js team got merged into the TensorFlow Team at Google and was renamed TensorFlow.js.</p><p>Watch the below video for further details:</p><h3>TensorFlow.js</h3><p>Tensorflow.js provides two things:</p><ul class=" list-paddingleft-2"><li><p>The CoreAPI, which deals with the low level code</p></li><li><p>LayerAPI is built over the CoreAPI, and makes our lives easier by increasing the level of abstraction.</p></li></ul><h4>Getting Started</h4><p>There are two main ways to get TensorFlow.js in your project:</p> </td><td> <p>回顾</p><p>在介绍TensorFlow.js之前，我想先从TensorFlow开始。</p><p>TensorFlow在2011年开发于Google作为i他们的机器学习/深度学习app的API lib。这个API lib于2015年在Apache协议下开源。</p><p>TensorFlow由C++编写，这使得代码能够在底层运行。TensorFlow已同其他语言邦定在一起，如Python，R，Java。从而这些语言也能够作为TensorFlow的调用接口。</p><p>那么问题来了：关于JavaScript我们知道些什么呢？</p><p>在JavaScript中，ML/DL通过使用API接口来调用。使用这些框架来生成一个API，并在服务器上部署模型。客户端使用JavaScript发送一个请求从服务器中获取回复。</p><p>客户端服务器架构</p><p>在2017年，一个叫做DeepLearning.js的工程诞生了，旨在没有API的反烦扰下在JavaScript中推动ML/DL的发展。</p><p>但是有出现了速度的问题。都知道JS代码不能运行在GPU上。为了解决这个问题，引进WebGL。这是一个OpenGL的浏览器接口。WebGl能够在GPU上执行JS代码。</p><p>在2018年3月，DeepLearn.js团队与TensorFlow团队合并，重命名为TensorFlow.js。</p><p>更多内容请看下方视频</p><p>TensorFlow.js提供两样东西：</p><p>CoreAPI，来处理底层代码</p><p>在CoreAPI之上编写的LayerAPI，通过增加层级的抽象性使coding更容易。</p><p>在你的项目中有两种方法引入TensorFlow.js</p> </td></tr><tr><td> <h4>1. via <script> Tag</h4><p>Add the following code to an HTML file:</p><pre><code><html><br>  <head><br>    <!-- Load TensorFlow.js --><br>    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"> </script><br>  </head></code></pre><pre><code><body><br>      Hello<br>  </body><br></html></code></pre><h4>2. via NPM</h4><p>Add TensorFlow.js to your project using yarn or npm.</p><pre>yarn add @tensorflow/tfjs</pre><pre>npm install @tensorflow/tfjs</pre><p>In your main js file:</p><pre>import * as tf from '@tensorflow/tfjs';</pre><h3>CoreAPI</h3><h4>1. Tensors</h4><p>So, what is a Tensor ?</p><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/1600/1*V83L4ydCdk21tXjP22VjXQ.jpeg" referrerpolicy="no-referrer"></p><ul class=" list-paddingleft-2"><li><p>A scalar is a single number. For example, x = 1</p></li><li><p>A vector is an array of numbers. For example, <em>x</em>=[1,2]</p></li><li><p>A matrix is a 2-D array<br>([[1, 2],<br> [3, 4],<br> [5, 6]])</p></li><li><p>A tensor is a <em>n-</em>dimensional array with <em>n</em>>2</p></li></ul><p>TensorFlow.js has utility functions for common cases like Scalar, 1D, 2D, 3D and 4D tensors, as well a number of functions to initialize tensors in ways useful for machine learning.</p><h4>Code Examples</h4><p>tf.tensor():</p><pre><code>// Pass an array of values to create a vector.<br>tf.tensor([1, 2, 3, 4]).print();</code></pre><p>tf.scalar():</p><pre>tf.scalar(3.14).print();</pre><p>And so on…</p><p>Watch the Below Video to get a deep insight into Tensors in TensorFlow.js:</p> </td><td> <h4>1. 通过<script>标签 </h4><p>添加下列代码到一个HTML文件：</p><pre><code><html><br>  <head><br>    <!-- Load TensorFlow.js --><br>    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0"> </script><br>  </head></code></pre><pre><code><body><br>      Hello<br>  </body><br></html></code></pre><h4>2. 通过NPM</h4><p>使用yarn或者NPM把TensorFlow.js添加到你的项目。</p><pre>yarn add @tensorflow/tfjs
npm install @tensorflow/tfjs</pre><p>在你的主js文件：</p><pre>import * as tf from '@tensorflow/tfjs';</pre><h3>核心API</h3><h4>1. 张量（Tensors）</h4><p>所以，什么是张量?</p><p><img src="https://cdn-images-1.medium.com/max/1600/1*V83L4ydCdk21tXjP22VjXQ.jpeg" referrerpolicy="no-referrer">（图挂了）</p><ul><li><p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">标量是单个数。<spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">例如，x = 1  </spanmicrosoft></spanmicrosoft><br></p></li><li><p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">矢量是一组数字。<spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">例如,x =[1,2]  </spanmicrosoft></spanmicrosoft><br></p></li><li><p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: line-height: 25.987503051757813px; orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250); display: inline !important; float: none;">矩阵是一个二维数组  </spanmicrosoft><br>([[1, 2],<br> [3, 4],<br> [5, 6]])</p></li><li><p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: line-height: 25.987503051757813px; orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250); display: inline !important; float: none;">张量是一个n维数组，n>2</spanmicrosoft><br></p></li></ul><p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">TensorFlow.<spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">js具有用于标量、一维、二维、三维和四维张量等常见情况的实用函数，以及一些用于初始化张量的函数，这些函数对机器学习非常有用。  </spanmicrosoft></spanmicrosoft><br></p><h4>代码示例</h4><p>tf.tensor():</p><pre><code>// Pass an array of values to create a vector.<br>tf.tensor([1, 2, 3, 4]).print();</code></pre><p>tf.scalar():</p><pre>tf.scalar(3.14).print();</pre><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>等等……</span></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">观看下方视频来深入了解TensorFlow.js中的张量:</pmicrosoft></pmicrosoft></pmicrosoft></p><p></p> </td></tr><tr><td> <h4>2. Variables & Operations</h4><p>Tensors are immutable data structures. That means their values can’t be changed once they are set.</p><p>However, <code>tf.variable()</code> is introduced in TensorFlow.js. The real use case for <code>tf.variable()</code> is when we need to change the data frequently, such as when adjusting model weights in Machine Learning.</p><p>Code sample:</p><pre><code>const x = tf.variable(tf.tensor([1, 2, 3]));<br>x.assign(tf.tensor([4, 5, 6]));<br><br>x.print();</code></pre><h4>Operations</h4><p>There are various operations in TensorFlow.js. In order to perform mathematical computation on Tensors, we use operations. Tensors are immutable, so all operations always return new Tensors and never modify input Tensors. So<code> tf.variable()</code> can be used in order to save memory.</p><p>Let’s look into some operations:</p><p>tf.add() — Adds two <a href="https://js.tensorflow.org/api/0.12.0/#class:Tensor">tf.Tensor</a>s element-wise</p><pre><code>const a = tf.tensor1d([1, 2, 3, 4]);<br>const b = tf.tensor1d([10, 20, 30, 40]);<br><br>a.add(b).print();  // or tf.add(a, b)</code></pre><p>There are many operations in TensorFlow.js. You can check the <a href="https://js.tensorflow.org/api/0.12.0/#Operations">documentation</a> for other operations. I will demonstrate one more operation here: tf.matmul()</p><p>tf.matmul() — Computes the dot product of two matrices, A * B.</p><pre><code>const a = tf.tensor2d([1, 2], [1, 2]);<br>const b = tf.tensor2d([1, 2, 3, 4], [2, 2]);</code></pre><pre>a.matMul(b).print();  // or tf.matMul(a, b)</pre><p>Watch the below video for deep insight into Variable and Operations:</p><h4>3. Memory Management</h4><p>Memory management is the key in Machine Learning/Deep Learning tasks, because they are generally computationally expensive.</p><p>TensorFlow.js provides two major ways to manage memory:</p><ol class=" list-paddingleft-2"><li><p>tf.dispose()</p></li><li><p>tf.tidy()</p></li></ol><p>They both typically do the same thing, but they do it in different ways.</p><h4>tf.tidy()</h4> </td><td> <p><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></p><h4>2.变量 & 运算</h4><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>张量是一种不能被改变的数据结构。</span><span>这意味着一旦设置好它们的值就无法更改。</span></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>但是，TensorFlow.js中引入了<code>tf.variable()</code>。</span><span>它的真正用例是当我们需要频繁更改数据时，例如在机器学习中调整模型权重时。</span></pmicrosoft></pmicrosoft></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">代码示例:</pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><pre><code>const x = tf.variable(tf.tensor([1, 2, 3]));<br>x.assign(tf.tensor([4, 5, 6]));<br><br>x.print();</code></pre><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><h4><br></h4><h4>运算</h4><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>在TensorFlow.js中有各种各样的运算。</span><span>为了对张量进行数学计算，我们使用运算。</span><span>张量是不可变的，因此所有运算总是会返回新的张量，而从不修改输入的张量。</span><span>在这我们可以使用<code>tf.variable()</code>来节省内存。</span></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>让我们来看看一些运算:</span></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><code>tf.add()</code>——</pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft>按元素添加两个<a href="https://js.tensorflow.org/api/0.12.0/#class:Tensor" target="_blank">tf张量</a></p><p><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></p><pre><code>const a = tf.tensor1d([1, 2, 3, 4]);<br>const b = tf.tensor1d([10, 20, 30, 40]);<br><br>a.add(b).print();  // or tf.add(a, b)</code></pre><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>在TensorFlow.js中还有很多其他运算。</span><span>你可以查看</span><a href="https://js.tensorflow.org/api/0.12.0/#Operations" target="_blank">文档</a><span>来了解它们。</span><span>我将在这里演示另一个操作：<code>tf.matmul()</code></span></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span><code>tf.matmul()</code> ——计算矩阵A * B的点积。</span></pmicrosoft></pmicrosoft></pmicrosoft></p><pre><code>const a = tf.tensor2d([1, 2], [1, 2]);<br>const b = tf.tensor2d([1, 2, 3, 4], [2, 2]);

a.matMul(b).print();  // or tf.matMul(a, b)</code></pre><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: line-height: 25.987503051757813px; orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250); display: inline !important; float: none;">观看下面的视频来深入了解变量和操作:  </spanmicrosoft><span><br></span></pmicrosoft></pmicrosoft></pmicrosoft></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"></pmicrosoft></pmicrosoft></pmicrosoft></p><p> </p><p><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></p><h4>3. 内存管理</h4><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>内存管理是机器学习/深度学习任务的关键，因为它们通常需要消耗大量计算资源。</span></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>TensorFlow.</span><span>js提供了两种主要的内存管理方法:</span></pmicrosoft></pmicrosoft></pmicrosoft></p><p></p><p></p><ol><li>tf.dispose()<br></li><li>tf.tidy()<br></li></ol><p></p><p></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>它们</span></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft>用不同的方式做着差不多同样的事情。</p><p></p><p></p><p><ahelp_3" name="help_3"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_3"></p><h4>tf.tidy()</h4><p></p><p></p><p></p> </td></tr><tr><td> <p>This executes the provided function <code>fn</code> and after it is executed, cleans up all intermediate tensors allocated by <code>fn</code> except those returned by <code>fn</code>.</p><p><code>tf.tidy()</code> helps avoid memory leaks. In general, it wraps calls to operations in <code><a href="https://js.tensorflow.org/api/0.12.0/#tidy">tf.tidy()</a></code> for automatic memory cleanup.</p><p>Code example:</p><pre><code>const y = tf.tidy(() => &#123;<br>   // aa, b, and two will be cleaned up when the tidy ends.<br>   const two= tf.scalar(2);<br>   const aa = tf.scalar(2);<br>   const b = aa.square();<br><br>   console.log('numTensors (in tidy): ' + tf.memory().numTensors);<br><br>   // The value returned inside the tidy function will return<br>   // through the tidy, in this case to the variable y.<br>   return b.add(two);<br>&#125;);<br><br>console.log('numTensors (outside tidy): ' + tf.memory().numTensors);<br>y.print();</code></pre><h4>tf.dispose()</h4><p>Disposes any <a href="https://js.tensorflow.org/api/0.12.0/#class:Tensor">tf.Tensor</a>s found within the mentioned object.</p><p>Code example:</p><pre>const two= tf.scalar(2);</pre><pre>two.dispose()</pre><h3>LayersAPI</h3><p>Layers are the primary building block for constructing a ML/DL Model. Each layer will typically perform some computation to transform its input to its output. Under the hood, every layer uses the CoreAPI of Tensorflow.js.</p><p>Layers will automatically take care of creating and initializing the various internal variables/weights they need to function. So, basically it makes life easier by increasing the level of abstraction.</p><p>We will make a simple example feed forward network using the LayerAPI. The Feed Forward network we will build is as below:</p><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/1600/1*BIpRgx5FsEMhr1k2EqBKFg.gif" referrerpolicy="no-referrer"></p><p>Image is my own</p><h4>Code:</h4> </td><td> <p><spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: line-height: 25.987503051757813px; orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250); display: inline !important; float: none;">它执行所提供的函数fn，在执行函数fn之后，清除fn分配的所有中间张量(fn返回的张量除外)。  </spanmicrosoft><br></p><p><code>tf.tidy()</code> 有助于避免内存泄漏。<spanmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">通常， <a href="https://js.tensorflow.org/api/0.12.0/#tidy"><code>tf.tidy()</code></a>  中包装了对运算的调用，以实现自动内存清理。 </spanmicrosoft></p><p><ahelp_4" name="help_4"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_4"></p><p>代码示例：</p><p><ahelp_4" name="help_4"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_4"></p><pre><code>const y = tf.tidy(() => &#123;<br>   // aa, b, and two will be cleaned up when the tidy ends.<br>   const two= tf.scalar(2);<br>   const aa = tf.scalar(2);<br>   const b = aa.square();<br><br>   console.log('numTensors (in tidy): ' + tf.memory().numTensors);<br><br>   // The value returned inside the tidy function will return<br>   // through the tidy, in this case to the variable y.<br>   return b.add(two);<br>&#125;);<br><br>console.log('numTensors (outside tidy): ' + tf.memory().numTensors);<br>y.print();</code></pre><p><ahelp_4" name="help_4"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_4"></p><h4><br></h4><h4>tf.dispose()</h4><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>处理</span></pmicrosoft>在对象中找到的<pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">任何</pmicrosoft><a href="https://js.tensorflow.org/api/0.12.0/#class:Tensor" style="font-size: 16px;">tf.Tensor</a>s张量。</p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">代码示例:</pmicrosoft></pmicrosoft></pmicrosoft></p><pre>const two= tf.scalar(2);
two.dispose()</pre><p><ahelp_4" name="help_4"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_4"></p><h3><br></h3><h3>LayersAPI</h3><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>层是构建ML/DL模型时的主要成分。</span><span>每个层通常会执行一些计算，将输入转换为输出。</span><span>每一层都使用Tensorflow.js的CoreAPI。</span></pmicrosoft></p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span></span><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><span>层将自动创建和初始化它们需要的各种内部变量/权重。</span><span>因此</span></pmicrosoft></pmicrosoft></pmicrosoft>它基本上通过增加抽象级别来使生活变得更容易。</p><p></p><p></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);">我们将使用LayerAPI制作一个简单的前馈网络示例。我们将构建的前馈网络如下：</pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><p><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"><pmicrosoft yahei', '\\5fae软雅黑', '\\5b8b体', 'malgun gothic', meiryo, sans-serif; font-size: 13.600001335144043px; font-style: normal; font-variant: font-weight: letter-spacing: orphans: auto; text-align: justify; text-indent: 0px; text-transform: none; white-space: widows: word-spacing: -webkit-text-stroke-width: background-color: rgb(247, 248, 250);"></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></pmicrosoft></p><p><img src="https://cdn-images-1.medium.com/max/1600/1*BIpRgx5FsEMhr1k2EqBKFg.gif" referrerpolicy="no-referrer"></p><p>图是我自己的</p><p><ahelp_4" name="help_4"><divpara-item clr"><divitem-area item-en edroll"></divitem-area></divpara-item></ahelp_4"></p><h4>代码:</h4><p></p><p></p> </td></tr><tr><td> <p>Index.html</p><pre><html>
<head>
<title></title>
<script src=”"> </script>
<script src=”main.js” type=”text/javascript”></script></pre><pre></head></pre><pre><body>
Tensorflow JS Demo</pre><pre></body>
</html></pre><p>main.js</p><pre>const model = tf.sequential();</pre><pre>//config for layer
const config_hidden = &#123;
  inputShape:[3],
  activation:'sigmoid',
  units:4
&#125;
const config_output=&#123;
  units:2,
  activation:'sigmoid'
&#125;</pre><pre>//defining the hidden and output layer
const hidden = tf.layers.dense(config_hidden);
const output = tf.layers.dense(config_output);</pre><pre>//adding layers to model
model.add(hidden);
model.add(output);</pre><pre>//define an optimizer
const optimize=tf.train.sgd(0.1);</pre><pre>//config for model
const config=&#123;
optimizer:optimize,
loss:'meanSquaredError'
&#125;</pre><pre>//compiling the model
model.compile(config);</pre><pre>console.log('Model Successfully Compiled');</pre><pre>//Dummy training data
const x_train = tf.tensor([
  [0.1,0.5,0.1],
  [0.9,0.3,0.4],
  [0.4,0.5,0.5],
  [0.7,0.1,0.9]
])</pre><pre>//Dummy training labels
const y_train = tf.tensor([
  [0.2,0.8],
  [0.9,0.10],
  [0.4,0.6],
  [0.5,0.5]
])</pre><pre>//Dummy testing data
const x_test = tf.tensor([
  [0.9,0.1,0.5]
])</pre><pre>train_data().then(function()&#123;
  console.log('Training is Complete');
  console.log('Predictions :');
  model.predict(x_test).print();
&#125;)</pre><pre>async function train_data()&#123;
  for(let i=0;i<10;i++)&#123;
  const res = await model.fit(x_train,y_train,epoch=1000,batch_size=10);
   console.log(res.history.loss[0]);
  &#125;
&#125;</pre><p>Output:</p><p><img class="progressiveMedia-image js-progressiveMedia-image" src="https://cdn-images-1.medium.com/max/1600/1*e3eBJbrquB8p0XMQe5bdCQ.png" referrerpolicy="no-referrer"></p><p>Watch the below videos for deep insight and code explanation:</p><p>I understand that this is a small overview on the Tensorflow.js Library. I feel this can be a starting point before you read the <a href="https://js.tensorflow.org/api/0.12.0/">documentation</a> and go through some real world applications.</p><p>I will be posting real world examples using TensorFlow.js as below:</p><p>More Real world examples coming soon…<a href="https://goo.gl/u72j6u">Stay Tuned</a>…</p><h3>My take on this</h3><p>This is excellent for coders who are familiar with JavaScript and are trying to find their way in the ML/DL world!</p><p>It makes things a lot simpler for people coming from a non-ML/DL background, but who are looking to understand this field. The use cases for this are many, and I personally think it’s something we need at the moment.</p><p>In my next article and video, I will talk about <a href="https://ml5js.org/">ML5</a> which is built over TensorFlow.js. <a href="https://ml5js.org/">ML5</a> is built at New York University and is under active development.</p><p>What do you think about TensorFlow.js? Let me know in the comments section below. If you like this article, you would also like my <a href="https://goo.gl/u72j6u">Videos on Youtube.</a></p><p><br></p> </td><td> <p><ahelp_5" name="help_5"><divitem-area item-en edroll"></divitem-area></ahelp_5"></p><p>Index.html</p><pre><html>
<head>
<title></title>
<script src=”"> </script>
<script src=”main.js” type=”text/javascript”></script></pre><pre></head></pre><pre><body>
Tensorflow JS Demo</pre><pre></body>
</html></pre><p>main.js</p><pre>const model = tf.sequential();</pre><pre>//config for layer
const config_hidden = &#123;
  inputShape:[3],
  activation:'sigmoid',
  units:4
&#125;
const config_output=&#123;
  units:2,
  activation:'sigmoid'
&#125;</pre><pre>//defining the hidden and output layer
const hidden = tf.layers.dense(config_hidden);
const output = tf.layers.dense(config_output);</pre><pre>//adding layers to model
model.add(hidden);
model.add(output);</pre><pre>//define an optimizer
const optimize=tf.train.sgd(0.1);</pre><pre>//config for model
const config=&#123;
optimizer:optimize,
loss:'meanSquaredError'
&#125;</pre><pre>//compiling the model
model.compile(config);</pre><pre>console.log('Model Successfully Compiled');</pre><pre>//Dummy training data
const x_train = tf.tensor([
  [0.1,0.5,0.1],
  [0.9,0.3,0.4],
  [0.4,0.5,0.5],
  [0.7,0.1,0.9]
])</pre><pre>//Dummy training labels
const y_train = tf.tensor([
  [0.2,0.8],
  [0.9,0.10],
  [0.4,0.6],
  [0.5,0.5]
])</pre><pre>//Dummy testing data
const x_test = tf.tensor([
  [0.9,0.1,0.5]
])</pre><pre>train_data().then(function()&#123;
  console.log('Training is Complete');
  console.log('Predictions :');
  model.predict(x_test).print();
&#125;)</pre><pre>async function train_data()&#123;
  for(let i=0;i<10;i++)&#123;
  const res = await model.fit(x_train,y_train,epoch=1000,batch_size=10);
   console.log(res.history.loss[0]);
  &#125;
&#125;</pre><p>Output:</p><p><img src="https://cdn-images-1.medium.com/max/1600/1*e3eBJbrquB8p0XMQe5bdCQ.png" referrerpolicy="no-referrer"></p><p>看下面的视频来加深理解和理解代码：</p><p>我理解<ahelp_5" name="help_5">这是一个简短的概述关于Tensorflow.js Library（知识库）。我觉得这可以作为你阅读<a href="https://js.tensorflow.org/api/0.12.0/" target="_blank">文献</a>和应用实例的一个起点。</ahelp_5"></p><p><ahelp_5" name="help_5">我将会以如下的形式<ahelp_5" name="help_5"><ahelp_5" name="help_5">使用</ahelp_5">TensorFlow.js</ahelp_5">发布实例：<br></ahelp_5"></p><p>More Real world examples coming soon…<a href="https://goo.gl/u72j6u">Stay Tuned</a>…</p><p>更多的实例即将出现...<a href="https://goo.gl/u72j6u" target="_blank">持续调整...</a></p><h3>我所呈现的内容</h3><div>对于那些熟悉JavaScript并试图在ML/DL世界中一展拳脚的程序员来说这是极好的！</div><div>它帮助那些没有ML/DL背景却试图进入这一领域的人把事情变的更简单了。这样的例子很多，我个人认为这正是当前我们所需要的。</div><p></p><p><ahelp_5" name="help_5"><divitem-area item-en edroll"></divitem-area></ahelp_5"></p><div>在我接下来的文章和视频中，我将会介绍基于<ahelp_5" name="help_5">TensorFlow.js构建的<a href="https://ml5js.org/" target="_blank">ML5</a> 。 <a href="https://ml5js.org/" target="_blank">ML5</a><span style="color: rgb(237, 85, 101);"><span style="color: rgb(53, 73, 94);"> 是在纽约大学开发的并还在积极开发中。</span></span></ahelp_5"></div><div><ahelp_5" name="help_5"><span style="color: rgb(237, 85, 101);"><span style="color: rgb(53, 73, 94);">你对<ahelp_5" name="help_5">TensorFlow.js有什么想法呢？请在下方留言评论。如果你喜欢这篇文章，你也会喜欢我在Youtube上的<a href="https://goo.gl/u72j6u" target="_blank">视频</a>。</ahelp_5"></span></span></ahelp_5"><ahelp_5" name="help_5"><divitem-area item-en edroll"></divitem-area></ahelp_5"><ahelp_5" name="help_5"><span style="color: rgb(237, 85, 101);"><span style="color: rgb(53, 73, 94);"></span></span></ahelp_5"></div><p></p> </td></tr></tbody></table>
                <style>
                    table,
                    table tr th,
                    table tr td &#123;
                        border: 1px solid #000000;
                        padding: 10px;
                    &#125;
                    table &#123;
                        border-collapse: collapse;
                    &#125;
                </style>  
</div>
            