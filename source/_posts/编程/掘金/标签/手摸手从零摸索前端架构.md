
---
title: '手摸手从零摸索前端架构'
categories: 
 - 编程
 - 掘金
 - 标签
headimg: 'https://picsum.photos/400/300?random=5864'
author: 掘金
comments: false
date: Tue, 25 May 2021 20:50:27 GMT
thumbnail: 'https://picsum.photos/400/300?random=5864'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">1.前言</h2>
<p>跳槽季，来到一家新的公司。怀着憧憬向往这新的技术层次和环境。往往梦想很丰满现实
很骨感,HTML+Jq+vuejs的混合模式让我维护起来苦不堪言,话不多说，有问题就要解决,开始摸索</p>
<h2 data-id="heading-1">2.目前的思路</h2>
<ul>
<li>
<p>保证生产稳定</p>
</li>
<li>
<p>了解项目产生和低成本的代码复用</p>
</li>
<li>
<p>查看各个版本迭代情况</p>
<p>了解后</p>
</li>
</ul>
<ol>
<li>寻找共同技术栈,保证协作开发的稳定</li>
<li>解决以前多版本多页面冲突,提高协作开发效率</li>
<li>了解项目需求,拓扑基本产品线</li>
</ol>
<p>一期需要消化的问题</p>















































<table><thead><tr><th>问题</th><th>优先级</th><th>处理</th><th>收益</th></tr></thead><tbody><tr><td>多页面模块化</td><td>高</td><td>解耦各个功能模块</td><td>解决各个功能模块冲突</td></tr><tr><td>缺少CI/CD</td><td>低</td><td>下放二期</td><td>缺少运维Jenkins实现落地收益不高</td></tr><tr><td>脚手架/工程化</td><td>中高</td><td>统一框架技术栈</td><td>产品版本达到应用可以拆和</td></tr><tr><td>接口规范</td><td>中</td><td>字段枚举和语义化</td><td>提高产能和复用性</td></tr><tr><td>代码规范</td><td>低</td><td>需要时间</td><td>时间证明一切</td></tr><tr><td>解决痛点</td><td>高</td><td>攻克以上问题带来的痛点</td><td>后续进行二期工作安排</td></tr></tbody></table>
<h2 data-id="heading-2">2. 基础架构设计</h2>
<p>新架构</p>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
后台管理 <|-- Duck
后台管理<|-- Fish
后台管理 <|-- Zebra
后台管理 : 对应所有web管理
后台管理 : +按需权限下放()


class Duck&#123;
+前台页面
+独立授权()
&#125;
class Fish&#123;
+前台页面
+独立授权()
&#125;
class Zebra&#123;
+前台页面
+独立授权()
&#125;
</code></pre>
<p>旧架构</p>
<pre><code class="hljs language-mermaid" lang="mermaid">classDiagram
后台管理 <|-- Duck

后台管理 : 对应所有web管理
后台管理 : +按需权限下放()

class Duck&#123;
+前台页面
+独立授权()
+Fish()
+Duck()
+Zebra()
+...()
 
&#125;

</code></pre>
<h3 data-id="heading-3">2.1一期的目标</h3>
<p>一期的目标将所有前台主工程从业务线剥离，形成以下</p>
<ul>
<li>微应用,多模块化管理</li>
<li>公共静态文件整合,例如Echarts,Jqurey.....第三方引用</li>
<li>gitLab线上版本权限,以及产品版本号明确</li>
<li>工程化统一脚手架规范等</li>
</ul>
<h3 data-id="heading-4">微应用</h3>
<p>采用多工程模式,分别管理各自的模块,优化了各自浏览器的加载速度，一些不必要加载问题。
nginx进行统一授权随后分发到各自应用,解决了2次授权问题。接触了各个模块之间的耦合，不同的技术栈迭代和框架的选择有了很大自由度。通过这样的拆分，降低了代码开发、维护难度，也减少不同story 开发之间协作成本。</p>
<h3 data-id="heading-5">公共资源</h3>
<p>老生常谈的问题,比如Echarts,element-ui,vant-ui的本体引用很大,且可能项目使用的地方其实不是很多,如果没有做按需加载的话，也会重复加载这些文件，浪费网络带宽和静态服务器存储空间，没有意义。
抽离出这些的js or css进行公共静态cdn引用，有利于优化加载和版本控制,对后期代码维护会有很大帮助。</p>
<h3 data-id="heading-6">gitLab版本管理</h3>
<p>大家都会遇到人走了，线上代码是哪个的问题,统一的产品的线拉取约束很有必要。且产品线迭代权限一定是最高的级别，团队负责的迭代应该对应项目进行定制化版本号的迭代，总之活要见人死要见尸！！！</p>
<h3 data-id="heading-7">工程化统一脚手架规范等</h3>
<p>统一UI，主工程统一技术栈，统一请求管理，达到子工程可以拆分合并,无兼容,改动过多,版本过多和技术栈的冲突,降低开发成本。以产品线的脚手架为主,做加法,如需合并同步npm包的包含即可。</p>
<h2 data-id="heading-8">3.未来计划</h2>
<p>初期计划正在执行，后续我会更新我的在一期落地的情况，分享我的经验。这里感谢掘金的各位大佬（^-1）就不一一样感谢了，特别感谢我的偶像花裤衩大大@花裤衩，未完待续.......</p></div>  
</div>
            