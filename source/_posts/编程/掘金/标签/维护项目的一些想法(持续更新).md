
---
title: '维护项目的一些想法(持续更新)'
categories: 
 - 编程
 - 掘金
 - 标签
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66a21109ff384e4a8ebac042c7ad15fb~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image'
author: 掘金
comments: false
date: Wed, 04 Aug 2021 07:47:09 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66a21109ff384e4a8ebac042c7ad15fb~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>代码的维护并不是一蹴而就的,在业务的维护阶段如果不能对项目代码进行有效的治理,就会导致业务代码逐渐臃肿可维护性降低.</p>
<h2 data-id="heading-0">功能分离&整合</h2>
<p>在业务发展的过程中最初单一的功能衍生出不同的业务模式和逻辑.通过对代码有序的梳理能更好的帮助后续的迭代降低维护成本.</p>
<h3 data-id="heading-1">功能(逻辑)聚合</h3>
<ol>
<li>相同功能提取至上层(工具包)减少逻辑的分散，增加封装性</li>
</ol>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Ficantunderstand.cn%2Fstatic%2Ff4744724c2714f096071420341056b8c%2F1dbe8%2Fpull.png" target="_blank" rel="nofollow noopener noreferrer" title="https://icantunderstand.cn/static/f4744724c2714f096071420341056b8c/1dbe8/pull.png" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66a21109ff384e4a8ebac042c7ad15fb~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt="提取" title="提取" loading="lazy" referrerpolicy="no-referrer"></a></p>
<h3 data-id="heading-2">功能隔离(边界划分)</h3>
<ol>
<li>代码仓库(功能)要进行合理的划分(划分维度 业务相关性/技术栈形式),防止不同业务间的互相干扰.</li>
<li>在提供业务功能的时候，内部逻辑可以减少对外层逻辑的解释，在边界出封装外层的解释逻辑。举个简单的例子比如前端在处理日期在处理Date对象构造函数new Date(year, month,day)的时候，month是0-11区间的,但是在对外提供的时候需要转化成0-12区间，那么在内部处理时可以尽量减少month的转化，保持一致的含义，在暴露出对外的接口中统一提供转化</li>
</ol>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Ficantunderstand.cn%2Fstatic%2F68cfb0b896d568e04141bb15d229a8e4%2Fce92a%2Finnersame.png" target="_blank" rel="nofollow noopener noreferrer" title="https://icantunderstand.cn/static/68cfb0b896d568e04141bb15d229a8e4/ce92a/innersame.png" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c0693b02a9b54115a199d8506bed65b2~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt="内部一致性" title="内部一致性" loading="lazy" referrerpolicy="no-referrer"></a></p>
<h2 data-id="heading-3">规范建立</h2>
<ol>
<li>编码规范(lint commit rule)</li>
<li>分支规范(上线规范)</li>
<li>review机制(如何能更好的长期review而不是过场? 业务master?)</li>
<li>语义化(可读性)、注释</li>
<li>目录规范化(统一引用方式)</li>
</ol>
<h2 data-id="heading-4">基于业务的框架(功能复用)</h2>
<p>造轮子是在技术/业务发展都一定阶段的诉求.通过将开发能力、线上能力、业务通用逻辑下沉到框架层,让框架去约束业务并给业务赋能.<a href="https://link.juejin.cn/?target=https%3A%2F%2Ficantunderstand.cn%2Fstatic%2F21724b1a09b327be152374878d99f949%2F3dde1%2FframeWork.png" target="_blank" rel="nofollow noopener noreferrer" title="https://icantunderstand.cn/static/21724b1a09b327be152374878d99f949/3dde1/frameWork.png" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45ba0cc50fe345e2ae4aa37f9657261b~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt="框架能力" title="框架能力" loading="lazy" referrerpolicy="no-referrer"></a></p>
<h2 data-id="heading-5">渐进的变化</h2>
<h3 data-id="heading-6">延迟抽象</h3>
<p>延迟对代码进行抽象逻辑的封装，过度的提前封装会导致封装模块不利于维护，后续不同模块功能产生分歧大的时候，进行功能的拆分也是很痛苦的。在下面的例子中初期可以只封装最底层的模块，后期在进行业务逻辑的向上封装提取<a href="https://link.juejin.cn/?target=https%3A%2F%2Ficantunderstand.cn%2Fstatic%2F11db52875dd41a085919d8c2506ae7ec%2F2dab4%2Fslow.png" target="_blank" rel="nofollow noopener noreferrer" title="https://icantunderstand.cn/static/11db52875dd41a085919d8c2506ae7ec/2dab4/slow.png" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9e5c2467ec3a4bbda4e79b43d55574e7~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt="延迟抽象" title="延迟抽象" loading="lazy" referrerpolicy="no-referrer"></a></p>
<p>代码是与机器交互的语言,也是开发者之间交流的一种方式.之所以要提倡编写可维护的代码是希望在同一个团队中形成统一的方言.这种独特的方言要在一定程度上提高开发的效率(不好的方言有可能降低开发效率).也许团队这段时间会使用这种方言,过段时间会换另一种方言.自己的建议是多思考,多想想方言之间的不同,为什么这种模式会适应现在的场景,慢慢的你就会建立一种你自己的方言或者思考问题的方式.</p>
<h2 data-id="heading-7">参考</h2>
<p><a href="https://juejin.im/post/5b3ae175f265da63252c2f21" target="_blank" title="https://juejin.im/post/5b3ae175f265da63252c2f21">代码质量与规范，那些年你欠下的技术债</a><br>
<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.zhihu.com%2Fquestion%2F20017545" target="_blank" rel="nofollow noopener noreferrer" title="https://www.zhihu.com/question/20017545" ref="nofollow noopener noreferrer">好的提高代码质量的方法有哪些</a><br>
<a href="https://link.juejin.cn/?target=https%3A%2F%2Foverreacted.io%2Fzh-hans%2Fgoodbye-clean-code%2F" target="_blank" rel="nofollow noopener noreferrer" title="https://overreacted.io/zh-hans/goodbye-clean-code/" ref="nofollow noopener noreferrer">Goodbye, Clean Code</a></p>
<p>欢迎大家关注我的公众号-前端小板凳 一起学习进步！</p></div>  
</div>
            