
---
title: '框架是教科书，但是思考架构更有价值'
categories: 
 - 编程
 - 掘金
 - 标签
headimg: 'https://picsum.photos/400/300?random=6615'
author: 掘金
comments: false
date: Sun, 28 Mar 2021 02:41:33 GMT
thumbnail: 'https://picsum.photos/400/300?random=6615'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>相信许多开发者都学习过SSH和Spring MVC，当然也有些人是从.net和Ruby on rails上了解的。这些框架设计的都是如此的健壮，以至于我们在年轻时都时不时地由心赞叹设计者的严谨的设计和强大的动手能力。但是我现在认为这些框架无论多么健壮，但已经不适合逐渐趋向敏捷开发的互联网架构了。至少对年轻人而言却依旧有着教学的意义，使我们知道自己的不足。</p>
<p>中国后端开发从2014年至今，这个期间已经发生了无数的创新和巨大的变化。首先，在接口上，自一篇2000年称颂的Roy Fielding博士<a href="https://blog.csdn.net/mypages/article/details/83325223" title="Fielding博士的REST论文中文版（Rest开山作品）" target="_blank" rel="nofollow noopener noreferrer">论文</a>从美国硅谷传教至中国的中关村，越来越多的开发者开始在网站开发中使用HTTP API。当然，由于一些历史的源由，多数的企业网站一般只用Get和Post方法接口规范。而在这之前绝大多数开发者都使用着RPC和SOAP作为接口规范。部分内容网站则使用Webhooks规范推送内容。随着近几年移动端开发的需求与日俱增，前端H5也逐渐成为了移动端开发的拿手好菜，但是原先常用的HTTP API似乎不尽如人意。由于手机芯片属于精简计算指令集（RISC），低功耗和内存少的限制使得用Restful API变得有些奢侈。于是，谷歌的开发者们就重新设计了RPC，发布了新的gRPC规范；Apache推出了Thrift产品；脸书的工程师们开发了GraphQL规范；<a href="https://swagger.io/" title="Swagger接口文档开发工具" target="_blank" rel="nofollow noopener noreferrer">Swagger</a>的项目中独立出Open API。我相信这些API接口规范将会成为我们将来设计软件架构的重要一环。</p>
<p>在数据库方面，不再只有一种基于DBMS的SQL数据库。当然，目前这些DBMS的数据库依旧活跃在金融和银行的体系中，以及一些传统企业的日常工作中。但是这丝毫不影响“挑战者们”无限的创造力和非比寻常的勇气。出现了许许多多不错的NoSQL产品和NewSQL产品。比如著名的Redis（KV键内存数据库），MongoDB（BSON的文档型数据库），CouchDB（Erlang编写的文档型数据库），ElasticSearch（基于Luence搜索引擎的数据库）等等，具体参考<a href="https://db-engines.com/" title="DB-Engine网站" target="_blank" rel="nofollow noopener noreferrer">DB-Engine</a>。这些数据库独特的设计使我们不再局限于对mysql和Postgresql的优化，或者对企业服务的依赖。比如，天眼查在人员关系上就采用了neo4j的图数据库（从前端界面的推测）。</p>
<p>而在架构上也有了微服务这耳熟能详的概念。对于这个架构，相信在BAT的同行应该更加了解，因为我已经拜读过很多来自他们所写的博客及其他文章。曾经福特一世凭借T型车稳坐了美国汽车行业龙头位置，同时，为了应对几乎垄断导致的巨大市场需求，必须采取更高效的方式来提高产品的产量。（P.S, 读过历史的同学应该知道卡内基工厂的黑历史，这是一个经典案例，我不多评价）经过一番研究，从肉联厂中引入了流水线模式。同样的微服务就是将功能低耦合，通过接口之间的调用，以中心化或去中心化的方式流水线工作。这样对于服务的开发、维护和测试都可以相对简化，并且像零件一样拆卸替换，增加了横向扩展的能力，减轻了纵向开发的成本。</p>
<p>框架对我们这些新人来说，仍旧是一个不错的学习资料，但是如果因为刻意照搬框架，只会使我们的思想受到束缚。所以，我倾向于在每次接触新的技术后，都能够用一段时间去沉淀这些知识，并重新构思设计。</p>
<p>“设计与研究的区别看来就在于，前者追求‘好’，后者追求‘新’。优秀的设计不一定很‘新’，但必须是‘好’的；优秀的研究不一定很‘好’，但必须是‘新’的。我认为这两条道路最后会发生交叉：只有应用‘新’的创意和理论，才会诞生超越前人的最佳设计；只有解决那些值得解决的难题（也就是‘好’的难题），才会诞生最佳研究。” ——Paul Graham《黑客与画家》[译文]</p></div> <div class="image-viewer-box" data-v-78c9b824><!----></div>  
</div>
            