
---
title: 'ä»Šå¤©èŠï¼šå¤§å‚å¦‚ä½•ç”¨ä¸€é“ç¼–ç¨‹é¢˜è€ƒå¯Ÿå€™é€‰äººæ°´å¹³'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image'
author: æ˜é‡‘
comments: false
date: Wed, 21 Jul 2021 15:51:14 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:#353535&#125;.markdown-body h1&#123;padding-bottom:4px;font-size:30px&#125;.markdown-body h1,.markdown-body h2&#123;margin-top:36px;margin-bottom:10px;line-height:1.5;color:#005bb7&#125;.markdown-body h2&#123;position:relative;padding-left:16px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h2:before&#123;content:"ã€Œ";position:absolute;top:-6px;left:-10px&#125;.markdown-body h2:after&#123;content:"ã€";position:absolute;top:6px;right:auto&#125;.markdown-body h3&#123;position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h3:before&#123;content:"Â»";padding-right:6px;color:#2196f3&#125;.markdown-body h4&#123;margin-top:24px;font-size:16px&#125;.markdown-body h4,.markdown-body h5&#123;padding-bottom:0;margin-bottom:10px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h5&#123;margin-top:18px;font-size:14px&#125;.markdown-body h6&#123;padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body p&#123;line-height:inherit;margin-top:16px;margin-bottom:16px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#007fff,rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),#007fff);border-width:0;overflow:visible&#125;.markdown-body hr:after&#123;content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center&#125;.markdown-body code&#123;padding:.065em .4em;font-size:.87em;color:#c2185b;word-break:break-word;overflow-x:auto;background-color:#fff4f4;border-radius:2px&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8&#125;.markdown-body pre>code::-webkit-scrollbar&#123;width:4px;height:4px&#125;.markdown-body pre>code::-webkit-scrollbar-track&#123;background-color:#bedcff&#125;.markdown-body pre>code::-webkit-scrollbar-thumb&#123;background-color:#2196f3;border-radius:10px&#125;.markdown-body a&#123;position:relative;text-decoration:none;color:#3da8f5;border-bottom:1px solid #bedcff&#125;.markdown-body a:hover&#123;color:#007fff;border-bottom-color:#007fff&#125;.markdown-body a:active&#123;color:#007fff&#125;.markdown-body a:after&#123;position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid #bedcff;transition:top .3s,opacity .3s;transform:translateZ(0)&#125;.markdown-body a:hover:after&#123;top:0;opacity:1;border-bottom-color:#007fff&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #c3e0fd;border-spacing:0;border-collapse:collapse&#125;.markdown-body table thead&#123;color:#000;text-align:left;font-size:14px;background:#f6f6f6&#125;.markdown-body table tr:nth-child(2n)&#123;background-color:#f7fbff&#125;.markdown-body table tr:hover&#123;background-color:#e0edf7&#125;.markdown-body table td,.markdown-body table th&#123;padding:12px 8px;line-height:24px;border:1px solid #c3e0fd&#125;.markdown-body table th&#123;color:#005bb7;background-color:#dff0ff&#125;.markdown-body table td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#8c8c8c;border-left:4px solid #2196f3;background-color:#f0fdff;padding:1px 20px;margin:22px 0&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body b,.markdown-body blockquote>b,.markdown-body blockquote>strong,.markdown-body strong&#123;color:#2196f3&#125;.markdown-body em,.markdown-body i&#123;color:#4fc3f7&#125;.markdown-body del&#123;color:#ccc&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:4px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body details>summary&#123;outline:none;color:#005bb7;font-size:20px;font-weight:bolder;border-bottom:1px solid #bedcff;cursor:pointer&#125;.markdown-body details>p&#123;padding:10px 20px;margin:10px 0 0;color:#666;background-color:#f0fdff;border:2px dashed #2196f3&#125;.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection&#123;color:#005bb7;background-color:rgba(160,200,255,.15)&#125;.markdown-body p::selection&#123;color:#c80000&#125;.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection&#123;background-color:transparent&#125;.markdown-body code::selection&#123;background-color:#ffeaeb&#125;.markdown-body pre>code::selection&#123;background-color:rgba(160,200,255,.25)&#125;.markdown-body ol ::selection,.markdown-body ul ::selection&#123;background-color:rgba(160,200,255,.15)&#125;.markdown-body .contains-task-list&#123;padding-left:14px;list-style:none&#125;.markdown-body .contains-task-list input[type=checkbox]&#123;position:relative&#125;.markdown-body .contains-task-list input[type=checkbox]:before&#123;content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1&#125;.markdown-body .contains-task-list input[type=checkbox]:checked:after&#123;content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>ç¬¬ä¸‰åå±Š|å‰ç«¯æ—©æ—©èŠå¤§ä¼š BFF ä¸“åœº - ç©è½¬å‰åç«¯æ¥å£ï¼ˆGraphQLã€ç»Ÿä¸€ç½‘å…³ã€API æ¥å…¥ã€API ç®¡ç†ã€åè®®è½¬æ¢ã€ç»Ÿä¸€å®‰å…¨åˆ‡é¢ã€é«˜å¹¶å‘å¤„ç†ã€å¯è§†åŒ–ç¼–æ’ã€ç»Ÿä¸€ç¨³å®šæ€§å»ºè®¾...ï¼‰8-14 å…¨å¤©ç›´æ’­ï¼Œ9 ä½è®²å¸ˆï¼Œ<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2Ftl30" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/tl30" ref="nofollow noopener noreferrer">æŠ¥åä¸Šè½¦çœ‹ç›´æ’­ğŸ‘‰ )ï¼š</a></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image" alt="æµ·æŠ¥.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>å‰ç«¯æ—©æ—©èŠå¤§ä¼šï¼Œä¸æ˜é‡‘è”åˆä¸¾åŠã€‚åŠ  codingdreamer è¿›å¤§ä¼šæŠ€æœ¯ç¾¤ï¼Œèµ¢åœ¨æ–°çš„èµ·è·‘çº¿ï¼Œ
æ‰€æœ‰å¾€æœŸéƒ½æœ‰å…¨ç¨‹å½•æ’­ï¼Œ<strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2F2021" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/2021" ref="nofollow noopener noreferrer">ä¸Šæ‰‹å¹´ç¥¨ä¸€æ¬¡æ€§è§£é”å…¨éƒ¨</a></strong></p>
<hr>
<h2 data-id="heading-0">æ­£æ–‡å¦‚ä¸‹</h2>
<blockquote>
<p>æœ¬æ–‡æ˜¯ç¬¬äºŒåä¸€å±Š - å‰ç«¯æ—©æ—©èŠæ­å»ºä¸“åœºï¼Œä¹Ÿæ˜¯æ—©æ—©èŠç¬¬ 148 åœºï¼Œæ¥è‡ª æ»¡å¸®-å¤æ˜ çš„åˆ†äº«ã€‚</p>
</blockquote>
<h2 data-id="heading-1">è‡ªæˆ‘ä»‹ç»</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41732131faae4a9ab70b249b74fbef93~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-2">è¿›å…¥æ­£é¢˜</h2>
<h4 data-id="heading-3">é¢è¯•ç¯èŠ‚å¯¹é¢è¯•å®˜çš„ä¸€äº›æŒ‘æˆ˜</h4>
<ul>
<li>é¢è¯•å®˜å’Œå€™é€‰äººçš„çŸ¥è¯†ç»“æ„å¯èƒ½æœ‰å·®å¼‚ => å¯èƒ½ä¼šé”™è¿‡ä¼˜ç§€çš„äºº</li>
<li>é‡åˆ°ã€Œé¢éœ¸ã€ï¼Œé¢‘ç¹é¢è¯•åˆ·é¢˜ï¼Œä½†æ˜¯å®é™…èƒ½åŠ›ä¸€èˆ¬ => æ‹›åˆ°ä¸åˆé€‚çš„äºº</li>
<li>è¦åœ¨çŸ­çŸ­åŠä¸ªå°æ—¶åˆ°ä¸€ä¸ªå°æ—¶å†…åˆ¤æ–­ä¸€ä¸ªäººï¼Œå…¶å®å¾ˆéš¾</li>
</ul>
<h4 data-id="heading-4">ç›¸å¯¹é è°±çš„åšæ³•</h4>
<ul>
<li>ç¬”è¯•ï¼š"Talk is cheap, show me the code"</li>
</ul>
<h4 data-id="heading-5">ç¬”è¯•å¸¸è§çš„é—®é¢˜</h4>
<ul>
<li>è€ƒé€šç”¨ç®—æ³•ï¼ŒGoogle èƒ½ç›´æ¥æœåˆ°ï¼Œå¤±å»è€ƒå¯Ÿæ„ä¹‰</li>
<li>é¢˜ç›®éš¾åº¦è®¾è®¡æœ‰é—®é¢˜ã€‚è¦ä¹ˆæ»¡åˆ†ï¼Œè¦ä¹ˆé›¶åˆ†ï¼Œå¯èƒ½é”™è¿‡è¿˜ä¸é”™çš„åŒå­¦</li>
<li>å’Œå®é™…å·¥ä½œå†…å®¹è„±èŠ‚</li>
</ul>
<h4 data-id="heading-6">æˆ‘è®¤ä¸ºå¥½çš„ç¬”è¯•é¢˜</h4>
<ul>
<li>ä¸Šæ‰‹é—¨æ§›ä½ï¼Œæ‰€æœ‰äººå¤šå¤šå°‘å°‘éƒ½èƒ½å†™ä¸€ç‚¹ï¼Œä¸è‡³äºå¼€å¤©çª—</li>
<li>è€ƒç‚¹å¤šï¼Œé€šè¿‡ä¸€é“é¢˜å¯ä»¥åŸºæœ¬æ‘¸æ¸…å€™é€‰äººçš„ä»£ç ç»¼åˆç´ å…»</li>
<li>ç»™é«˜ç«¯çš„äººæœ‰è¶³å¤Ÿçš„å‘æŒ¥ç©ºé—´ã€‚åŒæ ·çš„ç»“æœï¼Œä¸åŒçš„å®ç°æ–¹å¼å¯ä»¥çœ‹å‡ºå€™é€‰äººçš„æŠ€æœ¯æ·±åº¦</li>
</ul>
<h4 data-id="heading-7">æˆ‘å¸¸ç”¨çš„ä¸€é“ç¬”è¯•é¢˜</h4>
<p>å¾ˆæ™®é€šçš„ä¸€é“é¢˜</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// å‡è®¾æœ¬åœ°æœºå™¨æ— æ³•åšåŠ å‡ä¹˜é™¤è¿ç®—ï¼Œéœ€è¦é€šè¿‡è¿œç¨‹è¯·æ±‚è®©æœåŠ¡ç«¯æ¥å®ç°ã€‚</span>
<span class="hljs-comment">// ä»¥åŠ æ³•ä¸ºä¾‹ï¼Œç°æœ‰è¿œç¨‹APIçš„æ¨¡æ‹Ÿå®ç°</span>

<span class="hljs-keyword">const</span> addRemote = <span class="hljs-keyword">async</span> (a, b) => <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =></span> &#123;
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> resolve(a + b), <span class="hljs-number">1000</span>)
&#125;);

<span class="hljs-comment">// è¯·å®ç°æœ¬åœ°çš„addæ–¹æ³•ï¼Œè°ƒç”¨addRemoteï¼Œèƒ½æœ€ä¼˜çš„å®ç°è¾“å…¥æ•°å­—çš„åŠ æ³•ã€‚</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...inputs</span>) </span>&#123;
  <span class="hljs-comment">// ä½ çš„å®ç°</span>
&#125;

<span class="hljs-comment">// è¯·ç”¨ç¤ºä¾‹éªŒè¯è¿è¡Œç»“æœ:</span>
add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
  .then(<span class="hljs-function"><span class="hljs-params">result</span> =></span> &#123;
    <span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// 3</span>
&#125;);


add(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>)
  .then(<span class="hljs-function"><span class="hljs-params">result</span> =></span> &#123;
    <span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// 10</span>
&#125;)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>ç­”æ¡ˆä¸€</strong>
æœ€åŸºæœ¬çš„ç­”æ¡ˆï¼Œå¦‚æœå†™ä¸å‡ºæ¥ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯é€šè¿‡ä¸äº†äº†</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (args.length <= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> res;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> args) &#123;
    res = <span class="hljs-keyword">await</span> addRemote(res, item);
  &#125;
  <span class="hljs-keyword">return</span> res;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>é€’å½’ç‰ˆæœ¬</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (args.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-keyword">if</span> (args.length === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> args[<span class="hljs-number">0</span>];
  
  <span class="hljs-keyword">const</span> a = args.pop();
  <span class="hljs-keyword">const</span> b = args.pop();
  args.push(<span class="hljs-keyword">await</span> addRemote(a, b));
  <span class="hljs-keyword">return</span> add(...args);
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å¸¸è§çš„é—®é¢˜ï¼š</p>
<ul>
<li>æ²¡æœ‰åˆ¤æ–­å…¥å‚ä¸ªæ•°</li>
<li>ä»ç„¶ç”¨äº†æœ¬åœ°åŠ æ³•</li>
</ul>
<p><strong>ç­”æ¡ˆäºŒ</strong>
æœ‰å€™é€‰äººçš„ç­”æ¡ˆå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// Promiseé“¾å¼è°ƒç”¨ç‰ˆæœ¬</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">return</span> args.reduce(<span class="hljs-function">(<span class="hljs-params">promiseChain, item</span>) =></span> &#123;
    <span class="hljs-keyword">return</span> promiseChain.then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
      <span class="hljs-keyword">return</span> addRemote(res, item);
    &#125;);
  &#125;, <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-number">0</span>));

&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä»è¿™ä¸ªå®ç°å¯ä»¥çœ‹å‡ºï¼š</p>
<ul>
<li>å¯¹ Array.prototype.reduce çš„æŒæ¡</li>
<li>å¯¹äº Promise é“¾å¼è°ƒç”¨çš„ç†è§£</li>
<li>è€ƒå¯Ÿå€™é€‰äººå¯¹ async function æœ¬è´¨çš„ç†è§£</li>
</ul>
<p>è¿™ä¸ªç‰ˆæœ¬è‡³å°‘èƒ½åˆ° 70 åˆ†</p>
<p><strong>ç­”æ¡ˆä¸‰</strong>
ä¹‹å‰çš„ç­”æ¡ˆç»“æœéƒ½æ˜¯å¯¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æŠŠè€—æ—¶æ‰“å‡ºæ¥ï¼Œå¯ä»¥çœ‹åˆ°è€—æ—¶å’Œå‚æ•°ä¸ªæ•°æˆçº¿æ€§å…³ç³»ï¼Œå› ä¸ºæ‰€æœ‰è®¡ç®—éƒ½æ˜¯ä¸²è¡Œçš„ï¼Œæ˜¾ç„¶ä¸æ˜¯æœ€ä¼˜çš„è§£</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce3b0152fe1542d09af037672c741e8c~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>æ›´å¥½ä¸€ç‚¹çš„ç­”æ¡ˆï¼š</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">if</span> (args.length <= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(args[<span class="hljs-number">0</span>])
  <span class="hljs-keyword">const</span> promiseList = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i * <span class="hljs-number">2</span> < args.length - <span class="hljs-number">1</span>; i++) &#123;
    <span class="hljs-keyword">const</span> promise = addRemote(args[i * <span class="hljs-number">2</span>], args[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>])
    promiseList.push(promise)
  &#125;

  <span class="hljs-keyword">if</span> (args.length % <span class="hljs-number">2</span>) &#123;
    <span class="hljs-keyword">const</span> promise = <span class="hljs-built_in">Promise</span>.resolve(args[args.length - <span class="hljs-number">1</span>])
    promiseList.push(promise)
  &#125;

  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.all(promiseList).then(<span class="hljs-function"><span class="hljs-params">results</span> =></span> add(...results));
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c97bd59b264457a9014315d9e86ce20~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>å¯ä»¥çœ‹åˆ°å¾ˆæ˜æ˜¾çš„ä¼˜åŒ–ã€‚</p>
<p><strong>ç­”æ¡ˆå››</strong>
è¿˜èƒ½å†ä¼˜åŒ–å—ï¼Ÿ
æœ‰äº›åŒå­¦ä¼šæƒ³åˆ°åŠ æœ¬åœ°ç¼“å­˜</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">const</span> cache = &#123;&#125;;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFn</span>(<span class="hljs-params">a, b</span>) </span>&#123;
  <span class="hljs-keyword">const</span> key1 = <span class="hljs-string">`<span class="hljs-subst">$&#123;a&#125;</span><span class="hljs-subst">$&#123;b&#125;</span>`</span>;
  <span class="hljs-keyword">const</span> key2 = <span class="hljs-string">`<span class="hljs-subst">$&#123;b&#125;</span><span class="hljs-subst">$&#123;a&#125;</span>`</span>;
  <span class="hljs-keyword">const</span> cacheVal = cache[key1] || cache[key2];
  
  <span class="hljs-keyword">if</span> (cacheVal) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(cacheVal);
  
  <span class="hljs-keyword">return</span> addRemote(a, b, <span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
    cache[key1] = res;
    cache[key2] = res;
    <span class="hljs-keyword">return</span> res;
  &#125;);
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>åŠ äº†ç¼“å­˜ä»¥åï¼Œæˆ‘ä»¬å†ç¬¬äºŒæ¬¡æ‰§è¡Œç›¸åŒå‚æ•°åŠ æ³•æ—¶ï¼Œå¯ä»¥ä¸ç”¨è¯·æ±‚è¿œç«¯ï¼Œç›´æ¥å˜æˆæ¯«ç§’çº§è¿”å›</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca28795a21964b7d949d64f76fa8f4a8~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>è¿˜èƒ½å†ä¼˜åŒ–å—ï¼Ÿäº¤ç»™å¤§å®¶å»æ€è€ƒ</p>
<h4 data-id="heading-8">å…¶ä»–è€ƒå¯Ÿç‚¹</h4>
<p>æœ‰äº›æ—¶å€™ä¼šè®©å€™é€‰äººå°†ä»£ç æäº¤åˆ° Github ä»“åº“ï¼Œä»¥å·¥ä½œä¸­ä¸€ä¸ªå®é™…çš„æ¨¡å—æ ‡å‡†æ¥å¼€å‘ï¼Œå¯ä»¥è€ƒå¯Ÿï¼š</p>
<ul>
<li>git æ“ä½œï¼Œcommit è§„èŒƒ</li>
<li>å·¥ç¨‹åŒ–ç´ å…»</li>
<li>æ˜¯å¦æœ‰å•å…ƒæµ‹è¯•</li>
<li>è¦†ç›–ç‡æ˜¯å¦è¾¾æ ‡</li>
<li>ä¾èµ–çš„æ¨¡å—ç‰ˆæœ¬å¦‚ä½•è®¾ç½®</li>
<li>å¦‚ä½•é…ç½® ci/cd</li>
<li>æ–‡æ¡£ã€æ³¨é‡Š</li>
<li>...</li>
</ul>
<h4 data-id="heading-9">æ›´åŠ å¼€æ”¾çš„ä¸€ç§ç¬”è¯•å½¢å¼</h4>
<ul>
<li>ç»™ä¸€é“é¢˜ç›®ï¼Œè®©å€™é€‰äººå»ºä¸€ä¸ª Github ä»“åº“æ¥å®Œæˆ</li>
<li>é¢˜ç›®æœ‰ä¸€å®šéš¾åº¦ï¼Œä½†æ˜¯å¯ä»¥ Googleï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‰æ–¹æ¨¡å—ï¼Œå’Œæˆ‘ä»¬å¹³æ—¶åšé¡¹ç›®å·®ä¸å¤š</li>
<li>é€šå¸¸é¢å‘çº§åˆ«è¾ƒé«˜çš„å€™é€‰äºº</li>
</ul>
<p><strong>å®é™…é¢˜ç›®</strong></p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// æœ‰ä¸€ä¸ª 10G æ–‡ä»¶ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œ</span>
<span class="hljs-comment">// ç°åœ¨è¦åœ¨ä¸€å° 2C4G çš„æœºå™¨ä¸Šå¯¹å®ƒè¿›è¡Œæ’åºï¼Œè¾“å‡ºæ’åºä»¥åçš„æ–‡ä»¶</span>

<span class="hljs-comment">// æ¡ˆä¾‹è¾“å…¥</span>
<span class="hljs-comment">// 1570593273487</span>
<span class="hljs-comment">// 1570593273486</span>
<span class="hljs-comment">// 1570593273488</span>
<span class="hljs-comment">// â€¦</span>

<span class="hljs-comment">// è¾“å‡º</span>
<span class="hljs-comment">// 1570593273486</span>
<span class="hljs-comment">// 1570593273487</span>
<span class="hljs-comment">// 1570593273488</span>
<span class="hljs-comment">// â€¦</span>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å…ˆçœ‹ä¸€ä¸ªç­”æ¡ˆï¼Œçœ‹çœ‹å“ªé‡Œæœ‰é—®é¢˜</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sort</span>(<span class="hljs-params">inputFile, outputFile</span>) </span>&#123;
  <span class="hljs-keyword">const</span> input = fs.createReadStream(inputFile);
  <span class="hljs-keyword">const</span> rl = readline.createInterface(&#123; input &#125;);
  <span class="hljs-keyword">const</span> arr = [];
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> rl) &#123;
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">Number</span>(line);
    arr.push(item);
  &#125;
  arr.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =></span> a - b);

  fs.writeFileSync(outputFile, arr.join(<span class="hljs-string">'\n'</span>));
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>10GB çš„æ–‡ä»¶æ— æ³•ä¸€æ¬¡æ€§æ”¾è¿›å†…å­˜é‡Œå¤„ç†ï¼Œå†…å­˜åªæœ‰ 4GB</strong></p>
<p>å†çœ‹ä¸€ä¸ªç¥å¥‡çš„ç­”æ¡ˆï¼Œåªæœ‰ä¸€è¡Œä»£ç ï¼Œè€Œä¸”ä»ç»“æœæ¥è¯´æ˜¯æ­£ç¡®çš„ã€‚ä½†ä¸æ˜¯æˆ‘ä»¬ç¬”è¯•æƒ³è¦çš„ç­”æ¡ˆã€‚</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">const</span> cp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sort</span>(<span class="hljs-params">inputFile, outputFile</span>) </span>&#123;
 cp.exec(<span class="hljs-string">`sort -n <span class="hljs-subst">$&#123;inputFile&#125;</span> > <span class="hljs-subst">$&#123;outputFile&#125;</span>`</span>);
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è§£é¢˜æ€è·¯</p>
<ul>
<li>æ—¢ç„¶æ²¡åŠæ³•ä¸€æ¬¡æ€§åœ¨å†…å­˜ä¸­æ’åºï¼Œé‚£æˆ‘ä»¬èƒ½å¦å°† 10GB çš„æ–‡ä»¶æ‹†åˆ†æˆè‹¥å¹²ä¸ªå°æ–‡ä»¶</li>
<li>å°æ–‡ä»¶å…ˆåˆ†åˆ«æ’åºï¼Œç„¶åå†åˆå¹¶æˆä¸€ä¸ªå¤§çš„æ–‡ä»¶</li>
</ul>
<p>å†å°†é—®é¢˜æ‹†è§£</p>
<ul>
<li>æ‹†åˆ†å¤§æ–‡ä»¶åˆ°å°æ–‡ä»¶</li>
<li>å°æ–‡ä»¶åœ¨å†…å­˜é‡Œæ’åº</li>
<li>åˆå¹¶æ‰€æœ‰å°æ–‡ä»¶æˆä¸€ä¸ªæ•´ä½“æ’åºè¿‡çš„å¤§æ–‡ä»¶</li>
</ul>
<p>æœ¬é¢˜æœ€éš¾çš„ç‚¹åœ¨äºå¦‚ä½•åˆå¹¶æ‰€æœ‰å°æ–‡ä»¶ã€‚ä»£ç å¦‚ä½•å®ç°ï¼Ÿ</p>
<ul>
<li>è¿™é‡Œéœ€è¦ç”¨åˆ°ä¸€ç§æ•°æ®ç»“æ„ï¼šå †</li>
<li>å †ï¼šå°±æ˜¯ç”¨æ•°ç»„å®ç°çš„ä¸€ä¸ªäºŒå‰æ ‘</li>
<li>å †åˆ†ä¸ºï¼šæœ€å¤§å †å’Œæœ€å°å †ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªæœ€å°å †ï¼ˆçˆ¶èŠ‚ç‚¹å°äºå®ƒçš„å­èŠ‚ç‚¹ï¼‰</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/429f2503bc4a4d96a31b7e4812cdaa2b~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>å †æœ‰ä¸€äº›ç‰¹æ€§ï¼š</p>
<ul>
<li>å¯¹äºä¸€ä¸ªçˆ¶èŠ‚ç‚¹æ¥è¯´
<ul>
<li>å·¦èŠ‚ç‚¹ä½ç½®ï¼šçˆ¶èŠ‚ç‚¹ä½ç½® * 2 + 1</li>
<li>å³èŠ‚ç‚¹ä½ç½®ï¼šçˆ¶èŠ‚ç‚¹ä½ç½® * 2 + 2</li>
</ul>
</li>
<li>å¾ˆå®¹æ˜“æŸ¥æ‰¾æœ€å¤§å€¼ / æœ€å°å€¼</li>
</ul>
<p>æˆ‘ä»¬å°è¯•æŠŠä¸‹é¢æ•°ç»„æ„é€ æˆä¸€ä¸ªæœ€å°å †</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2541bdf2633b4f0faae84f30cca57e3e~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹å¾€å‰å¤„ç†</li>
<li>10 æ¯” 5 å¤§ï¼Œæ‰€ä»¥äº¤æ¢å®ƒä»¬çš„ä½ç½®</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/381542da763f40e2bcea3e9ce59083b3~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>ç„¶åæ˜¯èŠ‚ç‚¹ 2ï¼Œç¬¦åˆè¦æ±‚ä¸éœ€è¦å¤„ç†</li>
<li>æœ€ååˆ°é¡¶ç‚¹ 3ï¼Œå®ƒæ¯”å·¦å­èŠ‚ç‚¹å¤§ï¼Œæ‰€ä»¥è¦äº¤æ¢</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b28de835de05419eb17f0016ad98a371~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>å®Œæ•´çš„å®ç°å‚è€ƒï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fgxcsoccer%2Fexternal-sorting" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/gxcsoccer/external-sorting" ref="nofollow noopener noreferrer">github.com/gxcsoccer/eâ€¦</a>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0aa08479f30a484eb7a88af8682b3e35~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-10">ä»‹ç»ç›’é©¬ä½“éªŒæŠ€æœ¯éƒ¨ç›®å‰åšçš„ä¸€äº›äº‹æƒ…</h2>
<ol>
<li>ç›’ä½œç¤¾ï¼šå¤šåª’ä½“åˆ›æ„ç”Ÿäº§å¹³å°</li>
<li>REX Designï¼šç›’é©¬è®¾è®¡ä½“ç³»</li>
<li>è·¨ç«¯ï¼ˆPC/Phone/Pad/POS...ï¼‰</li>
<li>é«˜æ€§èƒ½ï¼šç›¸æ¯”äº Antd æä¾›æ”¯æŒè™šæ‹Ÿæ»šåŠ¨çš„è¡¨æ ¼ã€Treeã€Select ç­‰ç»„ä»¶</li>
<li>é›¶å”®ä¸šç‰¹è‰²ç»„ä»¶ï¼šåœ°å›¾æ’çº¿ã€æ’ç­ã€äº¤å‰è¡¨ã€é€è§†è¡¨ã€ç‰¹è‰²å¯è§†åŒ–</li>
<li>å·¥ä¸šæ§åˆ¶ï¼ˆAIOT ç›¸å…³ï¼‰ï¼šæ•°å­—åŒ–å…»è™¾</li>
<li>æ•°ç›’ï¼šé›¶å”®ä¸šç‰¹ç‚¹çš„æ•°æ®åˆ†æå’Œå¯è§†åŒ–</li>
<li>...</li>
</ol>
<h2 data-id="heading-11">é¢è¯•æµç¨‹</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d44028337bb4db1b511d0fbc57e3020~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-12">æ¨èçš„ä¹¦â€”ã€Šæ•°æ®åˆ†ææ€ç»´ã€‹</h2>
<blockquote>
<p><strong>ã€Œæ•°æ®åˆ†æä¸æ˜¯æŸä¸ªå›ºå®šçš„èŒä½ï¼Œè€Œæ˜¯äººå·¥æ™ºèƒ½æ—¶ä»£çš„é€šç”¨èƒ½åŠ›ã€</strong></p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7f316fee3ee49f18293aa95711e6b96~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<hr>
<p>ç¬¬ä¸‰åå±Š|å‰ç«¯æ—©æ—©èŠå¤§ä¼š BFF ä¸“åœº - ç©è½¬å‰åç«¯æ¥å£ï¼ˆGraphQLã€ç»Ÿä¸€ç½‘å…³ã€API æ¥å…¥ã€API ç®¡ç†ã€åè®®è½¬æ¢ã€ç»Ÿä¸€å®‰å…¨åˆ‡é¢ã€é«˜å¹¶å‘å¤„ç†ã€å¯è§†åŒ–ç¼–æ’ã€ç»Ÿä¸€ç¨³å®šæ€§å»ºè®¾...ï¼‰8-14 å…¨å¤©ç›´æ’­ï¼Œ9 ä½è®²å¸ˆï¼Œ<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2Ftl30" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/tl30" ref="nofollow noopener noreferrer">æŠ¥åä¸Šè½¦çœ‹ç›´æ’­ğŸ‘‰ )ï¼š</a></p></div>  
</div>
            