
---
title: '今天聊：大厂如何用一道编程题考察候选人水平'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Wed, 21 Jul 2021 15:51:14 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:#353535&#125;.markdown-body h1&#123;padding-bottom:4px;font-size:30px&#125;.markdown-body h1,.markdown-body h2&#123;margin-top:36px;margin-bottom:10px;line-height:1.5;color:#005bb7&#125;.markdown-body h2&#123;position:relative;padding-left:16px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h2:before&#123;content:"「";position:absolute;top:-6px;left:-10px&#125;.markdown-body h2:after&#123;content:"」";position:absolute;top:6px;right:auto&#125;.markdown-body h3&#123;position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h3:before&#123;content:"»";padding-right:6px;color:#2196f3&#125;.markdown-body h4&#123;margin-top:24px;font-size:16px&#125;.markdown-body h4,.markdown-body h5&#123;padding-bottom:0;margin-bottom:10px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h5&#123;margin-top:18px;font-size:14px&#125;.markdown-body h6&#123;padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body p&#123;line-height:inherit;margin-top:16px;margin-bottom:16px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#007fff,rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),#007fff);border-width:0;overflow:visible&#125;.markdown-body hr:after&#123;content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center&#125;.markdown-body code&#123;padding:.065em .4em;font-size:.87em;color:#c2185b;word-break:break-word;overflow-x:auto;background-color:#fff4f4;border-radius:2px&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8&#125;.markdown-body pre>code::-webkit-scrollbar&#123;width:4px;height:4px&#125;.markdown-body pre>code::-webkit-scrollbar-track&#123;background-color:#bedcff&#125;.markdown-body pre>code::-webkit-scrollbar-thumb&#123;background-color:#2196f3;border-radius:10px&#125;.markdown-body a&#123;position:relative;text-decoration:none;color:#3da8f5;border-bottom:1px solid #bedcff&#125;.markdown-body a:hover&#123;color:#007fff;border-bottom-color:#007fff&#125;.markdown-body a:active&#123;color:#007fff&#125;.markdown-body a:after&#123;position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid #bedcff;transition:top .3s,opacity .3s;transform:translateZ(0)&#125;.markdown-body a:hover:after&#123;top:0;opacity:1;border-bottom-color:#007fff&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #c3e0fd;border-spacing:0;border-collapse:collapse&#125;.markdown-body table thead&#123;color:#000;text-align:left;font-size:14px;background:#f6f6f6&#125;.markdown-body table tr:nth-child(2n)&#123;background-color:#f7fbff&#125;.markdown-body table tr:hover&#123;background-color:#e0edf7&#125;.markdown-body table td,.markdown-body table th&#123;padding:12px 8px;line-height:24px;border:1px solid #c3e0fd&#125;.markdown-body table th&#123;color:#005bb7;background-color:#dff0ff&#125;.markdown-body table td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#8c8c8c;border-left:4px solid #2196f3;background-color:#f0fdff;padding:1px 20px;margin:22px 0&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body b,.markdown-body blockquote>b,.markdown-body blockquote>strong,.markdown-body strong&#123;color:#2196f3&#125;.markdown-body em,.markdown-body i&#123;color:#4fc3f7&#125;.markdown-body del&#123;color:#ccc&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:4px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body details>summary&#123;outline:none;color:#005bb7;font-size:20px;font-weight:bolder;border-bottom:1px solid #bedcff;cursor:pointer&#125;.markdown-body details>p&#123;padding:10px 20px;margin:10px 0 0;color:#666;background-color:#f0fdff;border:2px dashed #2196f3&#125;.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection&#123;color:#005bb7;background-color:rgba(160,200,255,.15)&#125;.markdown-body p::selection&#123;color:#c80000&#125;.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection&#123;background-color:transparent&#125;.markdown-body code::selection&#123;background-color:#ffeaeb&#125;.markdown-body pre>code::selection&#123;background-color:rgba(160,200,255,.25)&#125;.markdown-body ol ::selection,.markdown-body ul ::selection&#123;background-color:rgba(160,200,255,.15)&#125;.markdown-body .contains-task-list&#123;padding-left:14px;list-style:none&#125;.markdown-body .contains-task-list input[type=checkbox]&#123;position:relative&#125;.markdown-body .contains-task-list input[type=checkbox]:before&#123;content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1&#125;.markdown-body .contains-task-list input[type=checkbox]:checked:after&#123;content:"✓";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>第三十届|前端早早聊大会 BFF 专场 - 玩转前后端接口（GraphQL、统一网关、API 接入、API 管理、协议转换、统一安全切面、高并发处理、可视化编排、统一稳定性建设...）8-14 全天直播，9 位讲师，<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2Ftl30" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/tl30" ref="nofollow noopener noreferrer">报名上车看直播👉 )：</a></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c8d10ab6b5e4528bf66bb4b186b43df~tplv-k3u1fbpfcp-watermark.image" alt="海报.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>前端早早聊大会，与掘金联合举办。加 codingdreamer 进大会技术群，赢在新的起跑线，
所有往期都有全程录播，<strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2F2021" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/2021" ref="nofollow noopener noreferrer">上手年票一次性解锁全部</a></strong></p>
<hr>
<h2 data-id="heading-0">正文如下</h2>
<blockquote>
<p>本文是第二十一届 - 前端早早聊搭建专场，也是早早聊第 148 场，来自 满帮-坤明 的分享。</p>
</blockquote>
<h2 data-id="heading-1">自我介绍</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41732131faae4a9ab70b249b74fbef93~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-2">进入正题</h2>
<h4 data-id="heading-3">面试环节对面试官的一些挑战</h4>
<ul>
<li>面试官和候选人的知识结构可能有差异 => 可能会错过优秀的人</li>
<li>遇到「面霸」，频繁面试刷题，但是实际能力一般 => 招到不合适的人</li>
<li>要在短短半个小时到一个小时内判断一个人，其实很难</li>
</ul>
<h4 data-id="heading-4">相对靠谱的做法</h4>
<ul>
<li>笔试："Talk is cheap, show me the code"</li>
</ul>
<h4 data-id="heading-5">笔试常见的问题</h4>
<ul>
<li>考通用算法，Google 能直接搜到，失去考察意义</li>
<li>题目难度设计有问题。要么满分，要么零分，可能错过还不错的同学</li>
<li>和实际工作内容脱节</li>
</ul>
<h4 data-id="heading-6">我认为好的笔试题</h4>
<ul>
<li>上手门槛低，所有人多多少少都能写一点，不至于开天窗</li>
<li>考点多，通过一道题可以基本摸清候选人的代码综合素养</li>
<li>给高端的人有足够的发挥空间。同样的结果，不同的实现方式可以看出候选人的技术深度</li>
</ul>
<h4 data-id="heading-7">我常用的一道笔试题</h4>
<p>很普通的一道题</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// 假设本地机器无法做加减乘除运算，需要通过远程请求让服务端来实现。</span>
<span class="hljs-comment">// 以加法为例，现有远程API的模拟实现</span>

<span class="hljs-keyword">const</span> addRemote = <span class="hljs-keyword">async</span> (a, b) => <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =></span> &#123;
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> resolve(a + b), <span class="hljs-number">1000</span>)
&#125;);

<span class="hljs-comment">// 请实现本地的add方法，调用addRemote，能最优的实现输入数字的加法。</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...inputs</span>) </span>&#123;
  <span class="hljs-comment">// 你的实现</span>
&#125;

<span class="hljs-comment">// 请用示例验证运行结果:</span>
add(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
  .then(<span class="hljs-function"><span class="hljs-params">result</span> =></span> &#123;
    <span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// 3</span>
&#125;);


add(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">2</span>)
  .then(<span class="hljs-function"><span class="hljs-params">result</span> =></span> &#123;
    <span class="hljs-built_in">console</span>.log(result); <span class="hljs-comment">// 10</span>
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>答案一</strong>
最基本的答案，如果写不出来，那大概率是通过不了了</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (args.length <= <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> res;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> args) &#123;
    res = <span class="hljs-keyword">await</span> addRemote(res, item);
  &#125;
  <span class="hljs-keyword">return</span> res;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>递归版本</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">if</span> (args.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;
  <span class="hljs-keyword">if</span> (args.length === <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> args[<span class="hljs-number">0</span>];
  
  <span class="hljs-keyword">const</span> a = args.pop();
  <span class="hljs-keyword">const</span> b = args.pop();
  args.push(<span class="hljs-keyword">await</span> addRemote(a, b));
  <span class="hljs-keyword">return</span> add(...args);
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>常见的问题：</p>
<ul>
<li>没有判断入参个数</li>
<li>仍然用了本地加法</li>
</ul>
<p><strong>答案二</strong>
有候选人的答案如下：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// Promise链式调用版本</span>
<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">return</span> args.reduce(<span class="hljs-function">(<span class="hljs-params">promiseChain, item</span>) =></span> &#123;
    <span class="hljs-keyword">return</span> promiseChain.then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
      <span class="hljs-keyword">return</span> addRemote(res, item);
    &#125;);
  &#125;, <span class="hljs-built_in">Promise</span>.resolve(<span class="hljs-number">0</span>));

&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>从这个实现可以看出：</p>
<ul>
<li>对 Array.prototype.reduce 的掌握</li>
<li>对于 Promise 链式调用的理解</li>
<li>考察候选人对 async function 本质的理解</li>
</ul>
<p>这个版本至少能到 70 分</p>
<p><strong>答案三</strong>
之前的答案结果都是对的，但是我们把耗时打出来，可以看到耗时和参数个数成线性关系，因为所有计算都是串行的，显然不是最优的解</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce3b0152fe1542d09af037672c741e8c~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>更好一点的答案：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params">...args</span>) </span>&#123;
  <span class="hljs-keyword">if</span> (args.length <= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(args[<span class="hljs-number">0</span>])
  <span class="hljs-keyword">const</span> promiseList = []
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i * <span class="hljs-number">2</span> < args.length - <span class="hljs-number">1</span>; i++) &#123;
    <span class="hljs-keyword">const</span> promise = addRemote(args[i * <span class="hljs-number">2</span>], args[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>])
    promiseList.push(promise)
  &#125;

  <span class="hljs-keyword">if</span> (args.length % <span class="hljs-number">2</span>) &#123;
    <span class="hljs-keyword">const</span> promise = <span class="hljs-built_in">Promise</span>.resolve(args[args.length - <span class="hljs-number">1</span>])
    promiseList.push(promise)
  &#125;

  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.all(promiseList).then(<span class="hljs-function"><span class="hljs-params">results</span> =></span> add(...results));
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c97bd59b264457a9014315d9e86ce20~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>可以看到很明显的优化。</p>
<p><strong>答案四</strong>
还能再优化吗？
有些同学会想到加本地缓存</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">const</span> cache = &#123;&#125;;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addFn</span>(<span class="hljs-params">a, b</span>) </span>&#123;
  <span class="hljs-keyword">const</span> key1 = <span class="hljs-string">`<span class="hljs-subst">$&#123;a&#125;</span><span class="hljs-subst">$&#123;b&#125;</span>`</span>;
  <span class="hljs-keyword">const</span> key2 = <span class="hljs-string">`<span class="hljs-subst">$&#123;b&#125;</span><span class="hljs-subst">$&#123;a&#125;</span>`</span>;
  <span class="hljs-keyword">const</span> cacheVal = cache[key1] || cache[key2];
  
  <span class="hljs-keyword">if</span> (cacheVal) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(cacheVal);
  
  <span class="hljs-keyword">return</span> addRemote(a, b, <span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
    cache[key1] = res;
    cache[key2] = res;
    <span class="hljs-keyword">return</span> res;
  &#125;);
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>加了缓存以后，我们再第二次执行相同参数加法时，可以不用请求远端，直接变成毫秒级返回</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca28795a21964b7d949d64f76fa8f4a8~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>还能再优化吗？交给大家去思考</p>
<h4 data-id="heading-8">其他考察点</h4>
<p>有些时候会让候选人将代码提交到 Github 仓库，以工作中一个实际的模块标准来开发，可以考察：</p>
<ul>
<li>git 操作，commit 规范</li>
<li>工程化素养</li>
<li>是否有单元测试</li>
<li>覆盖率是否达标</li>
<li>依赖的模块版本如何设置</li>
<li>如何配置 ci/cd</li>
<li>文档、注释</li>
<li>...</li>
</ul>
<h4 data-id="heading-9">更加开放的一种笔试形式</h4>
<ul>
<li>给一道题目，让候选人建一个 Github 仓库来完成</li>
<li>题目有一定难度，但是可以 Google，也可以用三方模块，和我们平时做项目差不多</li>
<li>通常面向级别较高的候选人</li>
</ul>
<p><strong>实际题目</strong></p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">// 有一个 10G 文件，每一行是一个时间戳，</span>
<span class="hljs-comment">// 现在要在一台 2C4G 的机器上对它进行排序，输出排序以后的文件</span>

<span class="hljs-comment">// 案例输入</span>
<span class="hljs-comment">// 1570593273487</span>
<span class="hljs-comment">// 1570593273486</span>
<span class="hljs-comment">// 1570593273488</span>
<span class="hljs-comment">// …</span>

<span class="hljs-comment">// 输出</span>
<span class="hljs-comment">// 1570593273486</span>
<span class="hljs-comment">// 1570593273487</span>
<span class="hljs-comment">// 1570593273488</span>
<span class="hljs-comment">// …</span>

<span class="copy-code-btn">复制代码</span></code></pre>
<p>先看一个答案，看看哪里有问题</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sort</span>(<span class="hljs-params">inputFile, outputFile</span>) </span>&#123;
  <span class="hljs-keyword">const</span> input = fs.createReadStream(inputFile);
  <span class="hljs-keyword">const</span> rl = readline.createInterface(&#123; input &#125;);
  <span class="hljs-keyword">const</span> arr = [];
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> rl) &#123;
    <span class="hljs-keyword">const</span> item = <span class="hljs-built_in">Number</span>(line);
    arr.push(item);
  &#125;
  arr.sort(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =></span> a - b);

  fs.writeFileSync(outputFile, arr.join(<span class="hljs-string">'\n'</span>));
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>10GB 的文件无法一次性放进内存里处理，内存只有 4GB</strong></p>
<p>再看一个神奇的答案，只有一行代码，而且从结果来说是正确的。但不是我们笔试想要的答案。</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">const</span> cp = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sort</span>(<span class="hljs-params">inputFile, outputFile</span>) </span>&#123;
 cp.exec(<span class="hljs-string">`sort -n <span class="hljs-subst">$&#123;inputFile&#125;</span> > <span class="hljs-subst">$&#123;outputFile&#125;</span>`</span>);
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>解题思路</p>
<ul>
<li>既然没办法一次性在内存中排序，那我们能否将 10GB 的文件拆分成若干个小文件</li>
<li>小文件先分别排序，然后再合并成一个大的文件</li>
</ul>
<p>再将问题拆解</p>
<ul>
<li>拆分大文件到小文件</li>
<li>小文件在内存里排序</li>
<li>合并所有小文件成一个整体排序过的大文件</li>
</ul>
<p>本题最难的点在于如何合并所有小文件。代码如何实现？</p>
<ul>
<li>这里需要用到一种数据结构：堆</li>
<li>堆：就是用数组实现的一个二叉树</li>
<li>堆分为：最大堆和最小堆，下面是一个最小堆（父节点小于它的子节点）</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/429f2503bc4a4d96a31b7e4812cdaa2b~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>堆有一些特性：</p>
<ul>
<li>对于一个父节点来说
<ul>
<li>左节点位置：父节点位置 * 2 + 1</li>
<li>右节点位置：父节点位置 * 2 + 2</li>
</ul>
</li>
<li>很容易查找最大值 / 最小值</li>
</ul>
<p>我们尝试把下面数组构造成一个最小堆</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2541bdf2633b4f0faae84f30cca57e3e~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>从最后一个非叶子节点开始往前处理</li>
<li>10 比 5 大，所以交换它们的位置</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/381542da763f40e2bcea3e9ce59083b3~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>然后是节点 2，符合要求不需要处理</li>
<li>最后到顶点 3，它比左子节点大，所以要交换</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b28de835de05419eb17f0016ad98a371~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>完整的实现参考：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fgxcsoccer%2Fexternal-sorting" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/gxcsoccer/external-sorting" ref="nofollow noopener noreferrer">github.com/gxcsoccer/e…</a>
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0aa08479f30a484eb7a88af8682b3e35~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-10">介绍盒马体验技术部目前做的一些事情</h2>
<ol>
<li>盒作社：多媒体创意生产平台</li>
<li>REX Design：盒马设计体系</li>
<li>跨端（PC/Phone/Pad/POS...）</li>
<li>高性能：相比于 Antd 提供支持虚拟滚动的表格、Tree、Select 等组件</li>
<li>零售业特色组件：地图排线、排班、交叉表、透视表、特色可视化</li>
<li>工业控制（AIOT 相关）：数字化养虾</li>
<li>数盒：零售业特点的数据分析和可视化</li>
<li>...</li>
</ol>
<h2 data-id="heading-11">面试流程</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d44028337bb4db1b511d0fbc57e3020~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-12">推荐的书—《数据分析思维》</h2>
<blockquote>
<p><strong>「数据分析不是某个固定的职位，而是人工智能时代的通用能力」</strong></p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b7f316fee3ee49f18293aa95711e6b96~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<hr>
<p>第三十届|前端早早聊大会 BFF 专场 - 玩转前后端接口（GraphQL、统一网关、API 接入、API 管理、协议转换、统一安全切面、高并发处理、可视化编排、统一稳定性建设...）8-14 全天直播，9 位讲师，<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.huodongxing.com%2Fgo%2Ftl30" target="_blank" rel="nofollow noopener noreferrer" title="https://www.huodongxing.com/go/tl30" ref="nofollow noopener noreferrer">报名上车看直播👉 )：</a></p></div>  
</div>
            