
---
title: '「前端刷题」27. 移除元素'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da8330ecf70849f9afad28bbd70f9147~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Sat, 28 Aug 2021 02:48:10 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da8330ecf70849f9afad28bbd70f9147~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body html cache"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p><strong>这是我参与8月更文挑战的第27天，活动详情查看：<a href="https://juejin.cn/post/6987962113788493831" title="https://juejin.cn/post/6987962113788493831" target="_blank">8月更文挑战</a></strong></p>
<h2 data-id="heading-0">题目</h2>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Fremove-element%2F" target="_blank" rel="nofollow noopener noreferrer" title="https://leetcode-cn.com/problems/remove-element/" ref="nofollow noopener noreferrer">leetcode-cn.com/problems/re…</a></p>
<p>给你一个数组 <code>nums</code>和一个值 <code>val</code>，你需要 <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E5%258E%259F%25E5%259C%25B0%25E7%25AE%2597%25E6%25B3%2595" target="_blank" rel="nofollow noopener noreferrer" title="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" ref="nofollow noopener noreferrer">原地</a></strong> 移除所有数值等于 <code>val</code>的元素，并返回移除后数组的新长度。</p>
<p>不要使用额外的数组空间，你必须仅使用 <code>O(1)</code> 额外空间并 <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E5%258E%259F%25E5%259C%25B0%25E7%25AE%2597%25E6%25B3%2595" target="_blank" rel="nofollow noopener noreferrer" title="https://baike.baidu.com/item/%E5%8E%9F%E5%9C%B0%E7%AE%97%E6%B3%95" ref="nofollow noopener noreferrer">原地</a> 修改输入数组</strong>。</p>
<p>元素的顺序可以改变。你不需要考虑数组中超出新长度后面的元素。</p>
<p> </p>
<p><strong>说明:</strong></p>
<p>为什么返回数值是整数，但输出的答案是数组呢?</p>
<p>请注意，输入数组是以**「引用」**方式传递的，这意味着在函数里修改输入数组对于调用者是可见的。</p>
<p>你可以想象内部操作如下:</p>
<p>// <strong>nums</strong> 是以“引用”方式传递的。也就是说，不对实参作任何拷贝</p>
<p>int len = removeElement(nums, val);</p>
<p>// 在函数里修改输入数组对于调用者是可见的。</p>
<p>// 根据你的函数返回的长度, 它会打印出数组中 <strong>该长度范围内</strong> 的所有元素。</p>
<p>for (int i = 0; i < len; i++) &#123;</p>
<p>    print(nums[i]);</p>
<p>&#125;</p>
<p> </p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong> nums = [3,2,2,3], val = 3</p>
<p><strong>输出：</strong> 2, nums = [2,2]</p>
<p><strong>解释：</strong> 函数应该返回新的长度 <strong>2</strong>, 并且 nums  中的前两个元素均为 <strong>2</strong>。你不需要考虑数组中超出新长度后面的元素。例如，函数返回的新长度为 2 ，而 nums = [2,2,3,3] 或 nums = [2,2,0,0]，也会被视作正确答案。</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong> nums = [0,1,2,2,3,0,4,2], val = 2</p>
<p><strong>输出：</strong> 5, nums = [0,1,4,0,3]</p>
<p><strong>解释：</strong> 函数应该返回新的长度 <strong><code>5</code></strong>, 并且 nums 中的前五个元素为 <strong><code>0</code></strong>, <strong><code>1</code></strong>, <strong><code>3</code></strong>, <strong><code>0</code></strong>, <strong>4</strong>。注意这五个元素可为任意顺序。你不需要考虑数组中超出新长度后面的元素。</p>
<p> </p>
<p><strong>提示：</strong></p>
<ul>
<li><code>0 <= nums.length <= 100</code></li>
<li><code>0 <= nums[i] <= 50</code></li>
<li><code>0 <= val <= 100</code></li>
</ul>
<h2 data-id="heading-1">解题思路</h2>
<h3 data-id="heading-2">思路1</h3>
<ul>
<li>标签：拷贝覆盖</li>
<li>主要思路是遍历数组 nums，每次取出的数字变量为 num，同时设置一个下标 ans</li>
<li>在遍历过程中如果出现数字与需要移除的值不相同时，则进行拷贝覆盖 <code>nums[ans] = num</code>，ans 自增 1</li>
<li>如果相同的时候，则跳过该数字不进行拷贝覆盖，最后 ans 即为新的数组长度</li>
<li><strong>这种思路在移除元素较多时更适合使用，最极端的情况是全部元素都需要移除，遍历一遍结束即可</strong></li>
<li>时间复杂度：O(n)O(n)O(n)，空间复杂度：O(1)O(1)O(1)</li>
</ul>
<h3 data-id="heading-3">代码</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number[]&#125;</span> <span class="hljs-variable">nums</span></span>
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number&#125;</span> <span class="hljs-variable">val</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;number&#125;</span></span>
 */</span>
<span class="hljs-keyword">var</span> removeElement = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">nums, val</span>) </span>&#123;
    <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> nums) &#123;
        <span class="hljs-keyword">if</span>(num != val) &#123;
            nums[ans] = num;
            ans++;
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> ans;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-4">思路2</h3>
<ul>
<li>标签：交换移除</li>
<li>主要思路是遍历数组 nums，遍历指针为 i，总长度为 ans</li>
<li>在遍历过程中如果出现数字与需要移除的值不相同时，则i自增1，继续下一次遍历</li>
<li>如果相同的时候，则将 <code>nums[i]与nums[ans-1]</code> 交换，即当前数字和数组最后一个数字进行交换，交换后就少了一个元素，故而 ans 自减 1</li>
<li><strong>这种思路在移除元素较少时更适合使用，最极端的情况是没有元素需要移除，遍历一遍结束即可</strong></li>
<li>时间复杂度：O(n)O(n)O(n)，空间复杂度：O(1)O(1)O(1)</li>
</ul>
<h3 data-id="heading-5">代码</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number[]&#125;</span> <span class="hljs-variable">nums</span></span>
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number&#125;</span> <span class="hljs-variable">val</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;number&#125;</span></span>
 */</span>
<span class="hljs-keyword">var</span> removeElement = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">nums, val</span>) </span>&#123;
    <span class="hljs-keyword">let</span> ans = nums.length;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < ans;) &#123;
        <span class="hljs-keyword">if</span> (nums[i] == val) &#123;
            nums[i] = nums[ans - <span class="hljs-number">1</span>];
            ans--;
        &#125; <span class="hljs-keyword">else</span> &#123;
            i++;
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> ans;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-6">画解</h3>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/da8330ecf70849f9afad28bbd70f9147~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3d1564749618446f824bfdede1327cd5~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/81f589ddd5be4a9a8ad03ef05b7e60f7~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/31669d9890a8450dacd607487275e60d~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/032a61088dc14c94b2e345d30caeb8d5~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5f18c72d63614f22b393617b518ee04b~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a876619166f64d11a84dea356a3e3c83~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e411112115b4d81a29abb32c440ecfe~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ff0734a57d04b618ab6c7a1ae44a44a~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-7">最后</h2>
<p>曾梦想仗剑走天涯</p>
<p>看一看世界的繁华</p>
<p>年少的心总有些轻狂</p>
<p>终究不过是个普通人</p>
<p>无怨无悔我走我路</p>
<p>「前端刷题」No.27</p></div>  
</div>
            