
---
title: '为了方便，我改了别人的轮子😅'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b4f36c436c4a3ba386446d5f20cf85~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Tue, 06 Jul 2021 01:55:02 GMT
thumbnail: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b4f36c436c4a3ba386446d5f20cf85~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">前言🖖</h2>
<ul>
<li>本文主要解决了如何在<code>node_modules</code>中第三方模块的修改使用</li>
<li>如果可以的话发布一个新的轮子来使用</li>
<li>在解决的过程中也遇到了许多的问题以此来记录一下</li>
</ul>
<h2 data-id="heading-1">需求安排🏝️</h2>
<ul>
<li>风和日丽的一天，需求找到我让我给客户的系统做一个类似<code>yapi</code>的接口管理</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78b4f36c436c4a3ba386446d5f20cf85~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7210a9a61a95422fbcf569441a7ea049~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>大致看了下对于预览和编辑就是两个切换tab配合一些表单和表格</li>
<li>其中可能难搞的应该是这个json和jsonschema的转化了</li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1126e8c54e4c47ea96aefc0698fb29f4~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer">
目前有两个方案</p>
<pre><code class="copyable">1. 自己手写一个（时间久）
2. 参考社区大佬的轮子来做修改使用（可能不完全符合）
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>对于这种有复杂数据结构和互相影响的交互场景非常之多的情况</li>
<li>还要统一组件之间的样式和适配，对于摸鱼选手的我短时间大概率是做不出来的</li>
<li>巧了！在网上找到一位大佬写的<a href="https://github.com/zyqwst/json-schema-editor-vue" target="_blank" rel="nofollow noopener noreferrer">json-schema-editor-vue</a>刚好符合基本的功能，除了样式其他大致功能都是符合的</li>
<li>于是乎也没想这么多直接开干😏</li>
</ul>
<h3 data-id="heading-2">成品效果</h3>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2fb8862f5d7b4acc942d7166c87f0aa8~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer">
<img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9fe7b2ac6b1a465082285eac65bb9ed3~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-3">奇怪的需求增加了🤧</h2>
<ul>
<li>第二天早上起床就感觉右眼不舒服一直在间断的跳动</li>
<li>果不其然之前的担心还是来了，需求找到我说你这个不行呀改了标题没有效果呀</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b3f7224f12d4a198d0c078d01518bdc~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>把编辑的接口参数进行打印发现这个标题传的参数是<code>title</code> 而后端要接受的是<code>description</code></li>
<li>这时我就知道麻烦来了如果这里要显示备注然后代表的参数是<code>description</code>的话那我需要改源码</li>
<li>可是这是别的大佬写的轮子我有什么办法更改呢？</li>
<li>现在就是需要将标题两个字改成备注，把<code>title</code>改成<code>description</code></li>
</ul>
<p>目前有两个方案</p>
<pre><code class="copyable">1. 直接修改`node_modules`包里的`js`文件把其中需要改的给改了(包里全是压缩文件不好改)
2. 找到这个轮子的源码修改并发布一个新轮子(没有尝试过造轮子)
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>当我找到<code>node_modules</code>的对应包文件，我直接否决了第一种方案，里面全是压缩后的js根本不好改，即使这个简单的需求改好了以后万一还有其他复杂需求就没办法解决了，更何况如果改了这里的文件，每次下载依赖的时候都要手动改一遍，太不实际了，更别说之后要做自动化部署了。</li>
</ul>
<h2 data-id="heading-4">尝试改轮子🏖️</h2>
<ul>
<li>我寻思着我之前也没造过轮子也没发布过<code>npm</code>包不如趁这个机会学习一下</li>
<li>上网查阅资料后发现，其实上传一个轮子也不难，难的是做一个好的轮子出来</li>
<li>打开之前<a href="https://github.com/zyqwst/json-schema-editor-vue" target="_blank" rel="nofollow noopener noreferrer">json-schema-editor-vue</a>的<code>github</code>地址把源码<code>clone</code>下来研究</li>
<li>打开源码之后就是熟悉cli的感觉，很快啊找到对应的文件进行组件修改🤙</li>
<li>修改后对应着<a href="https://www.cnblogs.com/jasonwang2y60/p/11382349.html" target="_blank" rel="nofollow noopener noreferrer">齐齐</a>的<code>npm</code>配置尝试发布一个<code>npm</code>包</li>
</ul>
<h2 data-id="heading-5">发布成功✈️</h2>
<ul>
<li>把配置都修改完成</li>
</ul>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a8a43916ab0b4bf59f952c338fd1fbf3~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>运行<code>npm run lib</code>成功打包生成压缩版的文件</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c70d04f3c8e4e9780f96afae99183d4~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>注册一个<code>npm</code>账号并登陆</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52da5231971c4adca83706f486745f8f~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>成功发布<code>npm</code></li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4acf0573598447538396b072fd9b7dda~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>在官网的账号里也查的到上传的轮子</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5cf8e3a65c934a49bbe615dc93fde76f~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>这样一来所有的准备都结束了，接下来只需要在自己的项目中下载自己的轮子进行使用就好了~~</li>
</ul>
<h3 data-id="heading-6">成品效果</h3>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2d027f63d23343068db7de89d432e3ea~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-7">写在最后👋</h2>
<ul>
<li>为了想让自己巩固一下于是写下了这篇文章，但是好像写着写着又变成流水账了哈哈哈😅</li>
<li>但是没有关系至少我是有收获的，之前没有接触过造轮子一直都感觉造轮子的人都很厉害</li>
<li>这次真正看了大佬的轮子源码后发现有很多优秀的习惯和封装都值得自己去学习</li>
<li>发布轮子不难但是真正用心做一个轮子的老哥们都很厉害这也是我要去学习的，希望有一天我也可以做出很合理的封装很合理的组件化💦</li>
<li>如果您觉得这篇文章有帮助到您的的话不妨点赞支持一下哟~~😛</li>
</ul></div>  
</div>
            