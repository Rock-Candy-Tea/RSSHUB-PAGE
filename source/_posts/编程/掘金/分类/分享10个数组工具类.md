
---
title: '分享10个数组工具类'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://picsum.photos/400/300?random=7795'
author: 掘金
comments: false
date: Sun, 20 Jun 2021 04:08:39 GMT
thumbnail: 'https://picsum.photos/400/300?random=7795'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><blockquote>
<p>最近断断续续花了1个月左右，把之前自己整理收集的工具类重新整合了下，在此特选出 其中数组 10 个常用方法来分享，<a href="https://github.com/shufei021/rutils" target="_blank" rel="nofollow noopener noreferrer">项目地址</a>，<a href="https://shufei021.github.io/rutils/library/array.html" target="_blank" rel="nofollow noopener noreferrer">项目文档</a></p>
</blockquote>
<h2 data-id="heading-0">1.数组并集</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> union = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, k</span>) </span>&#123;
    <span class="hljs-keyword">return</span> a.concat(b.filter(<span class="hljs-function"><span class="hljs-params">i</span> =></span> (k ? !a.map(<span class="hljs-function"><span class="hljs-params">i</span> =></span> i[k]).includes(i[k]) : !a.includes(i))))
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-keyword">let</span> b = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
union(a, b) <span class="hljs-comment">//[1,2,3,4,5,6]</span>

<span class="hljs-comment">// 场景2：</span>
<span class="hljs-keyword">let</span> a1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'张三'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小二'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">23</span> &#125;
]
<span class="hljs-keyword">let</span> b1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小明'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小红'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;
]

<span class="hljs-comment">// 通过 id 获取并集</span>
union(a1, b1, <span class="hljs-string">'id'</span>)
<span class="hljs-comment">/*
[
  &#123;id: 1, name: "张三", age: 20&#125;
  &#123;id: 2, name: "李四", age: 21&#125;
  &#123;id: 3, name: "小二", age: 23&#125;
  &#123;id: 4, name: "小明", age: 24&#125;
  &#123;id: 5, name: "小红", age: 25&#125;
]
*/</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-1">2.数组交集</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> intersection = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, k</span>) </span>&#123;
    <span class="hljs-keyword">return</span> a.filter(<span class="hljs-function"><span class="hljs-params">t</span> =></span> (k ? b.map(<span class="hljs-function"><span class="hljs-params">i</span> =></span> i[k]).includes(t[k]) : b.includes(t)))
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-keyword">let</span> b = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
intersection(a, b) <span class="hljs-comment">// [1,2,4,5]</span>

<span class="hljs-comment">// 场景2：</span>
<span class="hljs-keyword">let</span> a1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'张三'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小二'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">23</span> &#125;
]
<span class="hljs-keyword">let</span> b1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小明'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小红'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;
]
intersection(a1, b1, <span class="hljs-string">'id'</span>) <span class="hljs-comment">//[ &#123; id: 2, name: '李四', age: 21 &#125;]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-2">3.数组差集</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> except = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, b, k</span>) </span>&#123;
    <span class="hljs-keyword">return</span> [...a, ...b].filter(<span class="hljs-function"><span class="hljs-params">i</span> =></span> ![a, b].every(<span class="hljs-function"><span class="hljs-params">t</span> =></span> (k ? t.map(<span class="hljs-function"><span class="hljs-params">i</span> =></span> i[k]).includes(i[k]) : t.includes(i))))
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-keyword">let</span> b = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]

except(a, b) <span class="hljs-comment">// [3,6]</span>

<span class="hljs-keyword">let</span> a1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'张三'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小二'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">23</span> &#125;
]
<span class="hljs-keyword">let</span> b1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小明'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">24</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小红'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">25</span> &#125;
]


except(a1, b1, <span class="hljs-string">'id'</span>)
<span class="hljs-comment">/*
[
  &#123;id: 1, name: "张三", age: 20&#125;
  &#123;id: 3, name: "小二", age: 23&#125;
  &#123;id: 4, name: "小明", age: 24&#125;
  &#123;id: 5, name: "小红", age: 25&#125;
]
*/</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-3">4.数组分组</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span>: 一维数组转二维数组 (分组)
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Array&#125;</span> </span>arr:数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>num: 平分基数（num 个为一组进行分组（归档））
 */</span>
<span class="hljs-keyword">const</span> group = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arr, num</span>) </span>&#123;
    <span class="hljs-keyword">return</span> [...Array(<span class="hljs-built_in">Math</span>.ceil(arr.length / num)).keys()].reduce(<span class="hljs-function">(<span class="hljs-params">p, _, i</span>) =></span> (p.push(arr.slice(i * num, (i + <span class="hljs-number">1</span>) * num)), p), [])
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js">  group([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>],<span class="hljs-number">2</span>) <span class="hljs-comment">// [[1,2],[3,4],[5,6],[7,8],[9.10]]</span>
 
  group([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>],<span class="hljs-number">3</span>) <span class="hljs-comment">// [[1,2,3],[4,5,6],[7,8,9],[10]]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-4">5.数组平均数</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * 数组平均数
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Array&#125;</span> </span>a:数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Function | String&#125;</span> </span>f:函数 或 key
 */</span>
<span class="hljs-keyword">const</span> mean = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, f</span>) </span>&#123;
    <span class="hljs-keyword">return</span> (f ? a.map(<span class="hljs-keyword">typeof</span> f === <span class="hljs-string">'function'</span> ? f : <span class="hljs-function"><span class="hljs-params">v</span> =></span> v[f]) : a).reduce(<span class="hljs-function">(<span class="hljs-params">acc, val</span>) =></span> acc + val * <span class="hljs-number">1</span>, <span class="hljs-number">0</span>) / a.length
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js">  mean([&#123; <span class="hljs-attr">n</span>: <span class="hljs-number">4</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">2</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">8</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">6</span> &#125;], <span class="hljs-function"><span class="hljs-params">o</span> =></span> o.n) <span class="hljs-comment">// 5</span>
  mean([&#123; <span class="hljs-attr">n</span>: <span class="hljs-number">4</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">2</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">8</span> &#125;, &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">6</span> &#125;], <span class="hljs-string">'n'</span>) <span class="hljs-comment">// 5</span>
  mean([<span class="hljs-number">4</span>, <span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">6</span>]) <span class="hljs-comment">// 5</span>
  mean([<span class="hljs-string">'4'</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'8'</span>, <span class="hljs-number">6</span>]) <span class="hljs-comment">// 5</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-5">6.数组生成</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span>: 生成 起止数字间（包含起止数字）的升序数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>min : 最小值
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>max ：最大值
 */</span>
<span class="hljs-keyword">const</span> range = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">min, max</span>) </span>&#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.from(&#123; <span class="hljs-attr">length</span>: max - min + <span class="hljs-number">1</span> &#125;, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =></span> i + min)
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"> range(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>) <span class="hljs-comment">// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
 range(<span class="hljs-number">1</span>,<span class="hljs-number">9</span>)  <span class="hljs-comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
 
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-6">7.数组求和</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> sum = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">a, k</span>) </span>&#123;
    <span class="hljs-keyword">return</span> a.reduce(<span class="hljs-function">(<span class="hljs-params">p, c</span>) =></span> p + (k ? c[k] || <span class="hljs-number">0</span> : c), <span class="hljs-number">0</span>)
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
sum(a) <span class="hljs-comment">// 15</span>

<span class="hljs-keyword">let</span> a1 = [
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'张三'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'李四'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">21</span> &#125;,
    &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'小二'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">23</span> &#125;
]
sum(a1, <span class="hljs-string">'age'</span>) <span class="hljs-comment">// 64 </span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-7">8.数组扁平化</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * 指定深度扁平化数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Array&#125;</span> </span>arr :扁平化的数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>depth：扁平化的层级
 */</span>
<span class="hljs-keyword">const</span> flatten = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arr, depth = <span class="hljs-number">1</span></span>) </span>&#123;
    <span class="hljs-keyword">return</span> arr.reduce(<span class="hljs-function">(<span class="hljs-params">a, v</span>) =></span> a.concat(depth > <span class="hljs-number">1</span> && <span class="hljs-built_in">Array</span>.isArray(v) ? flatten(v, depth - <span class="hljs-number">1</span>) : v), [])
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"> flatten([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, [<span class="hljs-number">4</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, [<span class="hljs-number">7</span>]]]]) <span class="hljs-comment">//[1, 2, 3, 4, [5,6,[7]]]</span>
 
 flatten([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, [<span class="hljs-number">4</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>, [<span class="hljs-number">7</span>]]]], <span class="hljs-number">2</span>) <span class="hljs-comment">//[1, 2, 3, 4, 5,6,[7]]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-8">9. 数组值位置交换</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span>: 交换数组中任一两个值的位置
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Array&#125;</span> </span>arr:数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>oldIndex：老位置索引
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Number&#125;</span> </span>newIndex：新位置索引
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Boolean&#125;</span> </span>isChangeOldArr: 是否改变原数组
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;Array&#125;</span> </span>返回一个数组
 */</span>
<span class="hljs-keyword">const</span> exchangePostion = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arr, oldIndex, newIndex, isChangeOldArr = <span class="hljs-literal">false</span></span>) </span>&#123;
    <span class="hljs-keyword">let</span> a = isChangeOldArr ? arr : <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(arr))
    a.splice(oldIndex, <span class="hljs-number">1</span>, a.splice(newIndex, <span class="hljs-number">1</span>, a[oldIndex])[<span class="hljs-number">0</span>])
    <span class="hljs-keyword">return</span> a
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"> <span class="hljs-keyword">let</span> a1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
 
 exchangePostion(a1, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>)<span class="hljs-comment">// [1, 5, 3, 4, 2, 6]</span>
 
 a1 <span class="hljs-comment">//[1, 2, 3, 4, 5, 6]</span>
 
 <span class="hljs-keyword">let</span> a1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
 
 exchangePostion(a1, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>，<span class="hljs-literal">true</span>)<span class="hljs-comment">// [1, 5, 3, 4, 2, 6]</span>
 
  a1 <span class="hljs-comment">// [1, 5, 3, 4, 2, 6]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-9">10.数组归档</h2>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@description</span>: 对一维 json 数组进行归档（根据 key）
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;Array&#125;</span> </span>arr:一维数组
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;String&#125;</span> </span>key：key 字符串
 */</span>
<span class="hljs-keyword">const</span> archive = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arr, key</span>) </span>&#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.from(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>(arr.map(<span class="hljs-function"><span class="hljs-params">i</span> =></span> i[key]))).reduce(<span class="hljs-function">(<span class="hljs-params">p, c</span>) =></span> (p.push(arr.filter(<span class="hljs-function"><span class="hljs-params">i</span> =></span> i[key] === c)), p), [])
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> books = [ &#123;<span class="hljs-attr">date</span>:<span class="hljs-string">'1月'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'地理书'</span>&#125;, &#123;<span class="hljs-attr">date</span>:<span class="hljs-string">'1月'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'历史书'</span>&#125;, &#123;<span class="hljs-attr">date</span>:<span class="hljs-string">'2月'</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">'化学书'</span>&#125; ]

archive( books, <span class="hljs-string">'date'</span>) 
<span class="hljs-comment">// [[&#123;date:'1月',name:'地理书'&#125;,&#123;date:'1月',name:'历史书'&#125;],[ &#123;date:'2月',name:'化学书'&#125;]]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-10">结语</h2>
<p>如有错误的地方，欢迎指出，共同进步</p></div>  
</div>
            