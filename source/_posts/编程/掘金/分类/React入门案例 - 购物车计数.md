
---
title: 'Reactå…¥é—¨æ¡ˆä¾‹ - è´­ç‰©è½¦è®¡æ•°'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89014b57d0d44b048469256c15b293a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?'
author: æ˜é‡‘
comments: false
date: Thu, 08 Sep 2022 16:58:05 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89014b57d0d44b048469256c15b293a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?'
---

<div>   
<div class="markdown-body cache"><style>@charset "UTF-8";.markdown-body&#123;font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e&#125;.markdown-body ::selection&#123;background-color:#00325e;color:#fff&#125;.markdown-body blockquote&#123;padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px&#125;.markdown-body blockquote p&#123;font-size:14px;line-height:25px;color:#795548&#125;.markdown-body blockquote p:last-child&#123;margin:0&#125;.markdown-body blockquote:hover&#123;border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)&#125;.markdown-body blockquote code&#123;color:#ff502c&#125;.markdown-body pre&#123;border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap&#125;.markdown-body pre:hover&#123;border-color:#6d9dce&#125;.markdown-body pre>code&#123;padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block&#125;.markdown-body code&#123;background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px&#125;.markdown-body p&#123;font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959&#125;.markdown-body a&#123;color:#00325e;text-decoration:none&#125;.markdown-body a:after&#123;content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px&#125;.markdown-body a:hover&#123;box-shadow:0 1px&#125;.markdown-body table&#123;max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s&#125;.markdown-body table:hover&#123;box-shadow:0 3px 10px 0 rgba(185,169,103,.24)&#125;.markdown-body table tr th&#123;border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px&#125;.markdown-body table tr td&#123;border:1px solid rgba(243,202,142,.4);padding:12px 15px&#125;.markdown-body table tbody tr&#123;transition:all .2s&#125;.markdown-body table tbody tr:hover td&#123;border-color:#f3ca8e;background-color:#fff8e0;z-index:1&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body h1&#123;font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative&#125;.markdown-body h1>code&#123;font-size:20px&#125;.markdown-body h1:before&#123;content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute&#125;.markdown-body h2&#123;font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative&#125;.markdown-body h2>code&#123;font-size:18px&#125;.markdown-body h2:before&#123;content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute&#125;.markdown-body h3&#123;font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative&#125;.markdown-body h3>code&#123;font-size:16px&#125;.markdown-body h3:before&#123;content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute&#125;.markdown-body h4&#123;font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative&#125;.markdown-body h4>code&#123;font-size:14px&#125;.markdown-body h4:before&#123;content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute&#125;.markdown-body h5&#123;font-size:12px;margin-top:30px;margin-bottom:10px&#125;.markdown-body h5>code&#123;font-size:12px&#125;.markdown-body h6&#123;font-size:10px;margin-top:30px;margin-bottom:10px&#125;.markdown-body h6>code&#123;font-size:10px&#125;.markdown-body h1,.markdown-body h2&#123;color:#ff502c&#125;.markdown-body hr&#123;height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)&#125;.markdown-body hr:nth-child(2n)&#123;background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)&#125;.markdown-body ul&#123;padding-inline-start:20px&#125;.markdown-body ul li&#123;list-style-type:"ğŸ”¸"&#125;.markdown-body ul li li&#123;list-style-type:"â—»ï¸"&#125;.markdown-body ul li li li&#123;list-style-type:"â–«ï¸"&#125;.markdown-body ol&#123;padding-inline-start:20px&#125;.markdown-body ol ::marker&#123;color:#ff9800&#125;.markdown-body ol,.markdown-body ul&#123;line-height:2em&#125;.markdown-body li&#123;padding-inline-start:1ch&#125;.markdown-body li.task-list-item&#123;list-style:none;padding-inline-start:0&#125;.markdown-body li input&#123;padding-right:2px&#125;.markdown-body li input[type=checkbox i]&#123;appearance:none&#125;.markdown-body li input:before&#123;content:"ğŸŸ©";display:block;width:13px;height:13px&#125;.markdown-body li input:checked:before&#123;content:"âœ…"&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>å¼€å§‹å­¦ä¹ reactï¼Œå…ˆä»reactå®˜ç½‘çš„æ¡ˆä¾‹å¼€å§‹ï¼Œï¼Œå­¦ä¹ reactä¸­çš„ç»„ä»¶ï¼Œæ•°æ®ä¼ é€’ï¼Œè¿˜æœ‰JSX</p>
<h1 data-id="heading-0">é¡¹ç›®åœ°å€</h1>
<ul>
<li>å®˜ç½‘æ¡ˆä¾‹åœ°å€ - <a href="https://link.juejin.cn/?target=https%3A%2F%2Freactjs.org%2Fcommunity%2Fexamples.html" target="_blank" rel="nofollow noopener noreferrer" title="https://reactjs.org/community/examples.html" ref="nofollow noopener noreferrer">reactjs.org/community/eâ€¦</a></li>
<li>Counter Appï¼ˆæœ¬æ–‡æ¡ˆä¾‹ï¼‰ - <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Farnab-datta%2Fcounter-app" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/arnab-datta/counter-app" ref="nofollow noopener noreferrer">github.com/arnab-dattaâ€¦</a></li>
</ul>
<h1 data-id="heading-1">é¢„å¤‡çŸ¥è¯†</h1>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2F00226a584eff" target="_blank" rel="nofollow noopener noreferrer" title="https://www.jianshu.com/p/00226a584eff" ref="nofollow noopener noreferrer">reactç»„ä»¶çš„ render æ–¹æ³•</a></p>
<ul>
<li><strong>å¿…é¡»è¦æœ‰render</strong></li>
<li><strong>å¤–å±‚ä»…æœ‰ä¸€ä¸ªdiv</strong></li>
<li><strong>&#123;&#125; å†…å¯ä»¥æ”¾ä»»ä½•JavaScriptä»£ç </strong>ï¼Œå¦‚è¡¨è¾¾å¼ï¼Œå‡½æ•°ç­‰</li>
<li>class ç”¨ <strong>className</strong></li>
<li>labelçš„forå±æ€§ ç”¨ <strong>htmlFor</strong></li>
</ul>
<hr>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FLearn%2FTools_and_testing%2FClient-side_JavaScript_frameworks%2FReact_getting_started" target="_blank" rel="nofollow noopener noreferrer" title="https://developer.mozilla.org/zh-CN/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks/React_getting_started" ref="nofollow noopener noreferrer">MDN - reactå…¥é—¨</a></p>
<ul>
<li><strong>æ‰€æœ‰çš„Reactæ¨¡å—éƒ½è¦å¼•ç”¨React</strong>ï¼ˆimport React from 'react'ï¼‰ï¼Œæ˜¯ä¸ºäº†å°†ä»£ç ä¸­çš„JSXè½¬ä¸ºReact.createElement()</li>
<li>React ç»„ä»¶ä½¿ç”¨<strong>å¸•æ–¯å¡å‘½åæ³•</strong>ï¼Œåˆç§°ä¸º"å¤§é©¼å³°å¼å‘½åæ³•"ï¼Œå¦‚â€œHelloWorldâ€</li>
<li>React çš„ç»„ä»¶è¦ç”¨<strong>exportå¯¼å‡º</strong>ï¼Œè¿™æ ·å…¶ä»–æ–‡ä»¶å¯ä»¥ä½¿ç”¨</li>
<li><strong>prop</strong>Â æ˜¯ä»»ä½•ä¼ å…¥ React ç»„ä»¶çš„æ•°æ®</li>
<li>é€šè¿‡æŠŠå˜é‡æ”¾åœ¨<strong>å¤§æ‹¬å·</strong>ä¸­ï¼Œæ‚¨å¯ä»¥è¯»å– JSX çš„å˜é‡ï¼Œå¦‚<code>&#123;so&#125;</code></li>
</ul>
<hr>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.jianshu.com%2Fp%2F71fc61b35047" target="_blank" rel="nofollow noopener noreferrer" title="https://www.jianshu.com/p/71fc61b35047" ref="nofollow noopener noreferrer">reacté‡Œçš„ index.js æ˜¯æ€ä¹ˆè·Ÿ index.html ç»“åˆèµ·æ¥çš„?</a></p>
<ul>
<li>
<blockquote>
<p>ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸‹è¿è¡Œ<strong>npm run eject</strong>ï¼Œè¢«éšè—çš„é…ç½®æ–‡ä»¶å°±ä¼šæš´éœ²åˆ°é¡¹ç›®æ ¹è·¯å¾„ä¸‹ã€‚æŠŠè¯·æ±‚è½¬å‘åˆ°index.htmlåŸå› æ˜¯ï¼Œä½ <strong>æ‰§è¡Œnpm run start</strong>æ—¶ï¼Œå¯åŠ¨çš„webpack-dev-serverï¼Œ<strong>ä¼šåŠ è½½react-scripté¡¹ç›®configæ–‡ä»¶å¤¹ä¸‹çš„é…ç½®ï¼ˆpaths.jsï¼‰</strong>,<strong>é‡Œé¢å®šä¹‰äº†è¯·æ±‚çš„é»˜è®¤è½¬å‘è·¯å¾„æ˜¯publicæ–‡ä»¶å¤¹</strong>ï¼Œè‡ªç„¶å°±æ‰¾åˆ°äº†publicä¸‹çš„index.htmlã€‚</p>
</blockquote>
</li>
</ul>
<h1 data-id="heading-2">æ¡ˆä¾‹åˆ†æ</h1>
<h2 data-id="heading-3">è§†å›¾ç»“æ„</h2>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89014b57d0d44b048469256c15b293a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-4">æ–‡ä»¶ç»“æ„</h2>
<ul>
<li>src
<ul>
<li>components - ç»„ä»¶
<ul>
<li>counter.jsx</li>
<li>counters.jsx</li>
<li>navbar.jsx</li>
</ul>
</li>
<li>App.js - <strong>ç»„ä»¶é›†åˆ</strong></li>
<li>index.css - å…¨å±€æ ·å¼</li>
<li>index.js - <strong>æ–‡ä»¶å…¥å£</strong></li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">ä»£ç ç»†èŠ‚</h2>
<h3 data-id="heading-6">index.js</h3>
<p><strong>index.jsä¸»è¦ä½œç”¨</strong></p>
<ul>
<li>æŠŠAppç»„ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸­ï¼Œ</li>
<li><strong>ä½¿ç”¨çš„æ˜¯ReactDOM</strong>ï¼ŒæŠŠAppç»„ä»¶çš„å†…å®¹ï¼Œæ”¾åˆ°rooté‡Œï¼</li>
<li>å¼•å…¥<strong>å…¨å±€æ ·å¼</strong>ï¼Œè¿™æ ·ç»„ä»¶å°±èƒ½ä½¿ç”¨äº†</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1d0ea8f1a5364322aeeeb132f1eb9ad9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-7">App.js</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>; <span class="hljs-comment">// å¿…é¡»è¦å¼•å…¥Reactï¼</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NavBar</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/navbar"</span>; <span class="hljs-comment">// å¼•å…¥ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Counters</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./components/counters"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  state = &#123; <span class="hljs-comment">// å®šä¹‰æ•°æ®é›†</span>
    <span class="hljs-attr">counters</span>: [
      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">0</span> &#125;,
      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">0</span> &#125;,
      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">0</span> &#125;,
      &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">value</span>: <span class="hljs-number">0</span> &#125;,
    ],
  &#125;;

  handleIncrement = <span class="hljs-function">(<span class="hljs-params">counter</span>) =></span> &#123; <span class="hljs-comment">// çˆ¶ç»„ä»¶å®šä¹‰æ–¹æ³• - å¢åŠ æ•°é‡ï¼Œç”¨äºå‘å­ç»„ä»¶ä¼ é€’ï¼</span>
    <span class="hljs-keyword">const</span> counters = [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">counters</span>]; <span class="hljs-comment">// æ•°æ®å¤‡ä»½,ä¸èƒ½ç›´æ¥ä¿®æ”¹stateä¸­çš„å†…å®¹ï¼</span>
    <span class="hljs-keyword">const</span> index = counters.<span class="hljs-title function_">indexOf</span>(counter);
    <span class="hljs-comment">// counters[index] = &#123; ...counters[index] &#125;; // è¿™ä¸€æ­¥æ˜¯ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</span>
    counters[index].<span class="hljs-property">value</span>++;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>(&#123; counters &#125;); <span class="hljs-comment">// ä½¿ç”¨setå‡½æ•°ï¼Œè§†å›¾é‡æ–° render æ¸²æŸ“</span>
  &#125;;

  handleDecrement = <span class="hljs-function">(<span class="hljs-params">counter</span>) =></span> &#123;
  &#125;;

  handleReset = <span class="hljs-function">() =></span> &#123;
  &#125;;

  handleDelete = <span class="hljs-function">(<span class="hljs-params">counterId</span>) =></span> &#123;
  &#125;;

  handleRestart = <span class="hljs-function">() =></span> &#123;
  &#125;;

  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// renderå‡½æ•°ï¼</span>
    <span class="hljs-keyword">return</span> ( <span class="hljs-comment">// è¿”å›ä¸€ä¸ªjsxï¼å¤–å±‚ä»…ä¸€ä¸ªdiv</span>
      <span class="xml"><span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"main__wrap"</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">main</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"container"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"card__box"</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">NavBar</span>
              <span class="hljs-attr">totalCounters</span>=<span class="hljs-string">&#123;</span>
                <span class="hljs-attr">this.state.counters.filter</span>((<span class="hljs-attr">c</span>) =></span> c.value > 0).length
              &#125;
            />
            <span class="hljs-tag"><<span class="hljs-name">Counters</span>
              <span class="hljs-attr">counters</span>=<span class="hljs-string">&#123;this.state.counters&#125;</span> // è¿™é‡Œçš„<span class="hljs-attr">this</span>æŒ‡çš„æ˜¯<span class="hljs-attr">App</span>ï¼Œå‘å­ç»„ä»¶ä¼ é€’æ–¹æ³•ï¼
              <span class="hljs-attr">onReset</span>=<span class="hljs-string">&#123;this.handleReset&#125;</span>
              <span class="hljs-attr">onIncrement</span>=<span class="hljs-string">&#123;this.handleIncrement&#125;</span>
              <span class="hljs-attr">onDecrement</span>=<span class="hljs-string">&#123;this.handleDecrement&#125;</span>
              <span class="hljs-attr">onDelete</span>=<span class="hljs-string">&#123;this.handleDelete&#125;</span>
              <span class="hljs-attr">onRestart</span>=<span class="hljs-string">&#123;this.handleRestart&#125;</span>
            /></span>
          <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"></<span class="hljs-name">main</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span></span>
    );
  &#125;
&#125;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>; <span class="hljs-comment">// å¯¼å‡ºAppç»„ä»¶</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-8">counters.jsx</h3>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Freactjs.org%2Fdocs%2Flists-and-keys.html" target="_blank" rel="nofollow noopener noreferrer" title="https://reactjs.org/docs/lists-and-keys.html" ref="nofollow noopener noreferrer">Reactå®˜ç½‘ - Lists and Keys</a></p>
<ul>
<li>å­¦ä¹ æ¸²æŸ“ç»„ä»¶çš„æ—¶å€™è¦åŠ å…¥keyï¼Œvueçš„keyè¦åŠ å†’å·ï¼Œreactä¸ç”¨ã€‚ã€‚</li>
<li>ä½¿ç”¨mapæ¥å¾ªç¯æ¸²æŸ“ç»„ä»¶ï¼</li>
<li>keyå¯ä»¥å¸®åŠ©reactå†³å®šé‚£äº›æ˜¯è¦æ”¹å˜çš„ï¼Œæ·»åŠ çš„ï¼Œåˆ é™¤çš„ï¼Œ</li>
<li><strong>keyåº”è¯¥æ”¾åœ¨mapå‡½æ•°é‡Œé¢</strong>ï¼Œè¿™æ ·ä¿è¯æ¯ä¸ªéƒ½æ˜¯keyéƒ½æ˜¯å”¯ä¸€çš„ã€‚ã€‚ï¼ˆæ¨èä¸è¦ç”¨indexåškeyï¼‰</li>
<li>å…„å¼ŸèŠ‚ç‚¹ç›´æ¥keyè¦å”¯ä¸€ï¼Œè¿™ä¸ªkeyä¸ç”¨å…¨å±€å”¯ä¸€</li>
<li>å¦‚æœmapå‡½æ•°å†…å®¹å¾ˆå¤šå¾ˆå¤šï¼Œå°±è¯¥æŠ½ç¦»æˆç»„ä»¶äº†ï¼</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>; <span class="hljs-comment">// å¿…é¡»è¦å¼•å…¥React</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./counter"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Counters</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-comment">// æ¥æ”¶ä¼ å…¥æ•°æ®ã€‚</span>
    <span class="hljs-keyword">const</span> &#123; onReset, onIncrement, onDelete, onDecrement, counters, onRestart &#125; =
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>;

    <span class="hljs-keyword">return</span> ( <span class="hljs-comment">// è¿”å›JSX</span>
      <span class="xml"><span class="hljs-tag"><<span class="hljs-name">div</span>></span>
        &#123;/* ä¸¤ä¸ªæŒ‰é’® */&#125;
        <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"row"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">""</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"btn btn-success m-2"</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onReset&#125;</span> // ä½¿ç”¨ä¼ å…¥æ–¹æ³•
              <span class="hljs-attr">disabled</span>=<span class="hljs-string">&#123;counters.length</span> === <span class="hljs-string">0</span> ? "<span class="hljs-attr">disabled</span>" <span class="hljs-attr">:</span> ""&#125;
            ></span>
              <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-refresh"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span> // bootstrapçš„icon
            <span class="hljs-tag"></<span class="hljs-name">button</span>></span>

            <span class="hljs-tag"><<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"btn btn-primary m-2"</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;onRestart&#125;</span>
              <span class="hljs-attr">disabled</span>=<span class="hljs-string">&#123;counters.length</span> !== <span class="hljs-string">0</span> ? "<span class="hljs-attr">disabled</span>" <span class="hljs-attr">:</span> ""&#125;
            ></span>
              <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-recycle"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
            <span class="hljs-tag"></<span class="hljs-name">button</span>></span>
          <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"></<span class="hljs-name">div</span>></span>

        &#123;/* mapéå† */&#125;
        &#123;counters.map((counter) => (
          // ç»§ç»­ä¼ é€’
          <span class="hljs-tag"><<span class="hljs-name">Counter</span>
            <span class="hljs-attr">key</span>=<span class="hljs-string">&#123;counter.id&#125;</span> // åœ¨<span class="hljs-attr">map</span>é‡Œï¼Œä¿è¯<span class="hljs-attr">key</span>çš„å”¯ä¸€
            <span class="hljs-attr">counter</span>=<span class="hljs-string">&#123;counter&#125;</span> // ç»§ç»­å‘å­ç»„ä»¶ä¼ é€’
            <span class="hljs-attr">onIncrement</span>=<span class="hljs-string">&#123;onIncrement&#125;</span>
            <span class="hljs-attr">onDecrement</span>=<span class="hljs-string">&#123;onDecrement&#125;</span>
            <span class="hljs-attr">onDelete</span>=<span class="hljs-string">&#123;onDelete&#125;</span>
          /></span>
        ))&#125;
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span></span>
    );
  &#125;
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Counters</span>;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-9">counter.jsx</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// ä¸ºä»€ä¹ˆè¿™é‡Œçš„React ä¸èƒ½å»æ‰ï¼Ÿï¼Ÿï¼Ÿ</span>

<span class="hljs-comment">// ç¬¬ä¸€å¥ä»£ç å¼•å…¥äº† React åº“ï¼Œè¿™æ˜¯ä¸ºäº†å°†ä»£ç ä¸­çš„ JSX è¯­å¥è½¬ä¸ºReact.createElement()ï¼Œ</span>
<span class="hljs-comment">// æ‰€æœ‰çš„ React æ¨¡å—éƒ½åº”è¯¥å¼•å…¥ React æ¨¡å—ï¼Œå¦åˆ™ä¼šæŠ›é”™ã€‚</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, &#123; <span class="hljs-title class_">Component</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag"><<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"row"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">""</span>></span>
            &#123;/* é¢œè‰²å˜æ¢ + æ•°å€¼å˜æ¢ */&#125;
            <span class="hljs-tag"><<span class="hljs-name">span</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">24</span> &#125;&#125; <span class="hljs-attr">className</span>=<span class="hljs-string">&#123;this.getBadgeClasses()&#125;</span>></span>
              &#123;this.formatCount()&#125; // é€šè¿‡æ–¹æ³•çš„è¿”å›å€¼æ¥æ˜¾ç¤ºæ–‡å­—ä¿¡æ¯
            <span class="hljs-tag"></<span class="hljs-name">span</span>></span>
          <span class="hljs-tag"></<span class="hljs-name">div</span>></span>

          <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">""</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"btn btn-secondary"</span>
              // ä½¿ç”¨ä¼ å…¥çš„æ–¹æ³•ï¼ˆå¢åŠ å‡½æ•°ï¼‰ï¼Œè¿™é‡Œä¼ å…¥çš„å‚æ•°ï¼Œç”¨äºåœ¨<span class="hljs-attr">App.js</span>ä¸­åˆ¤æ–­ã€‚ã€‚ã€‚ã€‚
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =></span> this.props.onIncrement(this.props.counter)&#125; 
            >
              <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-plus-circle"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
            <span class="hljs-tag"></<span class="hljs-name">button</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"btn btn-info m-2"</span>
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =></span> this.props.onDecrement(this.props.counter)&#125;
              disabled=&#123;this.props.counter.value === 0 ? "disabled" : ""&#125;
            >
              <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-minus-circle"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
            <span class="hljs-tag"></<span class="hljs-name">button</span>></span>
            <span class="hljs-tag"><<span class="hljs-name">button</span>
              <span class="hljs-attr">className</span>=<span class="hljs-string">"btn btn-danger"</span>
              // è¿™é‡Œçš„åˆ é™¤ï¼Œä½¿ç”¨çš„æ˜¯<span class="hljs-attr">filter</span>è¿‡è™‘ï¼ŒæŠŠè¿™ä¸ªä¼ å…¥çš„<span class="hljs-attr">id</span>ï¼Œç­›æ‰
              <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =></span> this.props.onDelete(this.props.counter.id)&#125;
            >
              <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-trash-o"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
            <span class="hljs-tag"></<span class="hljs-name">button</span>></span>
          <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
        <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span></span>
    );
  &#125;
    
  <span class="hljs-comment">// è¿”å›classå†…å®¹ã€‚ã€‚</span>
  getBadgeClasses = <span class="hljs-function">() =></span> &#123;
    <span class="hljs-keyword">let</span> classes = <span class="hljs-string">"badge m-2 badge-"</span>;
    classes += <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">counter</span>.<span class="hljs-property">value</span> === <span class="hljs-number">0</span> ? <span class="hljs-string">"warning"</span> : <span class="hljs-string">"primary"</span>;
    <span class="hljs-keyword">return</span> classes;
  &#125;;
   
  <span class="hljs-comment">// è¿”å›æ–‡å­—ä¿¡æ¯</span>
  formatCount = <span class="hljs-function">() =></span> &#123;
    <span class="hljs-keyword">const</span> &#123; value &#125; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">counter</span>;
    <span class="hljs-keyword">return</span> value === <span class="hljs-number">0</span> ? <span class="hljs-string">"Zero"</span> : value;
  &#125;;
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Counter</span>;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-10">navbar.jsx</h3>
<p>å‘ç°è¿˜å¯ä»¥ç›´æ¥ç”¨å‡½æ•°æ¥æ”¶å˜é‡ã€‚ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-comment">// Stateless Functional Component</span>

<span class="hljs-comment">// è¿™é‡Œä¸ç”¨propsï¼Œç›´æ¥ä½¿ç”¨App.jsä¼ å…¥çš„å‚æ•°ã€‚ã€‚ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">NavBar</span> = (<span class="hljs-params">&#123; totalCounters &#125;</span>) => &#123;

<span class="hljs-comment">// è¿™é‡Œç›´æ¥è¿”å›JSXå°±å¯ä»¥äº†ã€‚ã€‚ä¸ç”¨renderå‡½æ•°ï¼Œå¦‚æœåŸºç¡€componentï¼Œå¿…é¡»è¦renderå‡½æ•°</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag"><<span class="hljs-name">nav</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"navbar navbar-light"</span>></span>
      <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"navbar-brand"</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-shopping-cart fa-lg m-2"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
        <span class="hljs-tag"><<span class="hljs-name">span</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"badge badge-pill badge-info m-2"</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">width:</span> <span class="hljs-attr">50</span>, <span class="hljs-attr">fontSize:</span> "<span class="hljs-attr">24px</span>" &#125;&#125;
        ></span>
          &#123;totalCounters&#125;
        <span class="hljs-tag"></<span class="hljs-name">span</span>></span>
        Items
      <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
    <span class="hljs-tag"></<span class="hljs-name">nav</span>></span></span>
  );
&#125;;

--------

<span class="hljs-comment">// ç¬¬äºŒç§ã€‚ã€‚</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NavBar</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> &#123;
  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123;
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag"><<span class="hljs-name">nav</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"navbar navbar-light"</span>></span>
        <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"navbar-brand"</span>></span>
          <span class="hljs-tag"><<span class="hljs-name">i</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"fa fa-shopping-cart fa-lg m-2"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> /></span>
          <span class="hljs-tag"><<span class="hljs-name">span</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">"badge badge-pill badge-info m-2"</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">width:</span> <span class="hljs-attr">50</span>, <span class="hljs-attr">fontSize:</span> "<span class="hljs-attr">24px</span>" &#125;&#125;
          ></span>
            &#123;this.props.totalCounters&#125; // ä½¿ç”¨props
          <span class="hljs-tag"></<span class="hljs-name">span</span>></span>
          Items
        <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
      <span class="hljs-tag"></<span class="hljs-name">nav</span>></span></span>
    );
  &#125;
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NavBar</span>;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h1 data-id="heading-11">æ€»ç»“</h1>
<p>å­¦ä¹ Reactçš„ç¬¬ä¸€ä¸ªæ¡ˆä¾‹</p>
<ul>
<li>reactçš„ç»„ä»¶åˆ’åˆ†ä¹Ÿè¦é è§†å›¾æ¥åˆ¤æ–­</li>
<li>App.jsä¸­ï¼Œå®šä¹‰å¥½äº†æ–¹æ³•ï¼Œç›´æ¥å¾€ä¸‹ä¼ é€’å³å¯</li>
<li>å¤šä¸ªæ•°æ®ç”¨mapæ¥æ¸²æŸ“ï¼Œåœ¨mapä¸­ä½¿ç”¨key</li>
<li>æ”¹å˜stateï¼Œè¦ç”¨setState</li>
<li>æ¯ä¸ªreactæ¨¡å—ï¼Œéƒ½è¦å¼•ç”¨reactï¼Œimport reactï¼</li>
<li>&#123;&#125;é‡Œå¯ä»¥æ”¾æ•°æ®ï¼Œæ”¾æ–¹æ³•ï¼Œæ”¾ä»»æ„Jsè¡¨è¾¾å¼</li>
<li>ç»„ä»¶çš„åç¼€æ˜¯ jsx</li>
<li>ç»§æ‰¿componentï¼Œä¸€å®šè¦å®ç°renderæ–¹æ³•ã€‚</li>
<li>Reactç»„ä»¶å‘½åï¼Œä½¿ç”¨å¤§é©¼å³°</li>
<li>ç»„ä»¶è¦ç”¨exportå¯¼å‡º</li>
</ul>
<blockquote>
<p>å¥½çš„å†³å¿ƒå¿…é¡»ä»¥è¡ŒåŠ¨æ¥è´¯å½»,æ²¡æœ‰è¡ŒåŠ¨,å¥½çš„å†³å¿ƒæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p>
</blockquote></div>  
</div>
            