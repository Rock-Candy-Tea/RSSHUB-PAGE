
---
title: '小程序扫普通码打开小程序配置记录'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36f8ce77958543dfa2e281e38b3bcbc4~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Wed, 12 May 2021 22:05:13 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36f8ce77958543dfa2e281e38b3bcbc4~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>随着手机支付的普及，日常生活中我们经常可以看到，扫店里的二维码除了付款之外还可能会打开一个小程序，在传统的应用中，我们都知道扫描二维码应该对应打开h5页面，扫描小程序码才会打开小程序，那现在这种跳转方式是如何实现的呢？其实微信和支付宝小程序都提供了对应的配置功能，可以在对应的管理端进行配置跳转规则，下面就来记录下配置方式及二者的区别。</p>
<h3 data-id="heading-0">一、微信小程序</h3>
<blockquote>
<p>微信小程序配置路径：开发管理 --> 开发设置 --> 扫普通连接二维码打开小程序</p>
</blockquote>
<p>上边路径点击添加，即可打开配置页面，如下图</p>
<div align="center"><img width="400" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36f8ce77958543dfa2e281e38b3bcbc4~tplv-k3u1fbpfcp-watermark.image" loading="lazy" referrerpolicy="no-referrer"></div>
<p>配置各项都比较好理解，不明白的可以看下 <a href="https://developers.weixin.qq.com/miniprogram/introduction/qrcode.html" target="_blank" rel="nofollow noopener noreferrer">微信扫普通二维码打开小程序开发文档</a>，这里主要说几个点：</p>
<ol>
<li>二维码规则：</li>
</ol>
<p>这一项我们可以填写我们要配置的url规则，因为通常我们扫码的二维码不会是同一个路径（毕竟基本都是针对商家的，肯定是不一样的），但是基本路径应该是一样的，只是后面参数不一样而已，所以这个位置我们可以只填基本路径即可。如二维码路径：<a href="https://www.aaa.com.abc/a?aaa=111" target="_blank" rel="nofollow noopener noreferrer">www.aaa.com.abc/a?aaa=111</a>  <a href="https://www.aaa.com.abc/a?aaa=444" target="_blank" rel="nofollow noopener noreferrer">www.aaa.com.abc/a?aaa=444</a> ，这个位置我们只填 <a href="https://www.aaa.com.abc/" target="_blank" rel="nofollow noopener noreferrer">www.aaa.com.abc/</a> 即可，可以进行模糊匹配到所有页面。</p>
<ol start="2">
<li>前缀占用规则：</li>
</ol>
<p>这一条理解起来很简单，就是我已经配置的路径，是否再配置同样的路径规则，选择占用就相当于已经占用了上边配置的规则，不可以在配置同样的规则，避免已经配置的规则被替换掉。这一点可以根据业务自行进行选择。</p>
<ol start="3">
<li>测试链接：</li>
</ol>
<p>针对我们配置的规则，每条规则可以添加五条测试链接，用来测试能否正常打开小程序。因为我们在规则配置完成之后通常不会立刻发布对外，需要内部进行测试后在对外，所以此处我们可以添加对应的完整链接，这样小程序的管理员/开发者/体验者扫描对应的二维码就可以打开对应小程序页面了。</p>
<p>如上配置完成之后点击保存，可以看见刚才配置的内容在列表里显示了，但是是未发布状态，也就是此时的配置只是对内的（小程序管理者/开发者/体验者），只有点击发布之后才会对外生效。</p>
<h3 data-id="heading-1">二、支付宝小程序</h3>
<blockquote>
<p>支付宝小程序配置路径：推广获客 --> 码管理 --> 关联普通二维码</p>
</blockquote>
<h4 data-id="heading-2">（一）第一步</h4>
<p>上边路径点击添加，即可打开配置页面，如下图</p>
<div align="center"><img width="400" src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7c8b2d90a94749619f04fd1aed2aa01d~tplv-k3u1fbpfcp-watermark.image" loading="lazy" referrerpolicy="no-referrer"></div>
<p>配置看上去比微信的配置要简单一点，但是通常越简单的东西可能有的部分理解起来就不很容易了，不了解的可以先看下文档 <a href="https://opendocs.alipay.com/support/01rb1u" target="_blank" rel="nofollow noopener noreferrer">支付宝小程序扫普通二维码打开小程序开发文档</a>，文档表述基本也很详细，也是挑几点简单说下。</p>
<ol>
<li>二维码地址：</li>
</ol>
<p>对比微信和支付宝配置页面，我们可以发现有一点区别就是微信有个规则配置，后面还有测试链接配置，但是支付宝的配置貌似只有一个二维码地址，但是仔细看图我们可以发现，配置是分步的，可以在第二步去配置测试相关内容，所以这个位置我们也可以像微信配置规则一样只配置基础路径即可。</p>
<ol start="2">
<li>匹配规则：</li>
</ol>
<p>这一点下边有简单的文字说明，如果你选择精准匹配，就是只有当你的二维码完全符合上面配置的地址的时候才能打开；选择模糊匹配，会根据前缀进行模糊匹配，参数不一致前缀一致即可打开。这一步的选择会影响下一步的操作，如果选择精准匹配，那么下一步直接会生成二维码；如果选择模糊匹配，下一步可以进一步配置参数，相当于配置了测试链接。</p>
<h4 data-id="heading-3">（二）第二步</h4>
<p>上边配置完成之后点击下一步，回来到如下界面（模糊匹配）：</p>
<div align="center"><img width="400" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/054e5aa8a44f40e9931c59e8d9d47413~tplv-k3u1fbpfcp-watermark.image" loading="lazy" referrerpolicy="no-referrer"></div>
<p>可以看到，选择模糊匹配之后，在第二步可以完善你的链接，填写一个测试的后缀，点击 生成二维码 会在下边生成一个测试用二维码，点击发布二维码，二维码生效之后可以直接扫码打开小程序，当然现在也是针对内部使用的。验证完成之后也是需要发布才可以对外使用。</p>
<h3 data-id="heading-4">三、两者区别</h3>
<p>综上所述，其实两者的配置原理基本是一样的，只是在具体操作上会有所区别：</p>
<ul>
<li>规则配置和测试链接配置方式不一样，微信操作起来更加方便；</li>
<li>支付宝小程序可以进行精准和模糊匹配选择，微信小程序无此选项，当然可以通过自己所需配置自行区分；</li>
<li>支付宝小程序测试二维码发布是有生效时间的，发布后5分钟生效，微信小程序配置完即可生效；</li>
</ul>
<p>当然两者还有一个最根本的共同点：就是小程序的 <strong>代码必须发布后才可以进行规则的配置</strong>，这里发布指的是发到体验版。</p>
<p>以上就是简单总结下小程序普通码对应小程序跳转规则配置内容，对于初次接触的小伙伴可能有些疑惑，希望此文能够有所帮助，如有不足或者不正确地方，欢迎进行补充和纠正~~</p></div>  
</div>
            