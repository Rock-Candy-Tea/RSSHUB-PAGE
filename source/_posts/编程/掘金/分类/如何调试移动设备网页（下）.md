
---
title: '如何调试移动设备网页（下）'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a786667f93b0411e9628cdde86285c90~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Thu, 08 Jul 2021 17:53:07 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a786667f93b0411e9628cdde86285c90~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h1 data-id="heading-0">调试 IOS 设备网页</h1>
<blockquote>
<p>前提：系统环境</p>
<p>电脑操作系统：Windows 10 专业版 64位
iPad操作系统：iOS 10.3.2</p>
</blockquote>
<h2 data-id="heading-1">Step 1：在iOS中打开调试模式</h2>
<p>设置 -> Safari -> 高级 -> 开启 Web 检查器</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a786667f93b0411e9628cdde86285c90~tplv-k3u1fbpfcp-watermark.image" alt="截图 (1).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a786667f93b0411e9628cdde86285c90~tplv-k3u1fbpfcp-watermark.image" alt="截图 (2).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a786667f93b0411e9628cdde86285c90~tplv-k3u1fbpfcp-watermark.image" alt="截图.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-2">Step 2：安装 scoop</h2>
<h3 data-id="heading-3">1. 使用 Powershell 进行安装</h3>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3f7b69306014c17a97291eab922abe4~tplv-k3u1fbpfcp-watermark.image" alt="截图 (3).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><code>注意：安装过程很慢，需要爬梯安装！！</code></p>
<pre><code class="hljs language-js copyable" lang="js">iex (<span class="hljs-keyword">new</span>-object net.webclient).downloadstring(<span class="hljs-string">'https://get.scoop.sh'</span>)
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-4">2. 如果失败（如图1）</h3>
<p>图1：</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/54b2767976fd4cb396fd202f070187cd~tplv-k3u1fbpfcp-watermark.image" alt="截图 (4).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>请依次执行以下命令再重新安装</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">Set</span>-ExecutionPolicy RemoteSigned -scope CurrentUser  <span class="hljs-comment">// 修改执行策略</span>
iex (<span class="hljs-keyword">new</span>-object net.webclient).downloadstring(<span class="hljs-string">'https://get.scoop.sh'</span>)
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d66adee08224d68bffab4cd45acde4f~tplv-k3u1fbpfcp-watermark.image" alt="截图 (5).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-5">3. 如果还是安装失败，请依次执行以下命令再重新安装</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">Set</span>-ExecutionPolicy RemoteSigned -scope CurrentUser <span class="hljs-comment">// 前面2.已经执行了，可不需再执行</span>
iex (<span class="hljs-keyword">new</span>-object net.webclient).downloadstring(<span class="hljs-string">'https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1'</span>)
<span class="copy-code-btn">复制代码</span></code></pre>
<p>安装完毕后，执行：</p>
<pre><code class="hljs language-js copyable" lang="js">scoop update
<span class="copy-code-btn">复制代码</span></code></pre>
<p>若出现以下情况：</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/35b89ec9fc5040e0b2c0f757d104b1db~tplv-k3u1fbpfcp-watermark.image" alt="截图 (6).png" loading="lazy" referrerpolicy="no-referrer">
说明<code>安装失败</code>（失败原因是：可能网速问题，scoop没有安装成功，该命令也就无法执行），需要卸载重装！</p>
<h4 data-id="heading-6">重新安装步骤（依旧使用 Powershell 进行执行命令）：</h4>
<ul>
<li>
<ol>
<li>依次运行以下命令：</li>
</ol>
</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js">scoop uninstall scoop
<span class="hljs-built_in">Set</span>-ExecutionPolicy RemoteSigned -scope CurrentUser
iwr -useb get.scoop.sh | iex
<span class="copy-code-btn">复制代码</span></code></pre>
<p><code>如果上面第一句不成功（亲测确实不成功！！），尝试另一个方案（假定你的 Scoop 安装在缺省位置）：</code></p>
<pre><code class="hljs language-js copyable" lang="js">cd
del .\scoop -Force
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f012126d2f664489aa4634d276c2353a~tplv-k3u1fbpfcp-watermark.image" alt="ios11.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>
<ol start="2">
<li>重新安装，执行命令：</li>
</ol>
</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js">iex (<span class="hljs-keyword">new</span>-object net.webclient).downloadstring(<span class="hljs-string">'https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1'</span>)
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb070d1ee83a49c88bbd4c536422f28a~tplv-k3u1fbpfcp-watermark.image" alt="截图 (7).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-7">Step 3：通过scoop安装 ios-webkit-debug-proxy</h2>
<p>依次执行以下命令：</p>
<pre><code class="hljs language-js copyable" lang="js">scoop bucket add extras
scoop install ios-webkit-debug-proxy
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-8">1. 执行scoop bucket add extras命令，出现以下情况：</h3>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a2adea800a04b189c4bec4cd76bd092~tplv-k3u1fbpfcp-watermark.image" alt="截图 (8).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>原因可能是：</p>
<ul>
<li>网络慢；</li>
<li>scoop不是最新版；</li>
<li>scoop没有安装好；</li>
</ul>
<h3 data-id="heading-9">2. 若执行</h3>
<pre><code class="hljs language-js copyable" lang="js">scoop help
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d41b3a0bb09b4d76908a175a5e9afc8b~tplv-k3u1fbpfcp-watermark.image" alt="截图 (9).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><code>说明scoop 安装成功！！！</code></p>
<h3 data-id="heading-10">3. 查看scoop 的版本状态</h3>
<pre><code class="hljs language-js copyable" lang="js">scoop status
<span class="copy-code-btn">复制代码</span></code></pre>
<p>若出现如图提示，则需要更新scoop</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b00fd3eeb3c040f9bc8b859bbc63152d~tplv-k3u1fbpfcp-watermark.image" alt="截图 (10).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-11">4. 执行scoop update 出现以下情况，是网络问题！！</h3>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76d69232c4d94db3bfbb38fc2b6467a2~tplv-k3u1fbpfcp-watermark.image" alt="截图 (11).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>只能再次执行</p>
<pre><code class="hljs language-js copyable" lang="js">scoop updata
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dd74303be73c432e8a40eaea1d6d3d86~tplv-k3u1fbpfcp-watermark.image" alt="截图 (12).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-12">5. 查看是否update成功与否，执行：scoop status</h3>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7fcb2a16daf4275b27f94821c81ebd0~tplv-k3u1fbpfcp-watermark.image" alt="截图 (13).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>此刻scoop 更新安装成功！</p>
<h3 data-id="heading-13">6. 由于上次执行过<code>scoop bucket add extras</code></h3>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0c1b50935f9945128df4503928bae320~tplv-k3u1fbpfcp-watermark.image" alt="截图 (14).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>需要删除<code>extras</code></p>
<pre><code class="hljs language-js copyable" lang="js">scoop bucket rm extras
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/728d29eb17704459ac9a0fbfecba35be~tplv-k3u1fbpfcp-watermark.image" alt="截图 (15).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-14">7. 再次执行命令</h3>
<pre><code class="hljs language-js copyable" lang="js">scoop bucket add extras
scoop install ios-webkit-debug-proxy
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0f2481b4cc124c1090797ceeb73b9350~tplv-k3u1fbpfcp-watermark.image" alt="截图 (16).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>此刻安装成功！</p>
<h3 data-id="heading-15">8. 若网络真的很慢，可以尝试以下方案解决(建议还是用powershell命令执行，这样解压放置可能会有不可预知的问题)</h3>
<p>如果超时可以下载 <code>https://github.com/lukesampson/scoop-extras/</code>解压后存放在<code>scoop/bucket/extras/ </code>目录下</p>
<h2 data-id="heading-16">Step 4：启动ios-webkit-debug-proxy</h2>
<p>在 Powershell 中执行，<code>-f </code>表示指定前端工具，这里使用 <code>chrome-devtools </code>进行调试</p>
<pre><code class="hljs language-js copyable" lang="js">ios_webkit_debug_proxy -f chrome-devtools:<span class="hljs-comment">//devtools/bundled/inspector.html</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>执行成功后，Powershell窗口会显示</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df0a58820ae242319c4d2565fe1e4477~tplv-k3u1fbpfcp-watermark.image" alt="截图 (17).png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><strong><code>备注：启动ios_webkit_debug_proxy会影响上网！</code></strong></p>
<h2 data-id="heading-17">Step 5：链接设备，调试网页</h2>
<h3 data-id="heading-18">方式一：</h3>
<h4 data-id="heading-19">1. 在chrome浏览器中输入<code>localhost:9221</code>进入网页后出现你设备的名称字样（如图），表示连接成功</h4>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b289df862dd4ae7808925de43906bf0~tplv-k3u1fbpfcp-watermark.image" alt="ios12.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-20">2. 点击<code>localhost:9222</code>，你会发现里面是空白的，说明你还没有打开H5页面，用<code>safari</code>打开一个H5页面，<code>刷新chrome</code>，就会发现多了几条数据</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5a2d2e22039f4fe280ab60448acb4756~tplv-k3u1fbpfcp-watermark.image" alt="ios13.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-21">3. 刷新电脑上的chrome，点击出现的超链接，点击其中一个（如4.）会打开一个新标签<code>chrome-devtools://devtools/bundled/inspector.html?ws=localhost:9222/devtools/page/4</code>，或者右键复制链接地址并在新标签中打开：</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6be4d500199d43479dd1b7f0c579e6a1~tplv-k3u1fbpfcp-watermark.image" alt="ios14.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>打开的新标签页面空白！！</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d59bb68d50814d3ab55d89bfc1e857f1~tplv-k3u1fbpfcp-watermark.image" alt="截图 (21).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-22">方式二：</h3>
<h4 data-id="heading-23">打开chrome, 输入网址： <code>chrome://inspect/#devices</code>如下图所示，点击 <code>inspect</code>, 即可调试，但是出现了空白。</h4>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17bdf2054fc64e1b90dee6600d6c0910~tplv-k3u1fbpfcp-watermark.image" alt="截图 (22).png" loading="lazy" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-24">解决调试页面空白问题</h5>
<ul>
<li>（1）安装 <code>vs-libimobile</code></li>
</ul>
<pre><code class="hljs language-js copyable" lang="js">npm install -g vs-libimobile
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3943e9c19a6b466280c2ec72e02d3af8~tplv-k3u1fbpfcp-watermark.image" alt="截图 (23).png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>（2）安装最新版本的适配器 <code>remotedebug-ios-webkit-adapter</code></li>
</ul>
<pre><code class="hljs language-js copyable" lang="js">npm install remotedebug-ios-webkit-adapter -g
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/40f0d2fcb1d54e72ad82f58a43394e7e~tplv-k3u1fbpfcp-watermark.image" alt="截图 (24).png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>
<p>（3） 手机同样需要开启<code> Web</code> 检查器，<code>USB</code> 连接电脑</p>
</li>
<li>
<p>（4）启动，<code>remotedebug_ios_webkit_adapter 或 remotedebug_ios_webkit_adapter --port=9000（默认是9000端口，你也可以自己指定端口）</code>，执行以下命令：</p>
</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js">remotedebug_ios_webkit_adapter --port=<span class="hljs-number">9222</span>  <span class="hljs-comment">// ios-webkit-debug-proxy 将自动为您运行 无需单独启动</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9593d81d854c4d1996e00dd28b86bfae~tplv-k3u1fbpfcp-watermark.image" alt="截图 (25).png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>（5）谷歌浏览器打开 <code>chrome://inspect/#devices</code> -> Configure -> 配置上一步指定的端口</li>
</ul>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70c3acfe84bf41bf828cec916dd7a719~tplv-k3u1fbpfcp-watermark.image" alt="截图 (26).png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>（6）将设备通过USB连接到PC，在chrome浏览器地址栏输入：<code>chrome://inspect/#devices</code></li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2704072eca3d4212beb90f2eb6457fde~tplv-k3u1fbpfcp-watermark.image" alt="截图 (27).png" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li>（7）在手机上打开网页的时候，chrome就会检测到网页，点击<code>Inspect</code>就可以直接调试</li>
</ul>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/446b6e80605f412ba006ce21b957cc80~tplv-k3u1fbpfcp-watermark.image" alt="ios15.png" loading="lazy" referrerpolicy="no-referrer"></p>
<blockquote>
<p><strong><code>备注：</code></strong></p>
<ol>
<li>使用chrome也会出现偶尔检测不到的情况或者比较卡的情况，这时候可能需要在命令行重启下remote debug-ios-webkit-adapter（反复尝试好多次发现每当想在resources中查看.js文件的时候就会断开连接，其他情况几乎没出现过链接断掉的情况）</li>
<li>第一次使用的时候可能需要翻墙，后续若没有清空掉缓存，则不需要翻墙即可即时调试</li>
<li>ios的调试中在inspect 后，调试面板中则反映到手机上，而不会在pc调试面板中</li>
<li>启动 remotedebug_ios_webkit_adapter 不影响上网</li>
<li>只能调试web网页，无法调试嵌入app中wab页面</li>
</ol>
</blockquote></div>  
</div>
            