
---
title: 'è®©æˆ‘å‘Šè¯‰ä½ ä¸€äº›å¼ºæ— æ•Œçš„ NPM è½¯ä»¶åŒ…'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b6a2d8506304a62afeb575afed3c5ea~tplv-k3u1fbpfcp-zoom-1.image'
author: æ˜é‡‘
comments: false
date: Tue, 13 Apr 2021 02:16:50 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b6a2d8506304a62afeb575afed3c5ea~tplv-k3u1fbpfcp-zoom-1.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;color:#383838;font-size:15px;line-height:37.5px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:120px&#125;.markdown-body ::selection&#123;color:#fff;background-color:#a862ea&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;margin:30px 0 15px;color:#a862ea&#125;.markdown-body h1&#123;line-height:2;font-size:1.4em&#125;.markdown-body h1~p:first-of-type:first-letter&#123;color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder&#125;.markdown-body h2&#123;font-size:1.2em&#125;.markdown-body h3&#123;font-size:1.1em&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:2em&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;padding-left:.2em&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:10px&#125;.markdown-body li::marker&#123;color:#a862ea&#125;.markdown-body li,.markdown-body p&#123;opacity:.9;vertical-align:baseline;transition:all .1s ease&#125;.markdown-body li:hover,.markdown-body p:hover&#123;opacity:1&#125;.markdown-body a&#123;display:inline-block;color:#a862ea;cursor:pointer;padding-bottom:2px;text-decoration:none;position:relative&#125;.markdown-body a:after&#123;content:"";position:absolute;width:98%;height:2px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out&#125;.markdown-body a:hover:after&#123;transform:scaleX(1);transform-origin:bottom left&#125;.markdown-body a:active,.markdown-body a:link&#123;color:#a862ea&#125;.markdown-body img&#123;max-width:100%;user-select:none;margin:1em 0;box-shadow:0 0 20px 0 #e7daff;transition:transform .2s ease 0s;background-color:#f8f5ff&#125;.markdown-body img:hover&#123;opacity:1;transform:translateY(-2px)&#125;.markdown-body blockquote&#123;padding:.5em 1em;margin:15px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:4px solid #a862ea;background-color:#f8f5ff&#125;.markdown-body blockquote>p&#123;margin:0&#125;.markdown-body code&#123;padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff&#125;.markdown-body pre&#123;margin:2em 0;box-shadow:0 0 20px #e7daff&#125;.markdown-body pre>code&#123;display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:22.5px;color:#383838;border-radius:3px;scroll-behavior:smooth&#125;.markdown-body pre>code::-webkit-scrollbar&#123;height:6px;background-color:#f8f5ff&#125;.markdown-body pre>code::-webkit-scrollbar-thumb&#123;background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px&#125;.markdown-body hr&#123;margin:2em 0;border-top:1px solid #a862ea&#125;.markdown-body table&#123;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #e7daff&#125;.markdown-body thead&#123;color:#a862ea;background:#f8f5ff&#125;.markdown-body td,.markdown-body th&#123;padding:1em .5em&#125;.markdown-body tr&#123;background-color:#fcfcfc&#125;@media (max-width:720px)&#123;.markdown-body&#123;font-size:12px&#125;&#125;</style><p>é¢å¯¹ç¹å¿™çš„æ—¥ç¨‹å®‰æ’ä¸ç´§è¿«çš„å·¥æœŸé™åˆ¶ï¼Œé€‰æ‹©èƒ½å¤Ÿåˆ‡å®æå‡ç”Ÿäº§ç‡çš„å·¥å…·æ— ç–‘è‡³å…³é‡è¦ã€‚</p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘æ•´ç†å‡ºä¸€ä»½ä¸ªäººæœ€å–œæ¬¢çš„ NPM è½¯ä»¶åŒ…æ¸…å•ã€‚ä¸ºäº†ä¾¿äºæµè§ˆï¼Œæˆ‘è¿˜å¯¹å®ƒä»¬è¿›è¡Œäº†åˆ†ç±»ï¼Œå¸Œæœ›å‘ˆç°å‡ºæ›´åŠ æ¸…æ™°çš„ç»“æ„ã€‚</p>
<p>å½“ç„¶ï¼Œå¤§å®¶ä¸å¿…å…¨æ•°å®‰è£…ä¸å­¦ä¹ ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¯ä¸ªç±»åˆ«é€‰æ‹©ä¸€æ¬¾å°±è¶³ä»¥è§£å†³ç”Ÿäº§éœ€æ±‚ã€‚æˆ‘åªæ˜¯æƒ³å¤šæä¾›ä¸€ç‚¹æ›¿ä»£æ–¹æ¡ˆï¼Œå¸®åŠ©æ¯ä½è¯»è€…æœ‹å‹æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„é€‰é¡¹ã€‚é—²è¨€å°‘å™ï¼Œå’±ä»¬é©¬ä¸Šå¼€å§‹ï¼</p>
<h2 data-id="heading-0">ğŸ§° å®ç”¨å·¥å…·</h2>
<h3 data-id="heading-1">Lodash</h3>
<p><a href="https://www.lodashjs.com/docs/latest" target="_blank" rel="nofollow noopener noreferrer">lodash</a>æ˜¯ä¸€å¥—ç°ä»£ JavaScript å®ç”¨ç¨‹åºåº“ï¼Œæä¾›æ¨¡å—åŒ–ã€æ€§èƒ½ä¸å¤šç§é™„åŠ åŠŸèƒ½ã€‚å¯æä¾›å…³äº JavaScript æ•°ç»„ã€å¯¹è±¡åŠå…¶ä»–æ•°æ®ç»“æ„çš„å¤šç§å®ç”¨åŠŸèƒ½ã€‚</p>
<p><img alt="lodash-logo" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b6a2d8506304a62afeb575afed3c5ea~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-2">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add lodash
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>ä¸è¦æ»¥ç”¨ï¼Œå°½é‡ä½¿ç”¨ ES è‡ªå¸¦æ–¹æ³•</strong> ã€‚ æˆ‘å¸¸ç”¨çš„ä¸€äº›æ–¹æ³•å¦‚ä¸‹</p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-comment">// -----------------------------æ·±åº¦æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å€¼æ˜¯å¦å…¨ç›¸ç­‰</span>
<span class="hljs-keyword">import</span> &#123; isEqual, cloneDeep, uniqBy, sortBy &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"lodash"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-built_in">object</span> = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;;
<span class="hljs-keyword">const</span> other = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;;

isEqual(<span class="hljs-built_in">object</span>, other);
<span class="hljs-comment">// => true</span>

<span class="hljs-built_in">object</span> === other;
<span class="hljs-comment">// => false</span>

<span class="hljs-comment">// -----------------------------æ·±æ‹·è´</span>
<span class="hljs-keyword">const</span> objects = [&#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> &#125;, &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;];

<span class="hljs-keyword">const</span> deep = cloneDeep(objects);
<span class="hljs-built_in">console</span>.log(deep[<span class="hljs-number">0</span>] === objects[<span class="hljs-number">0</span>]);
<span class="hljs-comment">// => false</span>

<span class="hljs-comment">// -----------------------------æ•°ç»„å»é‡</span>
uniqBy([&#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> &#125;, &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">2</span> &#125;, &#123; <span class="hljs-attr">x</span>: <span class="hljs-number">1</span> &#125;], <span class="hljs-string">"x"</span>);
<span class="hljs-comment">// => [&#123; 'x': 1 &#125;, &#123; 'x': 2 &#125;]</span>

<span class="hljs-comment">// -----------------------------æ•°ç»„æ’åº</span>
<span class="hljs-keyword">const</span> users = [
  &#123; <span class="hljs-attr">user</span>: <span class="hljs-string">"fred"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">48</span> &#125;,
  &#123; <span class="hljs-attr">user</span>: <span class="hljs-string">"barney"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">36</span> &#125;,
  &#123; <span class="hljs-attr">user</span>: <span class="hljs-string">"fred"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">40</span> &#125;,
  &#123; <span class="hljs-attr">user</span>: <span class="hljs-string">"barney"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">34</span> &#125;,
];
sortBy(users, <span class="hljs-string">"age"</span>);
<span class="hljs-comment">/*
[
  &#123; 'user': 'barney', 'age': 34 &#125;,
  &#123; 'user': 'barney', 'age': 36 &#125;,
  &#123; 'user': 'fred', 'age': 40 &#125;,
  &#123; 'user': 'fred', 'age': 48 &#125;,
];
*/</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-3">qs</h3>
<p><a href="https://www.npmjs.com/package/qs" target="_blank" rel="nofollow noopener noreferrer"><code>qs</code></a> å¤„ç† URL æŸ¥è¯¢å­—ç¬¦ä¸²,æ”¯æŒå†…åµŒå¯¹è±¡å’Œæ•°ç»„ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å°†å¯¹è±¡å’Œ URL åœ°å€çš„å‚æ•°äº’ç›¸è½¬æ¢</p>
<p><img alt="qs-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6599b1196e84ee6ab1f0d0ce4a274d1~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-4">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add qs
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">import</span> &#123; parse, stringify &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"qs"</span>;

<span class="hljs-comment">// ç”¨é€”ä¸€</span>
<span class="hljs-comment">// å°† æµè§ˆå™¨ä¸Š URLåœ°å€å‚æ•°è½¬æ¢ä¸ºå¯¹è±¡ï¼ˆå­—ç¬¦ä¸²è½¬å¯¹è±¡ï¼‰</span>
<span class="hljs-keyword">const</span> urlParams = parse(<span class="hljs-built_in">window</span>.location.href.split(<span class="hljs-string">"?"</span>)[<span class="hljs-number">1</span>]);

<span class="hljs-comment">// ç”¨é€”äºŒ</span>
<span class="hljs-comment">// å°†å¯¹è±¡å‚æ•° ä¼ é€’ç»™åˆ°åç«¯æ¥å£--GET è¯·æ±‚  ï¼ˆå¯¹è±¡è½¬å­—ç¬¦ä¸²ï¼‰</span>
<span class="hljs-keyword">const</span> params = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">"wang"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">"18"</span>,
  <span class="hljs-attr">sex</span>: <span class="hljs-string">"å¥³"</span>,
&#125;;

<span class="hljs-comment">// =>  /api/user?name=wang&age=18&sex=%E5%A5%B3</span>
<span class="hljs-keyword">const</span> apiUrl = <span class="hljs-string">`/api/user?<span class="hljs-subst">$&#123;stringify(params)&#125;</span>`</span>;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-5">classnames</h3>
<p><a href="https://www.npmjs.com/package/classnames" target="_blank" rel="nofollow noopener noreferrer">classnames</a>æœ‰æ¡ä»¶åœ°å°†ç±»åç»„åˆåœ¨ä¸€èµ·</p>
<h4 data-id="heading-6">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add classnames
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>é”™è¯¯ â ä»£ç ç¤ºä¾‹: React åŸç”ŸåŠ¨æ€æ·»åŠ å¤šä¸ªæ ·å¼ç±»åä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-tsx copyable" lang="tsx">import styles from "./index.less";

const Index=()=><div className=&#123;style.class1 style.class2&#125;</div>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä¿®æ”¹ä¸ºå¦‚ä¸‹ä»£ç å³å¯è§£å†³</p>
<pre><code class="hljs language-tsx copyable" lang="tsx">import React from "react"
import classnames from 'classnames'

import styles from "./index.less";

const Index=()=>(<div
          className=classnames(&#123;
              style.class1,
              style.class2
          &#125;)>
</div>)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-7">numeral</h3>
<p><a href="http://numeraljs.com/#format" target="_blank" rel="nofollow noopener noreferrer">numeral</a>æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨æ¥æ ¼å¼åŒ–æ•°å­—çš„ NPM åº“ï¼ŒåŒæ—¶ numeral è¿˜èƒ½è§£æå„ç§æ ¼å¼çš„æ•°å­—ã€‚</p>
<p><img alt="numeral-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f995483fc3174302900f69b0fa00d3de~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-8">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add numeral
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">import</span> numeral <span class="hljs-keyword">from</span> <span class="hljs-string">"numeral"</span>;

<span class="hljs-comment">// è§£ææ•°å­—</span>
numeral(<span class="hljs-string">"10,000.12"</span>); <span class="hljs-comment">// 10000.12</span>
numeral(<span class="hljs-string">"$10,000.00"</span>); <span class="hljs-comment">// 10000</span>
numeral(<span class="hljs-string">"3.467TB"</span>); <span class="hljs-comment">// 3467000000000</span>
numeral(<span class="hljs-string">"-76%"</span>); <span class="hljs-comment">// -0.76</span>

<span class="hljs-comment">// æ ¼å¼åŒ–</span>

numeral(<span class="hljs-number">10000.23</span>).format(<span class="hljs-string">"0,0"</span>); <span class="hljs-comment">// '10,000'</span>
numeral(<span class="hljs-number">1000.234</span>).format(<span class="hljs-string">"$0,0.00"</span>); <span class="hljs-comment">// '$1,000.23'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-9">cross-env</h3>
<p><a href="https://www.npmjs.com/package/cross-env" target="_blank" rel="nofollow noopener noreferrer">cross-env</a>æ˜¯ä¸€ä¸ªè¿è¡Œ<strong>è·¨å¹³å°</strong>è®¾ç½®å’Œä½¿ç”¨ç¯å¢ƒå˜é‡çš„è„šæœ¬</p>
<h5 data-id="heading-10">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add cross-env --dev
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-javascript copyable" lang="javascript">  <span class="hljs-string">"scripts"</span>: &#123;
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"cross-env REACT_APP_ENV=development webpack"</span>,
    <span class="hljs-string">"build"</span>: <span class="hljs-string">"cross-env REACT_APP_ENV=production webpack"</span>,
  &#125;,
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-11">path-to-regexp</h3>
<p><a href="https://www.npmjs.com/package/path-to-regexp" target="_blank" rel="nofollow noopener noreferrer">path-to-regexp</a>ç”¨æ¥å¤„ç† url ä¸­åœ°å€ä¸å‚æ•°ï¼Œèƒ½å¤Ÿå¾ˆæ–¹ä¾¿å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚</p>
<p>js ä¸­æœ‰ <code>RegExp</code> æ–¹æ³•åšæ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒï¼Œè€Œ <code>path-to-regexp</code> å¯ä»¥çœ‹æˆæ˜¯ url å­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<h4 data-id="heading-12">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add path-to-regexp
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><code>pathToRegexp</code>æ–¹æ³•å¯ä»¥ç±»æ¯”äº js ä¸­ <code>new RegExp('xxx')</code>ã€‚</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">import</span> pathToRegexp <span class="hljs-keyword">from</span> <span class="hljs-string">"path-to-regexp"</span>;

<span class="hljs-keyword">const</span> re = pathToRegexp(<span class="hljs-string">"/foo/:bar"</span>);
<span class="hljs-built_in">console</span>.log(re); <span class="hljs-comment">// /^\/foo\/((?:[^\/]+?))(?:\/(?=$))?$/i</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><code>compile</code>ç”¨äºå¡«å…… url å­—ç¬¦ä¸²çš„å‚æ•°å€¼ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> pathToRegexp = <span class="hljs-built_in">require</span>(<span class="hljs-string">"path-to-regexp"</span>);

<span class="hljs-keyword">var</span> url = <span class="hljs-string">"/user/:id/:name"</span>;
<span class="hljs-keyword">var</span> data = &#123; <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"bob"</span> &#125;;

<span class="hljs-comment">// /user/10001/bob</span>
<span class="hljs-built_in">console</span>.log(pathToRegexp.compile(url)(data));
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<hr>
<h2 data-id="heading-13">ğŸ“… æ—¥æœŸæ ¼å¼</h2>
<h3 data-id="heading-14">Day.js</h3>
<p><a href="https://dayjs.gitee.io/docs/zh-CN/display/format" target="_blank" rel="nofollow noopener noreferrer">Day.js</a> æ˜¯ä¸€æ¬¾å¿«é€Ÿä¸”è½»é‡åŒ–çš„ <a href="http://momentjs.cn/" target="_blank" rel="nofollow noopener noreferrer">Moment.js</a>(è‡ª 2020 å¹´ 9 æœˆèµ·è¿›å…¥çº¯ç»´æŠ¤æ¨¡å¼,ä¸å†å¼€å‘æ–°ç‰ˆæœ¬) æ›¿ä»£æ–¹æ¡ˆã€‚äºŒè€…æ‹¥æœ‰ç±»ä¼¼çš„ APIï¼Œåªè¦ä½ æ¥è§¦è¿‡ <code>Moment.js</code>ï¼Œå°±èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹ <code>Day.js</code>ã€‚</p>
<p><img alt="dayJS-office" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/54dadaf204fd4efeb3860ffe53e58647~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-15">å®‰è£…</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add dayjs
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-16">ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">import</span> dayjs <span class="hljs-keyword">from</span> <span class="hljs-string">"dayjs"</span>;

<span class="hljs-keyword">const</span> myformat = <span class="hljs-string">"YYYY-MM-DD HH:mm:ss"</span>;

<span class="hljs-comment">// -------------------------ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å› å½“å‰æ—¶é—´</span>
<span class="hljs-keyword">const</span> data = dayjs().format(myformat);
<span class="hljs-comment">// =>  2020-11-25 12:25:56</span>

<span class="hljs-comment">// -------------------------æ—¥æœŸæ ¼å¼åŒ–</span>
<span class="hljs-keyword">const</span> data1 = dayjs(<span class="hljs-string">"2020-11-25 12:25:56"</span>).format(<span class="hljs-string">"YYYY/MM/DD HH/mm/ss"</span>);
<span class="hljs-comment">// => 2020/11/25 12/25/56</span>

<span class="hljs-comment">// -------------------------å¤šä¹…ä¹‹å‰</span>
<span class="hljs-keyword">var</span> relativeTime = <span class="hljs-built_in">require</span>(<span class="hljs-string">"dayjs/plugin/relativeTime"</span>);
dayjs.extend(relativeTime);
<span class="hljs-keyword">const</span> data1 = dayjs(<span class="hljs-string">"2020-11-25 11:40:41"</span>).fromNow();

<span class="hljs-comment">// =></span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<hr>
<h2 data-id="heading-17">ğŸŒ· Linters ä¸æ ¼å¼åŒ–å·¥å…·</h2>
<h3 data-id="heading-18">ESLint</h3>
<p><a href="https://eslint.bootcss.com/docs/user-guide/getting-started" target="_blank" rel="nofollow noopener noreferrer">ESLint</a> æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·ï¼Œå¯ç”¨æ¥é¿å…ä»£ç é”™è¯¯å¹¶å¼ºåˆ¶å¼€å‘å›¢é˜Ÿä½¿ç”¨ç¼–ç æ ‡å‡†ã€‚ESLint æ˜¯ç”¨äºè¯†åˆ«å’ŒæŠ¥å‘Š ECMAScript/JavaScript ä»£ç ä¸­æ¨¡å¼çš„å·¥å…·ã€‚ESLint å…·å¤‡å…¨é¢çš„å¯æ’å…¥ç‰¹æ€§ï¼Œæ¯é¡¹è§„åˆ™å¯¹åº”ä¸€æ¬¾æ’ä»¶ï¼Œä¾›ä½ åœ¨è¿è¡Œæ—¶æ·»åŠ æ›´å¤šå†…å®¹ã€‚</p>
<p><img alt="eslint-offcial" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ca7c4c0ffad4f84ba906623bb19f583~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-19">å®‰è£…å’Œä½¿ç”¨</h5>
<pre><code class="hljs language-powershell copyable" lang="powershell"><span class="hljs-variable">$</span> yarn add eslint -<span class="hljs-literal">-dev</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç„¶åï¼Œä½ åº”è¯¥è®¾ç½®ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-powershell copyable" lang="powershell"><span class="hljs-variable">$</span> ./node_modules/.bin/eslint -<span class="hljs-literal">-init</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä¹‹åï¼Œä½ å¯ä»¥åœ¨ä»»ä½•æ–‡ä»¶æˆ–ç›®å½•ä¸Šè¿è¡Œ ESLintï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-powershell copyable" lang="powershell"><span class="hljs-variable">$</span> ./node_modules/.bin/eslint yourfile.js
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æœ‰å…³æ›´å¤šè¯´æ˜ï¼Œè¯·å‚é˜…<a href="https://eslint.org/" target="_blank" rel="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå…¶ä¸­æœ‰è®¸å¤šå…¥é—¨å’Œé…ç½®ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-20">Prettier</h3>
<p><a href="https://prettier.bootcss.com/docs/index.html" target="_blank" rel="nofollow noopener noreferrer">Prettier</a> æ˜¯ä¸€æ¬¾é£æ ¼é²œæ˜çš„ä»£ç æ ¼å¼åŒ–ç¨‹åºã€‚å®ƒé€šè¿‡è§£æä»£ç å¹¶ä½¿ç”¨è‡ªå·±çš„è§„åˆ™ï¼ˆé™å®šæœ€å¤§è¡Œé•¿ï¼‰å¯¹ä»£ç è¿›è¡Œé‡æ–°è¾“å‡ºï¼Œå€Ÿæ­¤å®ç°ç»Ÿä¸€çš„æ ·å¼ï¼›</p>
<p><img alt="prettier-office" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1541af36a2e549b2b38b10588385d48e~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-21">å®‰è£…</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add --dev --exact prettier
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-22">ç¤ºä¾‹</h4>
<p>åˆ›å»º <code>.prettierrc.js</code> åŠ å…¥è‡ªå®šä¹‰æ ¼å¼åŒ–è§„åˆ™</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">module</span>.exports = &#123;
  <span class="hljs-attr">trailingComma</span>: <span class="hljs-string">"es5"</span>,
  <span class="hljs-attr">tabWidth</span>: <span class="hljs-number">4</span>,
  <span class="hljs-attr">semi</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">singleQuote</span>: <span class="hljs-literal">true</span>,
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>åˆ›å»º <code>.prettierignore</code> åŠ å…¥éœ€è¦å¿½ç•¥çš„æ–‡ä»¶æˆ–ç›®å½•</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">#</span><span class="bash"> Ignore artifacts:</span>
build
coverage
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ‰§è¡Œæ ¼å¼åŒ–å‘½ä»¤</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">#</span><span class="bash"> æ ¼å¼åŒ–srcç›®å½•ä¸‹çš„æ‰€æœ‰jsæ–‡ä»¶</span>

prettier --write "src/**/*.js"
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-23">stylelint</h3>
<p><a href="https://stylelint.io/user-guide/get-started" target="_blank" rel="nofollow noopener noreferrer">stylelint</a> ä¸€ä¸ªå¼ºå¤§çš„æ ·å¼è§„åˆ™ï¼Œå¯ä»¥è®©ä½ å¼ºåˆ¶æ‰§è¡Œæ ·å¼è§„èŒƒï¼Œé¿å…ä¹¦å†™é”™è¯¯çš„æ ·å¼ä»£ç </p>
<h4 data-id="heading-24">å®‰è£…</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add stylelint stylelint-config-standard --dev
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-25">ç¤ºä¾‹</h4>
<p>åˆ›å»º<code>.stylelintrc.js</code>å¹¶åŠ å…¥é…ç½®</p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-built_in">module</span>.exports = &#123;
  <span class="hljs-attr">extends</span>: <span class="hljs-string">"stylelint-config-standard"</span>,
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ‰§è¡Œ lint å‘½ä»¤</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">#</span><span class="bash"> æ£€æŸ¥ srcç›®å½•ä¸‹æ‰€æœ‰cssæ–‡ä»¶æ˜¯å¦ç¬¦åˆè§„èŒƒ</span>
npx stylelint "src/**/*.css"
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-26">HuskyÂ </h3>
<p><a href="https://www.npmjs.com/package/husky" target="_blank" rel="nofollow noopener noreferrer">Husky</a> å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®€å•ç›´æ¥åœ°å®ç° git hooksã€‚ä½ ä»¬å›¢é˜Ÿæ­£åœ¨åä½œå¼€å‘ï¼Œå¹¶å¸Œæœ›åœ¨æ•´ä¸ªå›¢é˜Ÿä¸­æ¨è¡Œä¸€å¥—ç¼–ç æ ‡å‡†ï¼Ÿæ²¡é—®é¢˜ï¼æœ‰äº† Huskyï¼Œä½ å°±å¯ä»¥è¦æ±‚æ‰€æœ‰äººåœ¨æäº¤æˆ–æ¨é€åˆ°å­˜å‚¨åº“ä¹‹å‰è‡ªåŠ¨å®Œæˆ lint å¹¶æµ‹è¯•å…¶ä»£ç ã€‚</p>
<p><img alt="HUSKY-GITHUB" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ec7412d2675c430f9d134c2ae3b63529~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-27">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="hljs language-powershell copyable" lang="powershell">yarn add husky -<span class="hljs-literal">-dev</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªå®ç° husky hooks çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-json copyable" lang="json"><span class="hljs-comment">// package.json</span>
&#123;
  <span class="hljs-attr">"husky"</span>: &#123;
    <span class="hljs-attr">"hooks"</span>: &#123;
      <span class="hljs-attr">"pre-commit"</span>: <span class="hljs-string">"npm lint"</span>,
      <span class="hljs-attr">"pre-push"</span>: <span class="hljs-string">"npm test"</span>
    &#125;
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™é‡Œ <code>pre-commit</code> çš„ <code>hooks</code> ä¼šåœ¨ä½ æäº¤åˆ°å­˜å‚¨åº“ä¹‹å‰è¿è¡Œã€‚åœ¨å°†ä»£ç æ¨é€åˆ°å­˜å‚¨åº“ä¹‹å‰ï¼Œå°†è¿è¡Œ <code>pre-push hook</code>ã€‚</p>
<hr>
<h2 data-id="heading-28">ğŸ§™â€â™‚ï¸ æ•°æ®ç”Ÿæˆå™¨</h2>
<h3 data-id="heading-29">Uuid</h3>
<p><a href="https://www.npmjs.com/package/uuid" target="_blank" rel="nofollow noopener noreferrer">uuid</a>æ˜¯ä¸€ä¸ªä¾¿æ·çš„å¾®å‹è½¯ä»¶åŒ…ï¼Œèƒ½å¤Ÿå¿«é€Ÿç”Ÿæˆæ›´ä¸ºå¤æ‚çš„é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰ã€‚</p>
<h4 data-id="heading-30">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="copyable">npm install uuid
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">import</span> &#123; v4 <span class="hljs-keyword">as</span> uuidv4 &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">"uuid"</span>;
uuidv4(); <span class="hljs-comment">// â‡¨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-31">faker.js</h3>
<p><a href="https://www.npmjs.com/package/faker" target="_blank" rel="nofollow noopener noreferrer">faker.js</a>éå¸¸å®ç”¨çš„å·¥å…·åŒ…ï¼Œç”¨äºåœ¨æµè§ˆå™¨åŠ Node.js ä¸­ç”Ÿæˆå¤§é‡å‡æ•°æ®ã€‚</p>
<p><img alt="faker-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f0ab7a99ade4a11b3435944aae2c55c~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-32">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add faker
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">import</span> faker <span class="hljs-keyword">from</span> <span class="hljs-string">"faker"</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateCustomers</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">const</span> customers = []

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> id = <span class="hljs-number">0</span>; id < <span class="hljs-number">50</span>; id++) &#123;
    <span class="hljs-keyword">const</span> firstName = faker.name.firstName()
    <span class="hljs-keyword">const</span> lastName = faker.name.firstName()
    <span class="hljs-keyword">const</span> phoneNumber = faker.phone.phoneNumberFormat()
    <span class="hljs-keyword">const</span> zipCode = faker.address.zipCode()
    <span class="hljs-keyword">const</span> date = faker.date.recent()

    customers.push(&#123;
      id,
      firstName,
      lastName ,
      phoneNumber ,
      zipCode,
      date
    &#125;)
  &#125;

  <span class="hljs-keyword">return</span> &#123; customers &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-33">Mock.js</h3>
<p><a href="http://mockjs.com/examples.html" target="_blank" rel="nofollow noopener noreferrer">Mock.js</a> æ˜¯ä¸€ä¸ªæ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨ï¼Œå¯å¸®åŠ©å‰ç«¯å¼€å‘å’ŒåŸå‹ä¸åç«¯è¿›åº¦åˆ†å¼€ï¼Œå¹¶å‡å°‘æŸäº›å•è°ƒæ€§ï¼Œå°¤å…¶æ˜¯åœ¨ç¼–å†™è‡ªåŠ¨åŒ–æµ‹è¯•æ—¶ã€‚</p>
<p><img alt="moackjs-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc52cc9447ba4e43b8f86235a1ebdcca~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-34">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="copyable">npm install mockjs
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">import</span> Mock <span class="hljs-keyword">from</span> <span class="hljs-string">"mockjs"</span>;

<span class="hljs-keyword">const</span> Random = Mock.Random

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateCustomers</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">const</span> customers = []

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> id = <span class="hljs-number">0</span>; id < <span class="hljs-number">50</span>; id++) &#123;
    <span class="hljs-keyword">const</span> firstName = Random.first()
    <span class="hljs-keyword">const</span> lastName = Random.last()
    <span class="hljs-keyword">const</span> province = Random.province()
    <span class="hljs-keyword">const</span> date = Random.date()

    customers.push(&#123;
      id,
      firstName,
      lastName ,
      province,
      date
    &#125;)
  &#125;

  <span class="hljs-keyword">return</span> &#123; customers &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<hr>
<h2 data-id="heading-35">ğŸ§ª æµ‹è¯•å·¥å…·</h2>
<h3 data-id="heading-36">Jest</h3>
<p><a href="https://www.jestjs.cn/docs/getting-started" target="_blank" rel="nofollow noopener noreferrer">Jest</a> æ˜¯ä¸€æ¬¾ä¾¿æ·å¥½ç”¨çš„ JavaScript æµ‹è¯•æ¡†æ¶ï¼Œä»¥ç®€å•ä¸ºæ ¸å¿ƒè¯‰æ±‚ã€‚æ‚¨å¯ä»¥é€šè¿‡æ˜“äºä¸Šæ‰‹ä¸”åŠŸèƒ½ä¸°å¯Œçš„ API ç¼–å†™æµ‹è¯•ï¼Œä»è€Œå¿«é€Ÿè·å–ç»“æœã€‚</p>
<p><img alt="jest-office" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45618dec2d38426ab86713324d26d179~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-37">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add --dev jest
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æµ‹è¯•<code>sum</code>å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°çš„åŠŸèƒ½æ˜¯ä¸¤æ•°ç›¸åŠ ã€‚é¦–å…ˆåˆ›å»º <code>sum.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sum</span>(<span class="hljs-params">a, b</span>) </span>&#123;
  <span class="hljs-keyword">return</span> a + b;
&#125;
<span class="hljs-built_in">module</span>.exports = sum;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºåä¸º <code>sum.test.js</code> çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å®é™…æµ‹è¯•å†…å®¹ï¼š</p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">"./sum"</span>);

test(<span class="hljs-string">"adds 1 + 2 to equal 3"</span>, <span class="hljs-function">() =></span> &#123;
  expect(sum(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)).toBe(<span class="hljs-number">3</span>);
&#125;);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ° <code>package.json</code> ä¸­ï¼š</p>
<pre><code class="hljs language-json copyable" lang="json">&#123;
  <span class="hljs-attr">"script"</span>: &#123;
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"jest"</span>
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æœ€åï¼Œè¿è¡Œ <code>yarn test</code> ï¼ŒJest å°†è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-shell copyable" lang="shell">PASS  ./sum.test.js
âœ“ adds 1 + 2 to equal 3 (5ms)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-38">Mocha</h3>
<p><a href="https://mochajs.cn/" target="_blank" rel="nofollow noopener noreferrer">Mocha</a> æ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ javascript æµ‹è¯•æ¡†æ¶ï¼Œè¿è¡Œåœ¨ node.js å’Œæµè§ˆå™¨ä¸­ï¼Œä½¿å¼‚æ­¥æµ‹è¯•å˜å¾—ç®€å•æœ‰è¶£ã€‚Mocha æµ‹è¯•è¿ç»­è¿è¡Œï¼Œå…è®¸çµæ´»å’Œå‡†ç¡®çš„æŠ¥å‘Šï¼ŒåŒæ—¶å°†æœªæ•è·çš„å¼‚å¸¸æ˜ å°„åˆ°æ­£ç¡®çš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<h3 data-id="heading-39">å®‰è£…åŠç¤ºä¾‹</h3>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add mocha --dev
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºåä¸º <code>test.js</code> çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å®é™…æµ‹è¯•å†…å®¹ï¼š</p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">var</span> assert = <span class="hljs-built_in">require</span>(<span class="hljs-string">"assert"</span>);

describe(<span class="hljs-string">"Array"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
  describe(<span class="hljs-string">"#indexOf()"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
    it(<span class="hljs-string">"should return -1 when the value is not present"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
      assert.equal([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>), -<span class="hljs-number">1</span>);
    &#125;);
  &#125;);
&#125;);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å°†å¦‚ä¸‹ä»£ç æ·»åŠ åˆ° <code>package.json</code> ä¸­ï¼š</p>
<pre><code class="hljs language-json copyable" lang="json">&#123;
  <span class="hljs-attr">"script"</span>: &#123;
    <span class="hljs-attr">"test"</span>: <span class="hljs-string">"mocha"</span>
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æœ€åï¼Œè¿è¡Œ <code>yarn test</code> ï¼ŒMocha å°†è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">$</span><span class="bash"> ./node_modules/mocha/bin/mocha</span>

  Array
    #indexOf()
      âœ“ should return -1 when the value is not present


  1 passing (9ms)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<hr>
<h2 data-id="heading-40">ğŸ‘¨â€ğŸ’» è¿›ç¨‹ç®¡ç†å™¨ä¸è¿è¡Œå™¨</h2>
<h3 data-id="heading-41">Nodemon</h3>
<p><a href="https://www.npmjs.com/package/nodemon" target="_blank" rel="nofollow noopener noreferrer">nodemon</a>ç”¨æ¥ç›‘è§† node.js åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•æ›´æ”¹å¹¶è‡ªåŠ¨é‡å¯æœåŠ¡,éå¸¸é€‚åˆç”¨åœ¨å¼€å‘ç¯å¢ƒä¸­ã€‚</p>
<p>nodemon å°†ç›‘è§†å¯åŠ¨ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰ä»»ä½•æ–‡ä»¶æ›´æ”¹ï¼Œnodemon å°†è‡ªåŠ¨é‡æ–°å¯åŠ¨ node åº”ç”¨ç¨‹åºã€‚</p>
<h4 data-id="heading-42">å®‰è£…åŠç¤ºä¾‹</h4>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add  nodemon global
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><code>server.js</code>è¡¨ç¤ºä¸€ä¸ª Node.js å…¥å£æ–‡ä»¶</p>
<pre><code class="hljs language-javascript copyable" lang="javascript">  <span class="hljs-string">"scripts"</span>: &#123;
    <span class="hljs-string">"start"</span>: <span class="hljs-string">"nodemon server.js"</span>,
  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-43">PM2</h3>
<p><a href="https://www.npmjs.com/package/pm2" target="_blank" rel="nofollow noopener noreferrer">PM2</a> æ˜¯ä¸€ä¸ªå…·æœ‰å†…ç½®è´Ÿè½½å‡è¡¡å™¨çš„ Node.js åº”ç”¨ç¨‹åºçš„ç”Ÿäº§æµç¨‹ç®¡ç†å™¨ã€‚æœ‰äº†å®ƒï¼Œä½ å°±å¯ä»¥è®©åº”ç”¨ç¨‹åºæ°¸è¿œä¿æŒæ´»è·ƒï¼Œå¯ä»¥åœ¨ä¸åœæœºçš„å‰æä¸‹é‡æ–°åŠ è½½å®ƒä»¬ï¼Œå¹¶ç®€åŒ–å¸¸è§çš„ç³»ç»Ÿç®¡ç†ä»»åŠ¡ã€‚</p>
<p><img alt="p2-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac4eefa000cb4664b0a208b92d335efa~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-44">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">$</span><span class="bash"> yarn add global pm2</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä½ å¯ä»¥åƒä¸‹é¢ä¸€æ ·å¯åŠ¨ä»»ä½•åº”ç”¨ç¨‹åºï¼ˆNode.jsã€Pythonã€Rubyã€$PATH ä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶â€¦â€¦ï¼‰</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">$</span><span class="bash"> pm2 start app.js</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç°åœ¨ï¼Œä½ çš„åº”ç”¨å°†è¢«å®ˆæŠ¤ã€ç›‘æ§å¹¶æ°¸è¿œä¿æŒæ´»è·ƒã€‚æœ‰å…³æµç¨‹ç®¡ç†çš„æ›´å¤šä¿¡æ¯<a href="https://pm2.keymetrics.io/docs/usage/quick-start/" target="_blank" rel="nofollow noopener noreferrer">è§æ­¤</a>ï¼š</p>
<p>åº”ç”¨ç¨‹åºå¯åŠ¨åï¼Œä½ å°±å¯ä»¥è½»æ¾ç®¡ç†å®ƒä»¬ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼š</p>
<pre><code class="hljs language-shell copyable" lang="shell"><span class="hljs-meta">$</span><span class="bash"> pm2 ls</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><img alt class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/07e62e1a02c640aa88a33e986b4f437d~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<p>æŸ¥é˜…<a href="https://pm2.io/" target="_blank" rel="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼Œä»¥è·å– PM2 åŠŸèƒ½ç»™çš„å®Œæ•´åˆ—è¡¨ã€‚</p>
<h3 data-id="heading-45">Concurrently</h3>
<p><a href="https://www.npmjs.com/package/concurrently" target="_blank" rel="nofollow noopener noreferrer">Concurrently</a>ç®€å•è€Œç›´æ¥â€”â€”å¯åŒæ—¶è¿è¡Œå¤šæ¡å‘½ä»¤çš„å®ç”¨å·¥å…·ã€‚</p>
<p><img alt="Concurrently-github" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/912f956311fb4c589936e6dd03a0a113~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-46">å®‰è£…åŠç¤ºä¾‹</h5>
<pre><code class="hljs language-shell copyable" lang="shell">yarn add concurrently global
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ—¶å¯åŠ¨å‰ç«¯ webpack é¡¹ç›®å’Œ åç«¯ node é¡¹ç›®</p>
<pre><code class="hljs language-json copyable" lang="json"><span class="hljs-comment">// package.json   åŒ</span>
<span class="hljs-string">"scripts"</span>: &#123;
    <span class="hljs-attr">"start"</span>: <span class="hljs-string">"concurrently \"webpack-dev-server\" \"nodemon server.js\""</span>,
  &#125;,
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<hr>
<h2 data-id="heading-47">Web sockets</h2>
<h3 data-id="heading-48">Socket.io</h3>
<p><a href="https://socketio.bootcss.com/" target="_blank" rel="nofollow noopener noreferrer">Socket.IO</a> æ”¯æŒå®æ—¶ã€åŒå‘ã€åŸºäºäº‹ä»¶çš„é€šä¿¡åŠŸèƒ½ã€‚å®ƒèƒ½å¤Ÿè¿è¡Œåœ¨å„ç±»å¹³å°ã€æµè§ˆå™¨åŠè®¾å¤‡ä¹‹ä¸Šï¼Œä¸”æ‹¥æœ‰è‰¯å¥½çš„å¯é æ€§ä¸é€Ÿåº¦è¡¨ç°ã€‚</p>
<p><img alt="Socket.io-office" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67c0f960a6234559ba907592559c04b7~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h4 data-id="heading-49">å®‰è£…åŠç¤ºä¾‹</h4>
<p><a href="https://socketio.bootcss.com/get-started/chat/" target="_blank" rel="nofollow noopener noreferrer">å®˜æ–¹æ•™ç¨‹</a></p>
<h3 data-id="heading-50">WS</h3>
<p><a href="https://www.npmjs.com/package/ws" target="_blank" rel="nofollow noopener noreferrer">WS</a>æ˜“äºä½¿ç”¨ã€å¿«é€Ÿä¸”ç»è¿‡å…¨é¢æµ‹è¯•çš„ WebSocket å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨å®ç°ã€‚åŒæ—¶ä¹Ÿæ˜¯ä¸€å¥—å¼ºå¤§ã€æŠ½è±¡åº¦æ›´ä½ä¸”å‡ ä¹èƒ½å¤Ÿä¸ Socket.io ç›¸åª²ç¾çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p><a href="https://www.npmjs.com/package/ws" target="_blank" rel="nofollow noopener noreferrer">å®˜æ–¹æ•™ç¨‹</a></p>
<hr>
<h2 data-id="heading-51">æœ€å</h2>
<p>åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½ è¿˜ä½¿ç”¨å“ªäº› <strong>NPM å·¥å…·åº“</strong>å‘¢ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹çš„ä½ çš„è§è§£ï¼</p>
<p>è§‰å¾—æœ‰æ”¶è·çš„æœ‹å‹æ¬¢è¿<strong>ç‚¹èµ</strong>ï¼Œ<strong>å…³æ³¨</strong>ä¸€æ³¢!</p>
<h2 data-id="heading-52">å¾€æœŸæ–‡ç« </h2>
<p>react æ„å»ºç³»åˆ—</p>
<ol>
<li><a href="https://juejin.cn/post/6947872709208457253" target="_blank">ä¼ä¸šçº§å‰ç«¯å¼€å‘è§„èŒƒå¦‚ä½•æ­å»º ğŸ› </a></li>
<li><a href="https://juejin.cn/post/6947874258324946952" target="_blank">ã€ŒReact Buildã€ä¹‹é›†æˆ Webpack5/React17</a></li>
<li><a href="https://juejin.cn/post/6947875008840466463" target="_blank">ã€ŒReact Buildã€ä¹‹é›†æˆ CSS/Less/Sass/Antd</a></li>
<li><a href="https://juejin.cn/post/6947875454783062024" target="_blank">ã€ŒReact Buildã€ä¹‹é›†æˆå›¾ç‰‡/å­—ä½“</a></li>
<li><a href="https://juejin.cn/post/6948233242981957640" target="_blank">ã€ŒReact Buildã€ä¹‹é›†æˆ Redux/Typescript</a></li>
<li><a href="https://juejin.cn/post/6948959158783705124" target="_blank">ã€ŒReact Buildã€ä¹‹ä½¿ç”¨ Redux-thunk å®ç° Redux å¼‚æ­¥æ“ä½œ</a></li>
<li><a href="https://juejin.cn/post/6950162473106276360" target="_blank">ã€ŒReact Buildã€ä¹‹é›†æˆ React-Router/Antd Menu å®ç°è·¯ç”±æƒé™</a></li>
</ol></div> <div class="image-viewer-box" data-v-78c9b824><!----></div>  
</div>
            