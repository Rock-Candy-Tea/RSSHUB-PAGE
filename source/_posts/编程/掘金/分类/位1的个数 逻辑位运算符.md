
---
title: '位1的个数 逻辑位运算符'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f92e119a76ac41f4a2bb2112b8f824c8~tplv-k3u1fbpfcp-zoom-1.image'
author: 掘金
comments: false
date: Mon, 22 Mar 2021 04:33:47 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f92e119a76ac41f4a2bb2112b8f824c8~tplv-k3u1fbpfcp-zoom-1.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h3 data-id="heading-0">逻辑位运算符</h3>
<h4 data-id="heading-1">位运算就是对二进制数执行计算，是整数的逐位运算。</h4>
<p><img alt="图片.png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f92e119a76ac41f4a2bb2112b8f824c8~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-2">& 按位与</h3>
<p>如果两个相应的二进制位都为1，则该位的结果值为1，否则为0。
<img alt="carbon(2).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3636a6d92cec4ec79f0e471d6972f843~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-3">| 按位或</h3>
<p>两个相应的二进制位中只要有一个为1，该位的结果值为1。
<img alt="carbon(2).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d47296ad5e884e9c8fcb3d9c968bc978~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-4">^ 按位异或</h3>
<p>若参加运算的两个二进制位值相同则为0，否则为1。
<img alt="carbon(2).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/89e982e976aa4e02b4347c1adad27f37~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-5">~ 取反</h3>
<p>~是一元运算符，用来对一个二进制数按位取反，即将0变1，将1。
<img alt="carbon(3).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5567c77d580e40438dc0e50a7811e7d8~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-6"><< 左移</h3>
<p>用来将一个数的各二进制位全部左移N位，右补0。
<img alt="carbon(3).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/554e3b20ba26405da3801b1417f471d2~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-7">>> 右移</h3>
<p>将一个数的各二进制位右移N位，移到右端的低位被舍弃，对于无符号数， 高位补0。
<img alt="carbon(3).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a69df83fd798422481d45f5a1df83072~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-8">位1的个数</h3>
<p><strong>编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字位数为 '1' 的个数（也被称为汉明重量）。</strong>
提示：
请注意，在某些语言（如 Java）中，没有无符号整数类型。在这种情况下，输入和输出都将被指定为有符号整数类型，并且不应影响您的实现，因为无论整数是有符号的还是无符号的，其内部的二进制表示形式都是相同的。
在 Java 中，编译器使用二进制补码记法来表示有符号整数。因此，在上面的 示例 3 中，输入表示有符号整数 -3。
示例 1：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript">输入：<span class="hljs-number">00000000000000000000000000001011</span>
输出：<span class="hljs-number">3</span>
解释：输入的二进制串 <span class="hljs-number">00000000000000000000000000001011</span> 中，共有三位为 <span class="hljs-string">'1'</span>。
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例 2：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript">输入：<span class="hljs-number">00000000000000000000000010000000</span>
输出：<span class="hljs-number">1</span>
解释：输入的二进制串 <span class="hljs-number">00000000000000000000000010000000</span> 中，共有一位为 <span class="hljs-string">'1'</span>。
<span class="copy-code-btn">复制代码</span></code></pre>
<p>示例 3：</p>
<pre><code class="hljs language-javascript copyable" lang="javascript">输入：<span class="hljs-number">11111111111111111111111111111101</span>
输出：<span class="hljs-number">31</span>
解释：输入的二进制串 <span class="hljs-number">11111111111111111111111111111101</span> 中，共有 <span class="hljs-number">31</span> 位为 <span class="hljs-string">'1'</span>。
<span class="copy-code-btn">复制代码</span></code></pre>
<p>提示：
输入必须是长度为 32 的 二进制串 。
进阶：
如果多次调用这个函数，你将如何优化你的算法？</p>
<h2 data-id="heading-9">思路及解法</h2>
<h3 data-id="heading-10">循环检查</h3>
<p>1.循环检查给定的整数每一位是否为1；</p>
<p>2.将n跟给定的对应位置上的数字进行与运算，如果两个相应的二进制位都为1，则该位的结果值为1，结果加1，否则为0。</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">var</span> hammingWeight = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>&#123;
    <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-number">32</span>; i++) &#123;
        <span class="hljs-comment">//将每一位与n进行与运算，检查是否每一位是否为1</span>
        <span class="hljs-keyword">if</span> ((n & (<span class="hljs-number">1</span> << i)) != <span class="hljs-number">0</span>) &#123;
            res++
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> res
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-11">位运算</h3>
<ol>
<li> n &= n - 1 实现让最低位变为0</li>
<li>减少了循环的次数，记录循环的次数</li>
</ol>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-keyword">var</span> hammingWeight = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>&#123;
    <span class="hljs-keyword">let</span> res = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (n) &#123;
        n &= n - <span class="hljs-number">1</span>; <span class="hljs-comment">//将最低位变为0</span>
        res++;  <span class="hljs-comment">//记录变了几次</span>
    &#125;
    <span class="hljs-keyword">return</span> res;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<p><img alt="carbon(3).png" class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/baecc4e6bcfd42f4b30233f1d9e92931~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-12">补充无符号位移 >>></h3>
<p><code>>>></code>运算符执行五无符号右移位运算。它把无符号的 32 位整数所有数位整体右移。对于无符号数或正数右移运算，无符号右移与有符号右移运算的结果是相同的。</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-built_in">console</span>.log(<span class="hljs-number">1000</span> >> <span class="hljs-number">3</span>);  <span class="hljs-comment">//返回值125</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-number">1000</span> >>> <span class="hljs-number">3</span>);  <span class="hljs-comment">//返回值12</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>对于负数</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-built_in">console</span>.log(-<span class="hljs-number">1000</span> >> <span class="hljs-number">3</span>);  <span class="hljs-comment">//返回值-125</span>
<span class="hljs-built_in">console</span>.log(-<span class="hljs-number">1000</span> >>> <span class="hljs-number">3</span>);  <span class="hljs-comment">//返回值536870787</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>对于负数来说，无符号右移将使用 0 来填充所有的空位，同时会把负数作为正数来处理，所得结果会非常大所以，使用无符号右移运算符时要特别小心，避免意外错误。</p>
<p>如图：左侧空位不再用符号位的值来填充，而是用 0 来填充。
<img alt class="lazyload" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/41a2e3e5126f4e3aa815ecdb7da058e1~tplv-k3u1fbpfcp-zoom-1.image" data-width="800" data-height="600" referrerpolicy="no-referrer"></p></div> <div class="image-viewer-box" data-v-78c9b824><!----></div>  
</div>
            