
---
title: 'å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆäºŒï¼‰'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/492f4bee1d534f489ef55923698209fd~tplv-k3u1fbpfcp-zoom-1.image'
author: æ˜é‡‘
comments: false
date: Tue, 15 Jun 2021 06:53:27 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/492f4bee1d534f489ef55923698209fd~tplv-k3u1fbpfcp-zoom-1.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%&#125;.markdown-body p&#123;color:#595959;font-size:15px;line-height:2;font-weight:400&#125;.markdown-body p+p&#123;margin-top:16px&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;padding:30px 0;margin:0;color:#135ce0&#125;.markdown-body h1&#123;position:relative;text-align:center;font-size:22px;margin:50px 0&#125;.markdown-body h1:before&#123;position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)&#125;.markdown-body h2&#123;position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0&#125;.markdown-body h3&#123;font-size:16px&#125;.markdown-body ul&#123;list-style:disc outside;margin-left:2em;margin-top:1em&#125;.markdown-body li&#123;line-height:2;color:#595959&#125;.markdown-body img.loaded&#123;margin:0 auto;display:block&#125;.markdown-body blockquote&#123;background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5&#125;.markdown-body blockquote p&#123;color:#666;line-height:2&#125;.markdown-body a&#123;color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none&#125;.markdown-body em strong,.markdown-body strong&#123;color:#036aca&#125;.markdown-body hr&#123;border-top:1px solid #135ce0&#125;.markdown-body pre&#123;overflow:auto&#125;.markdown-body code,.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body table&#123;border-collapse:collapse;margin:1rem 0;overflow-x:auto&#125;.markdown-body table td,.markdown-body table th&#123;border:1px solid #dfe2e5;padding:.6em 1em&#125;.markdown-body table tr&#123;border-top:1px solid #dfe2e5&#125;.markdown-body table tr:nth-child(2n)&#123;background-color:#f6f8fa&#125;</style><h1 data-id="heading-0">å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆäºŒï¼‰</h1>
<blockquote>
<p>è¿™æ˜¯æˆ‘å‚ä¸æ›´æ–‡æŒ‘æˆ˜çš„ç¬¬15å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š<a href="https://juejin.cn/post/6967194882926444557" target="_blank">æ›´æ–‡æŒ‘æˆ˜</a></p>
</blockquote>
<p><strong>æ­¤ç³»åˆ—çš„ç›®çš„æ˜¯å¸®åŠ©å‰ç«¯æ–°äººï¼Œç†Ÿæ‚‰ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å¼€å‘æ–¹å¼ä¸ç›¸å…³æŠ€æœ¯çš„ä½¿ç”¨ï¼Œæ™®åŠä¸€äº›é€šè¯†å†…å®¹</strong></p>
<h2 data-id="heading-1">å‰æ™¯å›é¡¾</h2>
<p><a href="https://juejin.cn/post/timeLover-1.md">ä¸Šä¸€ç¯‡æ–‡ç« </a>ï¼Œä¸»è¦é˜è¿°äº†åº”ç”¨å‰ç«¯å·¥ç¨‹çš„æ­å»ºä¸éƒ¨åˆ†é¡µé¢å¼€å‘</p>
<p>æœ¬æ–‡ç®€å•ä»‹ç»ä¸€ä¸‹ä¸€æœŸå‰©ä½™çš„é¡µé¢ï¼ˆ<strong>ä½“é‡è®°å½•é¡µ</strong>ï¼‰å¼€å‘ï¼Œ<strong>ç€é‡é˜è¿°åç«¯</strong>éƒ¨åˆ†çš„å¿…è¦è®¾è®¡</p>
<h2 data-id="heading-2">æœ¬æ–‡æ¶‰åŠå†…å®¹</h2>
<ul>
<li>ä½“é‡è®°å½•é¡µçš„å¼€å‘</li>
<li>åˆå§‹åŒ–åç«¯Node+TypeScripté¡¹ç›®</li>
<li>æ•°æ®åº“è®¾è®¡</li>
<li>æ¥å£è®¾è®¡</li>
<li>äº‘æ•°æ®åº“åˆå§‹åŒ–</li>
<li>æ•°æ®åº“æ“ä½œæ–¹æ³•å°è£…</li>
</ul>
<h2 data-id="heading-3">ä½“é‡è®°å½•é¡µå¼€å‘</h2>
<ul>
<li><a href="https://github.com/ATQQ/timeLover/blob/main/src/pages/funcs/weight/index.vue" target="_blank" rel="nofollow noopener noreferrer">å®Œæ•´æºç </a></li>
</ul>
<p>é¡µé¢æ•´ä½“ä¸Šç”±<code>å¯¼èˆª</code>ï¼Œ<code>æœ€è¿‘ä¸€æ¬¡çš„è®°å½•</code>ï¼Œ<code>å¯¹æ¯”æè¿°</code>ï¼Œ<code>å†å²è®°å½•</code>ï¼Œ<code>æ·»åŠ æ•°æ®å¼¹çª—</code>ç­‰5éƒ¨åˆ†ç»„æˆ</p>
<h3 data-id="heading-4">å¯¼èˆª</h3>
<p>ç›´æ¥ä½¿ç”¨<a href="https://vant-contrib.gitee.io/vant/v3/#/zh-CN/nav-bar" target="_blank" rel="nofollow noopener noreferrer">vant-nav-bar</a></p>
<p><strong>å·¦æŒ‰é’®</strong>è¿”å›ä¸Šä¸€é¡µï¼Œ<strong>å³æŒ‰é’®(icon)</strong> å”¤èµ·æ·»åŠ æ·»åŠ æˆå‘˜çš„<a href="https://vant-contrib.gitee.io/vant/v3/#/zh-CN/dialog" target="_blank" rel="nofollow noopener noreferrer">å¼¹çª—: van-dialog</a></p>
<pre><code class="hljs language-vue copyable" lang="vue"><van-nav-bar
  title="ä½“é‡è®°å½•"
  @click-left="handleBack"
  @click-right="handleAddPeople"
  left-text="è¿”å›"
  left-arrow
>
  <template #right>
    <van-icon name="plus" size="18" />
  </template>
</van-nav-bar>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/492f4bee1d534f489ef55923698209fd~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<p><strong>å¼•å…¥Dialogç»„ä»¶æ³¨æ„ï¼š</strong> ç”±äº<code>Dialog</code>æ”¯æŒç›´æ¥å½“ä½œæ–¹æ³•ä½¿ç”¨<code>Dialog(options)</code>ï¼Œå†å½“ä½œç»„ä»¶æ³¨å†Œæ—¶ä¸å…¶å®ƒç»„ä»¶ä¸å¤ªä¸€æ ·:</p>
<p><code>src/utils/vantUI.ts</code></p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">import</span> &#123; Button, Dialog &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">'vant'</span>

<span class="hljs-keyword">const</span> conponents = [Button]
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mountVantUI</span>(<span class="hljs-params">app: App<Element></span>) </span>&#123;
  conponents.forEach(<span class="hljs-function">(<span class="hljs-params">c</span>) =></span> &#123;
    app.component(c.name, c)
  &#125;)
  <span class="hljs-comment">// ç‰¹åˆ«å¯¹å¾…</span>
  app.component(Dialog.Component.name, Dialog.Component)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-5">æœ€è¿‘ä¸€æ¬¡çš„è®°å½•</h3>
<p>å±•ç¤ºä¸€ä¸‹æ—¶é—´ä¸ä½“é‡å³å¯</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"current-time"</span>></span>2021-06-15 12:00:00<span class="hljs-tag"></<span class="hljs-name">h2</span>></span>
<span class="hljs-tag"><<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"current-weight"</span>></span>48.12<span class="hljs-tag"><<span class="hljs-name">span</span>></span>å…¬æ–¤<span class="hljs-tag"></<span class="hljs-name">span</span>></span><span class="hljs-tag"></<span class="hljs-name">h1</span>></span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bdc583be0b844e4ba8d14903983b261c~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-6">å¯¹æ¯”æè¿°</h3>
<p>åŒ…å«<strong>æœ€æ–°çš„ä¸€æ¬¡è®°å½•</strong>ä¸</p>
<ul>
<li>ä¸Šä¸€æ¬¡æ¯”è¾ƒ</li>
<li>ä¸ä»Šå¤©ç¬¬ä¸€æ¬¡æ¯”è¾ƒ</li>
<li>ä¸æœ¬æœˆç¬¬ä¸€æ¬¡æ¯”è¾ƒ</li>
</ul>
<p>å±•ç¤ºé—´éš”çš„æ—¶é—´ï¼Œå¹¶ååº”ä¸Šå‡/ä¸‹é™çš„ä½“é‡</p>
<p><strong>é¡µé¢ç»“æ„</strong></p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rank"</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(t, idx) in overviewData"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"idx"</span>></span>
  &#123;&#123; t.text &#125;&#125;
  <span class="hljs-tag"><<span class="hljs-name">span</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"t.symbol"</span>></span><span class="hljs-tag"></<span class="hljs-name">span</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"res"</span>></span>&#123;&#123; t.res &#125;&#125;<span class="hljs-tag"></<span class="hljs-name">span</span>></span>
<span class="hljs-tag"></<span class="hljs-name">p</span>></span>

<span class="hljs-comment"><!-- æ¸²æŸ“ç»“æœç¤ºä¾‹ --></span>
<span class="hljs-tag"><<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rank"</span>></span>
  ä¸ä¸Šä¸€æ¬¡æ¯”è¾ƒï¼ˆ5å°æ—¶å‰ï¼‰
  <span class="hljs-tag"><<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"add"</span>></span><span class="hljs-tag"></<span class="hljs-name">span</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"res"</span>></span>5 å…¬æ–¤<span class="hljs-tag"></<span class="hljs-name">span</span>></span>
<span class="hljs-tag"></<span class="hljs-name">p</span>></span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cc4c2193f2864e528fbc31f71af031e1~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<p>å…¶ä¸­â†‘ä¸â†“çš„è¡¨ç¤ºé‡‡ç”¨ä¼ªå…ƒç´ <code>::after</code>è¡¨ç¤º</p>
<pre><code class="hljs language-scss copyable" lang="scss">  <span class="hljs-selector-class">.dec</span><span class="hljs-selector-pseudo">::after</span> &#123;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">'ğŸ '</span>;
    <span class="hljs-attribute">color</span>: green;
    <span class="hljs-attribute">transform</span>: rotate(-<span class="hljs-number">90deg</span>);
  &#125;
  <span class="hljs-selector-class">.inc</span><span class="hljs-selector-pseudo">::after</span> &#123;
    <span class="hljs-attribute">content</span>: <span class="hljs-string">'ğŸ –'</span>;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff6034</span>;
    <span class="hljs-attribute">transform</span>: rotate(-<span class="hljs-number">90deg</span>);
  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><a href="https://github.com/ATQQ/timeLover/blob/7d401d3d7734fc2bf8794c9ffc24db4b5c77dccf/src/pages/funcs/weight/index.ts#L18" target="_blank" rel="nofollow noopener noreferrer">æ—¥æœŸå·®å€¼è®¡ç®—çš„å·¥å…·æ–¹æ³•</a></p>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">const</span> ONE_SECONDS = <span class="hljs-number">1000</span>
<span class="hljs-keyword">const</span> ONE_MINUTE = ONE_SECONDS * <span class="hljs-number">60</span>
<span class="hljs-keyword">const</span> ONE_HOUR = ONE_MINUTE * <span class="hljs-number">60</span>
<span class="hljs-keyword">const</span> ONE_DAY = ONE_HOUR * <span class="hljs-number">24</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTimeDiffDes</span>(<span class="hljs-params">d1: <span class="hljs-built_in">Date</span>, d2: <span class="hljs-built_in">Date</span></span>) </span>&#123;
  <span class="hljs-keyword">const</span> diff = d1.getTime() - d2.getTime()
  <span class="hljs-comment">//   å¤©</span>
  <span class="hljs-keyword">if</span> (diff / ONE_DAY >= <span class="hljs-number">1</span>) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.round(diff / ONE_DAY)&#125;</span>å¤©å‰`</span>
  &#125;

  <span class="hljs-comment">// å°æ—¶</span>
  <span class="hljs-keyword">if</span> (diff / ONE_HOUR >= <span class="hljs-number">1</span>) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.round(diff / ONE_HOUR)&#125;</span>å°æ—¶å‰`</span>
  &#125;
  <span class="hljs-comment">// åˆ†é’Ÿ</span>
  <span class="hljs-keyword">if</span> (diff / ONE_MINUTE >= <span class="hljs-number">1</span>) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.round(diff / ONE_MINUTE)&#125;</span>åˆ†é’Ÿå‰`</span>
  &#125;
  <span class="hljs-comment">// ç§’</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.round(diff / ONE_SECONDS)&#125;</span>ç§’å‰`</span>
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-7">å†å²æ•°æ®å±•ç¤º</h3>
<p>ç›´æ¥å¥—ç”¨Vantçš„ <a href="https://vant-contrib.gitee.io/vant/v3/#/zh-CN/swipe-cell" target="_blank" rel="nofollow noopener noreferrer">van-swipe-cell</a>ä¸ <a href="https://vant-contrib.gitee.io/vant/v3/#/zh-CN/cell" target="_blank" rel="nofollow noopener noreferrer">van-cell</a></p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">van-swipe-cell</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(t, idx) in weights"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"idx"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">van-cell</span> <span class="hljs-attr">:border</span>=<span class="hljs-string">"false"</span> <span class="hljs-attr">:title</span>=<span class="hljs-string">"formatDate(t.date)"</span>></span>
    &#123;&#123; t.weight &#125;&#125;
  <span class="hljs-tag"></<span class="hljs-name">van-cell</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">template</span> #<span class="hljs-attr">right</span>></span>
    <span class="hljs-tag"><<span class="hljs-name">van-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"hadnleDeleteWeight(idx)"</span> <span class="hljs-attr">square</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"danger"</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"åˆ é™¤"</span> /></span>
  <span class="hljs-tag"></<span class="hljs-name">template</span>></span>
<span class="hljs-tag"></<span class="hljs-name">van-swipe-cell</span>></span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>æ•ˆæœ</strong></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/83a43bf0d93246fb9f8e28675a4568cb~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-8">é¡µé¢æœ€ç»ˆæ•ˆæœ</h3>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8a93468fa9e4a49a6b9103572d1b140~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<ul>
<li><a href="https://lover.sugarat.top/funs/weight" target="_blank" rel="nofollow noopener noreferrer">çº¿ä¸Šé¢„è§ˆ</a></li>
</ul>
<h2 data-id="heading-9">åˆå§‹åŒ–åç«¯å·¥ç¨‹</h2>
<p>ç›´æ¥ä½¿ç”¨æ­å»ºçš„<a href="https://github.com/atqq/node-server" target="_blank" rel="nofollow noopener noreferrer">ATQQ/node-server</a>æ¨¡æ¿<a href="https://github.com/ATQQ/node-server/generate" target="_blank" rel="nofollow noopener noreferrer">åˆå§‹åŒ–é¡¹ç›®</a></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb418c4203c34505bfd6c894d552c7b4~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-10">æ¨¡æ¿å·¥ç¨‹ç®€ä»‹</h3>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab24f20e18c94ab89c3c451b553e491e~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-11">æ•°æ®åº“è®¾è®¡</h2>
<p>ä½¿ç”¨: è…¾è®¯äº‘å¼€å‘CloudBaseæä¾›çš„<a href="https://cloud.tencent.com/document/product/876/19369" target="_blank" rel="nofollow noopener noreferrer">äº‘æ•°æ®åº“</a> (æ–‡æ¡£å‹æ•°æ®åº“)</p>
<p>è¿™æ ·ä»å¤´åˆ°å°¾éƒ½ä¸éœ€è¦ä¹°äº‘æœåŠ¡å™¨</p>
<h3 data-id="heading-12">ç›¸å…³éœ€æ±‚ç®€å•å›é¡¾</h3>
<ul>
<li>çŸ­ä¿¡éªŒè¯ç ç™»å½•</li>
<li>æ”¯æŒåŒæ—¶è®°å½•å¤šä¸ªäººçš„æ•°æ®</li>
<li>æ¯ä¸ªæ•°æ®åŒ…å« <code>æ—¥æœŸ</code>ä¸<code>ä½“é‡</code>ä¸¤éƒ¨åˆ†å†…å®¹</li>
</ul>
<p>ç®€å•æ‹ä¸€ä¸‹æ€è·¯ï¼Œä½¿ç”¨ä¸‰å¼ è¡¨<code>ç”¨æˆ·è¡¨ï¼ˆuserï¼‰</code>ï¼Œ<code>æˆå‘˜è¡¨ï¼ˆfamilyï¼‰</code>ï¼Œ<code>è®°å½•è¡¨ï¼ˆrecordï¼‰</code>ï¼Œå…·ä½“è®¾è®¡å¦‚ä¸‹</p>
<h3 data-id="heading-13">ç”¨æˆ·è¡¨-user</h3>

























<table><thead><tr><th align="center">å­—æ®µ</th><th align="center">ç±»å‹</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">userId</td><td align="center">String</td><td align="center">å”¯ä¸€æ ‡è¯†</td></tr><tr><td align="center">phone</td><td align="center">String</td><td align="center">æ‰‹æœºå·</td></tr><tr><td align="center">joinTime</td><td align="center">Date</td><td align="center">æ³¨å†Œæ—¶é—´</td></tr></tbody></table>
<h3 data-id="heading-14">æˆå‘˜è¡¨-family</h3>

























<table><thead><tr><th align="center">å­—æ®µ</th><th align="center">ç±»å‹</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">familyId</td><td align="center">String</td><td align="center">å”¯ä¸€æ ‡è¯†</td></tr><tr><td align="center">userId</td><td align="center">String</td><td align="center">å…³è”åˆ›å»ºç”¨æˆ·</td></tr><tr><td align="center">name</td><td align="center">String</td><td align="center">æˆå‘˜åç§°</td></tr></tbody></table>
<h3 data-id="heading-15">è®°å½•è¡¨-record</h3>



































<table><thead><tr><th align="center">å­—æ®µ</th><th align="center">ç±»å‹</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">recordId</td><td align="center">String</td><td align="center">å”¯ä¸€æ ‡è¯†</td></tr><tr><td align="center">familyId</td><td align="center">String</td><td align="center">å…³è”æˆå‘˜</td></tr><tr><td align="center">userId</td><td align="center">String</td><td align="center">å…³è”åˆ›å»ºç”¨æˆ·</td></tr><tr><td align="center">weight</td><td align="center">Number</td><td align="center">ä½“é‡</td></tr><tr><td align="center">date</td><td align="center">Date</td><td align="center">æ—¥æœŸ</td></tr></tbody></table>
<h2 data-id="heading-16">åˆå§‹åŒ–äº‘æ•°æ®åº“</h2>
<blockquote>
<p>æœåŠ¡ç«¯ä½¿ç”¨Node.jså¼€å‘,ä½¿ç”¨äº‘å¼€å‘æä¾›çš„Node SDKåˆå§‹åŒ–é›†åˆï¼ˆè¡¨ï¼‰</p>
</blockquote>
<p><strong>å®‰è£…ä¾èµ–</strong></p>
<pre><code class="hljs language-js copyable" lang="js">yarn add @cloudbase/node-sdk
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-17">åˆå§‹åŒ–é›†åˆ</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> cloudbase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@cloudbase/node-sdk'</span>)
<span class="hljs-keyword">const</span> app = cloudbase.init(&#123;
    <span class="hljs-attr">secretId</span>:process.env.secretId,
    <span class="hljs-attr">secretKey</span>:process.env.secretKey,
    <span class="hljs-attr">env</span>:process.env.envId
&#125;)

<span class="hljs-keyword">const</span> db = app.database();
db.createCollection(<span class="hljs-string">'user'</span>)
db.createCollection(<span class="hljs-string">'family'</span>)
db.createCollection(<span class="hljs-string">'record'</span>)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å¯ä»¥åœ¨CloudBase-æ•°æ®åº“é¢æ¿çœ‹åˆ°ç»“æœï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/49022a661c7342b6abcde92e5e072216~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-18">æ¥å£è®¾è®¡</h2>
<p>æŒ‰æ•°æ®åº“å¯¹æ¥å£è¿›è¡Œåˆ†ç±»ï¼Œè¿™é‡Œåªé˜è¿°è¯·æ±‚æ–¹æ³•ä¸è·¯å¾„</p>
<p>ä½¿ç”¨<strong>Eolinker</strong>ç®¡ç†ä¸æµ‹è¯•æ¥å£ï¼š<a href="https://easy2.w.eolinker.com/share/index?shareCode=nJMZ5t" target="_blank" rel="nofollow noopener noreferrer">æ­¤å¤„æŸ¥çœ‹å®Œæ•´æ¥å£è®¾è®¡</a></p>
<h3 data-id="heading-19">User</h3>




















<table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è·¯å¾„</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">POST</td><td align="center">/user/login</td><td align="center">ç”¨æˆ·ç™»å½•</td></tr><tr><td align="center">GET</td><td align="center">/user/code</td><td align="center">è·å–ç™»å½•éªŒè¯ç </td></tr></tbody></table>
<h3 data-id="heading-20">Family</h3>















<table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è·¯å¾„</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">POST</td><td align="center">/family/add</td><td align="center">æ·»åŠ æˆå‘˜</td></tr></tbody></table>
<h3 data-id="heading-21">Record</h3>




















<table><thead><tr><th align="center">æ–¹æ³•</th><th align="center">è·¯å¾„</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">POST</td><td align="center">/record/:familyId</td><td align="center">æ·»åŠ è®°å½•</td></tr><tr><td align="center">DELETE</td><td align="center">/record/:recordId</td><td align="center">åˆ é™¤è®°å½•</td></tr></tbody></table>
<h2 data-id="heading-22">åç«¯å¼€å‘</h2>
<h3 data-id="heading-23">æ•°æ®åº“æ“ä½œæ–¹æ³•å°è£…</h3>
<p>æ ¹æ®æ–‡æ¡£<a href="https://cloud.tencent.com/document/product/876/19369" target="_blank" rel="nofollow noopener noreferrer">äº‘å¼€å‘ CloudBase > å¼€å‘æŒ‡å— > æ•°æ®åº“ </a>ç¼–å†™</p>
<h4 data-id="heading-24">JSç‰ˆæœ¬</h4>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> cloudbase = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@cloudbase/node-sdk'</span>)
<span class="hljs-keyword">const</span> app = cloudbase.init(&#123;
    <span class="hljs-attr">secretId</span>:process.env.secretId,
    <span class="hljs-attr">secretKey</span>:process.env.secretKey,
    <span class="hljs-attr">env</span>:process.env.envId
&#125;)

<span class="hljs-keyword">const</span> db = app.database();
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertDocument</span>(<span class="hljs-params">collection, data</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).add(data)
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteDocument</span>(<span class="hljs-params">collection, query</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).remove()
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findDocument</span>(<span class="hljs-params">collection, query</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).get()
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateDocument</span>(<span class="hljs-params">collection, query, data</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).update(data)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-25">TSç‰ˆæœ¬</h4>
<pre><code class="hljs language-ts copyable" lang="ts"><span class="hljs-keyword">import</span> cloudbase <span class="hljs-keyword">from</span> <span class="hljs-string">'@cloudbase/node-sdk'</span>
<span class="hljs-keyword">const</span> app = cloudbase.init(&#123;
    <span class="hljs-attr">secretId</span>: process.env.secretId,
    <span class="hljs-attr">secretKey</span>: process.env.secretKey,
    <span class="hljs-attr">env</span>: process.env.envId
&#125;)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> db = app.database()
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertDocument</span><<span class="hljs-title">T</span>>(<span class="hljs-params">collection: <span class="hljs-built_in">string</span>, data: T | T[]</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).add(data)
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteDocument</span>(<span class="hljs-params">collection: <span class="hljs-built_in">string</span>, query: <span class="hljs-built_in">any</span></span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).remove()
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findDocument</span>(<span class="hljs-params">collection: <span class="hljs-built_in">string</span>, query: <span class="hljs-built_in">any</span></span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).get()
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateDocument</span><<span class="hljs-title">T</span>>(<span class="hljs-params">collection: <span class="hljs-built_in">string</span>, query: <span class="hljs-built_in">any</span>, data:T</span>) </span>&#123;
    <span class="hljs-keyword">return</span> db.collection(collection).where(query).update(data)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-26">æœªå®Œå¾…ç»­</h3>
<p>ç¯‡å¹…æœ‰é™ï¼Œä¸‹ä¸€ç« èŠ‚å†ä»‹ç»åç«¯éƒ¨åˆ†çš„è¯¦ç»†å®ç°ä¸å‰åç«¯å¯¹æ¥ï¼ˆ/(ã„’oã„’)/~~ï¼Œä¸»è¦è¿˜æ˜¯æ²¡ç å®Œï¼‰</p>
<h2 data-id="heading-27">èµ„æ–™æ±‡æ€»</h2>
<ul>
<li><a href="https://github.com/ATQQ/timeLover" target="_blank" rel="nofollow noopener noreferrer">å‰ç«¯é¡¹ç›®æºä»£ç </a></li>
<li><a href="https://github.com/ATQQ/time-lover-server" target="_blank" rel="nofollow noopener noreferrer">åç«¯é¡¹ç›®æºä»£ç </a></li>
<li><a href="https://github.com/ATQQ/node-server" target="_blank" rel="nofollow noopener noreferrer">åç«¯é¡¹ç›®æ¨¡æ¿</a></li>
<li><a href="https://github.com/ATQQ/time-lover-server/blob/master/docs/db.md" target="_blank" rel="nofollow noopener noreferrer">æ•°æ®åº“è®¾è®¡</a></li>
<li><a href="https://easy2.w.eolinker.com/share/project/api/?groupID=-1&shareCode=nJMZ5t&shareToken=$2y$10$gNK48kATh9yIeQokemYpaefvSzmyUwCtpyZ6lEkHh7nQdoZ9PbGrm&shareID=322197" target="_blank" rel="nofollow noopener noreferrer">è¯¦ç»†æ¥å£è®¾è®¡</a></li>
<li><a href="https://cloud.tencent.com/document/product/876/19369" target="_blank" rel="nofollow noopener noreferrer">è…¾è®¯äº‘æ•°æ®åº“åœ°å€</a></li>
<li><a href="https://lover.sugarat.top/dashboard" target="_blank" rel="nofollow noopener noreferrer">é¡¹ç›®çº¿ä¸Šé¢„è§ˆåœ°å€</a></li>
</ul></div>  
</div>
            