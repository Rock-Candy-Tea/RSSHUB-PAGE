
---
title: '让视障人群_看得见_!  设计稿生成代码支持无障碍啦！'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92a74f86ea5541839b131a3ed9605cf8~tplv-k3u1fbpfcp-zoom-1.image'
author: 掘金
comments: false
date: Fri, 07 May 2021 18:51:58 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92a74f86ea5541839b131a3ed9605cf8~tplv-k3u1fbpfcp-zoom-1.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><blockquote>
<p>文/阿里淘系 <a href="https://www.imgcook.com/blog" target="_blank" rel="nofollow noopener noreferrer">F(x) Team</a> - <a href="https://www.zhihu.com/people/chang20159" target="_blank" rel="nofollow noopener noreferrer">苏川</a></p>
</blockquote>
<p>旧文重发 👉<a href="https://juejin.cn/post/6844904127282036749" target="_blank">那些年，我们丢失的信息无碍化意识</a>，当时还是手动让页面支持无障碍，现在用 Imgcook 生成代码的同时也能自动生成无障碍代码啦~</p>
<h2 data-id="heading-0">设计稿生成代码神器 imgcook</h2>
<p><a href="https://www.imgcook.com/" target="_blank" rel="nofollow noopener noreferrer">imgcook</a> 能通过设计稿生成视图代码、数据绑定、部分逻辑代码。
imgcook 对外是开放使用的，访问 <a href="https://imgcook.com/" target="_blank" rel="nofollow noopener noreferrer">imgcook.com</a> 即可。</p>
<h2 data-id="heading-1">为什么要支持无障碍?</h2>
<p>如今互联网高速发展，智能手机人手一部，七八十岁的老爷爷老奶奶都在用腾讯视频、在今日头条上看新闻、用微信聊天刷朋友圈，最有意思的是不用教自己学会了在网上购物，这些互联网产品带给我们的便利视障人群能享受得到吗？在很多人的意识中，他们认为盲人看不见，怎么能上网？</p>
<p>其实，盲人可以在互联网上学习、购物、娱乐、沟通、甚至工作。来看一个 8 分钟的视频→<a href="https://v.youku.com/v_show/id_XNDQ5OTQzOTkzMg==.html" target="_blank" rel="nofollow noopener noreferrer">视频链接</a>
<a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385161456-6ae652c1-8c4e-41a6-8e65-e786c36253dc.mp4%22%2C%22size%22%3A99525495%2C%22percent%22%3A0%2C%22id%22%3A%22oetTN%22%2C%22videoId%22%3A%229a00251a19434760bd87483da29be15b%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463756338-64cee325-4fb7-4796-8c99-2c247d03a3c7.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250478810591%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#oetTN" target="_blank" rel="nofollow noopener noreferrer"></a></p><div align="middle"><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385161456-6ae652c1-8c4e-41a6-8e65-e786c36253dc.mp4%22%2C%22size%22%3A99525495%2C%22percent%22%3A0%2C%22id%22%3A%22oetTN%22%2C%22videoId%22%3A%229a00251a19434760bd87483da29be15b%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463756338-64cee325-4fb7-4796-8c99-2c247d03a3c7.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250478810591%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#oetTN" target="_blank" rel="nofollow noopener noreferrer"><img width="46.56577415599534%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/92a74f86ea5541839b131a3ed9605cf8~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></a></div><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385161456-6ae652c1-8c4e-41a6-8e65-e786c36253dc.mp4%22%2C%22size%22%3A99525495%2C%22percent%22%3A0%2C%22id%22%3A%22oetTN%22%2C%22videoId%22%3A%229a00251a19434760bd87483da29be15b%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463756338-64cee325-4fb7-4796-8c99-2c247d03a3c7.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250478810591%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#oetTN" target="_blank" rel="nofollow noopener noreferrer"><br>
</a><p></p>
<p>视频中的盲人姑娘使用手机大致是这个步骤：</p>
<ul>
<li>触摸屏幕获取焦点</li>
<li>读屏，向用户返回焦点信息</li>
<li>用户操作，焦点反馈</li>
</ul>
<p>现在我们经常使用的智能硬件，都能支持这种需求。</p>
<ul>
<li>苹果系列产品都已内置了 VoiceOver，使用者只需要打开 VoiceOver，就可以通过触摸获取语音提示。</li>
<li>安卓手机内置了 Talkback，功能与 VoiceOver 类似。</li>
<li>windows系统可以下载读屏软件，例如永德、争渡、阳光、NVDA 等. (有什么读屏软件可以推荐？)</li>
</ul>
<p>有了这些读屏功能的支持，我们站在视障人士的角度来使用手机，看看他们是否真的能很方便的使用→<a href="https://v.youku.com/v_show/id_XNDQ5OTQzODAyNA==.html" target="_blank" rel="nofollow noopener noreferrer">视频链接</a>
<a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385405769-22d34d6d-a595-43ec-8e41-46618bc3fd6e.mp4%22%2C%22size%22%3A153491334%2C%22percent%22%3A0%2C%22id%22%3A%22sOr9V%22%2C%22videoId%22%3A%224a0ef5d087e441e68311c053cc6797d1%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463948311-6ee7424d-065a-43e5-b993-511a9fb8ea31.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479290188%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#sOr9V" target="_blank" rel="nofollow noopener noreferrer"></a></p><div align="middle"><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385405769-22d34d6d-a595-43ec-8e41-46618bc3fd6e.mp4%22%2C%22size%22%3A153491334%2C%22percent%22%3A0%2C%22id%22%3A%22sOr9V%22%2C%22videoId%22%3A%224a0ef5d087e441e68311c053cc6797d1%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463948311-6ee7424d-065a-43e5-b993-511a9fb8ea31.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479290188%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#sOr9V" target="_blank" rel="nofollow noopener noreferrer"><img width="29.452852153667052%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14786cb51bee457a97290e238d21fcc4~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></a></div><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385405769-22d34d6d-a595-43ec-8e41-46618bc3fd6e.mp4%22%2C%22size%22%3A153491334%2C%22percent%22%3A0%2C%22id%22%3A%22sOr9V%22%2C%22videoId%22%3A%224a0ef5d087e441e68311c053cc6797d1%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1578463948311-6ee7424d-065a-43e5-b993-511a9fb8ea31.jpeg%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479290188%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22card%22%3A%22video%22%7D#sOr9V" target="_blank" rel="nofollow noopener noreferrer"><br>
</a><p></p>
<p>在开启 VoiceOver 后，通过触摸反馈来接受信息。但从视频上使用过程来看，满屏都是问题。例如：</p>
<ul>
<li>焦点合并问题 - 商品、内容、盘点：图片+文字内容 是一个整体，但只能分开读取到图像和标题。</li>
<li>内容提示问题 - 热门盘点：聚焦到 换一换，但用户不知道这是一个可以点击切换的按钮。</li>
<li>焦点错乱问题 -在点击盘点换一换后，再读取切换后的盘点标题，却还是切换之前的盘点标题。切换这个交互操作导致焦点错乱。</li>
</ul>
<h2 data-id="heading-2">我们可以做什么?</h2>
<p>现在我们可以回到主题，作为网站开发者，我们可以做什么？我们要做的，就是在有了这些读屏功能的支持后，能以更好的方式让读屏软件正确的告诉用户这是什么，可以做什么。</p>
<p>更确切的说，就是要解决以上这些问题：
• 合理划分焦点
• 元素语义化
• 优化提示内容</p>
<p>对应到代码中也就是几个属性的设置：</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">div</span>
    <span class="hljs-attr">accessible</span>=<span class="hljs-string">&#123;true&#125;</span>   //合并焦点，合理划分焦点
    <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&#123;</span>'这是一个商品'&#125;  // 优化提示内容
    <span class="hljs-attr">role</span>=<span class="hljs-string">"link"</span>   // 元素语义化，提示可点击
    <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;()</span> =></span> &#123;
        window.open('xx');
    &#125;&#125;>
    ...
<span class="hljs-tag"></<span class="hljs-name">div</span>></span>

<span class="hljs-tag"><<span class="hljs-name">image</span> 
    <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&#123;true&#125;</span>></span>  // 让元素失去焦点，不可访问
  ...
<span class="hljs-tag"></<span class="hljs-name">image</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>上面视频中美妆学院页面，在添加无障碍属性后，效果是这样的→<a href="https://v.youku.com/v_show/id_XNDQ5OTQzNjM3Ng==.html" target="_blank" rel="nofollow noopener noreferrer">视频链接</a>
<a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385451927-aadacfb3-ccf5-4240-b0cf-1d52b067ba59.mp4%22%2C%22size%22%3A80175442%2C%22percent%22%3A0%2C%22id%22%3A%22L7JVU%22%2C%22videoId%22%3A%22be59a16f81964ec3a67eb27b06e0bb8d%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479854787%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1585304641444-82171839-ccf6-4dee-acfc-75968504b3f9.jpeg%22%2C%22card%22%3A%22video%22%7D#L7JVU" target="_blank" rel="nofollow noopener noreferrer"></a></p><div align="middle"><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385451927-aadacfb3-ccf5-4240-b0cf-1d52b067ba59.mp4%22%2C%22size%22%3A80175442%2C%22percent%22%3A0%2C%22id%22%3A%22L7JVU%22%2C%22videoId%22%3A%22be59a16f81964ec3a67eb27b06e0bb8d%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479854787%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1585304641444-82171839-ccf6-4dee-acfc-75968504b3f9.jpeg%22%2C%22card%22%3A%22video%22%7D#L7JVU" target="_blank" rel="nofollow noopener noreferrer"><img width="29.452852153667052%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/70ab0407c01f4ee38d9518961a449903~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></a></div><a href="https://www.yuque.com/changyfdezone/blog/accessibility?_lake_card=%7B%22status%22%3A%22done%22%2C%22name%22%3A%221531385451927-aadacfb3-ccf5-4240-b0cf-1d52b067ba59.mp4%22%2C%22size%22%3A80175442%2C%22percent%22%3A0%2C%22id%22%3A%22L7JVU%22%2C%22videoId%22%3A%22be59a16f81964ec3a67eb27b06e0bb8d%22%2C%22aliyunVideoSrc%22%3Anull%2C%22taobaoVideoId%22%3A%22250479854787%22%2C%22uploaderId%22%3A84793%2C%22authKey%22%3A%22YXBwX2tleT04MDAwMDAwMTImYXV0aF9pbmZvPXsidGltZXN0YW1wRW5jcnlwdGVkIjoiNzIwZjdiMTMzYjM4MDYxNjI3NTE1Zjk5YjNkODhkZjUifSZkdXJhdGlvbj0mdGltZXN0YW1wPTE1ODUzMDQ5NTM%3D%22%2C%22docUrl%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fchangyfdezone%2Fblog%2Faccessibility%22%2C%22coverUrl%22%3A%22https%3A%2F%2Fcdn.nlark.com%2Fyuque%2F0%2F2020%2Fjpeg%2F84793%2F1585304641444-82171839-ccf6-4dee-acfc-75968504b3f9.jpeg%22%2C%22card%22%3A%22video%22%7D#L7JVU" target="_blank" rel="nofollow noopener noreferrer"><br>
</a><p></p>
<p>这样的反馈对于盲人来说，是不是好使多了？</p>
<h2 data-id="heading-3">最佳实践</h2>
<p>这里给出一些我们以往大促活动中的最佳实践。</p>
<h3 data-id="heading-4">优化策略</h3>
<ul>
<li>补充缺失的朗读文案 aria-label（活动图片，banner图）</li>
<li>减少不必要的朗读焦点。有两种方式
<ul>
<li>在最外层的 div view cell 上加 <code>accessible=&#123;true&#125;</code> 属性，同时增加 <code>aria-label</code> 把内层节点的重要元素都读出来。比如 商品标题 + 价格 + '元'</li>
<li>把不需要朗读的元素加上 <code>aria-hidden=&#123;true&#125;</code> ，屏蔽掉获取朗读焦点。</li>
</ul>
</li>
</ul>
<br> 
<div align="middle"><img width="80.32596041909197%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8a624301a5014839bf2e200052f7ab28~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h3 data-id="heading-5">实践案例</h3>
<h4 data-id="heading-6">版头</h4>
<p>版头上的“大按钮”“双列按钮”的外层节点，增加属性： aria-label="活动链接"</p>
<div align="middle"><img width="35.273573923166474%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5eb0e15aa06b42bba1ed71f91eadfbfc~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h4 data-id="heading-7">泡泡</h4>
<p>去掉无效的“图片”朗读，将焦点聚合，如下：上图中的内容聚合到一个大焦点，并朗读“运动酷玩”。</p>
<ul>
<li>内层节点的 aria-hidden=&#123;true&#125; ，只在最外层 cell 上响应读屏</li>
<li>在最外层的 cell 节点上增加 aria-label="会场标题"</li>
</ul>
<div align="middle"><img width="45.51804423748545%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5f76fdb3298409d912b2e09f3fe6fac~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h4 data-id="heading-8">底部栏</h4>
<p>安卓端底部导航栏机脚垫过细，应如下图绿框所示整个圈选，并朗读“主会场”。</p>
<ul>
<li>内层节点的 aria-hidden=&#123;true&#125; ，只在最外层cell上响应读屏</li>
<li>在最外层的cell节点上增加 aria-label="主会场"</li>
</ul>
<div align="middle"><img width="69.84866123399301%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ef76a754c9047d894bd0a79e5a4e9f6~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h4 data-id="heading-9">榜单标签</h4>
<p>合并节点，aria-label值直接设置为榜单标题、标签标题</p>
<div align="middle"><img width="58.207217694994185%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c4fa71f1900a43cf880cefaf15818211~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h4 data-id="heading-10">有价券</h4>
<p>无券可领的占位图的节点上增加aria-label="活动链接"</p>
<div align="middle"><img width="45.51804423748545%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d796da683aa4757ba9325d6adfdbacd~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h2 data-id="heading-11">Imgcook 自动生成无障碍代码</h2>
<p><strong>无障碍属性的自动生成在 DSL 转换时将一些通用实践加入代码生成即可实现。</strong></p>
<p>服务于大促的 Imgcook 内部版本已经支持自动生成无障碍属性，并且应用在双11大促会场模块中。在「可视化」模式开发完成后，进入「源码模式」，先「保存」，再「同步可视化至源码」，即可看到生成的无障碍属性。</p>
<div align="middle"><img width="93.13154831199068%" src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9f96008213b414a8f0c90156f3ce6f1~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer"></div><br> 
<h4 data-id="heading-12">使用的自定义 DSL 会根据以下规则自动生成无障碍属性：</h4>
<p>1、如果有 onClick 事件，会添加 <code>accessible</code>、<code>role</code> 与  <code>aria-label</code> 属性如下，<code>aria-label</code> 的值由节点内部所有文本拼接。</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">View</span>
  <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;xxx&#125;</span>
<span class="hljs-attr">accessible</span>=<span class="hljs-string">&#123;true&#125;</span> 
  <span class="hljs-attr">role</span>=<span class="hljs-string">"link"</span> 
  <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&#123;</span>`关注`&#125;></span>
  ...
<span class="hljs-tag"></<span class="hljs-name">View</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>2、如果有 href 属性，会添加 <code>accessible</code> 与 <code>aria-label</code> 如下，<code>aria-label</code> 的值由节点内部所有文本拼接。</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">TrackerLink</span>
  <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.primary&#125;</span>
  <span class="hljs-attr">href</span>=<span class="hljs-string">&#123;state.url&#125;</span>
  <span class="hljs-attr">accessible</span>=<span class="hljs-string">&#123;true&#125;</span>
  <span class="hljs-attr">aria-label</span>=<span class="hljs-string">&#123;</span>`¥$&#123;<span class="hljs-attr">state.price</span>&#125;券后价$&#123;<span class="hljs-attr">state.originPrice</span>&#125;`&#125;
></span>
  ...
<span class="hljs-tag"></<span class="hljs-name">TrackerLink</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>3、如果是图片，并且图片节点上没有 onClick 事件，会添加 <code>aria-hidden=&#123;true&#125;</code></p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">Picture</span>
   <span class="hljs-attr">style</span>=<span class="hljs-string">&#123;styles.item&#125;</span>
   <span class="hljs-attr">autoScaling</span>=<span class="hljs-string">&#123;false&#125;</span>
   <span class="hljs-attr">autoPixelRatio</span>=<span class="hljs-string">&#123;true&#125;</span>
   <span class="hljs-attr">forceUpdate</span>=<span class="hljs-string">&#123;true&#125;</span>
   <span class="hljs-attr">source</span>=<span class="hljs-string">&#123;&#123;</span> <span class="hljs-attr">uri:</span> <span class="hljs-attr">item.itemImg</span> &#125;&#125;
   <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">&#123;true&#125;</span>   // 让图片失去焦点
/></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>所以，你只需要在自定义DSL中加入无障碍属性生成逻辑，即可让你的网页都支持信息无障碍了！</strong></p>
<h2 data-id="heading-13">自定义 DSL 文档</h2>
<ul>
<li><a href="https://www.imgcook.com/docs?slug=dsl-dev" target="_blank" rel="nofollow noopener noreferrer">自定义 DSL</a></li>
<li><a href="https://www.imgcook.com/docs/official-dsl-plugin" target="_blank" rel="nofollow noopener noreferrer">官方 DSL</a></li>
<li><a href="https://www.imgcook.com/docs/dsl-use" target="_blank" rel="nofollow noopener noreferrer">DSL 使用指南</a></li>
</ul>
<h2 data-id="heading-14">测试方式</h2>
<p>开发完成后在手机上可通过如下方式测试无障碍能力。</p>
<h4 data-id="heading-15">iOS</h4>
<ul>
<li>VoiceOver 的开关：「设置」 -> 「通用」 -> 「辅助功能」 -> 「旁白」或者「视觉 - VoiceOver」 。</li>
<li>长按 Home 键(需设置)调出 Siri，说 「VoiceOver」，Siri 会显示入口。</li>
<li>「设置」 -> 「通用」 -> 「辅助功能」 -> 「辅助功能快捷键」，选择「VoiceOver」。后续连按三次 Home 键则可以快速开启/关闭 VoiceOver。</li>
</ul>
<h4 data-id="heading-16">Android</h4>
<ul>
<li>安卓手机 Talkback 入口各有不同，在「设置」中找到 「辅助功能」或者 「高级功能」，在子目录中找到「Talkback」或者 「无障碍」打开即可。</li>
<li>或者「设置」，搜索 talkback 或 无障碍，开启功能即可。</li>
</ul>
<p>功能开启后，单击功能是选中并朗读元素，左滑右滑 = 切换上下个朗读焦点；快速双击 = 单击，滑动需要双指操作。</p>
<h2 data-id="heading-17">无障碍编程指南</h2>
<ul>
<li>iOS：<a href="https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/iPhoneAccessibility/Introduction/Introduction.html" target="_blank" rel="nofollow noopener noreferrer">iOS无障碍编程指南</a></li>
<li>Android： <a href="http://developer.android.com/intl/zh-cn/guide/topics/ui/accessibility/index.html" target="_blank" rel="nofollow noopener noreferrer">《Android无障碍开发指南》</a></li>
<li>Web：<a href="https://www.w3.org/Translations/WCAG20-zh/" target="_blank" rel="nofollow noopener noreferrer">Web内容无障碍指南 (WCAG)</a>、<a href="http://www.w3cplus.com/wai-aria/wai-aria.html" target="_blank" rel="nofollow noopener noreferrer">WAI-ARIA 无障碍Web规范</a></li>
<li>ReactNative: <a href="https://reactnative.cn/docs/0.51/accessibility.html" target="_blank" rel="nofollow noopener noreferrer">ReactNative无障碍功能</a></li>
<li>Weex: <a href="https://lark.alipay.com/experience/white-paper/accessibility-weex-dev" target="_blank" rel="nofollow noopener noreferrer">Weex 无障碍能力手册</a></li>
<li>Rax: <a href="http://rax.alibaba-inc.com/docs/aria/lfl2cq" target="_blank" rel="nofollow noopener noreferrer">Rax 无障碍</a></li>
</ul>
<h2 data-id="heading-18">扩展阅读</h2>
<ul>
<li>
<p><a href="http://www.siaa.org.cn/static/image/img_media/%E4%B8%AD%E5%9B%BD%E4%BA%92%E8%81%94%E7%BD%91%E8%A7%86%E9%9A%9C%E7%94%A8%E6%88%B7%E5%9F%BA%E6%9C%AC%E6%83%85%E5%86%B5%E6%8A%A5%E5%91%8A.pdf" target="_blank" rel="nofollow noopener noreferrer">中国互联网视障用户基本情况报告2016年3月pdf</a></p>
</li>
<li>
<p><a href="https://www.zhihu.com/question/32288332" target="_blank" rel="nofollow noopener noreferrer">互联网高速发展的今天，盲人的生活有什么样的改变？</a></p>
<br>
<hr>
<div align="middle"><a href="https://weibo.com/7513068590/profile?topnav=1&wvr=6&is_all=1" target="_blank" rel="nofollow noopener noreferrer"> 淘系前端-F-x-Team 开通微博</a> 啦！（微博登录后可见）</div>
<div align="middle">除文章外还有更多的团队内容等你解锁🔓</div>
<div align="middle">
  <a href="https://weibo.com/7513068590/profile?topnav=1&wvr=6&is_all=1" target="_blank" rel="nofollow noopener noreferrer"> 
    <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/369f5d99db7c423ca5f337324c9ff362~tplv-k3u1fbpfcp-zoom-1.image" loading="lazy" referrerpolicy="no-referrer">
  </a>
</div>
<br>
</li>
</ul></div>  
</div>
            