
---
title: '「前端刷题」6. Z 字形变换'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab5f77e1318745a28c23c1493e6eac6b~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Fri, 06 Aug 2021 06:37:28 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab5f77e1318745a28c23c1493e6eac6b~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p><strong>这是我参与8月更文挑战的第5天，活动详情查看：<a href="https://juejin.cn/post/6987962113788493831" title="https://juejin.cn/post/6987962113788493831" target="_blank">8月更文挑战</a></strong></p>
<h2 data-id="heading-0">题目</h2>
<p>将一个给定字符串 <code>s</code> 根据给定的行数 <code>numRows</code> ，以从上往下、从左到右进行 Z 字形排列。</p>
<p>比如输入字符串为 <code>"PAYPALISHIRING"</code> 行数为 <code>3</code> 时，排列如下：</p>
<p>P   A   H   N
A P L S I I G
Y   I   R</p>
<p>之后，你的输出需要从左往右逐行读取，产生出一个新的字符串，比如：<code>"PAHNAPLSIIGYIR"</code>。</p>
<p>请你实现这个将字符串进行指定行数变换的函数：</p>
<p>string convert(string s, int numRows);</p>
<p> </p>
<p><strong>示例 1：</strong></p>
<p><strong>输入：</strong> s = "PAYPALISHIRING", numRows = 3
<strong>输出：</strong> "PAHNAPLSIIGYIR"</p>
<p><strong>示例 2：</strong></p>
<p><strong>输入：</strong> s = "PAYPALISHIRING", numRows = 4
<strong>输出：</strong> "PINALSIGYAHRPI"
<strong>解释：</strong>
P     I    N
A   L S  I G
Y A   H R
P     I</p>
<p><strong>示例 3：</strong></p>
<p><strong>输入：</strong> s = "A", numRows = 1
<strong>输出：</strong> "A"</p>
<p> </p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 <= s.length <= 1000</code></li>
<li><code>s</code> 由英文字母（小写和大写）、<code>','</code> 和 <code>'.'</code> 组成</li>
<li><code>1 <= numRows <= 1000</code></li>
</ul>
<h2 data-id="heading-1">解题思路</h2>
<h3 data-id="heading-2">思路1</h3>
<ul>
<li>1.行数是固定的</li>
<li>2.写入顺序是固定的，下上下上下上。。。。</li>
<li>3.可不可以遍历s的同时，控制上下顺序，写入对应的行，最后合并</li>
<li>4.当字符串长度没有行数多市，为一列，或者行数为1的情况，不需要计算</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> convert = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s, numRows</span>) </span>&#123;
    <span class="hljs-comment">// 可能存在字符串长度没有行数多的情况，和一行的情况，就直接返回</span>
    <span class="hljs-keyword">if</span>(s.length<=numRows || numRows === <span class="hljs-number">1</span>)&#123;<span class="hljs-keyword">return</span> s&#125;
    <span class="hljs-comment">// 创建一个数组，个数为行数</span>
    <span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(numRows).fill(<span class="hljs-string">''</span>)
    <span class="hljs-comment">// 当前字母对应的行</span>
    <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span>
    <span class="hljs-comment">// true 表示向下+ ，false 为向上-</span>
    <span class="hljs-keyword">let</span> plus = <span class="hljs-literal">true</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i<s.length;i++)&#123;
        <span class="hljs-comment">// 每次项当前行里添加字符串</span>
        arr[num] += s[i]

        <span class="hljs-keyword">if</span>(plus)&#123; <span class="hljs-comment">// 向下行+1</span>
            num += <span class="hljs-number">1</span>
        &#125;<span class="hljs-keyword">else</span>&#123; <span class="hljs-comment">// 向上行-1</span>
            num -= <span class="hljs-number">1</span>
        &#125;

        <span class="hljs-keyword">if</span>(num === <span class="hljs-number">0</span>)&#123; <span class="hljs-comment">// 再次到 0 说明到顶了要向下了，为true</span>
            plus = <span class="hljs-literal">true</span>
        &#125;
        <span class="hljs-keyword">if</span>(num === numRows-<span class="hljs-number">1</span>)&#123; <span class="hljs-comment">// 再次到 底部 说明要向上了，为false</span>
            plus = <span class="hljs-literal">false</span>
        &#125;
        
    &#125;
    <span class="hljs-keyword">return</span> arr.join(<span class="hljs-string">''</span>)
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-3">思路2</h3>
<ul>
<li>整体的思路是遍历字符串，遍历过程中将每行都看成新的字符串构成字符串数组，最后再将该数组拼接起来即可</li>
<li>如果 numRows=1numRows=1numRows=1 则说明当前字符串即为结果，直接返回</li>
<li>否则整个字符串需要经历，向下向右，向下向右，这样的反复循环过程，设定 downdowndown 变量表示是否向下，loclocloc 变量表示当前字符串数组的下标</li>
<li>如果 downdowndown 为 truetruetrue，则 loc+=1loc+=1loc+=1，字符串数组下标向后移动，将当前字符加入当前字符串中</li>
<li>如果 downdowndown 为 falsefalsefalse，则表示向右，则 loc−=1loc-=1loc−=1，字符串数组下标向前移动，将当前字符加入当前字符串中</li>
<li>时间复杂度：O(n)O(n)O(n)，nnn为字符串s的长度</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> <span class="hljs-variable">s</span></span>
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;number&#125;</span> <span class="hljs-variable">numRows</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;string&#125;</span></span>
 */</span>
<span class="hljs-keyword">var</span> convert = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s, numRows</span>) </span>&#123;
    <span class="hljs-keyword">if</span>(numRows == <span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span> s;

    <span class="hljs-keyword">const</span> len = <span class="hljs-built_in">Math</span>.min(s.length, numRows);
    <span class="hljs-keyword">const</span> rows = [];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i< len; i++) rows[i] = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">let</span> loc = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> down = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> c <span class="hljs-keyword">of</span> s) &#123;
        rows[loc] += c;
        <span class="hljs-keyword">if</span>(loc == <span class="hljs-number">0</span> || loc == numRows - <span class="hljs-number">1</span>)
            down = !down;
        loc += down ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>;
    &#125;

    <span class="hljs-keyword">let</span> ans = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> row <span class="hljs-keyword">of</span> rows) &#123;
        ans += row;
    &#125;
    <span class="hljs-keyword">return</span> ans;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-4">图</h3>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ab5f77e1318745a28c23c1493e6eac6b~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/69a259279b0c48b7b7a386145d833af6~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ce9877819e0b46b095af12003cf6926b~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/248b5ccdfd664f12ab9df1fb81a12987~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e89adeba48254b05a9faeb87245d71bb~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9639f493ffd448b8c678249250b111f~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/863b46ddbcf941e7aca9522317a07e69~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/15b628e108b64c6c8116db2c36a46f8e~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/79054434a3e646749d12a3e7a87c320a~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-5">最后</h2>
<p>曾梦想仗剑走天涯</p>
<p>看一看世界的繁华</p>
<p>年少的心总有些轻狂</p>
<p>终究不过是个普通人</p>
<p>无怨无悔我走我路</p>
<p>「前端刷题」No.6</p></div>  
</div>
            