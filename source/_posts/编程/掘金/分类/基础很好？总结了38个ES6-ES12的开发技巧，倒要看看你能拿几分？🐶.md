
---
title: '基础很好？总结了38个ES6-ES12的开发技巧，倒要看看你能拿几分？🐶'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5fb42ff618d429d9d152343be54abe9~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Wed, 11 Aug 2021 16:32:19 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5fb42ff618d429d9d152343be54abe9~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%&#125;.markdown-body p&#123;color:#595959;font-size:15px;line-height:2;font-weight:400&#125;.markdown-body p+p&#123;margin-top:16px&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;padding:30px 0;margin:0;color:#135ce0&#125;.markdown-body h1&#123;position:relative;text-align:center;font-size:22px;margin:50px 0&#125;.markdown-body h1:before&#123;position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)&#125;.markdown-body h2&#123;position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0&#125;.markdown-body h3&#123;font-size:16px&#125;.markdown-body ul&#123;list-style:disc outside;margin-left:2em;margin-top:1em&#125;.markdown-body li&#123;line-height:2;color:#595959&#125;.markdown-body img.loaded&#123;margin:0 auto;display:block&#125;.markdown-body blockquote&#123;background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5&#125;.markdown-body blockquote p&#123;color:#666;line-height:2&#125;.markdown-body a&#123;color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none&#125;.markdown-body em strong,.markdown-body strong&#123;color:#036aca&#125;.markdown-body hr&#123;border-top:1px solid #135ce0&#125;.markdown-body pre&#123;overflow:auto&#125;.markdown-body code,.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body table&#123;border-collapse:collapse;margin:1rem 0;overflow-x:auto&#125;.markdown-body table td,.markdown-body table th&#123;border:1px solid #dfe2e5;padding:.6em 1em&#125;.markdown-body table tr&#123;border-top:1px solid #dfe2e5&#125;.markdown-body table tr:nth-child(2n)&#123;background-color:#f6f8fa&#125;</style><h2 data-id="heading-0">前言</h2>
<p>大家好，首先表明一下，标题没有恶意哈哈。请原谅本菜鸡。都是为了帮助大家，大家可以把自己认识几个，得了多少分，发在留言里哈。一个一分，总分38分</p>
<p>大家好，我是林三心，这段时间很多兄弟姐妹都来问我问题，我也看过很多他们的代码。给我的感觉就是，代码的使用还停留在了ES5的那个阶段，很多用新语法就能轻松实现的，却都不怎么了解，所以我就打算写一篇文章，总结一下在我工作中用过的非常实用的<code>ES6，ES7，ES8，ES9，ES10，ES11，ES12</code>语法。</p>
<p>首先说明一下：我这里只是举了最基础的例子，但是项目中要怎么去灵活运用，这个就要各位同学自己去摸索了。</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b5fb42ff618d429d9d152343be54abe9~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-1">ES6</h2>
<h3 data-id="heading-2">1、let 和 const</h3>
<p>这两个的出现，总感觉是为了开发的代码规范而出现的。我们要逐渐放弃var，在项目中多用let和const</p>
<p>与var的区别：</p>
<ul>
<li>var有变量提升，有初始化提升，值可变</li>
<li>let有变量提升，没有初始化提升，值可变</li>
<li>const有变量提升，没有初始化提升，值不可变，但如果是定义对象，则属性可变</li>
</ul>
<p><code>暂时性死区</code>问题说明：其实<code>let和const</code>是有变量提升的，但是没有初始化提升：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'林三心'</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(name)
  <span class="hljs-keyword">let</span> name = <span class="hljs-string">'sunshin_lin'</span>
&#125;
fn() <span class="hljs-comment">// Cannot access 'name' before initialization</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>块级作用域解决问题：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-number">5</span>; i++) &#123;
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
    <span class="hljs-built_in">console</span>.log(i)
  &#125;)
&#125; <span class="hljs-comment">// 5 5 5 5 5</span>


<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-number">5</span>; i++) &#123;
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
    <span class="hljs-built_in">console</span>.log(i)
  &#125;)
&#125; <span class="hljs-comment">// 0 1 2 3 4</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-3">2、默认参数</h3>
<p>开发中你曾遇到过这样的问题，如果参数不传进来，你就设置默认参数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">name, age</span>) </span>&#123;
  <span class="hljs-keyword">var</span> name = name || <span class="hljs-string">'林三心'</span>
  <span class="hljs-keyword">var</span> age = age || <span class="hljs-number">18</span>
  <span class="hljs-built_in">console</span>.log(name, age)
&#125;
fn() <span class="hljs-comment">// 林三心 18</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>但是这么写确实不优雅，可以使用ES6的默认参数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">name = <span class="hljs-string">'林三心'</span>, age = <span class="hljs-number">18</span></span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(name, age)
&#125;
fn() <span class="hljs-comment">// 林三心 18</span>
fn(<span class="hljs-string">'sunshine'</span>, <span class="hljs-number">22</span>) <span class="hljs-comment">// sunshine 22</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-4">3、扩展运算符</h3>
<p>曾经的我，想要拼接多个数组，我只能这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]
<span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]
<span class="hljs-keyword">const</span> arr3 = [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]

<span class="hljs-keyword">const</span> arr = arr1.concat(arr2).concat(arr3)
[
  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,
  <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>
]
<span class="copy-code-btn">复制代码</span></code></pre>
<p>现在的我，可以更优雅地进行拼接</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>]
<span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>]
<span class="hljs-keyword">const</span> arr3 = [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]

<span class="hljs-keyword">const</span> arr = [...arr1, ...arr2, ...arr3]
[
  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,
  <span class="hljs-number">7</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>
]
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-5">4、剩余参数</h3>
<p>大家可能遇到过这种问题，一个函数，传入参数的个数是不确定的，这就可以用ES6的剩余参数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">name, ...params</span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(name)
  <span class="hljs-built_in">console</span>.log(params)
&#125;
fn (<span class="hljs-string">'林三心'</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// 林三心 [ 1, 2 ]</span>
fn (<span class="hljs-string">'林三心'</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// 林三心 [ 1, 2, 3, 4, 5 ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-6">5、模板字符串</h3>
<p>以前的我，拼接字符串只能这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'林三心'</span>
<span class="hljs-keyword">const</span> age = <span class="hljs-string">'22'</span>

<span class="hljs-built_in">console</span>.log(name + <span class="hljs-string">'今年'</span> + age + <span class="hljs-string">'岁啦'</span>) <span class="hljs-comment">// 林三心今年22岁啦</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>现在我可以这么做，会更优雅</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'林三心'</span>
<span class="hljs-keyword">const</span> age = <span class="hljs-string">'22'</span>

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;name&#125;</span>今年<span class="hljs-subst">$&#123;age&#125;</span>岁啦`</span>) <span class="hljs-comment">// 林三心今年22岁啦</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-7">6、Object.keys</h3>
<p>可以用来获取对象的key的集合，进而可以获得对应key的value</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span>
&#125;

<span class="hljs-keyword">const</span> keys = <span class="hljs-built_in">Object</span>.keys(obj)
<span class="hljs-built_in">console</span>.log(keys) <span class="hljs-comment">// [ 'name', 'age', 'gender' ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-8">7、箭头函数</h3>
<p>以前我们使用普通函数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params"></span>) </span>&#123;&#125;

<span class="hljs-keyword">const</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>ES6新加了<code>箭头函数</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> fn = <span class="hljs-function">() =></span> &#123;&#125;

<span class="hljs-comment">// 如果只有一个参数，可以省略括号</span>
<span class="hljs-keyword">const</span> fn = <span class="hljs-function"><span class="hljs-params">name</span> =></span> &#123;&#125;

<span class="hljs-comment">// 如果函数体里只有一句return</span>
<span class="hljs-keyword">const</span> fn = <span class="hljs-function"><span class="hljs-params">name</span> =></span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * name
&#125;
<span class="hljs-comment">// 可简写为</span>
<span class="hljs-keyword">const</span> fn = <span class="hljs-function"><span class="hljs-params">name</span> =></span> <span class="hljs-number">2</span> * name
<span class="hljs-comment">// 如果返回的是对象</span>
<span class="hljs-keyword">const</span> fn = <span class="hljs-function"><span class="hljs-params">name</span> =></span> (&#123; <span class="hljs-attr">name</span>: name &#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<p>普通函数和箭头函数的区别：</p>
<ul>
<li>1、箭头函数不可作为构造函数，不能使用new</li>
<li>2、箭头函数没有自己的this</li>
<li>3、箭头函数没有arguments对象</li>
<li>4、箭头函数没有原型对象</li>
</ul>
<h3 data-id="heading-9">8、Array.forEach</h3>
<p>ES6新加的数组遍历方法</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> eachArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-comment">// 三个参数：遍历项 索引 数组本身</span>
<span class="hljs-comment">// 配合箭头函数</span>
eachArr.forEach(<span class="hljs-function">(<span class="hljs-params">item, index, arr</span>) =></span> &#123;
  <span class="hljs-built_in">console</span>.log(item, index, arr)
&#125;)
<span class="hljs-number">1</span> <span class="hljs-number">0</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="hljs-number">2</span> <span class="hljs-number">1</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="hljs-number">3</span> <span class="hljs-number">2</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="hljs-number">4</span> <span class="hljs-number">3</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="hljs-number">5</span> <span class="hljs-number">4</span> [ <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-10">9、Array.map</h3>
<p>常用于返回一个处理过后的新数组</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> mapArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-comment">// 三个参数：遍历项 索引 数组本身</span>
<span class="hljs-comment">// 配合箭头函数，对每一个元素进行翻倍</span>
<span class="hljs-keyword">const</span> mapArr2 = mapArr.map(<span class="hljs-function">(<span class="hljs-params">num, index, arr</span>) =></span> <span class="hljs-number">2</span> * num)
<span class="hljs-built_in">console</span>.log(mapArr2)
[ <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span> ]
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-11">10、Array.filter</h3>
<p>顾名思义，用来过滤的方法</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> filterArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-comment">// 三个参数：遍历项 索引 数组本身</span>
<span class="hljs-comment">// 配合箭头函数，返回大于3的集合</span>
<span class="hljs-keyword">const</span> filterArr2 = filterArr.filter(<span class="hljs-function">(<span class="hljs-params">num, index, arr</span>) =></span> num > <span class="hljs-number">3</span>)
<span class="hljs-built_in">console</span>.log(filterArr2)
[ <span class="hljs-number">4</span>, <span class="hljs-number">5</span> ]
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-12">11、Array.some</h3>
<p>some，意思就是只有一个是真，那就返回真</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> someArr = [<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]

<span class="hljs-comment">// 三个参数：遍历项 索引 数组本身</span>
<span class="hljs-comment">// 配合箭头函数，只要有一个为true，就返回true，一个都true都没有，就返回false</span>
<span class="hljs-keyword">const</span> someArr2 = someArr.some(<span class="hljs-function">(<span class="hljs-params">bol, index, arr</span>) =></span> bol)
<span class="hljs-built_in">console</span>.log(someArr2)
<span class="hljs-literal">true</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-13">12、Array.every</h3>
<p>every跟some是相反的，some是只有一个就行，every是要所有为真才返回真</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> everyArr = [<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>]

<span class="hljs-comment">// 三个参数：遍历项 索引 数组本身</span>
<span class="hljs-comment">// 配合箭头函数，需要所有为true，才返回true，否则返回false</span>
<span class="hljs-keyword">const</span> everyArr2 = everyArr.every(<span class="hljs-function">(<span class="hljs-params">bol, index, arr</span>) =></span> bol)
<span class="hljs-built_in">console</span>.log(everyArr2)
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-14">13、Array.reduce</h3>
<ul>
<li>第一个参数callback函数： pre为上次return的值，next为数组的本次遍历的项</li>
<li>第二个参数为初始值，也是第一个pre</li>
</ul>
<p>举两个例子：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 计算 1 + 2 + 3 + 4 + 5</span>
<span class="hljs-keyword">const</span> reduceArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
<span class="hljs-keyword">const</span> sum = reduceArr.reduce(<span class="hljs-function">(<span class="hljs-params">pre, next</span>) =></span> &#123;
  <span class="hljs-keyword">return</span> pre + next
&#125;, <span class="hljs-number">0</span>)
<span class="hljs-built_in">console</span>.log(sum) <span class="hljs-comment">// 15</span>

<span class="hljs-comment">// 统计元素出现个数</span>
<span class="hljs-keyword">const</span> nameArr = [<span class="hljs-string">'林三心'</span>, <span class="hljs-string">'sunshine_lin'</span>, <span class="hljs-string">'林三心'</span>, <span class="hljs-string">'林三心'</span>, <span class="hljs-string">'科比'</span>]
<span class="hljs-keyword">const</span> totalObj = nameArr.reduce(<span class="hljs-function">(<span class="hljs-params">pre, next</span>) =></span> &#123;
  <span class="hljs-keyword">if</span> (pre[next]) &#123;
    pre[next]++
  &#125; <span class="hljs-keyword">else</span> &#123;
    pre[next] = <span class="hljs-number">1</span>
  &#125;
  <span class="hljs-keyword">return</span> pre
&#125;, &#123;&#125;)
<span class="hljs-built_in">console</span>.log(totalObj) <span class="hljs-comment">// &#123; '林三心': 3, sunshine_lin: 1, '科比': 1 &#125;</span>

<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-15">14、对象属性同名简写</h3>
<p>以前同名属性需要这么写</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'林三心'</span>
<span class="hljs-keyword">const</span> age = <span class="hljs-string">'22'</span>

<span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: name,
  <span class="hljs-attr">age</span>: age
&#125;

<span class="hljs-built_in">console</span>.log(obj) <span class="hljs-comment">// &#123; name: '林三心', age: '22' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>ES6新增语法，只需这么写</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'林三心'</span>
<span class="hljs-keyword">const</span> age = <span class="hljs-string">'22'</span>

<span class="hljs-comment">// 属性同名可简写</span>
<span class="hljs-keyword">const</span> obj = &#123;
  name
  age
&#125;

<span class="hljs-built_in">console</span>.log(obj) <span class="hljs-comment">// &#123; name: '林三心', age: '22' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-16">15、Promise</h3>
<p><code>Promise</code>，中文名为<code>承诺</code>，承诺在哪呢？承诺在，一旦他的状态改变，就不会再改。这里就介绍基本使用，如果想要深入理解如何使用，请看我的另一篇文章<a href="https://juejin.cn/post/6994594642280857630" target="_blank" title="https://juejin.cn/post/6994594642280857630">看了就会，手写Promise原理，最通俗易懂的版本！！！</a></p>
<p>看看基本使用</p>
<ul>
<li>成功状态</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">requestData</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-comment">// 模拟请求</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-string">'林三心'</span>)
    &#125;, <span class="hljs-number">1000</span>)
  &#125;)
&#125;

requestData().then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res) <span class="hljs-comment">// 一秒钟后输出 '林三心'</span>
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err)
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>失败状态</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">requestData</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-comment">// 模拟请求</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      reject(<span class="hljs-string">'错误啦'</span>)
    &#125;, <span class="hljs-number">1000</span>)
  &#125;)
&#125;

requestData().then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res)
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err) <span class="hljs-comment">// 一秒钟后输出 '错误啦'</span>
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li><code>all</code>方法
<ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>如果所有Promise都成功，则返回成功结果数组</li>
<li>如果有一个Promise失败，则返回这个失败结果</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 如果全都为成功</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-number">88</span>)
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.all([fn(<span class="hljs-number">2000</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-comment">// 3秒后输出 [ '2000毫秒后我成功啦！！！', '3000毫秒后我成功啦！！！', '1000毫秒后我成功啦！！！' ]</span>
  <span class="hljs-built_in">console</span>.log(res) 
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err)
&#125;)



<span class="hljs-comment">// 如果有一个失败</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time, isResolve</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      isResolve ? resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : reject(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.all([fn(<span class="hljs-number">2000</span>, <span class="hljs-literal">true</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>, <span class="hljs-literal">true</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res)
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err) <span class="hljs-comment">// 3秒后输出 '3000毫秒后我失败啦！！！'</span>
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li><code>race</code>方法
<ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>哪个Promise最快得到结果，就返回那个结果，无论成功失败</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time, isResolve</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      isResolve ? resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : reject(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.race([fn(<span class="hljs-number">2000</span>, <span class="hljs-literal">true</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res)
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err) <span class="hljs-comment">// 1秒后输出</span>
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-17">16、class</h3>
<p>以前咱们使用构造函数生成对象，这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">name</span>) </span>&#123;
  <span class="hljs-built_in">this</span>.name = name
&#125;

Person.prototype.sayName = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)
&#125;

<span class="hljs-keyword">const</span> kobe = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'科比'</span>)
kobe.sayName() <span class="hljs-comment">// 科比</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>而有了ES6的<code>class</code>可以这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name</span>)</span> &#123;
    <span class="hljs-comment">// 构造器</span>
    <span class="hljs-built_in">this</span>.name = name
  &#125;

  <span class="hljs-function"><span class="hljs-title">sayName</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name)
  &#125;
&#125;

<span class="hljs-keyword">const</span> kobe = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'科比'</span>)
kobe.sayName() <span class="hljs-comment">// 科比</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>值得一提的是，<code>class</code>本质也是<code>function</code>，<code>class</code>是<code>function</code>的<code>语法糖</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;&#125;

<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> Person) <span class="hljs-comment">// function</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>除了以上，还需要知道class的以下知识点</p>
<p>静态属性和静态方法，使用<code>static</code>定义的属性和方法只能class自己用，实例用不了</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name</span>)</span> &#123;
    <span class="hljs-built_in">this</span>.name = name
  &#125;

  <span class="hljs-keyword">static</span> age = <span class="hljs-number">22</span>

  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">fn</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'哈哈'</span>)
  &#125;
&#125;
<span class="hljs-built_in">console</span>.log(Person.age) <span class="hljs-comment">// 22</span>
Person.fn() <span class="hljs-comment">// 哈哈</span>

<span class="hljs-keyword">const</span> sunshine_lin = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'林三心'</span>)
<span class="hljs-built_in">console</span>.log(sunshine_lin.age) <span class="hljs-comment">// undefined</span>
sunshine_lin.fn() <span class="hljs-comment">// fn is not a function</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p><code>extend</code>继承</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Animal</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">name, age</span>)</span> &#123;
    <span class="hljs-built_in">this</span>.name = name
    <span class="hljs-built_in">this</span>.age = age
  &#125;
&#125;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Animal</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">say</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.name, <span class="hljs-built_in">this</span>.age)
  &#125;
&#125;

<span class="hljs-keyword">const</span> cat = <span class="hljs-keyword">new</span> Cat(<span class="hljs-string">'ketty'</span>, <span class="hljs-number">5</span>) <span class="hljs-comment">// 继承了Animal的构造器</span>
cat.say() <span class="hljs-comment">// ketty 5</span>

<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-18">17、解构赋值</h3>
<p>以前想提取对象里的属性需要这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span>
&#125;

<span class="hljs-keyword">const</span> name = obj.name
<span class="hljs-keyword">const</span> age = obj.age
<span class="hljs-keyword">const</span> gender = obj.gender
<span class="hljs-built_in">console</span>.log(name, age, gender) <span class="hljs-comment">// 林三心 22 男</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>ES6新增了解构赋值的语法</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span>,
  <span class="hljs-attr">doing</span>: &#123;
    <span class="hljs-attr">morning</span>: <span class="hljs-string">'摸鱼'</span>,
    <span class="hljs-attr">afternoon</span>: <span class="hljs-string">'摸鱼'</span>,
    <span class="hljs-attr">evening</span>: <span class="hljs-string">'sleep'</span>
  &#125;
&#125;

<span class="hljs-keyword">const</span> &#123; name, age, gender &#125; = obj
<span class="hljs-built_in">console</span>.log(name, age, gender) <span class="hljs-comment">// 林三心 22 男</span>

<span class="hljs-comment">// 解构重名</span>
<span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">name</span>: myname &#125; = obj
<span class="hljs-built_in">console</span>.log(myname) <span class="hljs-comment">// 林三心</span>

<span class="hljs-comment">// 嵌套解构</span>
<span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">doing</span>: &#123; evening &#125; &#125; = obj
<span class="hljs-built_in">console</span>.log(evening) <span class="hljs-comment">// sleep</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>也可以进行数组的解构</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]

<span class="hljs-keyword">const</span> [a, b, c] = arr
<span class="hljs-built_in">console</span>.log(a, b, c) <span class="hljs-comment">// 1 2 3</span>

<span class="hljs-comment">// 默认赋值</span>
<span class="hljs-keyword">const</span> [a, b, c, d = <span class="hljs-number">5</span>] = arr
<span class="hljs-built_in">console</span>.log(a, b, c, d) <span class="hljs-comment">// 1 2 3 5</span>

<span class="hljs-comment">// 乱序解构</span>
<span class="hljs-keyword">const</span> &#123; <span class="hljs-number">1</span>: a, <span class="hljs-number">0</span>: b, <span class="hljs-number">2</span>: c &#125; = arr
<span class="hljs-built_in">console</span>.log(a, b, c) <span class="hljs-comment">// 2 1 3</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-19">18、find 和 findIndex</h3>
<ul>
<li>find：找到返回被找元素，找不到返回undefined</li>
<li>findIndex：找到返回被找元素索引，找不到返回-1</li>
</ul>
<pre><code class="copyable">const findArr = [
  &#123; name: '科比', no: '24' &#125;,
  &#123; name: '罗斯', no: '1' &#125;,
  &#123; name: '利拉德', no: '0' &#125;
]

const kobe = findArr.find((&#123; name &#125;) => name === '科比')
const kobeIndex = findArr.findIndex((&#123; name &#125;) => name === '科比')
console.log(kobe) // &#123; name: '科比', no: '24' &#125;
console.log(kobeIndex) // 0
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-20">19、for of 和 for in</h3>
<ul>
<li>for in ：遍历方法，可遍历对象和数组</li>
<li>for of ：遍历方法，只能遍历数组，不能遍历对象</li>
</ul>
<p>先看for in：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>, <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span> &#125;
<span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) &#123;
  <span class="hljs-built_in">console</span>.log(key)
&#125;
name
age
gender

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> index <span class="hljs-keyword">in</span> arr) &#123;
  <span class="hljs-built_in">console</span>.log(index)
&#125;
<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>再看 for of：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr) &#123;
  <span class="hljs-built_in">console</span>.log(item)
&#125;
<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-21">20、Set 和 Map</h3>
<ul>
<li>Set</li>
</ul>
<p>先说说<code>Set</code>的基本用法</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 可不传数组</span>
<span class="hljs-keyword">const</span> set1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>()
set1.add(<span class="hljs-number">1</span>)
set1.add(<span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(set1) <span class="hljs-comment">// Set(2) &#123; 1, 2 &#125;</span>

<span class="hljs-comment">// 也可传数组</span>
<span class="hljs-keyword">const</span> set2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment">// 增加元素 使用 add</span>
set2.add(<span class="hljs-number">4</span>)
set2.add(<span class="hljs-string">'林三心'</span>)
<span class="hljs-built_in">console</span>.log(set2) <span class="hljs-comment">// Set(5) &#123; 1, 2, 3, 4, '林三心' &#125;</span>
<span class="hljs-comment">// 是否含有某个元素 使用 has</span>
<span class="hljs-built_in">console</span>.log(set2.has(<span class="hljs-number">2</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-comment">// 查看长度 使用 size</span>
<span class="hljs-built_in">console</span>.log(set2.size) <span class="hljs-comment">// 5</span>
<span class="hljs-comment">// 删除元素 使用 delete</span>
set2.delete(<span class="hljs-number">2</span>)
<span class="hljs-built_in">console</span>.log(set2) <span class="hljs-comment">// Set(4) &#123; 1, 3, 4, '林三心' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>再说说<code>Set</code>的不重复性</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 增加一个已有元素，则增加无效，会被自动去重</span>
<span class="hljs-keyword">const</span> set1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>])
set1.add(<span class="hljs-number">1</span>)
<span class="hljs-built_in">console</span>.log(set1) <span class="hljs-comment">// Set(1) &#123; 1 &#125;</span>

<span class="hljs-comment">// 传入的数组中有重复项，会自动去重</span>
<span class="hljs-keyword">const</span> set2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">'林三心'</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-string">'林三心'</span>])
<span class="hljs-built_in">console</span>.log(set2) <span class="hljs-comment">// Set(4) &#123; 1, 2, '林三心', 3 &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p><code>Set</code>的不重复性中，要注意<code>引用数据类型和NaN</code></p>
<pre><code class="hljs language-JS copyable" lang="JS"><span class="hljs-comment">// 两个对象都是不用的指针，所以没法去重</span>
<span class="hljs-keyword">const</span> set1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>, &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>&#125;, <span class="hljs-number">2</span>, &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>&#125;])
<span class="hljs-built_in">console</span>.log(set1) <span class="hljs-comment">// Set(4) &#123; 1, &#123; name: '林三心' &#125;, 2, &#123; name: '林三心' &#125; &#125;</span>


<span class="hljs-comment">// 如果是两个对象是同一指针，则能去重</span>
<span class="hljs-keyword">const</span> obj = &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>&#125;
<span class="hljs-keyword">const</span> set2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>, obj, <span class="hljs-number">2</span>, obj])
<span class="hljs-built_in">console</span>.log(set2) <span class="hljs-comment">// Set(3) &#123; 1, &#123; name: '林三心' &#125;, 2 &#125;</span>

咱们都知道 <span class="hljs-literal">NaN</span> !== <span class="hljs-literal">NaN</span>，<span class="hljs-literal">NaN</span>是自身不等于自身的，但是在<span class="hljs-built_in">Set</span>中他还是会被去重
<span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-literal">NaN</span>, <span class="hljs-number">1</span>, <span class="hljs-literal">NaN</span>])
<span class="hljs-built_in">console</span>.log(set) <span class="hljs-comment">// Set(2) &#123; 1, NaN &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>利用Set的不重复性，可以实现数组去重</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">66</span>, <span class="hljs-number">9</span>, <span class="hljs-number">1</span>]

<span class="hljs-comment">// Set可利用扩展运算符转为数组哦</span>
<span class="hljs-keyword">const</span> quchongArr = [...new <span class="hljs-built_in">Set</span>(arr)]
<span class="hljs-built_in">console</span>.log(quchongArr) <span class="hljs-comment">// [1,  2, 3, 4, 5, 66, 9]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>Map</li>
</ul>
<p><code>Map</code>对比<code>object</code>最大的好处就是，key不受<code>类型限制</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 定义map</span>
<span class="hljs-keyword">const</span> map1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()
<span class="hljs-comment">// 新增键值对 使用 set(key, value)</span>
map1.set(<span class="hljs-literal">true</span>, <span class="hljs-number">1</span>)
map1.set(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
map1.set(<span class="hljs-string">'哈哈'</span>, <span class="hljs-string">'嘻嘻嘻'</span>)
<span class="hljs-built_in">console</span>.log(map1) <span class="hljs-comment">// Map(3) &#123; true => 1, 1 => 2, '哈哈' => '嘻嘻嘻' &#125;</span>
<span class="hljs-comment">// 判断map是否含有某个key 使用 has(key)</span>
<span class="hljs-built_in">console</span>.log(map1.has(<span class="hljs-string">'哈哈'</span>)) <span class="hljs-comment">// true</span>
<span class="hljs-comment">// 获取map中某个key对应的value 使用 get(key)</span>
<span class="hljs-built_in">console</span>.log(map1.get(<span class="hljs-literal">true</span>)) <span class="hljs-comment">// 2</span>
<span class="hljs-comment">// 删除map中某个键值对 使用 delete(key)</span>
map1.delete(<span class="hljs-string">'哈哈'</span>)
<span class="hljs-built_in">console</span>.log(map1) <span class="hljs-comment">// Map(2) &#123; true => 1, 1 => 2 &#125;</span>

<span class="hljs-comment">// 定义map，也可传入键值对数组集合</span>
<span class="hljs-keyword">const</span> map2 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([[<span class="hljs-literal">true</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-string">'哈哈'</span>, <span class="hljs-string">'嘻嘻嘻'</span>]])
<span class="hljs-built_in">console</span>.log(map2) <span class="hljs-comment">// Map(3) &#123; true => 1, 1 => 2, '哈哈' => '嘻嘻嘻' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-22">ES7</h2>
<h3 data-id="heading-23">21、includes</h3>
<p>传入元素，如果数组中能找到此元素，则返回true，否则返回false</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> includeArr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span> , <span class="hljs-number">3</span>, <span class="hljs-string">'林三心'</span>, <span class="hljs-string">'科比'</span>]

<span class="hljs-keyword">const</span> isKobe = includeArr.includes(<span class="hljs-string">'科比'</span>)
<span class="hljs-built_in">console</span>.log(isKobe) <span class="hljs-comment">// true</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>跟indexOf很像，但还是有区别的</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-literal">NaN</span>]

<span class="hljs-built_in">console</span>.log(arr.indexOf(<span class="hljs-literal">NaN</span>)) <span class="hljs-comment">// -1  indexOf找不到NaN</span>
<span class="hljs-built_in">console</span>.log(arr.includes(<span class="hljs-literal">NaN</span>)) <span class="hljs-comment">// true includes能找到NaN</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-24">22、求幂运算符</h3>
<p>以前求幂，我们需要这么写</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> num = <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// 9</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>ES7提供了求幂运算符：<code>**</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> num = <span class="hljs-number">3</span> ** <span class="hljs-number">2</span> <span class="hljs-comment">// 9</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-25">ES8</h2>
<h3 data-id="heading-26">23、Object.values</h3>
<p>可以用来获取对象的value的集合</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span>
&#125;

<span class="hljs-keyword">const</span> values = <span class="hljs-built_in">Object</span>.values(obj)
<span class="hljs-built_in">console</span>.log(values) <span class="hljs-comment">// [ '林三心', 22, '男' ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-27">24、Object.entries</h3>
<p>可以用来获取对象的键值对集合</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">name</span>: <span class="hljs-string">'林三心'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">22</span>,
  <span class="hljs-attr">gender</span>: <span class="hljs-string">'男'</span>
&#125;

<span class="hljs-keyword">const</span> entries = <span class="hljs-built_in">Object</span>.entries(obj)
<span class="hljs-built_in">console</span>.log(entries) 
<span class="hljs-comment">// [ [ 'name', '林三心' ], [ 'age', 22 ], [ 'gender', '男' ] ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-28">25、async/await</h3>
<p>这个是很常用的语法了，我的理解就是：<strong>以同步方式执行异步操作</strong></p>
<p>我们平时可能会遇到这种场景，接口一，请求到数据一，而数据一被当做请求二的参数去请求数据二，我们会用Promise这么做</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-comment">// 模拟第一次请求</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-number">5</span>)
    &#125;, <span class="hljs-number">1000</span>)
  &#125;).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
    <span class="hljs-comment">// 模拟第二次请求</span>
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
        <span class="hljs-comment">// 拿第一次请求的数据去乘10，当做第二次请求的数据</span>
        resolve(res * <span class="hljs-number">10</span>)
      &#125;, <span class="hljs-number">2000</span>)
    &#125;).then(<span class="hljs-function"><span class="hljs-params">sres</span> =></span> &#123;
      <span class="hljs-built_in">console</span>.log(sres)
    &#125;)

  &#125;)
&#125;
fn() <span class="hljs-comment">// 1 + 2 = 3 3秒后输出 50</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>这样的嵌套是不美观的，如果有很多个接口，那就会嵌套很多层，此时我们可以使用async/await来以同步方式执行异步，注意以下几点：</p>
<ul>
<li>await只能在async函数里使用</li>
<li>await后面最好接Promise，如果后面接的是普通函数则会直接执行</li>
<li>async函数返回的是一个Promise</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn1</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-number">5</span>)
    &#125;, <span class="hljs-number">1000</span>)
  &#125;)
&#125;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn2</span> (<span class="hljs-params">data</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(data * <span class="hljs-number">10</span>)
    &#125;, <span class="hljs-number">2000</span>)
  &#125;)
&#125;

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">req</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-comment">// 同步方式执行异步，像排队一样</span>
  <span class="hljs-keyword">const</span> data1 = <span class="hljs-keyword">await</span> fn1() <span class="hljs-comment">// 等待1秒后返回数据再往下执行</span>
  <span class="hljs-keyword">const</span> data2 = <span class="hljs-keyword">await</span> fn2(data1) <span class="hljs-comment">// 拿data1去请求2秒后，往下走</span>
  <span class="hljs-built_in">console</span>.log(data2) <span class="hljs-comment">// 总共3秒后 输出 50</span>
&#125;
req()
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-29">ES9</h2>
<h3 data-id="heading-30">26、for await of</h3>
<p>我们来看以下场景哈</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">time</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

fn(<span class="hljs-number">3000</span>).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> <span class="hljs-built_in">console</span>.log(res))
fn(<span class="hljs-number">1000</span>).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> <span class="hljs-built_in">console</span>.log(res))
fn(<span class="hljs-number">2000</span>).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> <span class="hljs-built_in">console</span>.log(res))

结果是

<span class="hljs-number">1000</span>毫秒后我成功啦！！！
<span class="hljs-number">2000</span>毫秒后我成功啦！！！
<span class="hljs-number">3000</span>毫秒后我成功啦！！！
<span class="copy-code-btn">复制代码</span></code></pre>
<p>但是我想要这个结果</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-number">3000</span>毫秒后我成功啦！！！
<span class="hljs-number">1000</span>毫秒后我成功啦！！！
<span class="hljs-number">2000</span>毫秒后我成功啦！！！
<span class="copy-code-btn">复制代码</span></code></pre>
<p>第一时间我们肯定想到的是<code>async/await</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">time</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">asyncFn</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-comment">// 排队</span>
  <span class="hljs-keyword">const</span> data1 = <span class="hljs-keyword">await</span> fn(<span class="hljs-number">3000</span>)
  <span class="hljs-built_in">console</span>.log(data1) <span class="hljs-comment">// 3秒后 3000毫秒后我成功啦！！！</span>
  <span class="hljs-keyword">const</span> data2 = <span class="hljs-keyword">await</span> fn(<span class="hljs-number">1000</span>)
  <span class="hljs-built_in">console</span>.log(data2) <span class="hljs-comment">// 再过1秒 1000毫秒后我成功啦！！！</span>
  <span class="hljs-keyword">const</span> data3 = <span class="hljs-keyword">await</span> fn(<span class="hljs-number">2000</span>)
  <span class="hljs-built_in">console</span>.log(data3) <span class="hljs-comment">// 再过2秒 2000毫秒后我成功啦！！！</span>
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>但是上面代码也是有缺点的，如果有几十个，那不是得写几十个await，有没有一种方法可以通过循环来输出呢？</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span> (<span class="hljs-params">time</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">asyncFn</span> (<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">const</span> arr = [fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>), fn(<span class="hljs-number">1000</span>), fn(<span class="hljs-number">2000</span>), fn(<span class="hljs-number">500</span>)]
  <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">let</span> x <span class="hljs-keyword">of</span> arr) &#123;
    <span class="hljs-built_in">console</span>.log(x)
  &#125;
&#125;

asyncFn()
<span class="hljs-number">3000</span>毫秒后我成功啦！！！
<span class="hljs-number">1000</span>毫秒后我成功啦！！！
<span class="hljs-number">1000</span>毫秒后我成功啦！！！
<span class="hljs-number">2000</span>毫秒后我成功啦！！！
<span class="hljs-number">500</span>毫秒后我成功啦！！！
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-31">27、Promise.finally</h3>
<p>新增的Promise方法，无论失败或者成功状态，都会执行这个函数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// cheng</span>
<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
  resolve(<span class="hljs-string">'成功喽'</span>)
&#125;).then(
  <span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123; <span class="hljs-built_in">console</span>.log(res) &#125;,
  <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123; <span class="hljs-built_in">console</span>.log(err) &#125;
).finally(<span class="hljs-function">() =></span> &#123; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'我是finally'</span>) &#125;)

<span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
  reject(<span class="hljs-string">'失败喽'</span>)
&#125;).then(
  <span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123; <span class="hljs-built_in">console</span>.log(res) &#125;,
  <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123; <span class="hljs-built_in">console</span>.log(err) &#125;
).finally(<span class="hljs-function">() =></span> &#123; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'我是finally'</span>) &#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-32">ES10</h2>
<h3 data-id="heading-33">28、Array.flat</h3>
<p>有一个二维数组，我想让他变成一维数组：</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]

<span class="hljs-built_in">console</span>.log(arr.flat()) <span class="hljs-comment">// [ 1, 2, 3, 4, 5, 6 ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>还可以传参数，参数为降维的次数</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>]]]

<span class="hljs-built_in">console</span>.log(arr.flat(<span class="hljs-number">2</span>))
[
  <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>,
  <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>
]
<span class="copy-code-btn">复制代码</span></code></pre>
<p>如果传的是一个无限大的数字，那么就实现了多维数组(无论几维)降为一维数组</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]]]]

<span class="hljs-built_in">console</span>.log(arr.flat(<span class="hljs-literal">Infinity</span>))
[
   <span class="hljs-number">1</span>,  <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>,  <span class="hljs-number">5</span>,
   <span class="hljs-number">6</span>,  <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>,
   <span class="hljs-number">11</span>, <span class="hljs-number">12</span>
]
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-34">29、Array.flatMap</h3>
<p>现在给你一个需求</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">"科比 詹姆斯 安东尼"</span>, <span class="hljs-string">"利拉德 罗斯 麦科勒姆"</span>];
<span class="copy-code-btn">复制代码</span></code></pre>
<p>将上面数组转为</p>
<pre><code class="hljs language-js copyable" lang="js">[ <span class="hljs-string">'科比'</span>, <span class="hljs-string">'詹姆斯'</span>, <span class="hljs-string">'安东尼'</span>, <span class="hljs-string">'利拉德'</span>, <span class="hljs-string">'罗斯'</span>, <span class="hljs-string">'麦科勒姆'</span> ]
<span class="copy-code-btn">复制代码</span></code></pre>
<p>第一时间想到<code>map + flat</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">console</span>.log(arr.map(<span class="hljs-function"><span class="hljs-params">x</span> =></span> x.split(<span class="hljs-string">" "</span>)).flat());
<span class="hljs-comment">// [ '科比', '詹姆斯', '安东尼', '利拉德', '罗斯', '麦科勒姆' ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p><code>flatMap</code>就是<code>flat + map</code>，一个方法顶两个</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">console</span>.log(arr.flatMap(<span class="hljs-function"><span class="hljs-params">x</span> =></span> x.split(<span class="hljs-string">" "</span>)));
<span class="hljs-comment">// [ '科比', '詹姆斯', '安东尼', '利拉德', '罗斯', '麦科勒姆' ]</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-35">30、BigInt</h3>
<p><code>BigInt</code>是ES10新加的一种JavaScript数据类型，用来表示表示大于 <code>2^53 - 1</code> 的整数，<code>2^53 - 1</code>是ES10之前，JavaScript所能表示最大的数字</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> theBiggestInt = <span class="hljs-number">9007199254740991n</span>;

<span class="hljs-keyword">const</span> alsoHuge = <span class="hljs-built_in">BigInt</span>(<span class="hljs-number">9007199254740991</span>);
<span class="hljs-comment">// 9007199254740991n</span>

<span class="hljs-keyword">const</span> hugeString = <span class="hljs-built_in">BigInt</span>(<span class="hljs-string">"9007199254740991"</span>);
<span class="hljs-comment">// 9007199254740991n</span>

<span class="hljs-keyword">const</span> hugeHex = <span class="hljs-built_in">BigInt</span>(<span class="hljs-string">"0x1fffffffffffff"</span>);
<span class="hljs-comment">// 9007199254740991n</span>

<span class="hljs-keyword">const</span> hugeBin = <span class="hljs-built_in">BigInt</span>(<span class="hljs-string">"0b11111111111111111111111111111111111111111111111111111"</span>);
<span class="hljs-comment">// 9007199254740991n</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>哦对了，既然是JavaScript新的数据类型，那他的<code>typeof</code>是啥？</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> bigNum = <span class="hljs-built_in">BigInt</span>(<span class="hljs-number">1728371927189372189739217</span>)
<span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> bigNum) <span class="hljs-comment">// bigint</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>所以以后面试官问你JavaScript有多少种数据类型，别傻傻答6种了，要答8种，把ES6的<code>Symbol</code>和ES10的<code>BigInt</code>也加上去</p>
<h3 data-id="heading-36">31、Object.fromEntries</h3>
<p>前面ES8的<code>Object.entries</code>是把<code>对象转成键值对数组</code>，而<code>Object.fromEntries</code>则相反，是把<code>键值对数组转为对象</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = [
  [<span class="hljs-string">'name'</span>, <span class="hljs-string">'林三心'</span>],
  [<span class="hljs-string">'age'</span>, <span class="hljs-number">22</span>],
  [<span class="hljs-string">'gender'</span>, <span class="hljs-string">'男'</span>]
]

<span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.fromEntries(arr)) <span class="hljs-comment">// &#123; name: '林三心', age: 22, gender: '男' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>他还有一个用处，就是把<code>Map转为对象</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>()
map.set(<span class="hljs-string">'name'</span>, <span class="hljs-string">'林三心'</span>)
map.set(<span class="hljs-string">'age'</span>, <span class="hljs-number">22</span>)
map.set(<span class="hljs-string">'gender'</span>, <span class="hljs-string">'男'</span>)

<span class="hljs-built_in">console</span>.log(map) <span class="hljs-comment">// Map(3) &#123; 'name' => '林三心', 'age' => 22, 'gender' => '男' &#125;</span>

<span class="hljs-keyword">const</span> obj = <span class="hljs-built_in">Object</span>.fromEntries(map)
<span class="hljs-built_in">console</span>.log(obj) <span class="hljs-comment">// &#123; name: '林三心', age: 22, gender: '男' &#125;</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-37">32、String.trimStart && String.trimEnd</h3>
<p>咱们都知道JavaScript有个trim方法，可以清除字符串首尾的空格</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">'    林三心    '</span>
<span class="hljs-built_in">console</span>.log(str.trim()) <span class="hljs-comment">// '林三心'</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>trimStart和trimEnd用来单独去除字符串的首和尾的空格</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> str = <span class="hljs-string">'    林三心    '</span>

<span class="hljs-comment">// 去除首部空格</span>
<span class="hljs-built_in">console</span>.log(str.trimStart()) <span class="hljs-comment">// '林三心   '</span>
<span class="hljs-comment">// 去除尾部空格</span>
<span class="hljs-built_in">console</span>.log(str.trimStart()) <span class="hljs-comment">// '   林三心'</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-38">ES11</h2>
<h3 data-id="heading-39">33、Promise.allSettled</h3>
<p>ES11新增的Promise的方法</p>
<ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>把每一个Promise的结果，集合成数组，返回</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time, isResolve</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      isResolve ? resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : reject(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.allSettled([fn(<span class="hljs-number">2000</span>, <span class="hljs-literal">true</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res)
  <span class="hljs-comment">// 3秒后输出 </span>
  [
  &#123; <span class="hljs-attr">status</span>: <span class="hljs-string">'fulfilled'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'2000毫秒后我成功啦！！！'</span> &#125;,
  &#123; <span class="hljs-attr">status</span>: <span class="hljs-string">'rejected'</span>, <span class="hljs-attr">reason</span>: <span class="hljs-string">'3000毫秒后我失败啦！！！'</span> &#125;,
  &#123; <span class="hljs-attr">status</span>: <span class="hljs-string">'rejected'</span>, <span class="hljs-attr">reason</span>: <span class="hljs-string">'1000毫秒后我失败啦！！！'</span> &#125;
]
&#125;)

<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-40">34、?. 和 ??</h3>
<ul>
<li>先说说<code>?.</code>，中文名为<code>可选链</code></li>
</ul>
<p>比如我们需要一个变量，是数组且有长度，才做某些操作</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> list = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">if</span> (list && list.length) &#123;
  <span class="hljs-comment">// do something</span>
&#125;

<span class="hljs-comment">// 使用可选链</span>
<span class="hljs-keyword">const</span> list = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">if</span> (list?.length) &#123;
  <span class="hljs-comment">// do something</span>
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>比如有一个对象，我要取一个可能不存在的值，甚至我们都不确定obj是否存在</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">cat</span>: &#123;
    <span class="hljs-attr">name</span>: <span class="hljs-string">'哈哈'</span>
  &#125;
&#125;
<span class="hljs-keyword">const</span> dog = obj && obj.dog && obj.dog.name <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">// 可选链</span>
<span class="hljs-keyword">const</span> obj = &#123;
  <span class="hljs-attr">cat</span>: &#123;
    <span class="hljs-attr">name</span>: <span class="hljs-string">'哈哈'</span>
  &#125;
&#125;
<span class="hljs-keyword">const</span> dog = obj?.dog?.name <span class="hljs-comment">// undefined</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>比如有一个数组，我不确定它存不存在，存在的话就取索引为1的值</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> arr = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">const</span> item = arr && arr[<span class="hljs-number">1</span>]

<span class="hljs-comment">// 可选链</span>
<span class="hljs-keyword">const</span> arr = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">const</span> item = arr?.[<span class="hljs-number">1</span>]
<span class="copy-code-btn">复制代码</span></code></pre>
<p>比如有一个函数，我们不确定它存不存在，存在的话就执行它</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> fn = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">const</span> res = fn && fn()

<span class="hljs-comment">// 可选链</span>
<span class="hljs-keyword">const</span> fn = <span class="hljs-literal">null</span>
<span class="hljs-comment">// do something</span>
<span class="hljs-keyword">const</span> res = fn?.()
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>再说说<code>??</code>，中文名为<code>空位合并运算符</code></li>
</ul>
<p>请看以下代码，咱们使用<code>||</code>运算符，只要左边是<code>假值</code>，就会返回右边的数据</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> a = <span class="hljs-number">0</span> || <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="hljs-keyword">const</span> b = <span class="hljs-string">''</span> || <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="hljs-keyword">const</span> c = <span class="hljs-literal">false</span> || <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="hljs-keyword">const</span> d = <span class="hljs-literal">undefined</span> || <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="hljs-keyword">const</span> e = <span class="hljs-literal">null</span> || <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>而<code>??</code>和<code>||</code>最大的区别是，在<code>??</code>这，只有<code>undefined和null</code>才算假值</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> a = <span class="hljs-number">0</span> ?? <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 0</span>
<span class="hljs-keyword">const</span> b = <span class="hljs-string">''</span> ?? <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// ''</span>
<span class="hljs-keyword">const</span> c = <span class="hljs-literal">false</span> ?? <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// false</span>
<span class="hljs-keyword">const</span> d = <span class="hljs-literal">undefined</span> ?? <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="hljs-keyword">const</span> e = <span class="hljs-literal">null</span> ?? <span class="hljs-string">'林三心'</span> <span class="hljs-comment">// 林三心</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-41">ES12</h2>
<h3 data-id="heading-42">35、Promise.any</h3>
<p>E12新增的Promise的方法</p>
<ul>
<li>接收一个Promise数组，数组中如有非Promise项，则此项当做成功</li>
<li>如果有一个Promise成功，则返回这个成功结果</li>
<li>如果所有Promise都失败，则报错</li>
</ul>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// 当有成功的时候，返回最快那个成功</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time, isResolve</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      isResolve ? resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : reject(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.any([fn(<span class="hljs-number">2000</span>, <span class="hljs-literal">true</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>, <span class="hljs-literal">true</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res) <span class="hljs-comment">// 1秒后 输出  1000毫秒后我成功啦</span>
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err)
&#125;)

<span class="hljs-comment">// 当全都失败时</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fn</span>(<span class="hljs-params">time, isResolve</span>) </span>&#123;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =></span> &#123;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
      isResolve ? resolve(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我成功啦！！！`</span>) : reject(<span class="hljs-string">`<span class="hljs-subst">$&#123;time&#125;</span>毫秒后我失败啦！！！`</span>)
    &#125;, time)
  &#125;)
&#125;

<span class="hljs-built_in">Promise</span>.any([fn(<span class="hljs-number">2000</span>), fn(<span class="hljs-number">3000</span>), fn(<span class="hljs-number">1000</span>)]).then(<span class="hljs-function"><span class="hljs-params">res</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(res)
&#125;, <span class="hljs-function"><span class="hljs-params">err</span> =></span> &#123;
  <span class="hljs-built_in">console</span>.log(err) <span class="hljs-comment">// 3秒后 报错 all Error</span>
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-43">36、数字分隔符</h3>
<p>数字分隔符可以让你在定义长数字时，更加地一目了然</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> num = <span class="hljs-number">1000000000</span>

<span class="hljs-comment">// 使用数字分隔符</span>
<span class="hljs-keyword">const</span> num = <span class="hljs-number">1_000_000_000</span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-44">37、||= 和 &&=</h3>
<pre><code class="hljs language-js copyable" lang="js">或等于(||=)   a ||= b 等同于 a || (a = b);

且等于(&&=)   a &&= b 等同于 a && (a = b);
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-45">不知道是ES几</h2>
<h3 data-id="heading-46">38、对象动态属性</h3>
<p>我们经常碰到这样的问题，无论是在微信小程序还是React中，我们需要根据某个条件去修改某个数据</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">if</span> (type === <span class="hljs-string">'boy'</span>) &#123;
  <span class="hljs-built_in">this</span>.setData(&#123;
    <span class="hljs-attr">boyName</span>: name
  &#125;)
&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">'girl'</span>) &#123;
  <span class="hljs-built_in">this</span>.setData(&#123;
    <span class="hljs-attr">girlName</span>: name
  &#125;)
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>我也不知道这个新特性叫啥，我就自己取名叫<code>属性动态属性</code>哈哈哈</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">this</span>.setData(&#123;
  [<span class="hljs-string">`<span class="hljs-subst">$&#123;type&#125;</span>Name`</span>]: name
&#125;)
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-47">结语</h2>
<p>很多的方法我只讲最基础的，具体在开发中怎样去灵活运用，同学们可以自己去摸索哈，这个很难教，只能靠<code>理论+实践+积累</code></p>
<p>如果你觉得本文章对你有一点点帮助的话，请点个赞哈哈。</p>
<p>学习群请点<a href="https://juejin.cn/pin/6969565162885873701" target="_blank" title="https://juejin.cn/pin/6969565162885873701">这里</a>，一起学习，一起摸鱼！！！</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b39cd5171de148bf898c5c9f50e30268~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p></div>  
</div>
            