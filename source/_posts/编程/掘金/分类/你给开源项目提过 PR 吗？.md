
---
title: 'ä½ ç»™å¼€æºé¡¹ç›®æè¿‡ PR å—ï¼Ÿ'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00e4a392e8ff4f63aa75d457a5f78057~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image'
author: æ˜é‡‘
comments: false
date: Wed, 04 Aug 2021 16:45:52 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00e4a392e8ff4f63aa75d457a5f78057~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>è¿™æ˜¯æˆ‘å‚ä¸8æœˆæ›´æ–‡æŒ‘æˆ˜çš„ç¬¬3å¤©ï¼Œæ´»åŠ¨è¯¦æƒ…æŸ¥çœ‹ï¼š<a href="https://juejin.cn/post/6987962113788493831" title="https://juejin.cn/post/6987962113788493831" target="_blank">8æœˆæ›´æ–‡æŒ‘æˆ˜</a>â€</p>
<p>ä½ æœ‰ç»™å¼€æºçš„åº“æˆ–è€…æ¡†æ¶æè¿‡ PR å—ï¼Ÿ</p>
<p>å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆä»Šå¤©çš„æ–‡ç« ä¼šæ•™ä½ æ€ä¹ˆç»™å¼€æºåº“æ PRã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆè¦ç»™å¼€æºé¡¹ç›®æ PRï¼Ÿ</h2>
<p>è¿™ä»¶äº‹è¿˜å¾—ä»å¥½å‡ å¹´å‰ï¼ˆ2019å¹´ï¼‰è¯´èµ·ï¼Œé‚£æ—¶å€™åœ¨æŠ˜è…¾ä¸€ä¸ªè™šæ‹Ÿ DOM çš„ç©å…·ï¼ˆå‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fblog.shenfq.com%2Fposts%2F2019%2F%25E8%2599%259A%25E6%258B%259FDOM%25E5%2588%25B0%25E5%25BA%2595%25E6%2598%25AF%25E4%25BB%2580%25E4%25B9%2588%25EF%25BC%259F.html" target="_blank" rel="nofollow noopener noreferrer" title="https://blog.shenfq.com/posts/2019/%E8%99%9A%E6%8B%9FDOM%E5%88%B0%E5%BA%95%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F.html" ref="nofollow noopener noreferrer">ğŸ”—è™šæ‹ŸDOMåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</a>ï¼‰ï¼Œä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„å‰ç«¯å·¥ç¨‹ï¼Œæ„å»ºå·¥å…·ã€Lint å·¥å…·ã€ä»£ç æ ¼å¼åŒ–éƒ½æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>
<p>åœ¨æ„å»ºå·¥å…·ä¸Šæˆ‘é€‰æ‹©äº† <code>Rollup</code>ï¼Œå¸Œæœ›æ¯æ¬¡æ„å»ºçš„æ—¶å€™éƒ½èƒ½è‡ªåŠ¨è¿›è¡Œä»£ç çš„ Lintï¼Œæ‰€ä»¥å¼•å…¥äº† <code>Rollup</code> çš„ä¸€ä¸ªæ’ä»¶ï¼š<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FShenfq%2Frollup-plugin-eslint" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/Shenfq/rollup-plugin-eslint" ref="nofollow noopener noreferrer"><code>rollup-plugin-eslint</code></a>ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00e4a392e8ff4f63aa75d457a5f78057~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>åœ¨ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å’Œ <code>Webpack</code> å¯¹åº”çš„æ’ä»¶ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Feslint-webpack-plugin" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/webpack-contrib/eslint-webpack-plugin" ref="nofollow noopener noreferrer"><code>eslint-webpack-plugin</code></a> è¿˜æ˜¯æœ‰ä¸€äº›å·®è·çš„ã€‚æˆ‘åœ¨ä½¿ç”¨ <code>Webpack</code> çš„ <code>eslint-webpack-plugin</code> æ—¶å€™ï¼Œåªéœ€è¦é…ç½® <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Feslint-webpack-plugin%23fix" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/webpack-contrib/eslint-webpack-plugin#fix" ref="nofollow noopener noreferrer"><code>fix</code> å±æ€§</a>ï¼Œå°±èƒ½å¤Ÿåœ¨ä¿å­˜ä»£ç çš„æ—¶å€™ï¼Œè‡ªåŠ¨å¯¹ä»£ç è¿›è¡Œ fixã€‚</p>
<pre><code class="copyable">// webpack.config.js
const ESLintPlugin = require('eslint-webpack-plugin');
â€‹
module.exports = &#123;
 Â // ...
 Â plugins: [
 Â  Â new ESLintPlugin(&#123;
 Â  Â  Â fix: true,
 Â  Â  Â extensions: ['js', 'jsx']
 Â   &#125;)
&#125;;
â€‹
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f70afee95040484283144205c8adc981~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>è€Œåœ¨ä½¿ç”¨ <code>rollup-plugin-eslint</code> çš„æ—¶å€™ï¼Œçœ‹æ–‡æ¡£ä¸Šï¼Œå¥½åƒæ²¡æœ‰æåˆ°è¿™ä¸ªé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´ <code>rollup-plugin-eslint</code> æ ¹æœ¬ä¸æ”¯æŒè¿™ä¸ªåŠŸèƒ½ã€‚ç„¶åï¼Œæœç´¢äº†ä¸€ä¸‹ Issuesï¼Œä¸æœä¸è¦ç´§ï¼Œä¸€æœå“ä¸€è·³ï¼Œå‘ç°æœ‰äººåœ¨ 2016 å¹´å°±æå‡ºäº†è¿™ä¸ª<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FTrySound%2Frollup-plugin-eslint%2Fissues%2F1" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/TrySound/rollup-plugin-eslint/issues/1" ref="nofollow noopener noreferrer">ç–‘é—®ğŸ˜³</a>ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7db2d6241faa4ed49e47fa466ef3ddbf~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä½œè€…çš„å›å¤ä¹Ÿå¾ˆç®€å•ï¼Œæ¬¢è¿æäº¤ PRã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3dc78fd076c9464cbc7c43c8607a3e4f~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>æˆ‘å½“æ—¶å¿ƒæƒ³ï¼Œè¿™ä¸ªåŠŸèƒ½è¿™ä¹ˆä¹…äº†éƒ½æ²¡äººå®ç°æƒ³å¿…å¾ˆéš¾å§ã€‚ä½†æ˜¯éš”å£çš„ <code>eslint-webpack-plugin</code> æ˜æ˜æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘å»çœ‹çœ‹å®ƒæ€ä¹ˆå®ç°çš„ä¸å°±è¡Œäº†ğŸ¶ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å°±æŠŠ <code>eslint-webpack-plugin</code> çš„ä»£ç  clone ä¸‹æ¥ä¸€é¡¿æœç´¢ï¼Œå‘ç°å®ƒå®ç°è¿™ä¸ªåŠŸèƒ½å°±ç”¨äº†<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwebpack-contrib%2Feslint-webpack-plugin%2Fblob%2FHEAD%2Fsrc%2FgetESLint.js%23L38-L40" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/webpack-contrib/eslint-webpack-plugin/blob/HEAD/src/getESLint.js#L38-L40" ref="nofollow noopener noreferrer">ä¸‰è¡Œä»£ç </a>ã€‚</p>
<pre><code class="copyable">if (options.fix) &#123;
 Â await ESLint.outputFixes(results);
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ¿€åŠ¨çš„å¿ƒï¼Œé¢¤æŠ–çš„æ‰‹ï¼Œæˆ‘èµ¶å¿™å°±å» <code>rollup-plugin-eslint</code> é‚£é‡Œæäº†ä¸ª <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FTrySound%2Frollup-plugin-eslint%2Fpull%2F27%2Ffiles%23diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/TrySound/rollup-plugin-eslint/pull/27/files#diff-e727e4bdf3657fd1d798edcd6b099d6e092f8573cba266154583a746bba0f346" ref="nofollow noopener noreferrer">PR</a>ã€‚</p>
<blockquote>
<p>ğŸ”—PR: <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FTrySound%2Frollup-plugin-eslint%2Fpull%2F27" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/TrySound/rollup-plugin-eslint/pull/27" ref="nofollow noopener noreferrer">github.com/TrySound/roâ€¦</a></p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/01a159d9f7c249bd82d432db2425db25~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>å…³é”®æ˜¯ï¼Œä½œè€…éƒ½æ²¡æƒ³åˆ°è¿™ä¸ªä¸œè¥¿å±…ç„¶è¿™ä¹ˆç®€å•å°±å®ç°äº†ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9ca6f7fe20e9495e9d50ea848d01f321~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-1">å¦‚ä½•åœ¨ GitHub ä¸Šæ PRï¼Ÿ</h2>
<p>ä¸Šé¢æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ PR çš„ä¸€ä¸ªå¿ƒè·¯å†ç¨‹ï¼Œå¦‚æœä½ ä¹Ÿå‘ç°äº†ä½ ç°åœ¨ä½¿ç”¨çš„ä»€ä¹ˆå¼€æºæ¡†æ¶æœ‰å¾…ä¼˜åŒ–çš„åœ°æ–¹ï¼Œè¿™é‡Œå†æ•™å¤§å®¶æ€ä¹ˆåœ¨ GitHub ä¸Šæäº¤ä¸€ä¸ª PRã€‚</p>
<h4 data-id="heading-2">å¯¹å¼€æºé¡¹ç›®è¿›è¡Œ Fork</h4>
<p>é¦–å…ˆæŠŠä½ è¦æäº¤ PR çš„é¡¹ç›® Fork åˆ°è‡ªå·±çš„ä»“åº“ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5280290a89e34652a61dacace2abf21b~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>ç„¶ååˆ°è‡ªå·±çš„ä»“åº“ä¸­ï¼Œå°† Fork çš„é¡¹ç›® clone åˆ°æœ¬åœ°ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b73e734557d2472da1d27b4f7381bcaf~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<pre><code class="copyable">$ git clone git@github.com:Shenfq/rollup-plugin-eslint.git
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-3">åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼Œæäº¤å˜æ›´ï¼Œæ¨é€åˆ°è¿œç¨‹</h4>
<p>ä»£ç  clone åˆ°æœ¬åœ°ä¹‹åï¼Œå…ˆåˆ‡æ¢ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œåˆ†æ”¯åæœ€å¥½ç´§è´´è¿™æ¬¡æ›´æ–°çš„å†…å®¹ã€‚</p>
<pre><code class="copyable">$ git checkout -b feature/add-fix-option
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>åœ¨æ–°åˆ†æ”¯ä¿®æ”¹ä»£ç ï¼š</p>
<pre><code class="copyable">+  if (options.fix && report) &#123;
+ Â   CLIEngine.outputFixes(report);
+  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æäº¤å˜æ›´ï¼š</p>
<pre><code class="copyable">$ git add .
$ git commit -m "feat: add options.fix"
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æœ€åå°†æ–°çš„åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ï¼š</p>
<pre><code class="copyable">$ git push --set-upstream origin feature/add-fix-option
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-4">æ–°å»º PR</h4>
<p>åœ¨è‡ªå·±çš„ GitHub ä»“åº“ä¸­æ‰¾åˆ°å¯¹åº”é¡¹ç›®ï¼Œæ‰“å¼€ <code>Pull requests</code> Tabï¼Œç‚¹å‡» <code>New pull request</code> æŒ‰é’®ï¼Œæ–°å»ºä¸€ä¸ª PRã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1446fa24e4a64e8e801db2964511fb9f~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>ç„¶åï¼Œåœ¨ä¸‹é¢çš„ç•Œé¢ä¸­ï¼Œé€‰æ‹©åˆšåˆšæäº¤çš„åˆ†æ”¯ï¼Œæœ€åç‚¹å‡» <code>Create pull request</code> å³å¯ã€‚</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8184c71bf73944dc98f0427805687d92~tplv-k3u1fbpfcp-no-mark:1280:960:0:0.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>ç‚¹å‡»ä¹‹åï¼Œå°±åœ¨å¯¹åº”çš„é¡¹ç›®ä¸­æäº¤äº†ä¸€ä¸ªå±äºä½ çš„ PR äº†ã€‚å¦‚æœé¡ºåˆ©çš„è¯ï¼Œä½ å°±èƒ½ã€æ··ã€ åˆ°ä¸€ä¸ªå¼€æºé¡¹ç›®è´¡çŒ®è€…çš„å¤´è¡”ã€‚</p>
<p>\</p></div>  
</div>
            