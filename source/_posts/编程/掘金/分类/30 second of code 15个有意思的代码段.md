
---
title: '30 second of code 15ä¸ªæœ‰æ„æ€çš„ä»£ç æ®µ'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://picsum.photos/400/300?random=7331'
author: æ˜é‡‘
comments: false
date: Sat, 28 Aug 2021 17:49:28 GMT
thumbnail: 'https://picsum.photos/400/300?random=7331'
---

<div>   
<div class="markdown-body html cache"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">å‰è¨€</h2>
<p><strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds" ref="nofollow noopener noreferrer">30-seconds</a></strong> æ˜¯ä¸€ä¸ªå­¦ä¹ ç³»åˆ—ï¼Œ<strong>åŸºæœ¬éƒ½æ˜¯é€šè¿‡ç®€çŸ­çš„ä»£ç å®ç°æŸäº›åŠŸèƒ½</strong>ï¼Œ åŒ…å«</p>
<ul>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code" ref="nofollow noopener noreferrer">30-seconds-of-code</a><br>
æ»¡è¶³æ‰€æœ‰å¼€å‘éœ€æ±‚çš„ç®€çŸ­JavaScriptä»£ç ç‰‡æ®µ</li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-css" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-css" ref="nofollow noopener noreferrer">30-seconds-of-css</a><br>
æ»¡è¶³æ‰€æœ‰å¼€å‘éœ€æ±‚çš„ç®€çŸ­CSSä»£ç ç‰‡æ®µ</li>
<li><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-react" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-react" ref="nofollow noopener noreferrer">30-seconds-of-react</a><br>
æ»¡è¶³æ‰€æœ‰å¼€å‘éœ€æ±‚çš„ç®€çŸ­Reactä»£ç ç‰‡æ®µ</li>
</ul>
<p>ç­‰ç­‰ï¼Œè¿˜æœ‰å¾ˆå¤šç³»åˆ—ï¼Œ <strong>æˆ‘ä»¬ä»Šå¤©çš„ä¸»é¢˜æ˜¯ <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code" ref="nofollow noopener noreferrer">30-seconds-of-code</a>   ï¼Œ å³ç®€çŸ­çš„ä»£ç æ®µã€‚</strong></p>
<p>æŒ‘é€‰äº†æˆ‘è§‰å¾—æ¯”è¾ƒ<strong>æœ‰æ„æ€æˆ–è€…æœ‰æ„ä¹‰</strong>çš„15ä¸ªä»£ç ï¼Œæˆ‘ä»¬ä¸€èµ·å¼€å§‹ç®€çŸ­ä»£ç ä¹‹æ—…å§ï¼</p>
<h2 data-id="heading-1">ç²¾é€‰</h2>
<h3 data-id="heading-2"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FURLJoin.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/URLJoin.md" ref="nofollow noopener noreferrer">URLJoin</a></h3>
<p>åœ°å€æ‹¼æ¥ã€‚
é™¤æ­¤ä¹‹å¤–ï¼Œ<code>URLSearchParams</code>æˆ–<code>URL</code>éƒ½å¯ä»¥å¾ˆå¥½çš„å¤„ç†QueryString, æ›´å¤šè¯¦æƒ…å‚è§ <strong><a href="https://juejin.cn/post/6987166546502090788" target="_blank" title="https://juejin.cn/post/6987166546502090788">ç§è—çš„è¿™äº›é«˜çº§å·¥å…·å‡½æ•°ï¼Œä½ æ‹¥æœ‰å‡ ä¸ª?</a></strong></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> URLJoin = <span class="hljs-function">(<span class="hljs-params">...args</span>) =></span>
  args
    .join(<span class="hljs-string">'/'</span>)
    .replace(<span class="hljs-regexp">/[\/]+/g</span>, <span class="hljs-string">'/'</span>)
    .replace(<span class="hljs-regexp">/^(.+):\//</span>, <span class="hljs-string">'$1://'</span>)
    .replace(<span class="hljs-regexp">/^file:/</span>, <span class="hljs-string">'file:/'</span>)
    .replace(<span class="hljs-regexp">/\/(\?|&|#[^!])/g</span>, <span class="hljs-string">'$1'</span>)
    .replace(<span class="hljs-regexp">/\?/g</span>, <span class="hljs-string">'&'</span>)
    .replace(<span class="hljs-string">'&'</span>, <span class="hljs-string">'?'</span>);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç¤ºä¾‹</p>
<pre><code class="hljs language-js copyable" lang="js">URLJoin(<span class="hljs-string">'http://www.google.com'</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'/b/cd'</span>, <span class="hljs-string">'?foo=123'</span>, <span class="hljs-string">'?bar=foo'</span>);
<span class="hljs-comment">// 'http://www.google.com/a/b/cd?foo=123&bar=foo'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-3"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2Funcurry.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/uncurry.md" ref="nofollow noopener noreferrer">uncurry </a></h3>
<p>å‡å°‘åµŒå¥—å‡½æ•°è°ƒç”¨æ¬¡æ•°ï¼Œæ”¹å˜å‡½æ•°çš„ä¼ å‚æ–¹å¼ã€‚ è¿™æ˜¯åæŸ¯é‡ŒåŒ–å—ï¼Ÿ</p>
<p><strong>è¿™ä¸ªå‡½æ•°éå¸¸çµæ´»ï¼Œå¾ˆæœ‰æ„æ€ã€‚</strong></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> uncurry = <span class="hljs-function">(<span class="hljs-params">fn, n = <span class="hljs-number">1</span></span>) =></span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> next = <span class="hljs-function"><span class="hljs-params">acc</span> =></span> <span class="hljs-function"><span class="hljs-params">args</span> =></span> args.reduce(<span class="hljs-function">(<span class="hljs-params">x, y</span>) =></span> x(y), acc);
  <span class="hljs-keyword">if</span> (n > args.length) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">RangeError</span>(<span class="hljs-string">'Arguments too few!'</span>);
  <span class="hljs-keyword">return</span> next(fn)(args.slice(<span class="hljs-number">0</span>, n));
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> add = <span class="hljs-function"><span class="hljs-params">x</span> =></span> <span class="hljs-function"><span class="hljs-params">y</span> =></span> <span class="hljs-function"><span class="hljs-params">z</span> =></span> x + y + z;

<span class="hljs-keyword">const</span> uncurriedAdd1 = uncurry(add, <span class="hljs-number">1</span>);
uncurriedAdd1(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)  <span class="hljs-comment">// 6</span>

<span class="hljs-keyword">const</span> uncurriedAdd1 = uncurry(add, <span class="hljs-number">2</span>);
uncurriedAdd1(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)  <span class="hljs-comment">// 6</span>

<span class="hljs-keyword">const</span> uncurriedAdd3 = uncurry(add, <span class="hljs-number">3</span>);
uncurriedAdd3(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// 6</span>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-4"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FonScrollStop.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/onScrollStop.md" ref="nofollow noopener noreferrer">onScrollStop </a></h3>
<p>ç›‘å¬æ»šåŠ¨åœæ­¢äº‹ä»¶ï¼Œå½“åœæ­¢æ»šåŠ¨çš„æ—¶å€™ï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°ã€‚</p>
<p>éœ€è¦åœ¨åœæ­¢æ»šåŠ¨åï¼Œæ‰§è¡ŒæŸäº›æ“ä½œï¼Œè¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> onScrollStop = <span class="hljs-function"><span class="hljs-params">callback</span> =></span> &#123;
  <span class="hljs-keyword">let</span> isScrolling;
  <span class="hljs-built_in">window</span>.addEventListener(
    <span class="hljs-string">'scroll'</span>,
    <span class="hljs-function"><span class="hljs-params">e</span> =></span> &#123;
      <span class="hljs-built_in">clearTimeout</span>(isScrolling);
      isScrolling = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =></span> &#123;
        callback();
      &#125;, <span class="hljs-number">150</span>);
    &#125;,
    <span class="hljs-literal">false</span>
  );
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">onScrollStop(<span class="hljs-function">() =></span> &#123;
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The user has stopped scrolling'</span>);
&#125;);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-5"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FbyteSize.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/byteSize.md" ref="nofollow noopener noreferrer">byteSize</a></h3>
<p>è¿”å›å­—ç¬¦ä¸²å­—èŠ‚æ•°ã€‚</p>
<p>éƒ½çŸ¥é“ï¼Œä¸­æ–‡å’Œè‹±æ–‡æ‰€å çš„å­—èŠ‚æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰å ä¸¤ä¸ªçš„ï¼Œä¸‰ä¸ªçš„ï¼Œå››ä¸ªçš„ï¼Œä¸€ä¸ªçš„ã€‚</p>
<p><strong>è‹±æ–‡ä¸€èˆ¬ä¸€ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡ä¸€èˆ¬ä¸‰ä¸ªã€‚</strong></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> byteSize = <span class="hljs-function"><span class="hljs-params">str</span> =></span> <span class="hljs-keyword">new</span> Blob([str]).size;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">byteSize(<span class="hljs-string">'a'</span>) <span class="hljs-comment">// 1</span>
byteSize(<span class="hljs-string">'Ø³'</span>) <span class="hljs-comment">// 2</span>
byteSize(<span class="hljs-string">'ä¸­'</span>) <span class="hljs-comment">// 3</span>
byteSize(<span class="hljs-string">'ğŸ˜€'</span>); <span class="hljs-comment">// 4</span>
byteSize(<span class="hljs-string">'Hello World'</span>); <span class="hljs-comment">// 11</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™è¿˜æ¶‰åŠ Unicodeç¼–ç çš„çŸ¥è¯†ï¼Œä¸ºäº†éªŒè¯æ›´å¤šå­—ç¬¦ï¼Œä½ å¯ä»¥æŸ¥é˜… <strong><a href="https://link.juejin.cn/?target=http%3A%2F%2Ftitus.uni-frankfurt.de%2Funicode%2Funitestx.htm" target="_blank" rel="nofollow noopener noreferrer" title="http://titus.uni-frankfurt.de/unicode/unitestx.htm" ref="nofollow noopener noreferrer">Unicodeå¯¹åº”è¡¨</a></strong></p>
<h3 data-id="heading-6"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FrunPromisesInSeries.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/runPromisesInSeries.md" ref="nofollow noopener noreferrer">runPromisesInSeries </a></h3>
<p>é¡ºåºæ‰§è¡Œpromise, å®é™…ä¸Šåº”è¯¥ç”ŸæˆPromiseçš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> runPromisesInSeries = <span class="hljs-function"><span class="hljs-params">ps</span> =></span>
  ps.reduce(<span class="hljs-function">(<span class="hljs-params">p, next</span>) =></span> p.then(next), <span class="hljs-built_in">Promise</span>.resolve());
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> delay = <span class="hljs-function"><span class="hljs-params">d</span> =></span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">r</span> =></span> <span class="hljs-built_in">setTimeout</span>(r, d));
runPromisesInSeries([<span class="hljs-function">() =></span> delay(<span class="hljs-number">1000</span>), <span class="hljs-function">() =></span> delay(<span class="hljs-number">2000</span>)]);
<span class="hljs-comment">// Executes each promise sequentially, taking a total of 3 seconds to complete</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™ä¸ªç‰ˆæœ¬ï¼Œä¸èƒ½ä¼ å‚ï¼Œæˆ‘åœ¨ <strong><a href="https://juejin.cn/post/6987166546502090788" target="_blank" title="https://juejin.cn/post/6987166546502090788">ç§è—çš„è¿™äº›é«˜çº§å·¥å…·å‡½æ•°ï¼Œä½ æ‹¥æœ‰å‡ ä¸ª?</a></strong>,  å®ç°äº†ä¸€ä¸ªå¸¦å‚æ•°ç‰ˆæœ¬ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runPromises</span>(<span class="hljs-params">promiseCreators, initData</span>) </span>&#123;
    <span class="hljs-keyword">return</span> promiseCreators
        .reduce(<span class="hljs-function">(<span class="hljs-params">promise, next</span>) =></span> promise
                .then(<span class="hljs-function">(<span class="hljs-params">data</span>) =></span> next(data))
            , <span class="hljs-built_in">Promise</span>.resolve(initData));
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> promise1 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data = <span class="hljs-number">0</span></span>) </span>&#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =></span> &#123;
        resolve(data + <span class="hljs-number">1000</span>);
    &#125;);
&#125;
<span class="hljs-keyword">var</span> promise2 = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>&#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =></span> &#123;
        resolve(data -<span class="hljs-number">500</span>);
    &#125;);
&#125;

runPromises([promise1, promise2], <span class="hljs-number">1</span>).then(<span class="hljs-function"><span class="hljs-params">res</span>=></span><span class="hljs-built_in">console</span>.log(res));  <span class="hljs-comment">// 501</span>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-7"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FstringifyCircularJSON.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/stringifyCircularJSON.md" ref="nofollow noopener noreferrer">stringifyCircularJSON</a></h3>
<p>å°†åŒ…å«å¾ªç¯å¼•ç”¨çš„ JSON å¯¹è±¡åºåˆ—åŒ–ä¸º JSON æ ¼å¼ã€‚</p>
<p>å…¶æ€è·¯æ˜¯ä½¿ç”¨<code>WeakSet</code> ä¿å­˜æ•°æ®è¿›è¡Œå¯¹æ¯”ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> stringifyCircularJSON = <span class="hljs-function"><span class="hljs-params">obj</span> =></span> &#123;
  <span class="hljs-keyword">const</span> seen = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakSet</span>();
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify(obj, <span class="hljs-function">(<span class="hljs-params">k, v</span>) =></span> &#123;
    <span class="hljs-keyword">if</span> (v !== <span class="hljs-literal">null</span> && <span class="hljs-keyword">typeof</span> v === <span class="hljs-string">'object'</span>) &#123;
      <span class="hljs-keyword">if</span> (seen.has(v)) <span class="hljs-keyword">return</span>;
      seen.add(v);
    &#125;
    <span class="hljs-keyword">return</span> v;
  &#125;);
&#125;;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> obj = &#123; <span class="hljs-attr">n</span>: <span class="hljs-number">42</span> &#125;;
obj.obj = obj;
stringifyCircularJSON(obj); <span class="hljs-comment">// '&#123;"n": 42&#125;'</span>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-8"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FUUIDGeneratorBrowser.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/UUIDGeneratorBrowser.md" ref="nofollow noopener noreferrer">UUIDGeneratorBrowser</a></h3>
<p>UUIDç”Ÿæˆå™¨ï¼Œé™¤æ­¤ä¹‹å¤–<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FURL%2FcreateObjectURL" title="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FURL%2FcreateObjectURL" target="_blank">URL.createObjectURL</a>ä¹Ÿå¯ä»¥ç”ŸæˆUUIDã€‚è¿™ä¸¤ç§ç®—æ˜¯æ¯”è¾ƒä¸»æµçš„æ–¹å¼ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> UUIDGeneratorBrowser = <span class="hljs-function">() =></span>
  ([<span class="hljs-number">1e7</span>] + -<span class="hljs-number">1e3</span> + -<span class="hljs-number">4e3</span> + -<span class="hljs-number">8e3</span> + -<span class="hljs-number">1e11</span>).replace(<span class="hljs-regexp">/[018]/g</span>, <span class="hljs-function"><span class="hljs-params">c</span> =></span>
    (
      c ^
      (crypto.getRandomValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(<span class="hljs-number">1</span>))[<span class="hljs-number">0</span>] & (<span class="hljs-number">15</span> >> (c / <span class="hljs-number">4</span>)))
    ).toString(<span class="hljs-number">16</span>)
  );
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">UUIDGeneratorBrowser(); <span class="hljs-comment">// '7982fcfe-5721-4632-bede-6000885be57d'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">genUUID</span>(<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">const</span> url = URL.createObjectURL(<span class="hljs-keyword">new</span> Blob([]));
    <span class="hljs-comment">// const uuid = url.split("/").pop();</span>
    <span class="hljs-keyword">const</span> uuid = url.substring(url.lastIndexOf(<span class="hljs-string">'/'</span>)+ <span class="hljs-number">1</span>);
    URL.revokeObjectURL(url);
    <span class="hljs-keyword">return</span> uuid;
&#125;

genUUID() <span class="hljs-comment">// cd205467-0120-47b0-9444-894736d873c7</span>


<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-9"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FaddDaysToDate.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/addDaysToDate.md" ref="nofollow noopener noreferrer">addDaysToDate</a></h3>
<p>æ—¶é—´æ·»åŠ å¤©æ•°ï¼Œè¿”å›çš„æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> addDaysToDate = <span class="hljs-function">(<span class="hljs-params">date, n</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(date);
  d.setDate(d.getDate() + n);
  <span class="hljs-keyword">return</span> d.toISOString().split(<span class="hljs-string">'T'</span>)[<span class="hljs-number">0</span>];
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">addDaysToDate(<span class="hljs-string">'2020-10-15'</span>, <span class="hljs-number">10</span>); <span class="hljs-comment">// '2020-10-25'</span>
addDaysToDate(<span class="hljs-string">'2020-10-15'</span>, -<span class="hljs-number">10</span>); <span class="hljs-comment">// '2020-10-05'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-10"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2Fcompose.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/compose.md" ref="nofollow noopener noreferrer">compose </a></h3>
<p>ä»å³åˆ°å·¦çš„å¤åˆå‡½æ•°ã€‚ æ²¡è®°é”™çš„è¯å’Œ <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Freduxjs%2Fredux%2Fblob%2Fmaster%2Fsrc%2Fcompose.ts" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/reduxjs/redux/blob/master/src/compose.ts" ref="nofollow noopener noreferrer">reduxçš„compose</a></strong> æå…¶ç±»ä¼¼ã€‚</p>
<p>æ¯•ç«Ÿå˜›ï¼Œæ€è·¯æ˜¯ä¸€æ ·çš„ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js">onst compose = <span class="hljs-function">(<span class="hljs-params">...fns</span>) =></span>
  fns.reduce(<span class="hljs-function">(<span class="hljs-params">f, g</span>) =></span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =></span> f(g(...args)));
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> add5 = <span class="hljs-function"><span class="hljs-params">x</span> =></span> x + <span class="hljs-number">5</span>;
<span class="hljs-keyword">const</span> multiply = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =></span> x * y;
<span class="hljs-keyword">const</span> multiplyAndAdd5 = compose(
  add5,
  multiply
);
multiplyAndAdd5(<span class="hljs-number">5</span>, <span class="hljs-number">2</span>); <span class="hljs-comment">// 15</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-11"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FdeepGet.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/deepGet.md" ref="nofollow noopener noreferrer">deepGet </a></h3>
<p>è·å–å¯¹è±¡çš„å¤šçº§å±æ€§ï¼Œå±æ€§å‚æ•°æ˜¯æ•°ç»„ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> deepGet = <span class="hljs-function">(<span class="hljs-params">obj, keys</span>) =></span>
  keys.reduce(
    <span class="hljs-function">(<span class="hljs-params">xs, x</span>) =></span> (xs && xs[x] !== <span class="hljs-literal">null</span> && xs[x] !== <span class="hljs-literal">undefined</span> ? xs[x] : <span class="hljs-literal">null</span>),
    obj
  );
<span class="hljs-keyword">let</span> index = <span class="hljs-number">2</span>;
<span class="hljs-keyword">const</span> data = &#123;
  <span class="hljs-attr">foo</span>: &#123;
    <span class="hljs-attr">foz</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>],
    <span class="hljs-attr">bar</span>: &#123;
      <span class="hljs-attr">baz</span>: [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>]
    &#125;
  &#125;
&#125;;
deepGet(data, [<span class="hljs-string">'foo'</span>, <span class="hljs-string">'foz'</span>, index]); <span class="hljs-comment">// get 3</span>
deepGet(data, [<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>, <span class="hljs-string">'baz'</span>, <span class="hljs-number">8</span>, <span class="hljs-string">'foz'</span>]); <span class="hljs-comment">// null</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å½“ç„¶ lodash ä¹Ÿæä¾›äº†  <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Flodash.com%2Fdocs%2F4.17.15%23get" target="_blank" rel="nofollow noopener noreferrer" title="https://lodash.com/docs/4.17.15#get" ref="nofollow noopener noreferrer">.get</a></strong>, å½“ç„¶å®ç°çš„å¤æ‚åº¦ä¹Ÿé«˜å¾ˆå¯¹ï¼Œå…¶å±æ€§å‚æ•°ç”¨çš„æ˜¯å­—ç¬¦ä¸²ã€‚</p>
<h3 data-id="heading-12"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FobjectToQueryString.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/objectToQueryString.md" ref="nofollow noopener noreferrer">objectToQueryString </a></h3>
<p>æŠŠå¯¹è±¡è½¬ä¸º queryStringï¼Œå°±è¿™ä¸ªqueryStringçš„è½¬æ¢ï¼Œå°±æœ‰å¥½å‡ ä¸ªç‰›æ°”å†²å¤©çš„åº“ã€‚</p>
<p>ä¸‹è½½é‡è¿‡ åƒä¸‡çš„ <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fquery-string" target="_blank" rel="nofollow noopener noreferrer" title="https://www.npmjs.com/package/query-string" ref="nofollow noopener noreferrer">query-string</a></strong>  å’Œ 500ä¸‡çš„ <strong><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fqs" target="_blank" rel="nofollow noopener noreferrer" title="https://www.npmjs.com/package/qs" ref="nofollow noopener noreferrer">qs</a></strong>, ä¸»è¦è§£å†³ä¸¤ä¸ªé—®é¢˜ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯ toQueryStringã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> objectToQueryString = <span class="hljs-function"><span class="hljs-params">queryParameters</span> =></span> &#123;
  <span class="hljs-keyword">return</span> queryParameters
    ? <span class="hljs-built_in">Object</span>.entries(queryParameters).reduce(
        <span class="hljs-function">(<span class="hljs-params">queryString, [key, val], index</span>) =></span> &#123;
          <span class="hljs-keyword">const</span> symbol = queryString.length === <span class="hljs-number">0</span> ? <span class="hljs-string">'?'</span> : <span class="hljs-string">'&'</span>;
          queryString +=
            <span class="hljs-keyword">typeof</span> val === <span class="hljs-string">'string'</span> ? <span class="hljs-string">`<span class="hljs-subst">$&#123;symbol&#125;</span><span class="hljs-subst">$&#123;key&#125;</span>=<span class="hljs-subst">$&#123;val&#125;</span>`</span> : <span class="hljs-string">''</span>;
          <span class="hljs-keyword">return</span> queryString;
        &#125;,
        <span class="hljs-string">''</span>
      )
    : <span class="hljs-string">''</span>;
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">objectToQueryString(&#123; <span class="hljs-attr">page</span>: <span class="hljs-string">'1'</span>, <span class="hljs-attr">size</span>: <span class="hljs-string">'2kg'</span>, <span class="hljs-attr">key</span>: <span class="hljs-literal">undefined</span> &#125;);
<span class="hljs-comment">// '?page=1&size=2kg'</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-13"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FparseCookie.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/parseCookie.md" ref="nofollow noopener noreferrer">parseCookie</a></h3>
<p>æŠŠcookieè½¬ä¸ºé”®å€¼å¯¹ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªæ“ä½œå‰ç«¯ï¼Œæ“ä½œcookieæ˜¯æ—¥å¸¸æ“ä½œï¼Œæˆ‘ç›¸ä¿¡è‚¯å®šæœ‰ä¸å°‘åŒå¿—å¼•å…¥äº†ç¬¬ä¸‰æ–¹åº“ï¼Œå…¶å®åªéœ€ä»£å‡ ç å°±å¯ä»¥çš„ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> parseCookie = <span class="hljs-function"><span class="hljs-params">str</span> =></span>
  str
    .split(<span class="hljs-string">';'</span>)
    .map(<span class="hljs-function"><span class="hljs-params">v</span> =></span> v.split(<span class="hljs-string">'='</span>))
    .reduce(<span class="hljs-function">(<span class="hljs-params">acc, v</span>) =></span> &#123;
      acc[<span class="hljs-built_in">decodeURIComponent</span>(v[<span class="hljs-number">0</span>].trim())] = <span class="hljs-built_in">decodeURIComponent</span>(v[<span class="hljs-number">1</span>].trim());
      <span class="hljs-keyword">return</span> acc;
    &#125;, &#123;&#125;);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">parseCookie(<span class="hljs-built_in">document</span>.cookie) 
<span class="hljs-comment">// &#123;_octo: "GH1.1.2059864283.1626332708", tz: "Asia/Shanghai"&#125;</span>

parseCookie(<span class="hljs-string">'foo=bar; equation=E%3Dmc%5E2'</span>);
<span class="hljs-comment">// &#123; foo: 'bar', equation: 'E=mc^2' &#125;</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-14"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2Funfold.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/unfold.md" ref="nofollow noopener noreferrer">unfold </a></h3>
<p>ä½¿ç”¨è¿­ä»£å™¨å‡½æ•°å’Œåˆå§‹ç§å­å€¼æ„å»ºæ•°ç»„ã€‚</p>
<p>åœ¨é€ å‡æ•°æ®æˆ–è€…éšæœºæ•°æ®çš„æ—¶å€™ï¼Œæ¯”è¾ƒæœ‰ç”¨ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> unfold = <span class="hljs-function">(<span class="hljs-params">fn, seed</span>) =></span> &#123;
  <span class="hljs-keyword">let</span> result = [],
    val = [<span class="hljs-literal">null</span>, seed];
  <span class="hljs-keyword">while</span> ((val = fn(val[<span class="hljs-number">1</span>]))) result.push(val[<span class="hljs-number">0</span>]);
  <span class="hljs-keyword">return</span> result;
&#125;;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> f = <span class="hljs-function"><span class="hljs-params">n</span> =></span> (n > <span class="hljs-number">50</span> ? <span class="hljs-literal">false</span> : [-n, n + <span class="hljs-number">10</span>]);
unfold(f, <span class="hljs-number">10</span>); <span class="hljs-comment">// [-10, -20, -30, -40, -50]</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-15"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FtriggerEvent.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/triggerEvent.md" ref="nofollow noopener noreferrer">triggerEvent </a></h3>
<p>è§¦å‘ç»™å®šå…ƒç´ ä¸Šçš„ç‰¹å®šäº‹ä»¶ï¼Œå¯ä»¥é€‰æ‹©ä¼ é€’è‡ªå®šä¹‰æ•°æ®ã€‚</p>
<p>è¿™ä¸ªåœ¨IE11ä»¥åŠä¸€äº›ä½ç‰ˆæœ¬æ˜¯æœ‰é—®é¢˜çš„ï¼Œä½ç‰ˆæœ¬ä½¿ç”¨çš„æ˜¯ <code>document.createEvent</code></p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> triggerEvent = <span class="hljs-function">(<span class="hljs-params">el, eventType, detail</span>) =></span>
  el.dispatchEvent(<span class="hljs-keyword">new</span> CustomEvent(eventType, &#123; detail &#125;));
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js">triggerEvent(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'myId'</span>), <span class="hljs-string">'click'</span>);
triggerEvent(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'myId'</span>), <span class="hljs-string">'click'</span>, &#123; <span class="hljs-attr">username</span>: <span class="hljs-string">'bob'</span> &#125;);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h3 data-id="heading-16"><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code%2Fblob%2Fmaster%2Fsnippets%2FrepeatGenerator.md" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code/blob/master/snippets/repeatGenerator.md" ref="nofollow noopener noreferrer">repeatGenerator</a></h3>
<p>åˆ›å»ºç”Ÿæˆå™¨ï¼Œæ— é™é‡å¤ç»™å®šå€¼ã€‚ æœ‰ç‚¹æ„æ€ï¼Œå®ç”¨åœºæ™¯å˜›ï¼Œä¹Ÿè®¸æµ‹è¯•å§ã€‚</p>
<p>å½“ç„¶ï¼Œä¸­é€”ä½ å¯ä»¥æ›´æ–°å€¼ã€‚ è¿™é‡Œæƒ³å‘Šè¯‰å¤§å®¶çš„æ˜¯ genetatoræœ‰å…¥å‚çš„æ¦‚å¿µã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> repeatGenerator = <span class="hljs-function"><span class="hljs-keyword">function</span>* (<span class="hljs-params">val</span>) </span>&#123;
  <span class="hljs-keyword">let</span> v = val;
  <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;
    <span class="hljs-keyword">let</span> newV = <span class="hljs-keyword">yield</span> v;
    <span class="hljs-keyword">if</span> (newV !== <span class="hljs-literal">undefined</span>) v = newV;
  &#125;
&#125;;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> repeater = repeatGenerator(<span class="hljs-number">5</span>);
repeater.next(); <span class="hljs-comment">// &#123; value: 5, done: false &#125;</span>
repeater.next(); <span class="hljs-comment">// &#123; value: 5, done: false &#125;</span>
repeater.next(<span class="hljs-number">4</span>); <span class="hljs-comment">// &#123; value: 4, done: false &#125;</span>
repeater.next(); <span class="hljs-comment">// &#123; value: 4, done: false &#125;</span>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-17">å†™åœ¨æœ€å</h2>
<p>å¦‚æœä½ è§‰å¾—ä¸é”™ï¼Œä½ çš„ä¸€èµä¸€è¯„å°±æ˜¯æˆ‘å‰è¡Œçš„æœ€å¤§åŠ¨åŠ›ã€‚</p>
<p><strong>æŠ€æœ¯äº¤æµç¾¤è¯·åˆ° <a href="https://juejin.cn/pin/6994350401550024741" title="https://juejin.cn/pin/6994350401550024741" target="_blank">è¿™é‡Œæ¥</a>ã€‚
æˆ–è€…æ·»åŠ æˆ‘çš„å¾®ä¿¡ dirge-cloudï¼Œä¸€èµ·å­¦ä¹ ã€‚</strong></p>
<h2 data-id="heading-18">å‚è€ƒå¼•ç”¨</h2>
<blockquote>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2F30-seconds%2F30-seconds-of-code" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/30-seconds/30-seconds-of-code" ref="nofollow noopener noreferrer">30-seconds-of-code</a></p>
</blockquote></div>  
</div>
            