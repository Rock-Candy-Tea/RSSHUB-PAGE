
---
title: '播放器 - 实现全屏'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86e418060dbb4c008be2c76496e18e91~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Wed, 09 Jun 2021 17:17:50 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86e418060dbb4c008be2c76496e18e91~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>这是我参与更文挑战的第10天，活动详情查看： <a href="https://juejin.cn/post/6967194882926444557" target="_blank">更文挑战</a></p>
<h1 data-id="heading-0">前言</h1>
<p>虽然说这篇文章是为了实现播放器（video）全屏以及解决全屏遇到的问题，但是如果你是希望实现其他元素全屏，下面的全屏代码和一些问题的解决方案也是适用的，可以参考下。</p>
<h1 data-id="heading-1">播放器全屏代码</h1>
<p>播放器进入全屏主要使用到了 <code>requestFullscreen</code>(进入全屏) 和 <code>exitFullscreen</code>（退出全屏），这两个 api 适用于 pc 和安卓端，但是 ios 不适用。ios 是个另类，只能用 <code>webkitEnterFullscreen</code> api 进入全屏，而且，ios 是没有退出全屏的 api，进入全屏后，只能通过 iphone 的手势操作或自带控件进行退出全屏。</p>
<p>要注意以下几点：</p>
<ol>
<li><code>webkitEnterFullscreen</code> 只能对 ios 的 video 元素进行全屏，而且 ios 的全屏 api 只有 <code>webkitEnterFullscreen</code>，因此 ios 能够实现真正全屏的元素只有 video（下面有实现“假全屏”的代码）。</li>
<li><code>requestFullscreen</code>是可以对几乎任何元素（不单止是 video）进行全屏。</li>
<li><code>requestFullscreen</code> (进入全屏) 和 <code>exitFullscreen</code>（退出全屏）在不同的浏览器可能拥有独特的名称，如：<code>mozRequestFullScreen</code> 是火狐的 api。</li>
</ol>
<p>下面直接贴出兼容各个浏览器（包括移动端）的播放器全屏代码示例，如果希望对非 video 元素进行全屏，把 toggleFullScreen 开头的 querySelector 指向目标元素，再稍微修改一下就可以使用了。</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-comment"><!-- 最好有一个 div 包裹 video 标签 --></span>
<span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"video-box"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"xxx"</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">""</span>></span><span class="hljs-tag"></<span class="hljs-name">video</span>></span>
<span class="hljs-tag"></<span class="hljs-name">div</span>></span>

<span class="hljs-tag"><<span class="hljs-name">script</span>></span><span class="javascript">
  <span class="hljs-comment">// 检测是否全屏（IOS 端无效）</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkFullScreen</span>(<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">var</span> isFull = <span class="hljs-built_in">document</span>.webkitIsFullScreen || <span class="hljs-built_in">document</span>.mozFullScreen || 
      <span class="hljs-built_in">document</span>.msFullscreenElement || <span class="hljs-built_in">document</span>.fullscreenElement
    <span class="hljs-keyword">if</span> (isFull == <span class="hljs-literal">null</span> || isFull == <span class="hljs-literal">undefined</span>) &#123;
      isFull = <span class="hljs-literal">false</span>
    &#125;
    <span class="hljs-keyword">return</span> isFull
  &#125;
  
  <span class="hljs-comment">// 全屏</span>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleFullScreen</span>(<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">var</span> videoBox = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.video-box'</span>)
    <span class="hljs-comment">// video 是 video-player 里面的 video 标签，这个用于 ios 端全屏</span>
    <span class="hljs-keyword">var</span> video = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'.video-box video'</span>)
    <span class="hljs-keyword">var</span> isFull = checkFullScreen()
    <span class="hljs-comment">//W3C</span>
    <span class="hljs-keyword">if</span> (videoBox.requestFullscreen) &#123;
        isFull ? <span class="hljs-built_in">document</span>.exitFullscreen() : videoBox.requestFullscreen()
    &#125;
    <span class="hljs-comment">//FireFox</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoBox.mozRequestFullScreen) &#123;
        isFull ? <span class="hljs-built_in">document</span>.mozCancelFullScreen() : videoBox.mozRequestFullScreen()
    &#125;
    <span class="hljs-comment">//Chrome</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoBox.webkitRequestFullScreen) &#123;
        isFull ? <span class="hljs-built_in">document</span>.webkitCancelFullScreen() : videoBox.webkitRequestFullScreen()
    &#125;
    <span class="hljs-comment">//IE11</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (videoBox.msRequestFullscreen) &#123;
        isFull ? <span class="hljs-built_in">document</span>.msExitFullscreen() : videoBox.msRequestFullscreen()
    &#125;
    <span class="hljs-comment">// IOS（特例）</span>
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (video.webkitEnterFullscreen) &#123;
        video.webkitEnterFullscreen()
    &#125;
    
    <span class="hljs-comment">// 这里可以做一些判断，更换全屏缩放图标（对 IOS 端没效果）</span>
    <span class="hljs-keyword">if</span> (isFull) &#123;
    
    &#125; <span class="hljs-keyword">else</span> &#123;
    
    &#125;
  &#125;
</span><span class="hljs-tag"></<span class="hljs-name">script</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h1 data-id="heading-2">全屏代码失效</h1>
<h2 data-id="heading-3">iframe 引起</h2>
<p>如果你的全屏代码是 iframe 页面里面的，记得 iframe 要允许全屏。</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">iframe</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://xxxx.com"</span> <span class="hljs-attr">allowfullscreen</span>=<span class="hljs-string">"allowfullscreen"</span> <span class="hljs-attr">mozallowfullscreen</span>=<span class="hljs-string">"mozallowfullscreen"</span> <span class="hljs-attr">msallowfullscreen</span>=<span class="hljs-string">"msallowfullscreen"</span> <span class="hljs-attr">oallowfullscreen</span>=<span class="hljs-string">"oallowfullscreen"</span> <span class="hljs-attr">webkitallowfullscreen</span>=<span class="hljs-string">"webkitallowfullscreen"</span>></span><span class="hljs-tag"></<span class="hljs-name">iframe</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-4">不是用户主动触发</h2>
<p>如果你的全屏代码还是失效了，可能你做了这个操作：就是网页一打开，自动进行全屏，这个是会被浏览器禁止的。</p>
<p>全屏事件的触发只能由用户手动触发，即使你模拟鼠标自动点击也不行。
具体可以看看这个<a href="https://stackoverflow.com/questions/9454125/javascript-request-fullscreen-is-unreliable" target="_blank" rel="nofollow noopener noreferrer">解释</a>。</p>
<h1 data-id="heading-5">PC 端全屏后无法监听 ESC</h1>
<p>通常来说，在 PC 端里，快捷键 ESC 也是可以退出全屏的。而当元素使用了 requestFullscreen API 进行全屏时，不需要写任何代码，ESC 键就会默认用来退出全屏，因此 ESC 键的监听会失效，如下代码会失效。</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">document</span>.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">if</span> (event.keyCode == <span class="hljs-number">27</span>) &#123;
        <span class="hljs-comment">// 没任何作用</span>
    &#125;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>看起来没什么问题，因为 ESC 键就是用来退出全屏呀！</p>
<p>但是有时候，我们可能会出现这种业务，退出全屏后需要立刻执行其他代码。</p>
<p>在这里，可以利用 onresize 曲线救国。当 window 发生大小变化时，检查是否是全屏状态，如果是退出全屏状态，则执行业务代码。</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">window</span>.onresize = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">if</span> (!checkFullScreen()) &#123;
      <span class="hljs-comment">// 退出全屏后，执行业务代码</span>
    &#125;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<h1 data-id="heading-6">播放器全屏后如何显示自定义控制条</h1>
<p>视频全屏时也需要将控制条进行全屏，其实这个功能很简单，首先 video 标签需要一个父元素 video-box，我们要对 video-box 进行全屏，而不是 video 元素进行全屏，这样 video-box 里面的所有元素也都会进行全屏。而自定义控制条 ctrl-box 写到 video-box 里面即可。</p>
<pre><code class="hljs language-html copyable" lang="html"><span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"video-box"</span>></span>
  <span class="hljs-tag"><<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"xxx"</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">""</span>></span><span class="hljs-tag"></<span class="hljs-name">video</span>></span>
  <span class="hljs-comment"><!-- 自定义控制条 --></span>
  <span class="hljs-tag"><<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ctrl-box"</span>></span>
      ...
  <span class="hljs-tag"></<span class="hljs-name">div</span>></span>
<span class="hljs-tag"></<span class="hljs-name">div</span>></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<h1 data-id="heading-7">移动端全屏后无法显示自定义控制条</h1>
<h2 data-id="heading-8">ios 端全屏后无法显示自定义控制条</h2>
<p>由于 IOS 端的全屏只能调用 webkitEnterFullscreen 将 video 标签进行全屏（其实就是 IOS 端内置的全屏），全屏时是不能显示自定义的控制条。</p>
<p>再次提醒，<code>webkitEnterFullscreen</code>是针对 ios 的 video 标签进行全屏，无法对其他元素进行全屏。</p>
<p>我们可以用样式写一个“假全屏”代码，避开使用 ios 控件，即可显示自定义控制条。</p>
<pre><code class="hljs language-js copyable" lang="js"><script>
<span class="hljs-comment">// 为了方便，下面用了 jq</span>
<span class="hljs-comment">// 判断是否是 IOS 端</span>
<span class="hljs-keyword">var</span> isIOS = !(navigator.userAgent.indexOf(<span class="hljs-string">"Android"</span>) > -<span class="hljs-number">1</span>) && (<span class="hljs-regexp">/Safari/</span>.test(navigator.userAgent) && !<span class="hljs-regexp">/Chrome/</span>.test(navigator.userAgent))

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleFullscreen</span>(<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'.video-box'</span>).hasClass(<span class="hljs-string">'fullscreen'</span>)) &#123;
        <span class="hljs-comment">// 这里设死高度 210 了，可以自己更改</span>
        $(<span class="hljs-string">'.video-box'</span>).removeClass(<span class="hljs-string">'fullscreen'</span>).removeClass(<span class="hljs-string">'transform'</span>).width(<span class="hljs-string">'100%'</span>).height(<span class="hljs-number">210</span>).css(<span class="hljs-string">'margin'</span>, <span class="hljs-string">'0'</span>)
    &#125; <span class="hljs-keyword">else</span> &#123;
        $(<span class="hljs-string">'.video-box'</span>).addClass(<span class="hljs-string">'fullscreen'</span>)
        <span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">window</span>).width() < $(<span class="hljs-built_in">window</span>).height() && isIOS) &#123;
          $(<span class="hljs-string">'.video-box'</span>).width($(<span class="hljs-built_in">window</span>).height()).height($(<span class="hljs-built_in">window</span>).width()).css(<span class="hljs-string">'margin'</span>, <span class="hljs-string">'-'</span> + $(<span class="hljs-built_in">window</span>).width()/<span class="hljs-number">2</span> + <span class="hljs-string">'px 0 0 -'</span> + $(<span class="hljs-built_in">window</span>).height()/<span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>).addClass(<span class="hljs-string">'transform'</span>)
        &#125;<span class="hljs-keyword">else</span>&#123;
          $(<span class="hljs-string">'.video-box'</span>).width($(<span class="hljs-built_in">window</span>).width()).height($(<span class="hljs-built_in">window</span>).height()).css(<span class="hljs-string">'margin'</span>, <span class="hljs-string">'-'</span> + $(<span class="hljs-built_in">window</span>).height()/<span class="hljs-number">2</span> + <span class="hljs-string">'px 0 0 -'</span> + $(<span class="hljs-built_in">window</span>).width()/<span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>)
        &#125;
   &#125;
&#125;

<span class="hljs-comment">// 重力感应，改变屏幕方向，如果是全屏时，也进行相应的改变</span>
<span class="hljs-built_in">window</span>.onresize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">if</span>($(<span class="hljs-string">'.video-box'</span>).hasClass(<span class="hljs-string">'fullscreen'</span>))&#123;
    <span class="hljs-keyword">if</span> ($(<span class="hljs-built_in">window</span>).width() < $(<span class="hljs-built_in">window</span>).height() && isIOS) &#123;
      $(<span class="hljs-string">'.video-box'</span>).width($(<span class="hljs-built_in">window</span>).height()).height($(<span class="hljs-built_in">window</span>).width()).css(<span class="hljs-string">'margin'</span>, <span class="hljs-string">'-'</span> + $(<span class="hljs-built_in">window</span>).width()/<span class="hljs-number">2</span> + <span class="hljs-string">'px 0 0 -'</span> + $(<span class="hljs-built_in">window</span>).height()/<span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>).addClass(<span class="hljs-string">'transform'</span>)
    &#125;<span class="hljs-keyword">else</span>&#123;
      $(<span class="hljs-string">'.video-box'</span>).width($(<span class="hljs-built_in">window</span>).width()).height($(<span class="hljs-built_in">window</span>).height()).css(<span class="hljs-string">'margin'</span>, <span class="hljs-string">'-'</span> + $(<span class="hljs-built_in">window</span>).height()/<span class="hljs-number">2</span> + <span class="hljs-string">'px 0 0 -'</span> + $(<span class="hljs-built_in">window</span>).width()/<span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>).removeClass(<span class="hljs-string">'transform'</span>)
    &#125;
  &#125;
&#125;
</script>

<span class="xml"><span class="hljs-tag"><<span class="hljs-name">style</span>></span><span class="css">
<span class="hljs-comment">/* 屏幕旋转的样式 */</span>
<span class="hljs-selector-class">.video-box</span><span class="hljs-selector-class">.fullScreen</span><span class="hljs-selector-class">.transform</span> &#123;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
  -ms-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
  -webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
  -o-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
  -moz-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">90deg</span>);
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span>;
  -ms-<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span>;
  -webkit-<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span>;
  -moz-<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span>;
  -o-<span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">50%</span>;
&#125;

<span class="hljs-comment">/* 屏幕改变方向时，播放器控制条，需要固定 */</span>
<span class="hljs-selector-class">.video-box</span><span class="hljs-selector-class">.fullScreen</span><span class="hljs-selector-class">.transform</span> <span class="hljs-selector-class">.control</span> &#123;
  <span class="hljs-attribute">position</span>: fixed;
&#125;

<span class="hljs-comment">/* 全屏需要更改位置 */</span>
<span class="hljs-selector-class">.video-box</span><span class="hljs-selector-class">.fullScreen</span> &#123;
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">10000</span>;
&#125;
</span><span class="hljs-tag"></<span class="hljs-name">style</span>></span></span>
<span class="copy-code-btn">复制代码</span></code></pre>
<p>“假全屏”也兼容 android 端。</p>
<p>如果要用“假全屏”，记得把手机的重力感应开启，效果更佳。</p>
<p>“假全屏”的原理很简单，将指定元素 fixed，再将元素放大至 window 同样的宽高，再监测 resize 以至于监测重力感应做出对应改变。</p>
<p>不过这种方式存在一些体验问题，在 iphone 里，地址栏还是会存留在那里。如下图的红框部分：</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/86e418060dbb4c008be2c76496e18e91~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-9">android 端全屏后无法显示自定义控制条</h2>
<p>在 android 端里，因为比较开放，不像 ios 的浏览器只能用 ios 的浏览器内核，android 的浏览器可谓是百花齐放，有各种各样的自定义功能。其中，有个对开发者不友好的情况是某些浏览器（如：QQ浏览器、uc浏览器）会自动隐藏掉我们自定义的控制条，改用浏览器内置的默认控制条（其实不单止是全屏，非全屏也一样）。</p>
<p>我想说的是......这个是无解的！！！！！！</p>
<p>至于为什么像虎牙直播可以显示自己的控制条，我怀疑是虎牙直播和浏览器可能进行了 py 交易！！！</p>
<p>在我之前写的文章：<a href="https://juejin.cn/post/6971622415600189471" target="_blank">播放器 - 无法自动播放</a>里，就已经提到过了，浏览器厂商有一个域名白名单的东西，填进去的网站可以自动播放。</p>
<p>在这里，也是同理的，在白名单的域名下的网站可以显示自己的控制条。不信，可以试试改 host，将虎牙的域名指向自己的网站，开代理，android 手机填好代理，用 android 上的 qq 浏览器打开虎牙的域名，你可以发现自己的网站也可以显示自己的控制条了（大家可以用 fiddler 软件开代理进行测试）。</p>
<p>在思否平台里，我还特别提问了这个问题“<a href="https://segmentfault.com/q/1010000037446428" target="_blank" rel="nofollow noopener noreferrer">移动端网页播放器非全屏以及全屏时如何屏蔽浏览器默认的按钮和样式？</a>”。</p>
<p>从技术层面来说，这个问题是无解的，各位技术淫不要再折腾了，除非你真的要和浏览器厂商进行 py 交易......</p></div>  
</div>
            