
---
title: '刻意练习之经典动态规划之最小路径三角形'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6cf97c3b87a4acc826275a13953c504~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Fri, 09 Jul 2021 23:15:28 GMT
thumbnail: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6cf97c3b87a4acc826275a13953c504~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#282d36&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px;color:#2f845e&#125;.markdown-body h2&#123;font-size:24px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)&#125;.markdown-body h2:before&#123;content:" ";display:inline-block;width:8px&#125;.markdown-body h2:after&#123;content:" ";position:absolute;display:block;width:calc(100% - 40px);border-bottom:3px solid #2f845e&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%;box-shadow:6px 6px 6px #888&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75;border-top:6px solid #2f845e&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important&#125;.markdown-body strong&#123;background-color:inherit;color:#2f845e&#125;.markdown-body em&#123;background-color:inherit;color:#949415&#125;.markdown-body a&#123;text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#3f9e64&#125;.markdown-body a[class^=footnote]&#123;margin-left:4px&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54&#125;.markdown-body thead&#123;background:#2f8e54;color:#fff;text-align:left;font-weight:700&#125;.markdown-body tr:nth-child(2n)&#123;background-color:rgba(153,255,188,.1)&#125;.markdown-body td,.markdown-body th&#123;width:100%;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:4px&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body del&#123;color:#2f845e&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">开门见山</h2>
<p><strong>直接上题：</strong></p>
<p><strong>说，有个三角形<code>triangle</code>，请找出从顶点开始到底部的最小路径。</strong></p>
<p><strong>注意：每次只能向下移动，且每次移动只能去相邻的节点。</strong></p>
<p><strong>输入：triangle = [[2],[3,4],[6,5,7],[4,1,8,3]]</strong></p>
<p><strong>输出：11</strong></p>
<p><strong>解释：如下面简图所示：</strong></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6cf97c3b87a4acc826275a13953c504~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p><strong>自顶向下的最小路径和为 11（即，2 + 3 + 5 + 1 = 11）。</strong></p>
<h2 data-id="heading-1">解题思路分析</h2>
<p>既然是动态规划的刻意练习，那这个题目当然是用动态规划来进行解答。首先我们来分析一下为什么看到这道题，会第一时间想到动态规划。主要是因为这个题目有以下几个特点：</p>
<p><strong>1.每一次的移动都和上一次有关系</strong>，比如当走到例题中的值为<code>3</code>的结点时候，下一步只能走到<code>6</code>或者<code>5</code></p>
<p><strong>2.题目要求的不是我们列出每一个步骤，而是求一个最小值。</strong></p>
<p>符合以上两点我们首先要考虑的方法就是动态规划，既然选择了动态规划我们就把重心放在<strong>找规律</strong>（<strong>动态转移方程</strong>），和找<strong>初始值</strong>（<strong>边界条件</strong>）上了</p>
<p><strong>第一步</strong>：我们定义一个结果数组，如果我们想要记录每个节点上的最小值，我们的结果数组就需要和参数的数组保持一致，才能很好的记录每个节点的最小值。</p>
<p>所以我们可以很容易的得出，我们需要先新建一个二维数组去做值的保存：</p>
<pre><code class="copyable">//创建一个和参数一样的二维数组
    const dep = triangle.length
    const result = new Array(dep);
    for (let i = 0; i < dep; i++) &#123;
        result[i] = new Array(triangle[i].length);
    &#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>第二步</strong>：我们找初始值，其实初始值一般都是第一个节点。以例题来说，我们的第一个初始值，也就是<code>result</code>的第<code>0</code>层的第一个的<code>sum</code></p>
<pre><code class="copyable"> result[0][0] = triangle[0][0]
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>第三步</strong>，<strong>找规律</strong>：</p>
<p>找规律像我们新手玩家熟练度不是很够的情况下，我们千万不要急~一下子找不出规律我们可从第二层开始看。
比如说，第二层到了<code>3</code>,<code>4</code>两个节点，这个时候我们可以很简单的求出在<code>result</code>中对应点的<code>sum</code>值是多少。
在<code>3</code>这个点上，从第一层加过来，和就是<code>2+3=5</code>,<code>4</code>这个点就是<code>4+2=6</code>，那么转换成语句的写法如下：</p>
<pre><code class="copyable">//节点3
result[1][0]=result[0][0]+triangle[0,0]
//节点4
result[1][1]=result[0][0]+triangle[0,0]
<span class="copy-code-btn">复制代码</span></code></pre>
<p>如果题目到这里就已经结束了，需要我们找最小的路径，我们只需要返回<code>Math.min(result[1][0],result[1][1])</code>就好。</p>
<p>同理到了第三层的时候，我们可以用这个方法求出节点6和节点7两个节点的<code>sum</code>，但是关键就是值为<code>5</code>的这个节点，<code>5</code>这个结点的值既可以从节点<code>3</code>过来，也可以从节点<code>4</code>过来，那么是什么决定我们从哪个节点累加呢？是不是也是两个钟的最小值？</p>
<p>由此我们可以得出:</p>
<pre><code class="copyable">//结点5的最小值
result[2][1]=Math.min(result[1][1],result[1][0])+triangle[2,1]
<span class="copy-code-btn">复制代码</span></code></pre>
<p><strong>综上所述，我们尝试一下总结规律，可以得到以下3点：</strong></p>
<p><strong>1.每行的第一个只能从上一行的第一个累加过来</strong></p>
<p><strong>2.每行的最后一个只能从上一行的最后一个累加过来</strong></p>
<p><strong>3.每行的中间部分的最小和，是取上一行能走过来的点的和取最小值</strong></p>
<p><strong>第四步</strong>：把规律翻译成代码，我们用第一个循环去循环层数，下标为<code>i</code>,第二层循环去循环节点,下表为<code>j</code>,那么我们上面总结的三个规律可以翻译成一下代码：</p>
<p>规律一:<code>  result[i][0] = result[i - 1][0] + triangle[i][0]</code></p>
<p>规律二：</p>
<pre><code class="copyable">for (let j = 1; j < i; j++) &#123;
            result[i][j] = Math.min(result[i - 1][j], result[i - 1][j - 1]) + triangle[i][j]
        &#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>规律三：<code>result[i][i] = result[i - 1][i - 1] + triangle[i][i]</code></p>
<p>最后我们就得到了<code>result</code>，只需要返回最后一层中的最小值<code>Math.min(...result[result.length - 1])</code>就是我们想要的结果了！</p>
<p><strong>整体代码：</strong></p>
<pre><code class="copyable">var minimumTotal = function (triangle) &#123;
    //先创建一个二维数组保存每个位置的和
    const dep = triangle.length
    const result = new Array(dep);
    for (let i = 0; i < dep; i++) &#123;
        result[i] = new Array(triangle[i].length);
    &#125;
    result[0][0] = triangle[0][0]
    for (let i = 1; i < dep; i++) &#123;
        //f[i][0]也就是每一行的第一个,只能从上一行的一个走过来
        result[i][0] = result[i - 1][0] + triangle[i][0]
        for (let j = 1; j < i; j++) &#123;
            result[i][j] = Math.min(result[i - 1][j], result[i - 1][j - 1]) + triangle[i][j]
        &#125;
        //f[i][i]也就是第i行的最后一个，只能从上一行的最后一个走过来
        result[i][i] = result[i - 1][i - 1] + triangle[i][i]
    &#125;
    //这时候得到了一个二维数组result，表示每一次加到的num最小num值，题目需要的就是最后一排中的最小值
    return Math.min(...result[result.length - 1])
&#125;;
minimumTotal([[2],[3,4],[6,5,7],[4,1,8,3]])
<span class="copy-code-btn">复制代码</span></code></pre>
<p>以上就是这道题目的<strong>70分解法</strong>（因为这种解法的空间复杂度高了点），个人觉得动态规划的<strong>第三步</strong>和<strong>第四步</strong>是动态规划的重难点。如何去攻破这个重难点，我想在智商不会突然变化的前提下，唯一能做的就是大量的<strong>刻意练习</strong>。
（一百分的解法请移步<a href="https://link.juejin.cn/?target=https%3A%2F%2Fleetcode-cn.com%2Fproblems%2Ftriangle%2Fsolution%2Fsan-jiao-xing-zui-xiao-lu-jing-he-by-leetcode-solu%2F" target="_blank" rel="nofollow noopener noreferrer" title="https://leetcode-cn.com/problems/triangle/solution/san-jiao-xing-zui-xiao-lu-jing-he-by-leetcode-solu/" ref="nofollow noopener noreferrer">这里</a>）</p>
<h2 data-id="heading-2">小声BB环节</h2>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c180c7e895f940eda96eb8b2533b1333~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer">
周三的时候立了一个<code>flag</code>说要在周六看完《刻意练习》这本书并写一点读后感和一道经典的动态规划的题解之题解,总的来说目标完成了一半（因为书还没看完）~</p>
<p>之前看《断舍离》这本书，发现这类书都有一个特点---整本书就是为了跟你讲书名。用不同的角度和例子，从第一章讲到最后一章去和你灌输这个想法。这就造成了一个很差的阅读体验。大概就是你读完第一章第二章你就差不多知道后面的章节大概是将些啥，可能是换了一个人的故事跟你重复阐述这个道理。</p>
<p>《刻意练习》大概是对<a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%25E4%25B8%2580%25E4%25B8%2587%25E5%25B0%258F%25E6%2597%25B6%25E5%25AE%259A%25E5%25BE%258B%2F8255848%3Ffr%3Daladdin" target="_blank" rel="nofollow noopener noreferrer" title="https://baike.baidu.com/item/%E4%B8%80%E4%B8%87%E5%B0%8F%E6%97%B6%E5%AE%9A%E5%BE%8B/8255848?fr=aladdin" ref="nofollow noopener noreferrer">一万个小时定律</a>表达了不同的观点，认为一个成为一个行业的翘楚或者说把一个技能修炼到大师水平，<strong>一万个小时定律</strong>概括的有点笼统，重要的还是跳出舒适圈的<strong>刻意练习</strong>，书中提到的<strong>绝对音高</strong>和<strong>对数字的快速记忆</strong>的例子都很好的论证了<strong>刻意练习</strong>的强大和重要性。再给我一周的时间，我一定好好把这本书看完，到时候在下一篇文章中，再来和大家好好聊聊~</p>
<p>还有和大家分享一件事就是：我最近找到了一个很好的早起的方法。就是在前一天下一个顺风车单，然后提前支付，给自己一个早期的理由~已经连续四天早起成功！做这件事的好处有两点：</p>
<p>1.早起可以腾出早上一大段完整时间，很适合做算法题和理思路！</p>
<p>2.顺风车车主都很有故事，和他们聊天真的很有意思！</p>
<p>3.早起一天的精气神和晚起真的不一样，真的真的不一样！前提是你晚上十二点之前一定要睡觉！</p>
<p>最后的最后，如果你看到这里，请给我文章点个赞或者留下你的<strong>评论</strong>或<strong>指正</strong>~</p>
<p><del>下期大概就要开始刷一下<strong>滑动窗口</strong>这个精英怪</del></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c902b66fbb73446a9393a18ad0bb9119~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p></div>  
</div>
            