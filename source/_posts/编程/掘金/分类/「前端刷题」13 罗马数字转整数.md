
---
title: '「前端刷题」13. 罗马数字转整数'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88c3da1a474642379d32bb65408d0320~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Thu, 12 Aug 2021 08:21:54 GMT
thumbnail: 'https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88c3da1a474642379d32bb65408d0320~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p><strong>这是我参与8月更文挑战的第13天，活动详情查看：<a href="https://juejin.cn/post/6987962113788493831" title="https://juejin.cn/post/6987962113788493831" target="_blank">8月更文挑战</a></strong></p>
<h2 data-id="heading-0">题目</h2>
<p>罗马数字包含以下七种字符: <code>I</code>， <code>V</code>， <code>X</code>， <code>L</code>，<code>C</code>，<code>D</code> 和 <code>M</code>。</p>
<p><strong>字符</strong>          <strong>数值</strong>
I             1
V             5
X             10
L             50
C             100
D             500
M             1000</p>
<p>例如， 罗马数字 2 写做 <code>II</code> ，即为两个并列的 1。12 写做 <code>XII</code> ，即为 <code>X</code> + <code>II</code> 。 27 写做  <code>XXVII</code>, 即为 <code>XX</code> + <code>V</code> + <code>II</code> 。</p>
<p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 <code>IIII</code>，而是 <code>IV</code>。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 <code>IX</code>。这个特殊的规则只适用于以下六种情况：</p>
<ul>
<li><code>I</code> 可以放在 <code>V</code> (5) 和 <code>X</code> (10) 的左边，来表示 4 和 9。</li>
<li><code>X</code> 可以放在 <code>L</code> (50) 和 <code>C</code> (100) 的左边，来表示 40 和 90。 </li>
<li><code>C</code> 可以放在 <code>D</code> (500) 和 <code>M</code> (1000) 的左边，来表示 400 和 900。</li>
</ul>
<p>给定一个罗马数字，将其转换成整数。输入确保在 1 到 3999 的范围内。</p>
<p> </p>
<p><strong>示例 1:</strong></p>
<p><strong>输入:</strong> "III"</p>
<p><strong>输出:</strong> 3</p>
<p><strong>示例 2:</strong></p>
<p><strong>输入:</strong> "IV"</p>
<p><strong>输出:</strong> 4</p>
<p><strong>示例 3:</strong></p>
<p><strong>输入:</strong> "IX"</p>
<p><strong>输出:</strong> 9</p>
<p><strong>示例 4:</strong></p>
<p><strong>输入:</strong> "LVIII"</p>
<p><strong>输出:</strong> 58</p>
<p><strong>解释:</strong> L = 50, V= 5, III = 3.</p>
<p><strong>示例 5:</strong></p>
<p><strong>输入:</strong> "MCMXCIV"</p>
<p><strong>输出:</strong> 1994</p>
<p><strong>解释:</strong> M = 1000, CM = 900, XC = 90, IV = 4.</p>
<p> </p>
<p><strong>提示：</strong></p>
<ul>
<li><code>1 <= s.length <= 15</code></li>
<li><code>s</code> 仅含字符 <code>('I', 'V', 'X', 'L', 'C', 'D', 'M')</code></li>
<li>题目数据保证 <code>s</code> 是一个有效的罗马数字，且表示整数在范围 <code>[1, 3999]</code> 内</li>
<li>题目所给测试用例皆符合罗马数字书写规则，不会出现跨位等情况。</li>
<li>IL 和 IM 这样的例子并不符合题目要求，49 应该写作 XLIX，999 应该写作 CMXCIX 。</li>
<li>关于罗马数字的详尽书写规则，可以参考 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fb2b.partcommunity.com%2Fcommunity%2Fknowledge%2Fzh_CN%2Fdetail%2F10753%2F%25E7%25BD%2597%25E9%25A9%25AC%25E6%2595%25B0%25E5%25AD%2597%23knowledge_article" target="_blank" rel="nofollow noopener noreferrer" title="https://b2b.partcommunity.com/community/knowledge/zh_CN/detail/10753/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97#knowledge_article" ref="nofollow noopener noreferrer">罗马数字 - Mathematics</a> 。</li>
</ul>
<h2 data-id="heading-1">解题思路</h2>
<h3 data-id="heading-2">思路1</h3>
<ul>
<li>首先将所有的组合可能性列出并添加到哈希表中</li>
<li>然后对字符串进行遍历，由于组合只有两种，一种是 1 个字符，一种是 2 个字符，其中 2 个字符优先于 1 个字符</li>
<li>先判断两个字符的组合在哈希表中是否存在，存在则将值取出加到结果 ans 中，并向后移2个字符。不存在则将判断当前 1 个字符是否存在，存在则将值取出加到结果 ans 中，并向后移 1 个字符</li>
<li>遍历结束返回结果 ans</li>
</ul>
<h3 data-id="heading-3">代码1</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> <span class="hljs-variable">s</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;number&#125;</span></span>
 */</span>
<span class="hljs-keyword">var</span> romanToInt = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>&#123;
    <span class="hljs-keyword">const</span> map = &#123;
        <span class="hljs-attr">I</span> : <span class="hljs-number">1</span>,
        <span class="hljs-attr">IV</span>: <span class="hljs-number">4</span>,
        <span class="hljs-attr">V</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">IX</span>: <span class="hljs-number">9</span>,
        <span class="hljs-attr">X</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">XL</span>: <span class="hljs-number">40</span>,
        <span class="hljs-attr">L</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">XC</span>: <span class="hljs-number">90</span>,
        <span class="hljs-attr">C</span>: <span class="hljs-number">100</span>,
        <span class="hljs-attr">CD</span>: <span class="hljs-number">400</span>,
        <span class="hljs-attr">D</span>: <span class="hljs-number">500</span>,
        <span class="hljs-attr">CM</span>: <span class="hljs-number">900</span>,
        <span class="hljs-attr">M</span>: <span class="hljs-number">1000</span>
    &#125;;
    <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i < s.length;) &#123;
        <span class="hljs-keyword">if</span>(i + <span class="hljs-number">1</span> < s.length && map[s.substring(i, i+<span class="hljs-number">2</span>)]) &#123;
            ans += map[s.substring(i, i+<span class="hljs-number">2</span>)];
            i += <span class="hljs-number">2</span>;
        &#125; <span class="hljs-keyword">else</span> &#123;
            ans += map[s.substring(i, i+<span class="hljs-number">1</span>)];
            i ++;
        &#125;
    &#125;
    <span class="hljs-keyword">return</span> ans;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h3 data-id="heading-4">画解</h3>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88c3da1a474642379d32bb65408d0320~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b31e92508a7415aa3305278e11bed52~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/febda51da24848ab99908c837fd2d6c2~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bed8b72cb913446397969df381287c75~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/84e71d060bb54e7b88baa0448fa12d8a~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-5">思路2</h3>
<blockquote>
<p>给定一个罗马数字，将其转为整数，输入的数字在1到3999范围内。<br>
已知：罗马数字包含以下七种字符：I,V,X,L,C,D,M</p>
</blockquote>
<pre><code class="copyable"> 转换表为：  
 字符     数值     进位
  I       1       个位值为1
  V       5       个位值为5
  X       10      十位值为1
  L       50      十位值为5
  C       100     百位值为1
  D       500     百位值为5
  M       1000    千位值为1
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>
<p>由我12题的分析思路直接摘抄如下</p>
</li>
<li>
<p>由罗马数字表示规则可知</p>
<ul>
<li>一般情况下 数字组成：大的数字位+小的数字位 ---- <1></li>
<li>例如：6：VI 7:VII 8:VIII</li>
<li>可知：数值大小 == 大的数字位+小的数字位 ---- 《1》</li>
<li>再如：1:I 2:II 3: III</li>
<li>但当罗马数字进位值（个、十、百、千）== 9 或 == 4 时，数字组成变为：小的数字+大的数字 ---- <2></li>
</ul>
</li>
</ul>
<pre><code class="copyable">  例如：4:IV    9:IX 
       40:XL   90:XC  
       400:CD  900:CM
  可知：数值大小 == 大的数字位-小的数字位 ---- 《2》
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>
<p>由以上分析可知</p>
<ul>
<li>《1》 即 左边的罗马数字 > 右边的罗马数字时 => 罗马数 == 左边罗马数字对应的阿拉伯数字 + 右边罗马数字对应的阿拉伯数字</li>
<li>《2》 即 左边的罗马数字 < 右边的罗马数字时 => 罗马数 == 左边罗马数字对应的阿拉伯数字的反数即负数 + 右边罗马数字对应的阿拉伯数字</li>
<li>且 罗马数字的转换表在上意味着 所有数字都可以有其中的罗马数字字符组成 => 建立罗马数字和阿拉伯数字 Hash对照表</li>
<li>遍历罗马数字 因为转换表里对应的阿拉伯数字带有千、百、十和个位 所以 不需考虑9，99，999临界位 直接求出总和即可</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">代码2</h3>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param <span class="hljs-type">&#123;string&#125;</span> <span class="hljs-variable">s</span></span>
 * <span class="hljs-doctag">@return <span class="hljs-type">&#123;number&#125;</span></span>
 */</span>
<span class="hljs-keyword">var</span> romanToInt = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>&#123;
    <span class="hljs-keyword">var</span> hashNum = &#123;
        <span class="hljs-string">"I"</span>:<span class="hljs-number">1</span>,
        <span class="hljs-string">"V"</span>:<span class="hljs-number">5</span>,
        <span class="hljs-string">"X"</span>:<span class="hljs-number">10</span>,
        <span class="hljs-string">"L"</span>:<span class="hljs-number">50</span>,
        <span class="hljs-string">"C"</span>:<span class="hljs-number">100</span>,
        <span class="hljs-string">"D"</span>:<span class="hljs-number">500</span>,
        <span class="hljs-string">"M"</span>:<span class="hljs-number">1000</span>
    &#125;
    <span class="hljs-keyword">var</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;i<s.length;i++)&#123;
        hashNum[s[i]] < hashNum[s[i+<span class="hljs-number">1</span>]] ? result -= hashNum[s[i]] : result += hashNum[s[i]]
    &#125;
    <span class="hljs-keyword">return</span> result;
&#125;;
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-7">最后</h2>
<p>曾梦想仗剑走天涯</p>
<p>看一看世界的繁华</p>
<p>年少的心总有些轻狂</p>
<p>终究不过是个普通人</p>
<p>无怨无悔我走我路</p>
<p>「前端刷题」No.13</p></div>  
</div>
            