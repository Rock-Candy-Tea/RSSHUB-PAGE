
---
title: 'æ–°ç”Ÿä»£å†œæ°‘å·¥ä¹Ÿè¦æ‡‚çš„ç­–ç•¥è®¾è®¡æ¨¡å¼'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7da8a5293bd46998ce8f96a7685cdbc~tplv-k3u1fbpfcp-watermark.image'
author: æ˜é‡‘
comments: false
date: Thu, 19 Aug 2021 01:53:01 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7da8a5293bd46998ce8f96a7685cdbc~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><blockquote>
<p>ä¿—è¯è¯´ï¼Œå‡¡äº‹è®²ç­–ç•¥ã€‚è®²ç­–ç•¥çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šè€ƒè™‘æ¯ç§æƒ…å†µçš„æˆæœ¬ã€‚ç­–ç•¥åŒæ ·å¯ä½“ç°åœ¨æˆ‘ä»¬çš„ä»£ç ä¹‹ä¸­ï¼Œåˆç†åˆ©ç”¨ç­–ç•¥æ¨¡å¼é‡æ„é€»è¾‘å¤æ‚çš„ä»£ç ï¼Œä¼šä½¿é¡¹ç›®å·¥ç¨‹æ›´æ˜“ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
</blockquote>
<p>è¿™å‡ å¤©æœ‹å‹åœˆè¢«â€œ<strong>æ–°ç”Ÿä»£å†œæ°‘å·¥</strong>â€åˆ·å±äº†ï¼Œçœ‹åˆ°æœ‰è¿™æ ·ä¸€å¼ æˆªå›¾ï¼š</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e7da8a5293bd46998ce8f96a7685cdbc~tplv-k3u1fbpfcp-watermark.image" alt="æ–°ç”Ÿä»£å†œæ°‘å·¥æ­£å.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä»£ç é‡Œå†™äº†çº¦ 30 ä¸ª <code>if else</code> é€»è¾‘ï¼Œä»ç¨‹åºè¯­ä¹‰ä»¥åŠç¨‹åºæ•ˆç‡ç†è®ºä¸Šæ˜¯ä¼šæœ‰ä¸€å®šçš„å½±å“ï¼Œæœ€ä¸»è¦çš„æ˜¯å¯èƒ½ä¼šè¢«å…¶ä»–â€œæ–°ç”Ÿä»£å†œæ°‘å·¥â€å˜²ç¬‘</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/875519e8f8e646b98bb2ff94989e1f7b~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä¸€ä½ç»éªŒè€é“çš„æ°‘å·¥åˆ™ä¼šç”¨ä¸€æ‰‹ <code>switch case</code> æˆ–ç­–ç•¥æ¨¡å¼æ¥é‡æ„ä»£ç ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯ç­–ç•¥æ¨¡å¼å‘ï¼Ÿ</p>
<h2 data-id="heading-0">ä¸€ã€å®šä¹‰</h2>
<p><strong>ç­–ç•¥</strong>ï¼šä¸ºå®ç°ä¸€å®šçš„æˆ˜ç•¥ä»»åŠ¡ï¼Œæ ¹æ®å½¢åŠ¿å‘å±•è€Œåˆ¶å®šçš„è¡ŒåŠ¨æ–¹é’ˆå’Œæ–—äº‰æ–¹å¼ã€‚</p>
<p><strong>ç­–ç•¥æ¨¡å¼</strong>ï¼šä¸€ç§è¡Œä¸ºè®¾è®¡æ¨¡å¼ï¼Œå®ƒèƒ½è®©ä½ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³•ï¼Œå¹¶å°†æ¯ç§ç®—æ³•åˆ†åˆ«æ”¾å…¥ç‹¬ç«‹çš„ç±»ä¸­ï¼Œä»¥ä½¿ç®—æ³•çš„å¯¹è±¡èƒ½å¤Ÿç›¸äº’æ›¿æ¢ã€‚</p>
<p>åœ¨å¸¸è§çš„å‰ç«¯æ¸¸æˆå¥–åŠ±æ¿€åŠ±äº¤äº’ä¸­ï¼Œå¸¸å¸¸ä¼šæ¶‰åŠåˆ°ä¸åŒåˆ†æ•°ä¼šå±•ç¤ºä¸åŒçš„åŠ¨æ•ˆï¼Œè¿™å…¶å®å°±æ˜¯ä¸€ç§æ¡ä»¶ç­–ç•¥ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä¼˜ç¼ºç‚¹</h2>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ol>
<li>éš”ç¦»ç®—æ³•çš„å®ç°ä¸ä½¿ç”¨</li>
<li>è¿è¡Œæ—¶å¯åˆ‡æ¢ç®—æ³•</li>
<li>ç”¨ç»„åˆä»£æ›¿ç»§æ‰¿</li>
<li>æ˜“æ‰©å±•ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæ— éœ€ä¿®æ”¹ä¸Šä¸‹æ–‡å³å¯å¼•å…¥æ–°ç­–ç•¥</li>
</ol>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ol>
<li>éœ€è¦æš´éœ²æ‰€æœ‰çš„ç­–ç•¥æ¥å£ï¼Œç”¨äºåŒºåˆ†ç­–ç•¥å·®å¼‚</li>
<li>å¦‚æœé€»è¾‘æ¡ä»¶ç®€å•ï¼Œä½¿ç”¨ç­–ç•¥æ¨¡å¼ä¼šå¢åŠ ä»£ç å†—ä½™åº¦</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€å®ç°</h2>
<p>ç­–ç•¥æ¨¡å¼æŒ‡çš„æ˜¯å®šä¹‰äº†ä¸€ç³»ä¾‹ç®—æ³•ï¼ŒæŠŠå®ƒä»¬æ¯ä¸ªéƒ½å°è£…èµ·æ¥ã€‚å°†ä¸å˜çš„éƒ¨åˆ†å’Œå˜åŒ–çš„éƒ¨åˆ†éš”ç¦»å¼€æ¥æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„ä¸€ä¸ªé‡è¦æ€æƒ³ï¼Œç­–ç•¥æ¨¡å¼åˆ™æ˜¯å°†ç®—æ³•å’Œä½¿ç”¨ç®—æ³•ä¸¤éƒ¨åˆ†çš„å®ç°æ‹†å¼€ï¼Œé™ä½è€¦åˆåº¦ã€‚</p>
<p>åŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘æœ‰ä¸¤éƒ¨åˆ†ç»„æˆï¼šç­–ç•¥ç±»å’Œç¯å¢ƒç±»ï¼ˆ<code>Context</code>ï¼‰ã€‚</p>
<p>ç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œæ‰§è¡Œè€…â€ã€‚</p>
<p>ç¯å¢ƒç±»ï¼ˆ<code>Context</code>ï¼‰æ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼Œç„¶åå°†è¯·æ±‚å§”æ‰˜ç»™ä¸€ä¸ªç­–ç•¥ç±»ï¼Œå¯ä»¥ç†è§£ä¸ºâ€œè°ƒåº¦è€…â€ã€‚</p>
<h2 data-id="heading-3">å››ã€è¡¨å•éªŒè¯ä¸­çš„ç­–ç•¥æ¨¡å¼</h2>
<p>åœ¨Webé¡¹ç›®ä¸­ï¼Œå¸¸è§çš„è¡¨å•æœ‰æ³¨å†Œã€ç™»é™†ã€ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ç­‰æ¶‰åŠåˆ°è¡¨å•çš„åŠŸèƒ½ï¼Œä¸æ­¤åŒæ—¶æˆ‘ä»¬ä¼šåœ¨è¡¨å•æäº¤çš„æ—¶å€™ï¼Œåšä¸€äº›ä¾‹çš„å‰ç«¯è¾“å…¥æ¡†å€¼çš„æ¡ä»¶æ ¡éªŒå·¥ä½œã€‚</p>
<p>ç”±äºè¾“å…¥æ¡†ä¸­ç”¨æˆ·çš„è¾“å…¥æ˜¯ä»»æ„çš„ï¼Œæ ¡éªŒçš„è§„åˆ™ç›¸å¯¹æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœä¸ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬çš„ä»£ç ä¸­å¯èƒ½å°±ä¼šå†™å‡ºè¾ƒå¤šçš„ <code>if else</code> åˆ¤æ–­é€»è¾‘ï¼Œä»å¯é˜…è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ¥è¯´ï¼Œç¡®å®ä¸æ˜¯å¾ˆå¥½ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»å‰ç«¯Webé¡¹ç›®ä¸­å¸¸è§çš„è¡¨å•éªŒè¯åŠŸèƒ½ï¼Œé€æ­¥è®¤è¯†ç­–ç•¥è®¾è®¡æ¨¡å¼ã€‚</p>
<h3 data-id="heading-4">4.1 åˆçº§çš„è¡¨å•éªŒè¯</h3>
<p>åœ¨å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘çš„è¡¨å•éªŒè¯å¯èƒ½æ˜¯è¿™ä¹ˆå†™çš„ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">var</span> username = $(<span class="hljs-string">'#nuserame'</span>).val();
<span class="hljs-keyword">var</span> password = $(<span class="hljs-string">'#password'</span>).val();

<span class="hljs-keyword">if</span> (!username) &#123;
    alert(<span class="hljs-string">'ç”¨æˆ·åä¸èƒ½ä¸ºç©º'</span>);
&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (username.length < <span class="hljs-number">5</span>) &#123;
    alert(<span class="hljs-string">'ç”¨æˆ·åé•¿åº¦éœ€è¦å¤§äºç­‰äº5'</span>);
&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (username.length < <span class="hljs-number">13</span>) &#123;
    alert(<span class="hljs-string">'ç”¨æˆ·åé•¿åº¦éœ€è¦å°äº13'</span>);
&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(<span class="hljs-regexp">/[a-z]+/i</span>.test(username))) &#123;
    alert(<span class="hljs-string">'ç”¨æˆ·ååªèƒ½åŒ…å«è‹±æ–‡å¤§å°å†™å­—ç¬¦'</span>)
&#125; <span class="hljs-keyword">else</span> &#123;
    regeister(username);
&#125;

<span class="hljs-comment">// passwordçš„éªŒè¯åŒä¸Š</span>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å†™æ³•ä¼¼ä¹æœ‰äº›ä¸å¿ç›´è§†ï¼Œä¸è¿‡èƒ½ç”¨ï¼</p>
<h3 data-id="heading-5">4.2 åŸºäºç­–ç•¥æ¨¡å¼çš„è¡¨å•éªŒè¯</h3>
<p>æ¢ä¸ªæ€è·¯ï¼Œç»“åˆç­–ç•¥æ¨¡å¼çš„æ€æƒ³ï¼Œå®ç°ä¸€ä¸ªä¸“ç”¨äºå€¼æ ¡éªŒçš„ <code>Validator</code> ç±»ï¼Œ<code>Validator</code> æ˜¯ä¸€ä¸ªè°ƒåº¦ç€ï¼Œä¹Ÿå°±æ˜¯ç­–ç•¥æ¨¡å¼ä¸­çš„ç¯å¢ƒç±»ã€‚</p>
<p>ç„¶åæˆ‘ä»¬åœ¨éªŒè¯ç›®æ ‡å­—æ®µå€¼ <code>targetValue</code> çš„æ—¶å€™å…¶ç”¨æ³•å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js">Validator.addRules(targetValue, [<span class="hljs-string">'isNonEmpty'</span>, <span class="hljs-string">'minLength:5'</span>, <span class="hljs-string">'maxLength:12'</span>]).valid();
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ ¡éªŒå™¨ä¼šè¿”å›åˆ¤æ–­ç»“æœ <code>result</code> å­—æ®µï¼Œä»¥åŠè¯­ä¹‰è¯çš„æç¤º <code>msg</code> å­—æ®µï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">return</span> &#123;
    <span class="hljs-attr">result</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">msg</span>: <span class="hljs-string">'ä¸èƒ½ä¸ºç©º'</span>
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h4 data-id="heading-6">4.2.1 Validator</h4>
<p>æ ¹æ®ä¸Šè¿°éœ€æ±‚ï¼ŒValidatorçš„å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-typescript copyable" lang="typescript"><span class="hljs-keyword">const</span> formatResult = <span class="hljs-function">(<span class="hljs-params">isPass: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>, errMsg: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></span>) =></span> &#123;
  <span class="hljs-keyword">return</span> &#123;
    <span class="hljs-attr">result</span>: isPass,
    <span class="hljs-attr">msg</span>: errMsg,
  &#125;;
&#125;;

<span class="hljs-keyword">const</span> ValidStrategies = &#123;
  <span class="hljs-attr">isNonEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span></span>) </span>&#123;
    <span class="hljs-keyword">if</span> (!val) <span class="hljs-keyword">return</span> formatResult(<span class="hljs-literal">false</span>, <span class="hljs-string">"å†…å®¹ä¸èƒ½ä¸ºç©º"</span>);
  &#125;,
  <span class="hljs-attr">minLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>, length: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>) </span>&#123;
    <span class="hljs-built_in">console</span>.log(val, length);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> length === <span class="hljs-string">"string"</span>) length = <span class="hljs-built_in">parseInt</span>(length);
    <span class="hljs-keyword">if</span> (val.length < length)
      <span class="hljs-keyword">return</span> formatResult(<span class="hljs-literal">false</span>, <span class="hljs-string">`å†…å®¹é•¿åº¦ä¸èƒ½å°äº<span class="hljs-subst">$&#123;length&#125;</span>`</span>);
  &#125;,
  <span class="hljs-attr">maxLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>, length: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span></span>) </span>&#123;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> length === <span class="hljs-string">"string"</span>) length = <span class="hljs-built_in">parseInt</span>(length);
    <span class="hljs-keyword">if</span> (val.length > length)
      <span class="hljs-keyword">return</span> formatResult(<span class="hljs-literal">false</span>, <span class="hljs-string">`å†…å®¹é•¿åº¦ä¸èƒ½å¤§äº<span class="hljs-subst">$&#123;length&#125;</span>`</span>);
  &#125;,
  <span class="hljs-attr">default</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;
    <span class="hljs-keyword">return</span> formatResult(<span class="hljs-literal">true</span>);
  &#125;,
&#125;;

<span class="hljs-comment">/**
 * éªŒè¯å™¨
 * ç­–ç•¥æ¨¡å¼ â€”â€” ç¯å¢ƒç±»ï¼Œè´Ÿè´£è°ƒåº¦ç®—æ³•
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Validator</span> </span>&#123;
  <span class="hljs-comment">// å­˜å‚¨è§„åˆ™</span>
  <span class="hljs-keyword">private</span> _ruleExecuters: <span class="hljs-built_in">Array</span><<span class="hljs-built_in">any</span>>;

  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-built_in">this</span>._ruleExecuters = [];
  &#125;

  <span class="hljs-comment">/**
   * addRules
   * æ·»åŠ æ ¡éªŒè§„åˆ™
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">addRules</span>(<span class="hljs-params">value: <span class="hljs-built_in">string</span> = <span class="hljs-string">""</span>, rules: <span class="hljs-built_in">Array</span><<span class="hljs-built_in">string</span>></span>)</span> &#123;
    <span class="hljs-built_in">this</span>._ruleExecuters = [];
    rules.forEach(<span class="hljs-function">(<span class="hljs-params">rule</span>) =></span> &#123;
      <span class="hljs-keyword">const</span> args = rule.split(<span class="hljs-string">":"</span>);
      <span class="hljs-keyword">const</span> functionName = args.shift() || <span class="hljs-string">"default"</span>;
      <span class="hljs-comment">// å¿½ç•¥ä¸‹è¿™é‡Œçš„æ–­è¨€ç±»å‹ğŸ‘€</span>
      <span class="hljs-keyword">const</span> ruleFunc = ValidStrategies[
        functionName <span class="hljs-keyword">as</span> <span class="hljs-string">"isNonEmpty"</span> | <span class="hljs-string">"minLength"</span> | <span class="hljs-string">"maxLength"</span> | <span class="hljs-string">"default"</span>
      ].bind(<span class="hljs-built_in">this</span>, value);
      <span class="hljs-built_in">this</span>._ruleExecuters.push(&#123;
        <span class="hljs-attr">func</span>: ruleFunc,
        args,
      &#125;);
    &#125;);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>;
  &#125;

  <span class="hljs-comment">/**
   * valid
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-title">valid</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-built_in">this</span>._ruleExecuters.length; i++) &#123;
      <span class="hljs-keyword">const</span> res = <span class="hljs-built_in">this</span>._ruleExecuters[i].func.apply(
        <span class="hljs-built_in">this</span>,
        <span class="hljs-built_in">this</span>._ruleExecuters[i].args
      );
      <span class="hljs-keyword">if</span> (res && !res.result) &#123;
        <span class="hljs-keyword">return</span> res;
      &#125;
    &#125;
    <span class="hljs-keyword">return</span> formatResult(<span class="hljs-literal">true</span>);
  &#125;
&#125;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> Validator();
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<pre><code class="hljs language-typescript copyable" lang="typescript"><span class="hljs-keyword">const</span> res = Validator.addRules(<span class="hljs-string">"123"</span>, [
    <span class="hljs-string">"isNonEmpty"</span>,
    <span class="hljs-string">"minLength:5"</span>,
    <span class="hljs-string">"maxLength:12"</span>,
  ]).valid();
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"res:"</span>, res);
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc84b9903966439596d2738e893c32f9~tplv-k3u1fbpfcp-watermark.image" alt="æ‰§è¡Œç»“æœ" loading="lazy" referrerpolicy="no-referrer"></p>
<p>è¿™æ ·åœ¨éªŒè¯è¡¨å•å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è°ƒç”¨ Validator éªŒè¯å€¼çš„åˆæ³•æ€§ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œè¿˜å¯ä»¥é€šè¿‡æ‰©å±•ç­–ç•¥ç±»ï¼ˆå¯¹è±¡ï¼‰<code>ValidStrategies</code> ä¸­çš„éªŒè¯ç®—æ³•æ¥æ‰©å±•æ ¡éªŒå™¨çš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-7">äº”ã€è¡¨é©±åŠ¨æ³•</h2>
<p>ç­–ç•¥æ¨¡å¼èŠ‚çœé€»è¾‘åˆ¤æ–­çš„ç‰¹æ€§è®©æˆ‘è”æƒ³åˆ°äº†ä¹‹å‰çœ‹è¿‡çš„ä¸€ä¸ªæ¦‚å¿µâ€œè¡¨é©±åŠ¨æ³•â€ï¼Œæˆ–è€…å«â€œæŸ¥è¡¨æ³•â€ï¼Œè¿™é‡Œå¼•ç”¨ä¸‹ç™¾åº¦ç™¾ç§‘çš„è§£é‡Šï¼š</p>
<blockquote>
<p>è¡¨é©±åŠ¨æ–¹æ³•å‡ºäºç‰¹å®šçš„ç›®çš„æ¥ä½¿ç”¨è¡¨ï¼Œç¨‹åºå‘˜ä»¬ç»å¸¸è°ˆåˆ°â€œè¡¨é©±åŠ¨â€æ–¹æ³•ï¼Œä½†æ˜¯è¯¾æœ¬ä¸­å´ä»æœªæåˆ°è¿‡ä»€ä¹ˆæ˜¯"è¡¨é©±åŠ¨"æ–¹æ³•ã€‚è¡¨é©±åŠ¨æ–¹æ³•æ˜¯ä¸€ç§ä½¿ä½ å¯ä»¥åœ¨è¡¨ä¸­æŸ¥æ‰¾ä¿¡æ¯ï¼Œè€Œ<strong>ä¸å¿…ç”¨å¾ˆå¤šçš„é€»è¾‘è¯­å¥</strong>ï¼ˆ<code>if</code> æˆ– <code>Case</code>ï¼‰æ¥æŠŠå®ƒä»¬æ‰¾å‡ºæ¥çš„æ–¹æ³•ã€‚äº‹å®ä¸Šï¼Œä»»ä½•ä¿¡æ¯éƒ½å¯ä»¥é€šè¿‡è¡¨æ¥æŒ‘é€‰ã€‚åœ¨ç®€å•çš„æƒ…å†µä¸‹ï¼Œé€»è¾‘è¯­å¥å¾€å¾€æ›´ç®€å•è€Œä¸”æ›´ç›´æ¥ã€‚ä½†éšç€é€»è¾‘é“¾çš„å¤æ‚ï¼Œè¡¨å°±å˜å¾—è¶Šæ¥è¶Šå¯Œæœ‰å¸å¼•åŠ›äº†ã€‚</p>
</blockquote>
<p>ä¸¾ä¸ªğŸŒ°ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è¦è·å–å½“å‰æ˜¯æ˜ŸæœŸå‡ ï¼Œä»£ç å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDay</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">const</span> day = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getDay();
  <span class="hljs-keyword">switch</span> (day) &#123;
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-string">'æ˜ŸæœŸæ—¥'</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-string">'æ˜ŸæœŸä¸€'</span>;
    <span class="hljs-comment">// ...</span>
    <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-string">'æ˜ŸæœŸå…­'</span>;
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å¦‚æœæ˜¯åˆæ¬¡ç¼–ç¨‹çš„åŒå­¦è¿˜å¯èƒ½ä¼šæœ‰ <code>if else</code> æ¡ä»¶è¯­å¥æ¥åˆ¤æ–­è¿”å›å€¼ï¼Œä»£ç å°±ä¼šæ˜¾å¾—æ¯”è¾ƒå†—ä½™ã€‚</p>
<p>å€ŸåŠ©è¡¨é©±åŠ¨å‘æ³•çš„æ€æƒ³ï¼Œè¿™é‡Œæˆ‘ä»¬æ˜¯å¯ä»¥æœ‰ä¼˜åŒ–ç©ºé—´çš„ï¼Œè¡¨é©±åŠ¨å‘æ³•çš„å†™æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> days = [<span class="hljs-string">'æ˜ŸæœŸæ—¥'</span>, <span class="hljs-string">'æ˜ŸæœŸä¸€'</span>, <span class="hljs-string">'æ˜ŸæœŸäºŒ'</span>, <span class="hljs-string">'æ˜ŸæœŸä¸‰'</span>, <span class="hljs-string">'æ˜ŸæœŸå››'</span>, <span class="hljs-string">'æ˜ŸæœŸäº”'</span>, <span class="hljs-string">'æ˜ŸæœŸå…­'</span>];
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDay2</span>(<span class="hljs-params"></span>) </span>&#123;
  <span class="hljs-keyword">return</span> days[(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getDay()];
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å½“ç„¶ä¸Šè¿°åªæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ğŸŒ°ï¼Œå¤§å®¶åœ¨ç¼–ç è¿‡ç¨‹ä¸­åªéœ€è¦ä¸»è¦ç‚¹ï¼Œå¦‚æœ‰æ¶‰åŠç±»ä¼¼åœºæ™¯ï¼Œè¯·ç”¨è¿™ç§æ–¹å¼å»ç¼–ç ï¼Œä½“éªŒæ›´æ„‰æ‚¦ï¼</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ab3284b59104d6bad33bdad3a89c0ec~tplv-k3u1fbpfcp-watermark.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-8">å…­ã€æ€»ç»“</h2>
<p>ç­–ç•¥è®¾è®¡æ¨¡å¼è®©å„ç§ç®—æ³•çš„ä»£ç ã€å†…éƒ¨æ•°æ®å’Œä¾èµ–å…³ç³»ä¸å…¶ä»–ä»£ç éš”ç¦»å¼€æ¥ã€‚ä¸åŒå®¢æˆ·ç«¯å¯é€šè¿‡ä¸€ä¸ªç®€å•æ¥å£æ‰§è¡Œç®—æ³•ï¼Œå¹¶èƒ½åœ¨è¿è¡Œæ—¶è¿›è¡Œåˆ‡æ¢ã€‚</p>
<p>å½“ç„¶åœ¨è®¾è®¡å®ç°ç¨‹åºåŠŸèƒ½çš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ç­–ç•¥è®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ›´éœ€è¦æˆ‘ä»¬çš„å·¥ç¨‹å¸ˆæœ‰ä¸€ä¸ªåŠŸèƒ½å…¨å±€æŠŠæ§çš„èƒ½åŠ›ï¼Œæ‰èƒ½æ›´å¥½å°†ä¾èµ–å…³ç³»æ‹†åˆ†ï¼ŒæŠ½è±¡åŒ–ï¼Œä»¥æ­¤æ‰èƒ½å‡¸æ˜¾â€œæ–°ç”Ÿä»£â€æ°‘å·¥çš„ä¸åŒï¼</p></div>  
</div>
            