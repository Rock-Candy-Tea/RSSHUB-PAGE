
---
title: '# ã€å»ºè®®æ”¶è—ã€‘æ•°æ®å¯è§†åŒ–â€”â€”ä»0-1å®ç°æŠ˜çº¿å›¾ğŸ“ˆ'
categories: 
 - ç¼–ç¨‹
 - æ˜é‡‘
 - åˆ†ç±»
headimg: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b403026e38b4233803d8e54968e36c5~tplv-k3u1fbpfcp-watermark.image'
author: æ˜é‡‘
comments: false
date: Sat, 10 Jul 2021 23:29:55 GMT
thumbnail: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b403026e38b4233803d8e54968e36c5~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1&#125;.markdown-body h1&#123;font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto&#125;.markdown-body h1:before&#123;position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,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) no-repeat 50%;background-size:64px 64px;opacity:.84&#125;.markdown-body h1:after&#123;position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite&#125;@keyframes h1Animate&#123;0%&#123;background-position:100% 100%&#125;50%&#123;background-position:100% 50%&#125;to&#123;background-position:100% 100%&#125;&#125;.markdown-body h2&#123;display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0&#125;.markdown-body h2:before&#123;width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)&#125;.markdown-body h2:after,.markdown-body h2:before&#123;content:"";display:block;position:absolute;bottom:0&#125;.markdown-body h2:after&#123;right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw&#125;.markdown-body h3&#123;margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content&#125;.markdown-body h3:before&#123;border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate&#125;@keyframes h3AnimationBefore&#123;0%&#123;width:28px&#125;25%&#123;width:100%&#125;50%&#123;width:100%&#125;to&#123;width:100%&#125;&#125;.markdown-body h3:after&#123;content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate&#125;@keyframes h3AnimationAfter&#123;0%&#123;transform:rotate(0)&#125;10%&#123;transform:rotate(0)&#125;50%&#123;transform:rotate(-1turn)&#125;to&#123;transform:rotate(-1turn)&#125;&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px&#125;.markdown-body img&#123;max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)&#125;.markdown-body figcaption&#123;display:block;font-size:13px;color:#2b2b2b&#125;.markdown-body figcaption:before&#123;content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px&#125;.markdown-body hr&#123;border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px&#125;.markdown-body del&#123;color:#4dd0e1&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em&#125;.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px&#125;.markdown-body pre:before&#123;content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,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) 10px 10px no-repeat;background-size:40px&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px&#125;.markdown-body a:active,.markdown-body a:hover&#123;background-color:rgba(77,208,225,.1)&#125;.markdown-body strong&#123;color:#26c6da&#125;.markdown-body strong:before&#123;content:"ã€Œ"&#125;.markdown-body strong:after&#123;content:"ã€"&#125;.markdown-body em&#123;font-style:normal;color:#4dd0e1;font-weight:700&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:rgba(77,208,225,.05)&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative&#125;.markdown-body blockquote:before&#123;content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7&#125;.markdown-body blockquote:after&#123;content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7&#125;.markdown-body blockquote p&#123;color:#595959;line-height:2&#125;.markdown-body ol,.markdown-body ul&#123;color:#595959;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><blockquote>
<p>æœ¬æ–‡å·²å‚ä¸å¥½æ–‡å¬é›†ä»¤æ´»åŠ¨ï¼Œç‚¹å‡»æŸ¥çœ‹ï¼š <a href="https://juejin.cn/post/6978685539985653767" target="_blank" title="https://juejin.cn/post/6978685539985653767">åç«¯ã€å¤§å‰ç«¯åŒèµ›é“æŠ•ç¨¿ï¼Œ2ä¸‡å…ƒå¥–æ± ç­‰ä½ æŒ‘æˆ˜ï¼</a></p>
</blockquote>
<h1 data-id="heading-0">å‰è¨€</h1>
<p>ç»ˆäºåˆåˆ°å‘¨æœ«äº†ï¼Œä¸Šä¸€å‘¨çš„ä¸€ç¯‡3dæ–‡ç«   <a href="https://juejin.cn/post/6980983551399788580" target="_blank" title="https://juejin.cn/post/6980983551399788580">å¸¦ä½ å…¥é—¨three.jsâ€”â€”ä»0åˆ°1å®ç°ä¸€ä¸ª3då¯è§†åŒ–åœ°å›¾</a>å¾ˆå¼€å¿ƒğŸ˜ºæ”¶åˆ°äº†è¿™ä¹ˆå¤šå°ä¼™ä¼´çš„å–œæ¬¢ï¼Œè¿™æ˜¯å¯¹æˆ‘çŸ¥è¯†è¾“å‡ºçš„è‚¯å®šã€‚å†æ¬¡æ„Ÿè°¢å¤§å®¶ï¼è¿™å‘¨æˆ‘åˆæ¥äº†ï¼Œè¿™æ¬¡ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹å¯è§†åŒ–å›¾è¡¨æ¯”è¾ƒç®€å•çš„å›¾è¡¨ğŸ“ˆä½†åŒæ—¶æˆ‘ä»¬åˆä¸å¾—ä¸å­¦ä¼šçš„ é‚£å°±æ˜¯â€”â€”â€”â€”<strong>æŠ˜çº¿å›¾</strong>ã€‚è¯»å®Œæœ¬ç¯‡æ–‡ç« ä½ å¯ä»¥å­¦åˆ°ä»€ä¹ˆ</p>
<ol>
<li>jså®ç°ç›´çº¿æ–¹ç¨‹</li>
<li>æŠ˜çº¿å›¾çš„è¡¨è¾¾</li>
<li>canvasçš„ä¸€äº›apiçµæ´»çš„è¿ç”¨</li>
</ol>
<h1 data-id="heading-1">ç›´çº¿æŠ˜çº¿å›¾</h1>
<p>æˆ‘ä»¬å…ˆå»éå¸¸æœ‰åçš„Echarts å®˜ç½‘çœ‹ä¸€çœ‹ï¼Œä»–çš„æŠ˜çº¿å›¾æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Ÿå¦‚å›¾ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6b403026e38b4233803d8e54968e36c5~tplv-k3u1fbpfcp-watermark.image" alt="echatsæŠ˜çº¿å›¾" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä»å›¾ä¸­å¯ä»¥å¾—åˆ°ä»¥ä¸‹2då›¾å½¢å…ƒç´ ï¼š</p>
<ol>
<li>ç›´çº¿ï¼ˆä¸¤ä¸ªç«¯ç‚¹æ˜¯åœ†çš„ï¼‰</li>
<li>ç›´çº¿ï¼ˆä¸¤ä¸ªç«¯ç‚¹æ˜¯ç›´çº¿çš„ï¼‰</li>
<li>æ–‡å­—</li>
</ol>
<p>å¥½åƒä»”ç»†åˆ†æä¸€ä¸‹ä¹Ÿæ²¡ä»€ä¹ˆå˜›ï¼Œå…¶å®å°±æ˜¯ç”»ç›´çº¿å’ŒåŠ æ–‡å­—ã€‚OKï¼Œ é—®ä¸‹è‡ªå·±canvaså¦‚ä½•ç”»ç›´çº¿ï¼Ÿæ˜¯ä¸æ˜¯æœ‰ä¸€ä¸ªctx.LineToçš„æ–¹æ³•ï¼Œä½†æ˜¯ä»–ç”»å‡ºæ¥çš„æ˜¯ç›´çº¿æ²¡æœ‰ç«¯ç‚¹çš„æ‰€ä»¥å‘¢ï¼Ÿ æˆ‘ä»¬ä»¥æ­¤åŸºç¡€è¿›è¡Œå°è£…ï¼Œå¹¶ä¸”ç›´çº¿çš„ç«¯ç‚¹çš„å›¾å½¢å¯æ§ï¼Œ åŒæ—¶è¿˜æœ‰æ–‡å­—ä½äºç›´çº¿çš„ä½ç½®æ˜¯ä¸æ˜¯å¯ä»¥ç”»å‡ºè¿™æ ·çš„å›¾å½¢å‘¢ï¼Ÿ æˆ‘ä»¬æ¥ä¸‹æ¥è¿›è¡Œå®æ“ç¯èŠ‚ã€‚</p>
<h2 data-id="heading-2">ç”»å¸ƒçš„åˆ›å»º</h2>
<p>ç¬¬ä¸€æ­¥æˆ‘ä»¬è‚¯å®šæ˜¯è¿›è¡Œç”»å¸ƒçš„åˆ›å»ºï¼Œè¿™é‡Œæ²¡ä»€ä¹ˆå¥½è®²çš„ã€‚è¿™é‡Œæˆ‘åœ¨html æ–°å»ºä¸€ä¸ªcanvas, æˆ‘æ–°å»ºäº†ä¸€ä¸ªç±»å«<strong>lineChart</strong> ç›´æ¥ä¸Šä»£ç ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js">    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">lineChart</span> </span>&#123;
        <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">data, type</span>)</span> &#123;
          <span class="hljs-built_in">this</span>.get2d()
        &#125;

        <span class="hljs-function"><span class="hljs-title">get2d</span>(<span class="hljs-params"></span>)</span> &#123;
          <span class="hljs-keyword">const</span> canvas = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'canvas'</span>)
          <span class="hljs-built_in">this</span>.ctx = canvas.getContext(<span class="hljs-string">'2d'</span>)
        &#125;
      &#125;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä¸Šé¢ä»£ç æ²¡ä»€ä¹ˆå¥½è®²çš„ï¼Œç„¶åæˆ‘åœ¨ä¸ºcanvas ç”»å¸ƒè®¾ç½®èƒŒæ™¯è‰²ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css copyable" lang="css">    <style>
      * &#123;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      &#125;
      <span class="hljs-selector-tag">canvas</span> &#123;
        <span class="hljs-attribute">background</span>: aquamarine;
      &#125;
    </style>
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-3">canvasç»˜å›¾æ“ä½œå¤ä¹ </h2>
<p>å…¶å®æŠ˜çº¿å›¾ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç”»ç›´çº¿ï¼Œåªä¸è¿‡åœ¨åŸæœ‰ç”»ç›´çº¿çš„èƒ½åŠ›ä¸Šï¼Œç»™ä»–åšä¸€äº›å¢å¼ºã€‚æˆ‘ç”¨ä¸€ä¸ªç”»ä¸‰è§’å½¢çš„ä¾‹å­ï¼š å¸¦ä½ ç†Ÿæ‚‰ä¸€ä¸‹ç”»çº¿æ“ä½œã€‚</p>
<p>å…ˆçœ‹ä¸‹apiï¼š</p>
<blockquote>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FCanvasRenderingContext2D%2FlineTo" target="_blank" rel="nofollow noopener noreferrer" title="https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineTo" ref="nofollow noopener noreferrer"><code>lineTo(x, y)</code></a></p>
<p>ç»˜åˆ¶ä¸€æ¡ä»å½“å‰ä½ç½®åˆ°æŒ‡å®šxä»¥åŠyä½ç½®çš„ç›´çº¿ã€‚</p>
</blockquote>
<p>ç›´çº¿ä¸€èˆ¬æ˜¯ç”±ä¸¤ä¸ªç‚¹ç»„æˆçš„ï¼Œè¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼šxä»¥åŠy ï¼Œä»£è¡¨åæ ‡ç³»ä¸­ç›´çº¿ç»“æŸçš„ç‚¹ã€‚å¼€å§‹ç‚¹å’Œä¹‹å‰çš„ç»˜åˆ¶è·¯å¾„æœ‰å…³ï¼Œä¹‹å‰è·¯å¾„çš„ç»“æŸç‚¹å°±æ˜¯æ¥ä¸‹æ¥çš„å¼€å§‹ç‚¹ï¼Œç­‰ç­‰ã€‚ã€‚ã€‚å¼€å§‹ç‚¹ä¹Ÿå¯ä»¥é€šè¿‡<code>moveTo()</code>å‡½æ•°æ”¹å˜ã€‚</p>
<p>moveTo æ˜¯ä»€ä¹ˆå°±åœ¨ç”»å¸ƒä¸­ç§»åŠ¨ç¬”è§¦ï¼Œ ä¹Ÿå°±æ˜¯ä½ å¼€å§‹ç”»çš„ç¬¬ä¸€ä¸ªç‚¹ï¼Œæˆ–è€…ä½ å¯ä»¥æƒ³è±¡ä¸€ä¸‹åœ¨çº¸ä¸Šä½œä¸šï¼Œä¸€æ”¯é’¢ç¬”æˆ–è€…é“…ç¬”çš„ç¬”å°–ä»ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹çš„ç§»åŠ¨è¿‡ç¨‹ã€‚</p>
<blockquote>
<pre><code class="copyable">moveTo(*x*, *y*)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å°†ç¬”è§¦ç§»åŠ¨åˆ°æŒ‡å®šçš„åæ ‡xä»¥åŠyä¸Šã€‚</p>
</blockquote>
<p>ä»‹ç»å®Œæ¯•ï¼Œ å¼€å§‹å®æˆ˜ç¯èŠ‚ï¼š</p>
<pre><code class="copyable">drawtriangle() &#123;
  this.ctx.moveTo(25, 25)
  this.ctx.lineTo(105, 25)
  this.ctx.lineTo(25, 105)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æˆ‘ä»¬å…ˆç§»åŠ¨ä¸€ä¸ªç‚¹ï¼Œ ç„¶åå†ç”»æ¡ç›´çº¿ï¼Œ ç„¶åå†ç”»æ¡ç›´çº¿ã€‚ å¦‚æœå†™åˆ°ä½ è®¤ä¸ºç»“æŸäº†ï¼Œä½ å°±é”™äº†</p>
<p><strong>ä½ è¿˜å·®ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸€æ­¥å°±æ˜¯ç”»å¸ƒæè¾¹æˆ–è€…æ˜¯å¡«å……ï¼Œ æˆ‘åˆšå¼€å§‹å­¦ä¹Ÿä¼šå¿˜è®°è¿™ä¸ª</strong>ã€‚</p>
<p>è¿™é‡Œçµ¦å¤§å®¶æ•´ç†ä¸‹canvas çš„æ•´ä¸ªç”»å›¾æµç¨‹</p>
<ol>
<li>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºè·¯å¾„èµ·å§‹ç‚¹ã€‚</li>
<li>ç„¶åä½ ä½¿ç”¨<a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FCanvasRenderingContext2D%23Paths" target="_blank" rel="nofollow noopener noreferrer" title="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D#Paths" ref="nofollow noopener noreferrer">ç”»å›¾å‘½ä»¤</a>å»ç”»å‡ºè·¯å¾„ã€‚</li>
<li>ä¹‹åä½ æŠŠè·¯å¾„å°é—­ã€‚</li>
<li><strong>ä¸€æ—¦è·¯å¾„ç”Ÿæˆï¼Œä½ å°±èƒ½é€šè¿‡æè¾¹æˆ–å¡«å……è·¯å¾„åŒºåŸŸæ¥æ¸²æŸ“å›¾å½¢ã€‚</strong></li>
</ol>
<p>ä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰æ‰€åšçš„ä¸€åˆ‡åªæ˜¯åœ¨å‡†å¤‡è·¯å¾„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦<strong>æè¾¹</strong>æˆ–è€…<strong>å¡«å……</strong>æ¥æ¸²æŸ“å›¾å½¢ï¼Œ æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸¤ä¸ªapiã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// é€šè¿‡çº¿æ¡æ¥ç»˜åˆ¶å›¾å½¢è½®å»“ã€‚</span>
ctx.stroke() 
<span class="hljs-comment">// é€šè¿‡å¡«å……è·¯å¾„çš„å†…å®¹åŒºåŸŸç”Ÿæˆå®å¿ƒçš„å›¾å½¢ã€‚</span>
ctx.fill()
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æˆ‘ä»¬æŠŠå¡«å……åŠ ä¸Šå»ï¼š çœ‹ä¸‹æ•ˆæœ:</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2ffc4e99ac10466fa52521e8e761b3e5~tplv-k3u1fbpfcp-watermark.image" alt="å¡«å……ä¸‰è§’å½¢" loading="lazy" referrerpolicy="no-referrer"></p>
<p>æˆ‘ä»¬çœ‹ä¸‹æè¾¹æ•ˆæœï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f8c65aefda3444f893c15c87de214fa~tplv-k3u1fbpfcp-watermark.image" alt="æœªé—­åˆ" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä½ ä¼šå‘ç°ä¸ºä»€ä¹ˆæ²¡æœ‰é—­åˆï¼Ÿ,ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">this</span>.moveTo(<span class="hljs-number">25</span>, <span class="hljs-number">25</span>)
<span class="hljs-built_in">this</span>.lineTo(<span class="hljs-number">105</span>, <span class="hljs-number">25</span>)
<span class="hljs-built_in">this</span>.lineTo(<span class="hljs-number">25</span>, <span class="hljs-number">105</span>)
<span class="hljs-built_in">this</span>.stroke()
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™å°±è¯´æ˜äº†ä¸€ä¸ªé‡è¦é—®é¢˜å°±æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p>
<blockquote>
<p>æè¾¹æ˜¯é»˜è®¤ä¸é—­åˆçš„ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é—­åˆ
å¡«å……é»˜è®¤ä¼šå¸®æˆ‘ä»¬é—­åˆå›¾å½¢ï¼Œ å¹¶ä¸”å¡«å……</p>
</blockquote>
<p>æ—¢ç„¶å‘ç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬å°±éœ€è¦è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆcanvas å¦‚ä½•é—­åˆè·¯å¾„å‘¢ï¼Ÿï¼Ÿ</p>
<blockquote>
<p>closePath:</p>
<p>é—­åˆè·¯å¾„ä¹‹åå›¾å½¢ç»˜åˆ¶å‘½ä»¤åˆé‡æ–°æŒ‡å‘åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
</blockquote>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="copyable">this.moveTo(25, 25)
this.lineTo(105, 25)
this.lineTo(25, 105)
this.closePath()
this.stroke()
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™æ—¶å€™æ•ˆæœå›¾å·²ç»å‡ºæ¥äº†ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/95e840b7c554432bae2c4f234f9e5eee~tplv-k3u1fbpfcp-watermark.image" alt="é—­åˆä¸‰è§’å½¢" loading="lazy" referrerpolicy="no-referrer"></p>
<p>æœ‰closePathï¼Ÿ éš¾é“æ²¡æœ‰å¼€å§‹è·¯å¾„ï¼Ÿ ç­”æ¡ˆæ˜¯å½“ç„¶æœ‰çš„ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// æ–°å»ºä¸€æ¡è·¯å¾„ï¼Œç”Ÿæˆä¹‹åï¼Œå›¾å½¢ç»˜åˆ¶å‘½ä»¤è¢«æŒ‡å‘åˆ°è·¯å¾„ä¸Šç”Ÿæˆè·¯å¾„ã€‚</span>
<span class="hljs-built_in">this</span>.beginPath()
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™é‡Œä¼šé—®è¿™ä¸ªæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<p>é¦–å…ˆ ç”Ÿæˆè·¯å¾„çš„ç¬¬ä¸€æ­¥å«åšbeginPath()ã€‚æœ¬è´¨ä¸Šï¼Œè·¯å¾„æ˜¯ç”±å¾ˆå¤šå­è·¯å¾„æ„æˆï¼Œè¿™äº›å­è·¯å¾„éƒ½æ˜¯åœ¨ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œæ‰€æœ‰çš„å­è·¯å¾„ï¼ˆçº¿ã€å¼§å½¢ã€ç­‰ç­‰ï¼‰æ„æˆå›¾å½¢ã€‚è€Œæ¯æ¬¡è¿™ä¸ªæ–¹æ³•è°ƒç”¨ä¹‹åï¼Œåˆ—è¡¨æ¸…ç©ºé‡ç½®ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥é‡æ–°ç»˜åˆ¶æ–°çš„å›¾å½¢ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼šå½“å‰è·¯å¾„ä¸ºç©ºï¼Œå³è°ƒç”¨beginPath()ä¹‹åï¼Œæˆ–è€…canvasåˆšå»ºçš„æ—¶å€™ï¼Œç¬¬ä¸€æ¡è·¯å¾„æ„é€ å‘½ä»¤é€šå¸¸è¢«è§†ä¸ºæ˜¯moveToï¼ˆï¼‰ï¼Œæ— è®ºå®é™…ä¸Šæ˜¯ä»€ä¹ˆã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œä½ å‡ ä¹æ€»æ˜¯è¦åœ¨è®¾ç½®è·¯å¾„ä¹‹åä¸“é—¨æŒ‡å®šä½ çš„èµ·å§‹ä½ç½®ã€‚</strong></p>
</blockquote>
<p>closePath å…¶å®ä¹Ÿä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœå›¾å½¢å·²ç»æ˜¯é—­åˆçš„ï¼Œå°±ä¸éœ€è¦è°ƒç”¨ï¼Œ åˆ°è¿™é‡Œcanvasçš„åŸºæœ¬ç»˜å›¾æ“ä½œå¤ä¹ å°±åˆ°è¿™é‡Œï¼Œåé¢è¿˜æœ‰ä¸€äº›å®æˆ˜api : æˆ‘å°±ä¾‹å­ä¸­ç»™å¤§å®¶è®²è§£ï¼Œ ä¸ç„¶ä¼šæ˜¾å¾—å¾ˆç”Ÿç¡¬ã€‚</p>
<h2 data-id="heading-4">å°è£…ç”»ç›´çº¿æ–¹æ³•</h2>
<p>å†æ¬¡ä¹‹å‰ï¼Œæˆ‘æŠŠcanvasä¸­æ¯ä¸€ä¸ªç‚¹çš„ä½ç½®éƒ½ç”¨ä¸€ä¸ªpoint2d ç‚¹å»è¡¨ç¤ºå¹¶ä¸”å†™äº†ä¸€äº›æ–¹æ³•,æˆ‘åœ¨ä¹‹å‰çš„æ–‡ç« éƒ½æœ‰ä»”ç»†è®²è¿‡è¿™é‡Œæˆ‘å°±ä¸å±•å¼€è¯´äº†ï¼š  <a href="https://juejin.cn/post/6978333352931622949" target="_blank" title="https://juejin.cn/post/6978333352931622949">3åƒå­—é•¿æ–‡canvaså®ç°ä»»æ„æ­£å¤šè¾¹å½¢çš„ç§»åŠ¨ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰</a> è¿™ä¸€ç¯‡æ–‡ç« ã€‚ è¿™é‡Œæˆ‘å°±ç›´æ¥æ”¾ä¸Šä»£ç ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Point2d</span> </span>&#123;
  <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params">x, y</span>)</span> &#123;
    <span class="hljs-built_in">this</span>.x = x || <span class="hljs-number">0</span>
    <span class="hljs-built_in">this</span>.y = y || <span class="hljs-number">0</span>
    <span class="hljs-built_in">this</span>.id = ++current
  &#125;
  <span class="hljs-function"><span class="hljs-title">clone</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.x, <span class="hljs-built_in">this</span>.y)
  &#125;

  <span class="hljs-function"><span class="hljs-title">equal</span>(<span class="hljs-params">v</span>)</span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.x === v.x && <span class="hljs-built_in">this</span>.y === v.y
  &#125;

  <span class="hljs-function"><span class="hljs-title">add2Map</span>(<span class="hljs-params"></span>)</span> &#123;
    pointMap.push(<span class="hljs-built_in">this</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>
  &#125;

  <span class="hljs-function"><span class="hljs-title">add</span>(<span class="hljs-params">v</span>)</span> &#123;
    <span class="hljs-built_in">this</span>.x += v.x
    <span class="hljs-built_in">this</span>.y += v.y
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>
  &#125;

  <span class="hljs-function"><span class="hljs-title">abs</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">return</span> [<span class="hljs-built_in">Math</span>.abs(<span class="hljs-built_in">this</span>.x), <span class="hljs-built_in">Math</span>.abs(<span class="hljs-built_in">this</span>.y)]
  &#125;

  <span class="hljs-function"><span class="hljs-title">sub</span>(<span class="hljs-params">v</span>)</span> &#123;
    <span class="hljs-built_in">this</span>.x -= v.x
    <span class="hljs-built_in">this</span>.y -= v.y
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>
  &#125;

  <span class="hljs-function"><span class="hljs-title">equal</span>(<span class="hljs-params">v</span>)</span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.x === v.x && <span class="hljs-built_in">this</span>.y === v.y
  &#125;

  <span class="hljs-function"><span class="hljs-title">rotate</span>(<span class="hljs-params">center, angle</span>)</span> &#123;
    <span class="hljs-keyword">const</span> c = <span class="hljs-built_in">Math</span>.cos(angle),
      s = <span class="hljs-built_in">Math</span>.sin(angle)
    <span class="hljs-keyword">const</span> x = <span class="hljs-built_in">this</span>.x - center.x
    <span class="hljs-keyword">const</span> y = <span class="hljs-built_in">this</span>.y - center.y
    <span class="hljs-built_in">this</span>.x = x * c - y * s + center.x
    <span class="hljs-built_in">this</span>.y = x * s + y * c + center.y
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>
  &#125;

  <span class="hljs-function"><span class="hljs-title">distance</span>(<span class="hljs-params">p</span>)</span> &#123;
    <span class="hljs-keyword">const</span> [x, y] = <span class="hljs-built_in">this</span>.clone().sub(p).abs()
    <span class="hljs-keyword">return</span> x * x + y * y
  &#125;

  <span class="hljs-function"><span class="hljs-title">distanceSq</span>(<span class="hljs-params">p</span>)</span> &#123;
    <span class="hljs-keyword">const</span> [x, y] = <span class="hljs-built_in">this</span>.clone().sub(p).abs()
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(x * x + y * y)
  &#125;

  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-title">random</span>(<span class="hljs-params">width, height</span>)</span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">Math</span>.random() * width, <span class="hljs-built_in">Math</span>.random() * height)
  &#125;

  <span class="hljs-function"><span class="hljs-title">cross</span>(<span class="hljs-params">v</span>)</span> &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.x * v.y - <span class="hljs-built_in">this</span>.y * v.x
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>åˆ†åˆ«å¯¹åº”çš„æ˜¯ä¸€äº›é™æ€æ–¹æ³•ã€å‰ä¹˜ã€ ä¸¤ä¸ªç‚¹ä¹‹é—´æ±‚è·ç¦»å“‡ç­‰ç­‰ã€‚</p>
<p>æˆ‘ä»¬å…ˆåœ¨ç”»å¸ƒä¸Šç”»ä¸€æ¡åŸºç¡€çš„ç›´çº¿, æˆ‘ä»¬å…ˆç”¨random, åœ¨ç”»å¸ƒä¸Šé‡æ–°ç”Ÿæˆä¸¤ä¸ªç‚¹ï¼Œç„¶åç”»å‡ºä¸€æ¡éšæœºçš„ç›´çº¿ï¼Œ ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">new</span> lineChart().drawLine(
  Point2d.random(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>),
  Point2d.random(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>)
)
<span class="hljs-comment">// ç”»ç›´çº¿</span>
<span class="hljs-function"><span class="hljs-title">drawLine</span>(<span class="hljs-params">start, end</span>)</span> &#123;
  <span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">x</span>: startX, <span class="hljs-attr">y</span>: startY &#125; = start
  <span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">x</span>: endX, <span class="hljs-attr">y</span>: endY &#125; = end
  <span class="hljs-built_in">this</span>.beginPath()
  <span class="hljs-built_in">this</span>.moveTo(startX, startY)
  <span class="hljs-built_in">this</span>.lineTo(endX, endY)
  <span class="hljs-built_in">this</span>.stroke()
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-5">jså®ç°ç›´çº¿æ–¹ç¨‹</h2>
<pre><code class="copyable">è¿™é‡Œæ²¡æœ‰å¥½å±•ç¤ºçš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯åˆ†æä¸‹echarts å®˜æ–¹çš„æŠ˜çº¿å›¾ç›´çº¿ï¼Œç›´çº¿ä¸¤æ—æ˜¯ä¸¤ä¸ªåœ†çš„ï¼Œæƒ³ä¸€æƒ³ï¼Ÿå…¶å®è¿™è¾¹æ¶‰åŠåˆ°ä¸€ä¸ªæ•°å­¦çŸ¥è¯†ï¼Œå„ä½å°ä¼™ä¼´ï¼ŒFlyå†ä¸€æ¬¡åŒ–èº«æ•°å­¦è€å¸ˆç»™å¤§å®¶è®²è§£ï¼Œä¸»è¦æ˜¯å¸®æœ‰äº›å°ä¼™ä¼´å¤ä¹ å¤ä¹ ã€‚  è¿™é‡Œæˆ‘ä»¬å·²ç»çŸ¥é“ç›´çº¿çš„å¼€å§‹ç‚¹å’Œç»“æŸç‚¹ï¼Œåœ¨æ•°å­¦ä¸­æˆ‘ä»¬å¯ä»¥ç¡®å®šä¸€æ¡ç›´çº¿æ–¹ç¨‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ±‚å‡ºç›´çº¿ä¸Šä»»æ„ä¸€ç‚¹çš„ï¼ˆx,yï¼‰åæ ‡ã€‚é‚£ä¹ˆç›´çº¿çš„ä¸¤ä¸ªç«¯ç‚¹çš„åœ†å¿ƒæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šï¼Ÿ åŠå¾„ä¹Ÿå¯ä»¥ç¡®å®šäº†å°±æ˜¯åœ†å¿ƒåˆ†åˆ«åˆ°å¼€å§‹ç‚¹å’Œç»“æŸç‚¹çš„è·ç¦»ã€‚
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç¬¬ä¸€æ­¥ï¼š å®ç°ç›´çº¿æ–¹ç¨‹</p>
<p>æˆ‘ä»¬å…ˆçœ‹ä¸‹ç›´çº¿æ–¹ç¨‹çš„å‡ ç§è¡¨è¾¾æ–¹å¼ï¼š</p>
<ol>
<li>
<p>ä¸€èˆ¬å¼ï¼š <strong>Ax+By+C=0</strong>(Aã€Bä¸åŒæ—¶ä¸º0)ã€é€‚ç”¨äºæ‰€æœ‰ç›´çº¿ã€‘</p>
</li>
<li>
<p>ç‚¹æ–œå¼ï¼š <strong>y-y0=k(x-x0) ã€<strong>é€‚ç”¨äºä¸å‚ç›´äºxè½´çš„ç›´çº¿</strong>ã€‘</strong> è¡¨ç¤ºæ–œç‡ä¸ºkï¼Œä¸”è¿‡ï¼ˆx0,y0ï¼‰çš„ç›´çº¿</p>
</li>
<li>
<p>æˆªè·å¼ï¼š<strong>x/a+y/b=1</strong>ã€é€‚ç”¨äºä¸è¿‡åŸç‚¹æˆ–ä¸å‚ç›´äºxè½´ã€yè½´çš„ç›´çº¿ã€‘</p>
</li>
<li>
<p>ä¸¤ç‚¹å¼ï¼šè¡¨ç¤ºè¿‡ï¼ˆx1,y1ï¼‰å’Œ(x2,y2)çš„ç›´çº¿ã€€ã€é€‚ç”¨äºä¸å‚ç›´äºxè½´ã€yè½´çš„ç›´çº¿ã€‘ <strong>(x1â‰ x2ï¼Œy1â‰ y2)</strong></p>
<p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fbaike.baidu.com%2Fpic%2F%25E7%259B%25B4%25E7%25BA%25BF%25E6%2596%25B9%25E7%25A8%258B%2F901132%2F0%2F310f3b1f596906e2a686696b%3Ffr%3Dlemma%26ct%3Dsingle" target="_blank" rel="nofollow noopener noreferrer" title="https://baike.baidu.com/pic/%E7%9B%B4%E7%BA%BF%E6%96%B9%E7%A8%8B/901132/0/310f3b1f596906e2a686696b?fr=lemma&ct=single" ref="nofollow noopener noreferrer"><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0409256f49dd4dcb967c904034bf1bcc~tplv-k3u1fbpfcp-zoom-1.image" alt="ä¸¤ç‚¹å¼" loading="lazy" referrerpolicy="no-referrer"></a>ä¸¤ç‚¹å¼</p>
</li>
</ol>
<p>è¿™é‡Œå¾ˆæ˜æ˜¾æˆ‘ä»¬é€‚åˆç¬¬å››ç§ï¼šå·²ç»çŸ¥é“ç›´çº¿çš„èµ·å§‹ç‚¹å’Œç»“æŸç‚¹å¯ä»¥æ±‚å‡ºç›´çº¿æ–¹ç¨‹ã€‚æˆ‘ç»™å‡ºä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeLine</span>(<span class="hljs-params">p0, p1, t</span>) </span>&#123;
  <span class="hljs-keyword">let</span> x1 = p0.x
  <span class="hljs-keyword">let</span> y1 = p0.y
  <span class="hljs-keyword">let</span> x2 = p1.x
  <span class="hljs-keyword">let</span> y2 = p1.y
  <span class="hljs-comment">// è¯´æ˜ç›´çº¿å¹³è¡Œ yè½´</span>
  <span class="hljs-keyword">if</span> (x1 === x2) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point2d(x1, t)
  &#125;
  <span class="hljs-comment">// å¹³è¡ŒXè½´çš„æƒ…å†µ</span>
  <span class="hljs-keyword">if</span> (y1 === y2) &#123;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point2d(t, y1)
  &#125;
  <span class="hljs-keyword">const</span> y = ((t - x1) / (x2 - x1)) * (y2 - y1) + y1
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Point2d(t, y)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>p0ã€p1ã€ å¯¹åº”çš„ä¸¤ä¸ªç›´çº¿ç‚¹ t å°±æ˜¯å‚æ•°ï¼Œå¯¹åº”ç›´çº¿çš„x,æˆ‘ä»¬æ±‚å‡ºyï¼Œè¿”å›æ–°çš„ç‚¹å°±å¥½äº† ã€‚æˆ‘ä»¬é»˜è®¤ä»¥å¼€å§‹ç‚¹å’Œç»“æŸç‚¹çš„ x ä½ç½®åˆ†åˆ« å‡å»æˆ–è€…åŠ ä¸€ä¸ªå›ºå®šçš„å€¼ ï¼Œ æ±‚å¾—åœ†å¿ƒã€‚ç›´æ¥çœ‹ä¸‹å›¾å§ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4593b1fd141e44f1a822886bedeae0ac~tplv-k3u1fbpfcp-watermark.image" alt="è‰ç¨¿å›¾" loading="lazy" referrerpolicy="no-referrer"></p>
<p>è¿™ä¸ªå›¾å·²ç»å¾ˆæ˜æ˜¾äº†ï¼Œ 1å’Œ2 ä¹‹é—´çš„è·ç¦»å°±æ˜¯åŠå¾„ï¼Œ æ‰€ä»¥æˆ‘ä»¬åªè¦æ±‚å‡ºç‚¹1 å’Œç‚¹4 å¥½åƒ å°±OKäº†ï¼Œ canvas ä¸­æ˜¯æ€ä¹ˆç”»åœ†å‘¢æœ‰ä¸€ä¸ªarc è¿™ä¸ªapi :</p>
<pre><code class="copyable">arc(x, y, radius, startAngle, endAngle, anticlockwise)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç”»ä¸€ä¸ªä»¥ï¼ˆx,yï¼‰ä¸ºåœ†å¿ƒçš„ä»¥radiusä¸ºåŠå¾„çš„åœ†å¼§ï¼ˆåœ†ï¼‰ï¼Œä»startAngleå¼€å§‹åˆ°endAngleç»“æŸï¼ŒæŒ‰ç…§anticlockwiseç»™å®šçš„æ–¹å‘ï¼ˆé»˜è®¤ä¸ºé¡ºæ—¶é’ˆï¼‰æ¥ç”Ÿæˆã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š<code>arc()</code>å‡½æ•°ä¸­è¡¨ç¤ºè§’çš„å•ä½æ˜¯å¼§åº¦ï¼Œä¸æ˜¯è§’åº¦ã€‚è§’åº¦ä¸å¼§åº¦çš„jsè¡¨è¾¾å¼:</strong></p>
<p><strong>å¼§åº¦=(Math.PI/180)*è§’åº¦ã€‚</strong></p>
</blockquote>
<p>åœ†è‚¯å®šå°±æ˜¯ä»0-360åº¦ï¼Œ ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">drawCircle</span>(<span class="hljs-params">center, radius = <span class="hljs-number">4</span></span>)</span> &#123;
  <span class="hljs-keyword">const</span> &#123; x, y &#125; = center
  <span class="hljs-built_in">this</span>.ctx.beginPath()
  <span class="hljs-built_in">this</span>.ctx.arc(x, y, radius, <span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.PI * <span class="hljs-number">2</span>, <span class="hljs-literal">true</span>) <span class="hljs-comment">// ç»˜åˆ¶</span>
  <span class="hljs-built_in">this</span>.ctx.fill()
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å‡†å¤‡å·¥ä½œéƒ½åšå¥½äº†ï¼Œ æˆ‘ä»¬å°±å¼€å§‹å®ç°è¯å¸¦åœ†çš„ç›´çº¿å§ã€‚ ç”»å›¾çš„æ­¥éª¤å°±æ˜¯</p>
<ol>
<li>å…ˆç”»å¼€å§‹åœ†</li>
<li>ç”»ç›´çº¿</li>
<li>ç”»ç»“æŸåœ†</li>
</ol>
<p>ç”»å¼€å§‹åœ†å’Œç”»ç»“æŸåœ†å…¶å®å¯ä»¥å°è£…æˆä¸€ä¸ªæ–¹æ³•ï¼š ä»–ä»¬æœ€ä¸»è¦çš„åŒºåˆ«å…¶å®å°±æ˜¯èµ·å§‹ç‚¹çš„ä¸åŒï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">drawLineCircle</span>(<span class="hljs-params">start, end, type</span>)</span> &#123;
  <span class="hljs-keyword">const</span> flag = type === <span class="hljs-string">'left'</span>
  <span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">x</span>: startX, <span class="hljs-attr">y</span>: startY &#125; = start
  <span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">x</span>: endX, <span class="hljs-attr">y</span>: endY &#125; = end
  <span class="hljs-keyword">const</span> center = <span class="hljs-built_in">this</span>.getOnePointOnLine(
    start.clone(),
    end.clone(),
    flag ? startX - <span class="hljs-built_in">this</span>.distance : endX + <span class="hljs-built_in">this</span>.distance
  )
  <span class="hljs-comment">// ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»  ä¸ç†Ÿæ‚‰çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸‹ä¸Šé¢çš„æ–‡ç« </span>
  <span class="hljs-keyword">const</span> radius = (flag ? start : end).clone().distanceSq(center)
  <span class="hljs-built_in">this</span>.drawCircle(center, radius)
&#125;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”»åœ†äº†ã€‚å…ˆçœ‹ä¸‹æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5b7e66c015ec4b918cfb05a176d9f4ec~tplv-k3u1fbpfcp-watermark.image" alt="ç›´çº¿ä¸¤ç«¯åœ†ç‚¹" loading="lazy" referrerpolicy="no-referrer"></p>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬å°±å·²ç»ç»“æŸäº†æŠ˜çº¿å›¾çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œ ç´§æ¥ç€è¿›å…¥ç¬¬äºŒéƒ¨åˆ†ï¼š</p>
<h2 data-id="heading-6">ç”»XYåæ ‡è½´</h2>
<p>â€‹åæ ‡è½´æœ¬è´¨ä¸Šå°±æ˜¯ä¸¤æ¡ç›´çº¿ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥ç¡®å®šåæ ‡åŸç‚¹ï¼Œç„¶åä»¥åæ ‡åŸç‚¹ç”»å‡ºå‚ç›´å’Œæ°´å¹³çš„ä¸¤æ¡ç›´çº¿ã€‚ æˆ‘ä»¬è®¾ç½®åæ ‡åŸç‚¹ç¦»ç”»å¸ƒçš„å·¦å†…è¾¹è·å’Œåº•éƒ¨å†…è¾¹è·ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥é€šè¿‡ç”»å¸ƒçš„é«˜åº¦å‡å»åº•éƒ¨å†…è¾¹è·å¾—åˆ° åŸç‚¹çš„y, ç„¶åé€šè¿‡ç”»å¸ƒçš„å®½åº¦å‡å»å·¦å†…è¾¹è·å¾—åˆ°x, æœ‰äº†åæ ‡åŸç‚¹ç”»åæ ‡è½´å°±æ²¡ä»€ä¹ˆå¤§é—®é¢˜äº†ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js">  <span class="hljs-comment">//å®šä¹‰åæ ‡è½´ç›¸å¯¹äºç”»å¸ƒçš„å†…è¾¹è·</span>
  <span class="hljs-built_in">this</span>.paddingLeft = <span class="hljs-number">30</span> <span class="hljs-comment">// è‡³å°‘å¤§äºç»˜åˆ¶æ–‡å­—çš„å®½åº¦</span>
  <span class="hljs-built_in">this</span>.paddingBottom = <span class="hljs-number">30</span> <span class="hljs-comment">// è‡³å°‘å¤§äºç»˜åˆ¶æ–‡å­—çš„é«˜åº¦</span>
  <span class="hljs-built_in">this</span>.origin = <span class="hljs-keyword">new</span> Point2d(
    <span class="hljs-built_in">this</span>.paddingLeft,
    <span class="hljs-built_in">this</span>.height - <span class="hljs-built_in">this</span>.paddingBottom
  )
  <span class="hljs-built_in">this</span>.drawCircle(<span class="hljs-built_in">this</span>.origin, <span class="hljs-number">1</span>, <span class="hljs-string">'red'</span>)
  <span class="hljs-built_in">this</span>.addxAxis()
  <span class="hljs-built_in">this</span>.addyAxis()

  <span class="hljs-comment">// ç”» x è½´</span>
  <span class="hljs-function"><span class="hljs-title">addxAxis</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">const</span> end = <span class="hljs-built_in">this</span>.origin
      .clone()
      .add(<span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.width - <span class="hljs-built_in">this</span>.paddingLeft * <span class="hljs-number">2</span>, <span class="hljs-number">0</span>))
    <span class="hljs-built_in">this</span>.drawLine(<span class="hljs-built_in">this</span>.origin, end)
  &#125;
  
  <span class="hljs-comment">// ç”»yè½´</span>
  <span class="hljs-function"><span class="hljs-title">addyAxis</span>(<span class="hljs-params"></span>)</span> &#123;
    <span class="hljs-keyword">const</span> end = <span class="hljs-built_in">this</span>.origin
      .clone()
      .sub(<span class="hljs-keyword">new</span> Point2d(<span class="hljs-number">0</span>, <span class="hljs-built_in">this</span>.height - <span class="hljs-built_in">this</span>.paddingBottom * <span class="hljs-number">2</span>))
    <span class="hljs-built_in">this</span>.drawLine(<span class="hljs-built_in">this</span>.origin, end)
  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p><strong>è¿™é‡Œè¦ç‰¹åˆ«æç¤ºçš„æ˜¯ é¦–å…ˆæ•´ä¸ªç”»å¸ƒçš„ åæ ‡è½´ æ˜¯åœ¨æ•´ä¸ªå±å¹•çš„å·¦ä¸Šæ–¹ï¼Œ ä½†æ˜¯æˆ‘ä»¬æ˜¾ç¤ºçš„åæ ‡åŸç‚¹æ˜¯åœ¨ å·¦ä¸‹æ–¹ï¼Œ ç„¶å ç”»Yè½´çš„æ—¶å€™æ˜¯ç”±åŸç‚¹å‘ä¸Šå‡å»ï¼Œ æ˜¯å‘é‡ç‚¹çš„å‡æ³•ã€‚</strong></p>
<p>æ•ˆæœå›¾å¦‚ä¸‹ ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0eb870b4416246c98df4501e327221c5~tplv-k3u1fbpfcp-watermark.image" alt="image-20210710165738306.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä½†æ˜¯å’Œecharts é‚£ä¸ªä¸å¤ªä¸€æ ·ï¼Œ ä»–çš„xè½´æ˜¯æœ‰çº¿æ®µçš„å’Œæ–‡å­—çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹æ”¹é€  xè½´ã€‚å°±æ˜¯å°†Xè½´åˆ†å‡ æ®µå˜›ï¼Œ</p>
<p>ç„¶åç”Ÿæˆä¸€ä¸ªç‚¹çš„é›†åˆï¼Œè¿™äº›ç‚¹çš„yéƒ½æ˜¯ç›¸åŒçš„, ç„¶å xæ˜¯ä¸ç›¸åŒçš„ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"> <span class="hljs-function"><span class="hljs-title">drawLineWithDiscrete</span>(<span class="hljs-params">start, end, n = <span class="hljs-number">5</span></span>)</span> &#123;
    <span class="hljs-comment">// ç”±äº x è½´ä¸Šçš„ y éƒ½æ˜¯ç›¸åŒçš„</span>
    <span class="hljs-keyword">const</span> points = []
    <span class="hljs-keyword">const</span> startX = start.x
    <span class="hljs-keyword">const</span> endX = end.x
    points.push(start)
    <span class="hljs-keyword">const</span> segmentValue = (endX - startX) / n
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i <= n - <span class="hljs-number">1</span>; i++) &#123;
      points.push(<span class="hljs-keyword">new</span> Point2d(startX + i * segmentValue, start.y))
    &#125;
    points.push(end)

    <span class="hljs-comment">// ç”Ÿæˆçº¿æ®µ</span>
    points.forEach(<span class="hljs-function">(<span class="hljs-params">point</span>) =></span> &#123;
      <span class="hljs-built_in">this</span>.drawLine(point, point.clone().add(<span class="hljs-keyword">new</span> Point2d(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>)))
    &#125;)
  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™é‡Œè¦æ³¨æ„çš„å°±æ˜¯å¾ªç¯çš„ä¸ªæ•°ï¼Œå› ä¸ºèµ·å§‹ç‚¹å’Œç»ˆæ­¢ç‚¹æ˜¯æœ‰çš„ã€‚ çœ‹ä¸‹æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1a387b28645f4fd396cb09c5ab293d8c~tplv-k3u1fbpfcp-watermark.image" alt="åˆå§‹åæ ‡è½´" loading="lazy" referrerpolicy="no-referrer">
è¿™æ—¶å€™è¿˜å·®æ–‡å­—ï¼Œcanvas ç»˜åˆ¶æ–‡å­—çš„api</p>
<pre><code class="copyable">åœ¨æŒ‡å®šçš„(x,y)ä½ç½®å¡«å……æŒ‡å®šçš„æ–‡æœ¬ï¼Œç»˜åˆ¶çš„æœ€å¤§å®½åº¦æ˜¯å¯é€‰çš„.
ctx.fillTextï¼ˆtext,x,y,[,maxwidth]ï¼‰
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ‰€ä»¥è¯´ç™½äº†è¿˜æ˜¯å»è®¡ç®—æ–‡å­—ç‚¹çš„åæ ‡ï¼Œé¦–å…ˆåœ¨é¡¹ç›®åˆå§‹åŒ–çš„å®šä¹‰Xè½´å’ŒYè½´çš„æ•°æ®ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="copyable"> this.axisData = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
 this.yxisData = ['0', '50', '100', '150', '200', '250', '300']
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ–‡å­—æˆ‘ä»¬ç»Ÿä¸€æ”¾åœ¨çº¿æ®µçš„ä¸­ç‚¹å¤„å…¶å®åªè¦è®¡ç®—æ¯ä¸ªåˆ†æ®µæ•°çš„é•¿åº¦ç„¶ååœ¨ç«¯ç‚¹å¤„+åˆ†æ®µæ•°é•¿åº¦çš„ä¸€åŠå°±å¯ä»¥å¾—åˆ°ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// ç”ŸæˆXè½´æ–‡å­—çš„ç‚¹</span>
<span class="hljs-keyword">const</span> segmentValue = (endX - startX) / n
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i <= n - <span class="hljs-number">1</span>; i++) &#123;
  <span class="hljs-keyword">const</span> textpoint = <span class="hljs-keyword">new</span> Point2d(
    startX + i * segmentValue + segmentValue / <span class="hljs-number">2</span>,
    start.y + <span class="hljs-number">20</span>
  )
  <span class="hljs-comment">// è¿™é‡Œæ¯ä¸ªç‚¹çš„æ–‡å­—ä¸Xè½´æ•°æ®æ˜¯äº’ç›¸å‘¼åº”çš„</span>
  textPoints.push(&#123;
    <span class="hljs-attr">point</span>: textpoint,
    <span class="hljs-attr">text</span>: <span class="hljs-built_in">this</span>.axisData[i],
  &#125;)
&#125;

<span class="hljs-comment">// ç”Ÿæˆæ–‡å­—</span>
<span class="hljs-built_in">this</span>.clearFillColor()
textPoints.forEach(<span class="hljs-function">(<span class="hljs-params">info</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> &#123; text, point &#125; = info
  <span class="hljs-built_in">this</span>.ctx.fillText(text, point.x, point.y)
&#125;)

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ•ˆæœå›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/21e76ab77e994fcfac6d33cbf64c7d88~tplv-k3u1fbpfcp-watermark.image" alt="xè½´æ–‡å­—" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ä½†æ˜¯çœ‹ç€å›¾å¥½åƒæ–‡å­—å¹¶æ²¡æœ‰å¤„äºå±…ä¸­çš„ä½ç½®ï¼Œ èƒ–è™æ€è€ƒäº†ğŸ¤”ä¸€ä¸‹ï¼Œ å…¶å®å› ä¸ºæ–‡å­—ä¹Ÿæœ‰é•¿åº¦ï¼Œ æ‰€ä»¥æ¯ä¸€ä¸ªæ–‡å­—çš„åæ ‡è¦å‡å»æ–‡å­—é•¿åº¦çš„ä¸€åŠå€¼å°±å¯¹äº†ã€‚è¿™æ—¶å€™this.ctx.fillText çš„ç¬¬ä¸‰ä¸ªå‚æ•°å°±æ˜¾å¾—ååˆ†é‡è¦äº†ï¼Œ é™åˆ¶æ–‡å­—çš„é•¿åº¦ï¼Œ è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¤„ç†äº†ï¼Œ ä»£ç  é‡æ–°ä¿®æ”¹ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// é™åˆ¶æ–‡å­—çš„é•¿åº¦</span>
<span class="hljs-built_in">this</span>.ctx.fillText(text, point.x, point.y, <span class="hljs-number">20</span>)

<span class="hljs-comment">// æ–‡å­—çš„æ¯ä¸ªç‚¹è¦å‡å»é•¿åº¦çš„ä¸€åŠ</span>
<span class="hljs-keyword">const</span> textpoint = <span class="hljs-keyword">new</span> Point2d(
  startX + i * segmentValue + segmentValue / <span class="hljs-number">2</span> - <span class="hljs-number">10</span>,
  start.y + <span class="hljs-number">20</span>
)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç›´æ¥çœ‹æ•ˆæœå›¾ï¼š</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5376740c051e4384b416466f89f3357b~tplv-k3u1fbpfcp-watermark.image" alt="xè½´" loading="lazy" referrerpolicy="no-referrer"></p>
<p>è¿™ä¸‹çœ‹ä¸€ä¸‹å°±æ˜¯å®Œç¾ã€‚</p>
<p>Xè½´çš„å¤„ç†å¥½äº†ï¼Œæˆ‘ä»¬å¤„ç†Yè½´ï¼ŒYè½´å…¶å®ç›¸å¯¹æ¯”è¾ƒç®€å•å°±æ˜¯æ¯ä¸ªæ•°æ®å¯¹åº”çš„ä¸€æ¡ç›´çº¿ã€‚</p>
<p>Yè½´çš„è¯ä¹Ÿæ˜¯è¦è®¡ç®—æ¯ä¸ªçº¿æ®µçš„é•¿åº¦çš„å€¼ï¼Œç„¶åç”»å‡ºç›´çº¿ï¼Œ è¿™é‡Œè¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯å°±æ˜¯æ–‡å­—çš„æ”¾ç½®ï¼Œ åœ¨æ¯ä¸ªç«¯ç‚¹è¿˜è¦è¿›è¡Œå¾®è°ƒã€‚ä½¿å¾—æ–‡å­—å’Œç›´çº¿å±…ä¸­å¯¹é½ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">addyAxis</span>(<span class="hljs-params"></span>)</span> &#123;
  <span class="hljs-keyword">const</span> end = <span class="hljs-built_in">this</span>.origin
    .clone()
    .sub(<span class="hljs-keyword">new</span> Point2d(<span class="hljs-number">0</span>, <span class="hljs-built_in">this</span>.height - <span class="hljs-built_in">this</span>.paddingBottom * <span class="hljs-number">2</span>))
  <span class="hljs-keyword">const</span> points = []
  <span class="hljs-keyword">const</span> length = <span class="hljs-built_in">this</span>.origin.y - end.y
  <span class="hljs-keyword">const</span> segmentValue = length / <span class="hljs-built_in">this</span>.yxisData.length
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-built_in">this</span>.yxisData.length; i++) &#123;
    <span class="hljs-keyword">const</span> point = <span class="hljs-keyword">new</span> Point2d(end.x, <span class="hljs-built_in">this</span>.origin.y - i * segmentValue)
    points.push(&#123;
      point,
      <span class="hljs-attr">text</span>: <span class="hljs-built_in">this</span>.yxisData[i],
    &#125;)
  &#125;
  points.forEach(<span class="hljs-function">(<span class="hljs-params">info</span>) =></span> &#123;
    <span class="hljs-keyword">const</span> &#123; text, point &#125; = info
    <span class="hljs-keyword">const</span> end = point
      .clone()
      .add(<span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.width - <span class="hljs-built_in">this</span>.paddingLeft * <span class="hljs-number">2</span>, <span class="hljs-number">0</span>))
    <span class="hljs-built_in">this</span>.setStrokeColor(<span class="hljs-string">'#E0E6F1'</span>)
    <span class="hljs-built_in">this</span>.drawLine(point, end)
    <span class="hljs-built_in">this</span>.clearStrokeColor()
    <span class="hljs-built_in">this</span>.ctx.fillText(text, point.clone().x - <span class="hljs-number">30</span>, point.y + <span class="hljs-number">4</span>, <span class="hljs-number">20</span>)
  &#125;)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å› ä¸ºè¿‡ç¨‹å’ŒXè½´ååˆ†ç›¸ä¼¼ï¼Œ æé†’ä¸€ä¸‹æè¾¹ è®¾ç½®åï¼Œè¦å°†å®ƒæ¢å¤é»˜è®¤ï¼Œä¸ç„¶ä¼šå¼•ç”¨ä¸Šä¸€ä¸ªé¢œè‰²å“¦ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5cf2d0594934f88b5990eb973e4b119~tplv-k3u1fbpfcp-watermark.image" alt="åæ ‡è½´" loading="lazy" referrerpolicy="no-referrer"></p>
<p>æ•´ä¸ªç”»å¸ƒå°±å·®æœ€åä¸€æ­¥äº†ï¼Œ ç”ŸæˆæŠ˜çº¿å›¾ï¼Œ æˆ‘ä»¬åœ¨ä¸Šé¢å·²ç»å°è£…äº†ï¼Œå¸¦åœ†çš„ç›´çº¿ï¼Œ æ‰€ä»¥åªè¦æ‰¾åˆ°æ‰€æœ‰çš„ç‚¹å»ç”»æŠ˜çº¿å›¾å°±å¥½äº†ã€‚é¦–å…ˆæ¯ä¸ªç‚¹çš„Xåæ ‡æ²¡ä»€ä¹ˆé—®é¢˜å¯¹åº”çš„å°±æ˜¯æ¯ä¸ª<strong>æ–‡å­—çš„ä¸­ç‚¹</strong>ï¼Œ ä¸»è¦æ˜¯<strong>Yè½´çš„åæ ‡</strong>ï¼š å›å¿†ä¸€ä¸‹ä¹‹å‰æˆ‘ä»¬æ˜¯æ€ä¹ˆå»è®¡ç®—Yè½´çš„åæ ‡çš„æ˜¯ï¼Œ é•¿åº¦/ é™¤ä»¥åˆ†æ®µæ•°  å»è®¡ç®—çš„ã€‚ <strong>è¿™æ ·å°±å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œå‡ºæ¥çš„ç»“æœå¯èƒ½æ˜¯ä¸€ä¸ªå°æ•°ï¼Œå› ä¸ºæˆ‘ä»¬å®é™…çš„æ•°æ® å¯èƒ½æ˜¯223 è¿™ç§è¿™æ ·å¯¼è‡´ç”»å‡ºæ¥çš„å›¾å½¢ç‚¹è¯¯å·®å¤ªå¤§ï¼Œ æ‰€ä»¥ä¸ºäº†å‡å°‘è¯¯å·®ï¼Œ æˆ‘æ¢ä¸€ä¸ªè®¡ç®—æ¨¡å¼ï¼Œå°±æ˜¯è¿›è¡Œç­‰åˆ†ï¼Œè¿™æ ·åœ¨åŒºé—´é‡Œé¢çš„ç‚¹éƒ½å¯ä»¥è¡¨è¾¾ï¼Œ è¯¯å·®å¯ä»¥ç¨å¾®å°ç‚¹ï¼Œ å…¶å®åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œ å®¹å·®é—®é¢˜æ˜¯è®¡ç®—è‚¯å®šå­˜åœ¨çš„é—®é¢˜ï¼Œjs æœ¬èº«å°±æœ‰0.1+0.2 è¿™æ ·çš„é—®é¢˜ï¼Œ æ‰€ä»¥æˆ–è€…è¯´åœ¨å®¹å·®èŒƒå›´å†…æˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¿™ä¸¤ä¸ªç‚¹æ˜¯ç­‰ä»·çš„</strong>  ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> length = <span class="hljs-built_in">this</span>.origin.y - end.y
<span class="hljs-keyword">const</span> division = length / <span class="hljs-number">300</span>
<span class="hljs-keyword">const</span> point = <span class="hljs-keyword">new</span> Point2d(end.x, <span class="hljs-built_in">this</span>.origin.y - i * division * <span class="hljs-number">50</span>)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ç„¶åæˆ‘è¿™æ—¶å€™å¼•å…¥çœŸå®çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-built_in">this</span>.realData = [<span class="hljs-number">150</span>, <span class="hljs-number">230</span>, <span class="hljs-number">224</span>, <span class="hljs-number">218</span>, <span class="hljs-number">135</span>, <span class="hljs-number">147</span>, <span class="hljs-number">260</span>]
<span class="hljs-built_in">this</span>.xPoints = []
<span class="hljs-built_in">this</span>.yPoints = []
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>åˆ†åˆ«å¯¹åº”çš„æ˜¯çœŸå®çš„æ•°æ®ï¼Œ xPointsæ˜¯ä»€ä¹ˆæ–‡å­—çš„ä¸­ç‚¹åæ ‡ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-comment">// ç”Ÿæˆæ–‡å­—</span>
<span class="hljs-built_in">this</span>.clearFillColor()
textPoints.forEach(<span class="hljs-function">(<span class="hljs-params">info</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> &#123; text, point &#125; = info
  <span class="hljs-built_in">this</span>.xPoints.push(point.x)
  <span class="hljs-built_in">this</span>.ctx.fillText(text, point.x, point.y, <span class="hljs-number">20</span>)
&#125;)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>yPointså…¶å®ä¹Ÿå°±æ¯”è¾ƒç®€å•äº†ï¼Œ çœŸå®æ•°æ® * æ¯ä¸€ä»½çš„è·ç¦»å°±å¥½äº†ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">const</span> division = length / <span class="hljs-number">300</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i < <span class="hljs-built_in">this</span>.yxisData.length; i++) &#123;
  <span class="hljs-keyword">const</span> point = <span class="hljs-keyword">new</span> Point2d(end.x, <span class="hljs-built_in">this</span>.origin.y - i * division * <span class="hljs-number">50</span>)
  <span class="hljs-comment">// åœ¨è¿™é‡Œï¼Œ è¿˜æ˜¯å¾—æ³¨æ„åæ ‡è½´çš„ä½ç½® </span>
  <span class="hljs-keyword">const</span> realData = <span class="hljs-built_in">this</span>.realData[i]
  <span class="hljs-built_in">this</span>.yPoints.push(<span class="hljs-built_in">this</span>.origin.y - realData * division)
  points.push(&#123;
    point,
    <span class="hljs-attr">text</span>: <span class="hljs-built_in">this</span>.yxisData[i],
  &#125;)
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ•°æ®å‡†å¤‡å¥½äº†ï¼Œæˆ‘ä»¬å°±å¼€å§‹è°ƒç”¨æ–¹æ³•å»ç”»æŠ˜çº¿å›¾ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> start = <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.xPoints[<span class="hljs-number">0</span>], <span class="hljs-built_in">this</span>.yPoints[<span class="hljs-number">0</span>])
<span class="hljs-comment">// ç”ŸæˆæŠ˜çº¿å›¾</span>
<span class="hljs-built_in">this</span>.setStrokeColor(<span class="hljs-string">'#5370C6'</span>)
<span class="hljs-built_in">this</span>.xPoints.slice(<span class="hljs-number">1</span>).forEach(<span class="hljs-function">(<span class="hljs-params">x, index</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> Point2d(x, <span class="hljs-built_in">this</span>.yPoints[index + <span class="hljs-number">1</span>])
  <span class="hljs-built_in">this</span>.drawLineWithCircle(start, end)
  start = end
&#125;)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™æ®µä»£ç éœ€è¦æ³¨æ„çš„æ˜¯é»˜è®¤æ‰¾ä¸€ä¸ªå¼€å§‹ç‚¹ï¼Œ ç„¶å ä¸æ–­åœ°å»æ›´æ”¹å¼€å§‹ç‚¹ï¼Œ ç„¶åæ³¨æ„ä¸‹æ ‡ä½ç½®ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b71b814bfbf4832933031793fbdd357~tplv-k3u1fbpfcp-watermark.image" alt="ç‚¹é‡å¤" loading="lazy" referrerpolicy="no-referrer"></p>
<p>ç›®å‰å­˜åœ¨çš„é—®é¢˜ï¼š</p>
<ol>
<li>å­˜åœ¨çš„åœ†ç‚¹é‡å¤</li>
<li>åœ†ç‚¹çš„åŠå¾„å¤§å°ä¸ä¸€è‡´ï¼Œè¯´æ˜æˆ‘ä»¬ä¹‹å‰è®¡ç®—åœ†å¿ƒåˆ°ç›´çº¿çš„è·ç¦» è¿™æ ·è®¾ä¸º åŠå¾„æ˜¯é”™è¯¯çš„ï¼Œ å› ä¸ºæ¯æ¡çš„çº¿çš„æ–œç‡æ˜¯ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ç®—å‡ºæ¥æ˜¯æœ‰é—®é¢˜çš„ã€‚</li>
</ol>
<p>åˆ°è¿™é‡Œæ‰“å¤§å®¶å¯ä»¥è¿™ä¹ˆå»æ€è€ƒï¼Œä¸ºä»€ä¹ˆåœ†å’Œç›´çº¿è¦æ†ç»‘åœ¨ä¸€èµ·? å•ç‹¬ç”»ä¸å°±æ²¡æœ‰è¿™æ ·çš„é—®é¢˜äº†ã€‚è¯´å¹²å°±å¹²ï¼Œ</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-keyword">let</span> start = <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.xPoints[<span class="hljs-number">0</span>], <span class="hljs-built_in">this</span>.yPoints[<span class="hljs-number">0</span>])
<span class="hljs-built_in">this</span>.drawCircle(start)
<span class="hljs-comment">// ç”ŸæˆæŠ˜çº¿å›¾</span>
<span class="hljs-built_in">this</span>.setStrokeColor(<span class="hljs-string">'#5370C6'</span>)
<span class="hljs-built_in">this</span>.xPoints.slice(<span class="hljs-number">1</span>).forEach(<span class="hljs-function">(<span class="hljs-params">x, index</span>) =></span> &#123;
  <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> Point2d(x, <span class="hljs-built_in">this</span>.yPoints[index + <span class="hljs-number">1</span>])
  <span class="hljs-comment">// ç”»åœ†</span>
  <span class="hljs-built_in">this</span>.drawCircle(end)
  <span class="hljs-comment">// ç”»ç›´çº¿</span>
  <span class="hljs-built_in">this</span>.drawLine(start, end)
  start = end
&#125;)
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™é‡Œæ³¨æ„ä¼šå°‘ä¸€ä¸ªå¼€å§‹åœ†ï¼Œæˆ‘ä»¬åœ¨å¼€å¤´çš„ç›´æ¥è¡¥ä¸Šå°±å¥½äº†ï¼Œ åœ†çš„åŠå¾„æˆ‘éƒ½ç»Ÿä¸€è®¾ç½®äº†ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c651c3885ac429e99fd05bb63209b74~tplv-k3u1fbpfcp-watermark.image" alt="æœ€ç»ˆæŠ˜çº¿å›¾" loading="lazy" referrerpolicy="no-referrer"></p>
<p>è‡³æ­¤åˆ°è¿™é‡Œï¼Œ è¿™æŠ˜çº¿å›¾å…¨éƒ¨å®Œæˆï¼Œä¸ºäº†åšçš„æ›´å®Œç¾ä¸€ç‚¹ï¼Œæˆ‘è¿˜æ˜¯å¢åŠ çš„æç¤ºå’Œè™šçº¿ã€‚</p>
<h1 data-id="heading-7">æ˜¾ç¤ºtooltip</h1>
<p>è¿™é‡Œæˆ‘çœ‹å¤§å¤šæ•°å›¾è¡¨éƒ½åœ¨é¼ æ ‡ç§»åŠ¨çš„æ—¶å€™éƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªè™šçº¿å’Œæç¤ºï¼Œä¸ç„¶æˆ‘æ€ä¹ˆæ¸…é™¤çš„çœ‹æ•°æ®å¯¹å§ã€‚ æˆ‘ä»¬è¿˜æ˜¯åˆå§‹åŒ–ä¸€ä¸ªdivå°†å®ƒçš„æ ·å¼è®¾ç½®ä¸ºéšè—ã€‚</p>
<pre><code class="hljs language-css copyable" lang="css"><span class="hljs-selector-id">#tooltip</span> &#123;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>;
  <span class="hljs-attribute">background</span>: white;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">visibility</span>: hidden;
&#125;

<<span class="hljs-selector-tag">div</span> id="tooltip"></<span class="hljs-selector-tag">div</span>>

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>ä¸ºcanvas å¢åŠ ç›‘å¬äº‹ä»¶ï¼š</p>
<pre><code class="copyable">canvas.addEventListener('mousemove', this.onMouseMove.bind(this))
// è¿™é‡Œå–ç›¸å¯¹äºç”»å¸ƒåŸç‚¹çš„ä½ç½® offset 
onMouseMove(e) &#123;
  const x = e.offsetX
  const y = e.offsetY
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å…¶å®æˆ‘ä»¬è¦åšçš„äº‹æƒ…éå¸¸ç®€å•é¦–å…ˆæˆ‘ä»¬å°±æ˜¯å»æ¯”è¾ƒé¼ æ ‡çš„ç‚¹ å’Œ å®é™…çš„ç‚¹åœ¨æŸä¸ªèŒƒå›´å†…æˆ‘å°±æ˜¾ç¤ºï¼Œç±»ä¼¼äºå¸é™„ï¼Œ ä»ç”¨æˆ·çš„è§’åº¦ä¸å¯èƒ½å®Œå…¨ç§»åŠ¨åˆ°é‚£é‡Œæ‰æ˜¾ç¤ºã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">onMouseMove</span>(<span class="hljs-params">e</span>)</span> &#123;
  <span class="hljs-keyword">const</span> x = e.offsetX
  <span class="hljs-keyword">const</span> find = <span class="hljs-built_in">this</span>.xPoints.findIndex(
    <span class="hljs-function">(<span class="hljs-params">item</span>) =></span> <span class="hljs-built_in">Math</span>.abs(x - item) <= <span class="hljs-built_in">this</span>.tolerance
  )
  <span class="hljs-keyword">if</span> (find > -<span class="hljs-number">1</span>) &#123;
    <span class="hljs-built_in">this</span>.tooltip.textContent = <span class="hljs-string">`æ•°æ®ï¼š<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.axisData[find]&#125;</span>_ <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.yxisData[find]&#125;</span>`</span>
    <span class="hljs-built_in">this</span>.tooltip.style.visibility = <span class="hljs-string">'visible'</span>
    <span class="hljs-built_in">this</span>.tooltip.style.left = e.clientX + <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
    <span class="hljs-built_in">this</span>.tooltip.style.top = e.clientY + <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
  &#125; <span class="hljs-keyword">else</span> &#123;
    <span class="hljs-built_in">this</span>.tooltip.style.visibility = <span class="hljs-string">'hidden'</span>
  &#125;
&#125;

<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è¿™é‡Œå…¶å®åªè¦æ¯”è¾ƒxçš„ä½ç½®å°±å¥½äº†,å®¹å·®å¯ä»¥è‡ªå®šä¹‰è®¾ç½®ã€‚</p>
<h2 data-id="heading-8">ç”»å‚ç›´çš„è™šçº¿</h2>
<p>æˆ‘çœ‹äº†å¾ˆå¤šå›¾è¡¨ä»–ä»¬éƒ½æœ‰å‚ç›´çš„è™šçº¿ï¼Œè¿™é‡Œå°±æ¶‰åŠåˆ°ä¸€ä¸ªé—®é¢˜canvas å¦‚ä½•ç”»è™šçº¿ï¼Œ æˆ‘åœ¨<a href="https://juejin.cn/post/6977010020428808228" target="_blank" title="https://juejin.cn/post/6977010020428808228">ç”¨canvas å®ç°çŸ©å½¢çš„ç§»åŠ¨ï¼ˆç‚¹ã€çº¿ã€é¢ï¼‰ï¼ˆ1ï¼‰</a>è¿™ç¯‡æ–‡ç« æœ‰ä»‹ç»ï¼Œ æˆ‘å°±ç›´æ¥æ‹¿è¿‡æ¥ï¼Œä¸è¿‡å¤šè§£é‡Šäº†ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹ä¸‹è¿™ç¯‡æ–‡ç« ã€‚ ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">drawDashLine</span>(<span class="hljs-params">start, end</span>)</span> &#123;
  <span class="hljs-keyword">if</span> (!start || !end) &#123;
    <span class="hljs-keyword">return</span>
  &#125;
  <span class="hljs-built_in">this</span>.ctx.setLineDash([<span class="hljs-number">5</span>, <span class="hljs-number">10</span>])
  <span class="hljs-built_in">this</span>.beginPath()
  <span class="hljs-built_in">this</span>.moveTo(start.x, start.y)
  <span class="hljs-built_in">this</span>.lineTo(end.x, end.y)
  ctx.stroke()
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æˆ‘ä»¬å¯¹onMouseMove å†ä¸€æ¬¡è¿›è¡Œæ”¹é€ ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">onMouseMove</span>(<span class="hljs-params">e</span>)</span> &#123;
  <span class="hljs-keyword">const</span> x = e.offsetX
  <span class="hljs-keyword">const</span> find = <span class="hljs-built_in">this</span>.xPoints.findIndex(
    <span class="hljs-function">(<span class="hljs-params">item</span>) =></span> <span class="hljs-built_in">Math</span>.abs(x - item) <= <span class="hljs-built_in">this</span>.tolerance
  )
  <span class="hljs-keyword">if</span> (find > -<span class="hljs-number">1</span>) &#123;
    <span class="hljs-built_in">this</span>.tooltip.textContent = <span class="hljs-string">`æ•°æ®ï¼š<span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.axisData[find]&#125;</span>_ <span class="hljs-subst">$&#123;<span class="hljs-built_in">this</span>.yxisData[find]&#125;</span>`</span>
    <span class="hljs-built_in">this</span>.tooltip.style.visibility = <span class="hljs-string">'visible'</span>
    <span class="hljs-built_in">this</span>.tooltip.style.left = e.clientX + <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
    <span class="hljs-built_in">this</span>.tooltip.style.top = e.clientY + <span class="hljs-number">2</span> + <span class="hljs-string">'px'</span>
    <span class="hljs-comment">// ç”»è™šçº¿</span>
    <span class="hljs-keyword">const</span> start = <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.xPoints[find], <span class="hljs-built_in">this</span>.origin.y)
    <span class="hljs-keyword">const</span> end = <span class="hljs-keyword">new</span> Point2d(<span class="hljs-built_in">this</span>.xPoints[find], <span class="hljs-number">0</span>)
    <span class="hljs-built_in">this</span>.drawDashLine(start, end)
  &#125; <span class="hljs-keyword">else</span> &#123;
    <span class="hljs-built_in">this</span>.tooltip.style.visibility = <span class="hljs-string">'hidden'</span>
  &#125;
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>å¢åŠ äº†ä»¥ä¸‹ä»£ç ï¼Œ ä½†æ˜¯è¿™æ ·æ˜¯æœ‰é—®é¢˜çš„ï¼Œå°±æ˜¯æˆ‘ä»¬é¼ æ ‡ä¸åœçš„ç§»åŠ¨ï¼Œ æ‰€ä»¥ä¸Šä¸€æ¬¡ç»˜åˆ¶çš„è™šçº¿ä¸ä¼šå–æ¶ˆã€‚ä¼šå‡ºç°ä¸‹é¢è¿™ç§æƒ…å†µï¼š</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c391931d4d5408f9e3b3bf6e62168e6~tplv-k3u1fbpfcp-watermark.image" alt="è™šçº¿å›¾" loading="lazy" referrerpolicy="no-referrer"></p>
<p>æ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªæ•°æ®æ¸…é™¤åŒæ—¶æ¸…é™¤ç”»å¸ƒä¸Šçš„ä¸œè¥¿é‡æ–°ç”»ï¼š</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">clearData</span>(<span class="hljs-params"></span>)</span> &#123;
  <span class="hljs-built_in">this</span>.ctx.clearRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">600</span>, <span class="hljs-number">600</span>)
  <span class="hljs-built_in">this</span>.xPoints = []
  <span class="hljs-built_in">this</span>.yPoints = []
&#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>æ•´ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="copyable">const start = new Point2d(this.xPoints[find], this.origin.y)
const end = new Point2d(this.xPoints[find], 0)
// æ¸…é™¤æ•°æ®
this.clearData()
this.drawDashLine(start, end)
// è™šçº¿æ ·å¼ä¹Ÿè¦æ¯æ¬¡æ¸…é™¤ ä¸ç„¶ä¼šå½±å“ä¸‹é¢çš„ç”»çš„æ ·å¼
this.ctx.setLineDash([])
this.addxAxis()
this.addyAxis()
this.setStrokeColor('#5370C6')
this.generateLineChart()
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<h2 data-id="heading-9">restoreå’Œsaveçš„å¦™ç”¨</h2>
<p>å†ç»™å‡ºä¸€ä¸ªå°æŠ€å·§**ï¼Œ å…¶å®canvas ä¸­ ç”»å›¾å¦‚æœæŸæ¬¡çš„æ ·åªæƒ³åœ¨æŸä¸€ä¸ªç»˜åˆ¶ä¸­èµ·ä½œç”¨ï¼šæœ‰save å’Œ restoreæ–¹æ³•</p>
<p>ä½¿ç”¨ <code>save()</code> æ–¹æ³•ä¿å­˜å½“å‰çš„çŠ¶æ€ï¼Œä½¿ç”¨ <code>restore()</code> è¿›è¡Œæ¢å¤æˆä¸€å¼€å§‹çš„æ ·å­</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡æ–°æ”¹å†™ä¸‹ç”»è™šçº¿çš„æ–¹æ³•ï¼Œåœ¨ä¸€å¼€å§‹çš„æ—¶å€™svae ä¸€ä¸‹ï¼Œ ç„¶åç»“æŸåœ¨ restore ï¼Œ æœ‰ç‚¹åƒæ ˆçš„æ„Ÿè§‰ï¼Œå…ˆè¿›å»ï¼Œç„¶åç”»ç»“æŸï¼Œå¼¹å‡ºæ¥ã€‚ æ¯ä¸€é¡¹éƒ½æœ‰è‡ªå·±çš„ç‹¬ç‰¹çš„ç”»å›¾çŠ¶æ€ï¼Œä¸å½±å“å…¶ä»–é¡¹ã€‚</p>
<pre><code class="hljs language-js copyable" lang="js"><span class="hljs-function"><span class="hljs-title">drawDashLine</span>(<span class="hljs-params">start, end</span>)</span> &#123;
    <span class="hljs-keyword">if</span> (!start || !end) &#123;
      <span class="hljs-keyword">return</span>
    &#125;
    <span class="hljs-built_in">this</span>.ctx.save()
    <span class="hljs-built_in">this</span>.ctx.setLineDash([<span class="hljs-number">5</span>, <span class="hljs-number">10</span>])
    <span class="hljs-built_in">this</span>.beginPath()
    <span class="hljs-built_in">this</span>.moveTo(start.x, start.y)
    <span class="hljs-built_in">this</span>.lineTo(end.x, end.y)
    <span class="hljs-built_in">this</span>.stroke()
    <span class="hljs-built_in">this</span>.ctx.restore()
  &#125;
<span class="copy-code-btn">å¤åˆ¶ä»£ç </span></code></pre>
<p>è‡³æ­¤æ•´ä¸ªæŠ˜çº¿å›¾æˆ‘æƒ³ç»™å¤§å®¶è®²è§£çš„å·²ç»ç»“æŸäº†ï¼Œæˆ‘ä»¬çœ‹ä¸‹æ•ˆæœå§ï¼š</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4cd848c2488a4b2bab00cd7669bc7500~tplv-k3u1fbpfcp-watermark.image" alt="æŠ˜çº¿å›¾æœ€ç»ˆç»“æœ.gif" loading="lazy" referrerpolicy="no-referrer"></p>
<h1 data-id="heading-10">æœ€å</h1>
<p>æœ¬ç¯‡æ–‡ç« ç®—æ˜¯canvaså®ç°å¯è§†åŒ–å›¾è¡¨çš„ç¬¬ä¸€ç¯‡å§ï¼Œåé¢æˆ‘ä¼šæŒç»­åˆ†äº«ã€é¥¼å›¾ã€æ ‘çŠ¶å›¾ã€Kçº¿å›¾ç­‰ç­‰å„ç§å¯è§†åŒ–å›¾è¡¨ï¼Œæˆ‘è‡ª</p>
<p>å·±åœ¨å†™æ–‡ç« çš„åŒæ—¶ä¹Ÿåœ¨ä¸æ–­åœ°æ€è€ƒï¼Œæ€ä¹ˆå»è¡¨è¾¾çš„æ›´å¥½ã€‚å¦‚æœä½ å¯¹å¯è§†åŒ–æ„Ÿå…´è¶£ï¼Œç‚¹èµæ”¶è—å…³æ³¨ğŸ‘å§ï¼ï¼Œå¯ä»¥å…³æ³¨æˆ‘ä¸‹</p>
<p>é¢çš„<strong>æ•°æ®å¯è§†åŒ–ä¸“æ </strong>ï¼Œ æ¯å‘¨åˆ†äº«ä¸€ç¯‡ æ–‡ç« ï¼Œ è¦ä¹ˆæ˜¯2dã€è¦ä¹ˆæ˜¯three.jsçš„ã€‚æˆ‘ä¼šç”¨å¿ƒåˆ›ä½œæ¯ä¸€ç¯‡æ–‡ç« ï¼Œç»ä¸æ°´æ–‡ã€‚</p>
<p>æœ€åä¸€å¥è¯ï¼š å¤§å®¶å’Œæˆ‘ä¸€èµ·åšä¸€ä¸ªApiçš„åˆ›é€ è€…è€Œä¸æ˜¯è°ƒç”¨è€…ï¼</p>
<h1 data-id="heading-11">æºç ä¸‹è½½</h1>
<p>æœ¬ç¯‡æ–‡ç« ä¾‹å­çš„æ‰€æœ‰ä»£ç éƒ½åœ¨æˆ‘çš„<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fwzf1997%2Fblog" target="_blank" rel="nofollow noopener noreferrer" title="https://github.com/wzf1997/blog" ref="nofollow noopener noreferrer">github</a>ä¸Šï¼Œæ¬¢è¿starâ˜†ğŸ˜¯ï¼ å¦‚æœä½ å¯¹å›¾å½¢æ„Ÿå…´è¶£ï¼Œå¯ä»¥å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€å‰ç«¯å›¾å½¢ã€‘ï¼Œ<strong>é¢†å–å¯è§†åŒ–å­¦ä¹ èµ„æ–™å“¦</strong>ï¼ï¼æˆ‘ä»¬ä¸‹æœŸå†è§ğŸ‘‹</p></div>  
</div>
            