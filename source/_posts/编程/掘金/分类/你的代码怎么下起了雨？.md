
---
title: '你的代码怎么下起了雨？'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04cbbcfd74f4af48fe27fe36e7e7993~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?'
author: 掘金
comments: false
date: Sat, 17 Sep 2022 01:54:04 GMT
thumbnail: 'https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04cbbcfd74f4af48fe27fe36e7e7993~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?'
---

<div>   
<div class="markdown-body cache"><style>.markdown-body&#123;color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px&#125;.markdown-body ::selection&#123;color:#fff;background-color:#a862ea&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;margin:24px 0 12px;color:#a862ea&#125;.markdown-body h1&#123;line-height:2;font-size:1.4em&#125;.markdown-body h1~p:first-of-type:first-letter&#123;color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder&#125;.markdown-body h2&#123;font-size:1.2em&#125;.markdown-body h3&#123;font-size:1.1em&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:2em&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;padding-left:.2em&#125;.markdown-body ol li::marker,.markdown-body ul li::marker&#123;color:#a862ea&#125;.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item&#123;list-style:none&#125;.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:10px&#125;.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p&#123;opacity:.85;vertical-align:baseline;transition:all .1s ease&#125;.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover&#123;opacity:1&#125;.markdown-body a&#123;display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative&#125;.markdown-body a:after&#123;content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out&#125;.markdown-body a:hover:after&#123;transform:scaleX(1);transform-origin:bottom left&#125;.markdown-body a:active,.markdown-body a:link&#123;color:#a862ea&#125;.markdown-body img&#123;max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff&#125;.markdown-body img:hover&#123;opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)&#125;.markdown-body blockquote&#123;padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff&#125;.markdown-body blockquote>p&#123;margin:0&#125;.markdown-body .math&#123;font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff&#125;.markdown-body .math>p&#123;margin:0&#125;.markdown-body code&#123;padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff&#125;.markdown-body pre&#123;margin:2em 0&#125;.markdown-body pre>code&#123;display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff&#125;.markdown-body pre>code:hover&#123;box-shadow:0 0 20px #e7daff&#125;.markdown-body pre>code::-webkit-scrollbar&#123;height:6px;background-color:#f8f5ff&#125;.markdown-body pre>code::-webkit-scrollbar-thumb&#123;background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px&#125;.markdown-body hr&#123;margin:2em 0;border-top:1px solid #a862ea&#125;.markdown-body table&#123;width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse&#125;.markdown-body thead&#123;color:#a862ea;background:#f8f5ff&#125;.markdown-body td,.markdown-body th&#123;padding:.5em;border:1px solid #e7daff&#125;.markdown-body tr&#123;background-color:#f8f5ff&#125;@media (max-width:720px)&#123;.markdown-body&#123;font-size:12px&#125;&#125;</style><p>“我正在参加「码上掘金挑战赛」详情请看：<a href="https://juejin.cn/post/7139728821862793223" title="https://juejin.cn/post/7139728821862793223" target="_blank">码上掘金挑战赛来了！</a>”</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e04cbbcfd74f4af48fe27fe36e7e7993~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="11111.gif" loading="lazy" referrerpolicy="no-referrer"></p>
<p>大多数的程序员都会有一个自己的个人网站，我们想要在自己的网站下面去刻画一个酷炫的背景，我们可能会使用一些炫酷的图片，或者叠加一个视频背景，亦或是通过<strong>css3</strong> 来进行手动绘制，这些方案都各有利弊，在出现<strong>canvas</strong>之后，我们出现了一种新的可能，我们可以通过<strong>canvas</strong>绘制一些非常炫酷的背景，有意思的是，我们还可以通过鼠标或者键盘事件与其交互，这样，我们就拥有了一种绘制动态背景的能力。</p>
<h3 data-id="heading-0">什么是canvas</h3>
<p>其实它是<strong>Html5</strong>新增的一个标签，翻译过来就是画布的意思，他就是一张画布，需要开发者们手动绘制，我们如何绘制呢？很明显作为一个标签能力有限，我们需要使用<strong>javascript</strong>对其进行加工绘制，所以我们很好理解了，<strong>canvas</strong>是纸，而<strong>JavaScript</strong>是笔，通过两者的合作才能完成绘制工作。</p>
<p>我们平常用的网页截图、H5游戏、前端动效、可视化图表...,都有canvas 的应用场景，所以其功能是特别强大的，同时其大量的工作都是在GPU当中进行，一般来说性能是很高的，在我们去做一些对性能要求更高的场景下，是一种不错的选择，当然，本次我们不是为了来讲解<strong>canvas</strong>，这里就不做过多的讲解，接下来我们来进入实战。</p>
<h3 data-id="heading-1">实战</h3>
<p>完整的代码已经放在文章末尾，可以通过码上掘金直接观看，我们来细聊一下其实现思路和过程，逐步拆解出来，看完相信你也可以轻松绘制出这样的一个效果。</p>
<h4 data-id="heading-2">1. 基础准备工作</h4>
<ol>
<li>
<p>当然最基础的是我们需要一个canvas标签了，所以第一步需要创建一个标签并且给绑定一个<strong>id</strong>属性方便<strong>JavaScript</strong>获取到他</p>
</li>
<li>
<p>有了标签之后，我们需要干嘛呢，总结下来是这几部，获取<strong>canvas</strong>节点，获取窗口的宽高，给<strong>canvas</strong>设置宽高，同时拿到其绘制的上下文对象，我们要操作他需要调用其中的各种api方法。</p>
<pre><code class="hljs language-arduino copyable" lang="arduino"><span class="hljs-comment">/* 1.获取节点 */</span>
<span class="hljs-type">const</span> canvs =  document.<span class="hljs-built_in">getElementById</span>(<span class="hljs-string">'app'</span>)
<span class="hljs-comment">/*  2.设置canvas的宽高 */</span>
(&#123; innerWidth: cvs.width, innerHeight: cvs.height &#125; = window);
<span class="hljs-comment">/* 3.获取canvans绘制上下文对象 */</span>
<span class="hljs-type">const</span> ctx = cvs.<span class="hljs-built_in">getContext</span>(<span class="hljs-string">'2d'</span>);
<span class="copy-code-btn">复制代码</span></code></pre>
</li>
<li>
<p>其次我们是渲染不同的文字，所以我们定义一下我们需要渲染哪些文字，同时，每次渲染的时候，随机获取一个，所以，我们写一个方法，用于每次随机拿到一个文字。</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">/* 4. 准备一个获取随机文字方法 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomChar</span>(<span class="hljs-params"></span>)&#123;
 <span class="hljs-keyword">const</span> str = <span class="hljs-string">'码上掘金永远滴神YYDS'</span>
 <span class="hljs-keyword">return</span> str[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * str.<span class="hljs-property">length</span>)]
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
</li>
<li>
<p>我们希望每次绘制的文字颜色也是不同的颜色，所以我们需要准备一个获取随机颜色的方法，相信这里都是很简单的。</p>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">/* 5.准备一个获取随机颜色的方法 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getRandomColor</span>(<span class="hljs-params"></span>) &#123;
 <span class="hljs-keyword">const</span> colors = [
   <span class="hljs-string">'#33B5E5'</span>,
   <span class="hljs-string">'#0099CC'</span>,
   <span class="hljs-string">'#AA66CC'</span>,
   <span class="hljs-string">'#9933CC'</span>,
   <span class="hljs-string">'#669900'</span>,
   <span class="hljs-string">'#FFBB33'</span>,
   <span class="hljs-string">'#FF8800'</span>,
   <span class="hljs-string">'#FF4444'</span>,
   <span class="hljs-string">'#CC0000'</span>
 ]
 <span class="hljs-keyword">return</span> colors[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * colors.<span class="hljs-property">length</span>)]
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>有了这些准备工作，下面进入核心的绘制过程，我们继续</p>
</li>
</ol>
<h4 data-id="heading-3">2.绘制过程</h4>
<p>有了前面的步骤，我们已经有了基础的一些工具方法准备了，下面我们来开始绘制，在此之前我们需要对其稍微思考一下我们应该怎么做，下面看看这张简单图来理解，我们如果下实现这样的一个效果，我们最基础的是需要啥样的。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d80ca94c5a6d46e598390317e707d265~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="001.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ol>
<li>我们能想到的是基础场景下，我们一行可能就需要这么多，要实现上面的效果，只需要铺满屏幕并且让他们的y点的顺序不同即可，那么对于基础的这几列，我们需要哪些东西呢，首先我们得自己定义一列需要多宽的距离，其次就可以通过窗口的宽度/一列宽知道我们最多可以一行放多少列了，其次我们需要知道每一列的（x,y）点的坐标，因为我们的绘制是整个窗口，坐标从左上角（0，0）开始计算，很明显第一行的情况下，所有的y坐标是怎么计算的呢，第一列的y就是一个字体高度，第二列就是两个以此类推， 但是x的坐标也很简单，就是一列的宽度*你是第几列即可，我们就轻松算出了第一列的（x,y），接下来我们就让第一列绘制出来，代码中我们会有详细的注释。</li>
</ol>
<pre><code class="hljs language-ini copyable" lang="ini">/* 6. 设置一列宽度并计算一行需要多少列 */
const <span class="hljs-attr">columnWidth</span> = <span class="hljs-number">30</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">columnCount</span> = Math.floor(window.innerWidth / columnWidth)
<span class="copy-code-btn">复制代码</span></code></pre>
<ol start="2">
<li>我们定义一列为30，同时计算出了一列可以最多<strong>columnCoun</strong>列，所以我们开始绘制，只需要循环<strong>columnCoun</strong>次就可以画出一整排的字了，同时这里我们确定他的（x,y）坐标，下面开始绘制第一行：</li>
</ol>
<pre><code class="hljs language-ini copyable" lang="ini">/* 7.开始绘制 */
function draw()&#123;
    /* 定义一下字体大小， 同时y坐标每行的所需高度就是字体大小的高度 */
  const <span class="hljs-attr">fontsize</span> = <span class="hljs-number">16</span><span class="hljs-comment">;</span>
    /* 获取一个随机颜色用于字体绘制 */
  <span class="hljs-attr">ctx.fillStyle</span> = getRandomColor()<span class="hljs-comment">;</span>
    /* 设置字体格式和字体大小，这个随意自己设置 */
  <span class="hljs-attr">ctx.font</span> = `<span class="hljs-variable">$&#123;fontsize&#125;</span>px <span class="hljs-string">"Microsoft YaHei"</span>`<span class="hljs-comment">;</span>
    /* 循环列数次，同时每次计算出xy的坐标，因为是第一行所以y默认就是 1 * 字体高度 */
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i < columnCount; i++) &#123;</span>
    const <span class="hljs-attr">x</span> = i * columnWidth<span class="hljs-comment">;</span>
    const <span class="hljs-attr">y</span> = <span class="hljs-number">1</span> * fontsize
        /* 绘制 三个参数分别是 字符  x坐标 y坐标 */
    ctx.fillText(getRandomChar(), x, y)
  &#125;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>当我们完成这个方法之后，我们只需要调用这个方法就可以绘制出一行文字了，例如下图：</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/abadcdacebca4a7395a466c5b338bb98~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="002.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ol start="3">
<li>我们可以多调用几次，发现每次都在第一行会重叠，为什么会这样呢，很简单，因为我们y轴根本没变过啊，所以重复调用不就覆盖了么，所以我们希望，每次调用之后改变这个y坐标，所以我们需要定义一个变量记录其当前绘制处于第几行，但是很明显这个操作应该在绘制前完成，所以这一步我们需要添加在第一步之前，其二，如果我们都是用同一个数字统一y那么无论多少次绘制，这么多列始终都是在同一高度，所以我们需要对其进行分别统计，那么我们定义一个数组，用于统计每一行的y绘制的行数计算，初始值，我们都默认为1，在第一行，所以我们只需要定义一个<strong>columnCoun</strong>长度且默认值为1的数组就可以记录所有值了，后续绘制的过程中改变这个数组的[index]即可分别控制不同列直接的高低差异了：</li>
</ol>
<pre><code class="hljs language-javascript copyable" lang="javascript"><span class="hljs-comment">/* 6.5 定义一个变量记录所有y轴的绘制次数记录 并让其默认值为1 */</span>
<span class="hljs-keyword">const</span> columnNextIndexs = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(columnCount).<span class="hljs-title function_">fill</span>(<span class="hljs-number">1</span>)
<span class="copy-code-btn">复制代码</span></code></pre>
<ol start="4">
<li>有了这个变量记录之后，每次绘制完成之后我们让其+1,就可以不断改变y的高度了，那么我们来改变draw绘制方法，为了方便大家比较，我只对修改的地方进行注释，更好理解：</li>
</ol>
<pre><code class="hljs language-ini copyable" lang="ini">function draw()&#123;
  const <span class="hljs-attr">fontsize</span> = <span class="hljs-number">16</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">ctx.fillStyle</span> = getRandomColor()<span class="hljs-comment">;</span>
  <span class="hljs-attr">ctx.font</span> = `<span class="hljs-variable">$&#123;fontsize&#125;</span>px <span class="hljs-string">"Microsoft YaHei"</span>`<span class="hljs-comment">;</span>
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i < columnCount; i++) &#123;</span>
    const <span class="hljs-attr">x</span> = i * columnWidth<span class="hljs-comment">;</span>
    /* 每次从记录中拿到y的绘制次数 */
    const <span class="hljs-attr">y</span> = columnNextIndexs[i] * fontsize
    ctx.fillText(getRandomChar(), x, y)
    /* 每次绘制之后++ */
    columnNextIndexs<span class="hljs-section">[i]</span>++
  &#125;
&#125;

setInterval(()=> draw()&#125;,40)
<span class="copy-code-btn">复制代码</span></code></pre>
<ol start="5">
<li>这样我们重复调用多次，或者自己写个定时器一秒调用一次drwa函数即可实现按顺序绘制多列：最终达到下图的效果</li>
</ol>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a2ff1fdbf11e4eedabf21a73aed1e79f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="003.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ol start="6">
<li>我们现在就可以实现绘制多列了，但是发现，这个到底部之后他回不到开头了，他依然一直向下执行，那么很明显，我们需要判断当这个y坐标的高度大于窗口高度的时候，我们就需要让，columnNextIndexs的当前这列回到初始值1，那么他又从上开始渲染了，所以我们加上判断：</li>
</ol>
<pre><code class="hljs language-scss copyable" lang="scss"><span class="hljs-built_in">if</span>(y > window.innerHeight)&#123;
    columnNextIndexs<span class="hljs-selector-attr">[i]</span> = <span class="hljs-number">1</span>
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<ol start="7">
<li>添加完判断之后，我们就可以每次触底之后就继续回到顶部，但是现在我们发现，回到顶部之后我们会覆盖上次的文字，并不能如文章开头的样子，可以让绘制的文字随后消失掉，要想让绘制的文字消失掉我们可以怎么做呢,我们可以通过对ctx设置一个半透明的背景色，并且对屏幕进行填充，这样每次往后的时候，前面的字就会越来越透明，把下面两行代码放在drwa的最开始就可以实现这个效果了，</li>
</ol>
<pre><code class="hljs language-ini copyable" lang="ini"><span class="hljs-attr">ctx.fillStyle</span> = `rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>)`<span class="hljs-comment">;</span>
ctx.fillRect(0, 0, window.innerWidth, window.innerHeight)
<span class="copy-code-btn">复制代码</span></code></pre>
<p>当设置完之后我们就拥有了这样的一个效果了</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23e1ec9cfb484d73a72c61ea1227acdc~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="004.png" loading="lazy" referrerpolicy="no-referrer"></p>
<ol start="8">
<li>和我们开始的效果貌似只差最后一步了，只需要改变不同列之间高度差异即可，要改变这个差值，我们只需要让columnNextIndexs中每一项的值发生改变，让他们不是同一个值既可以发生高度差，怎么改变呢，我们之前都是在绘制完成后++，那们我们只需要让他们在到达底部的时候，添加一个判断当他触底并且<strong>Math.random() > 0.9</strong>的时候，我们再让他回到顶部，由于随机数的不确定性，当他触底之后，不同列之间回到顶部的时间就不同了，就达到了我们最开始的效果了，我们看看具体实现</li>
</ol>
<pre><code class="hljs language-ini copyable" lang="ini">/* 7.开始绘制 */
function draw()&#123;
    <span class="hljs-attr">ctx.fillStyle</span> = `rgba(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>)`<span class="hljs-comment">;</span>
  ctx.fillRect(0, 0, window.innerWidth, window.innerHeight)
  const <span class="hljs-attr">fontsize</span> = <span class="hljs-number">16</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">ctx.fillStyle</span> = getRandomColor()<span class="hljs-comment">;</span>
  <span class="hljs-attr">ctx.font</span> = `<span class="hljs-variable">$&#123;fontsize&#125;</span>px <span class="hljs-string">"Microsoft YaHei"</span>`<span class="hljs-comment">;</span>
  for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i < columnCount; i++) &#123;</span>
    const <span class="hljs-attr">x</span> = i * columnWidth<span class="hljs-comment">;</span>
    const <span class="hljs-attr">y</span> = columnNextIndexs[i] * fontsize
        /* 只需要加上这一个判断就可以让不同列之间随机回到顶部造成高度差异 */
        if(y > window.innerHeight && Math.random() > .9) return columnNextIndexs<span class="hljs-section">[i]</span> = 1
        ctx.fillText(getRandomChar(), x, y)
        columnNextIndexs<span class="hljs-section">[i]</span>++
  &#125;
&#125;
<span class="copy-code-btn">复制代码</span></code></pre>
<p>至此，代码雨的效果及其实现思路已经完成了，按着这样的思路还可以完成很多好玩的好看的东西，你也可以自己调整文字的内容，文字的大小，文字的间隔，文字的背景，等等东西对其进行改变，最终就可以实现一个自己的特殊背景图了，把它放在你的网站做背景图是不是很炫酷呢？最后别忘了你需要使用<strong>setInterval</strong>不停的调用<strong>draw()</strong> 方法,当然速度也由你控制。</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c943cca57e9745d082fafb83ab0a9ca3~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp?" alt="005.png" loading="lazy" referrerpolicy="no-referrer"></p>
<h3 data-id="heading-4">扩展点小功能</h3>
<p>为了让这个<strong>Demo</strong>更好玩，我为其增加了一点点交互，我们可以在<strong>码上掘金</strong>上进行体验，我们说说其实现思路即可：</p>
<h4 data-id="heading-5">添加实时自定义代码雨下雨内容</h4>
<p>首先我们绘制的文字是由我们自己提供的一段字符串，我们在其中放置一个<strong>input框</strong>让后通过修改其内容，就可以实现实时修改代码雨下雨的内容了，因为每次绘制前都会去调用随机读取文字，所以我们只需要改变下读取文字内容就可以在下一次读取的时候从我们输入的新的内容中获取了</p>
<h4 data-id="heading-6">让文字进行有序排列</h4>
<p>我们默认是无序排列的，因为获取文字的时候是随机的，但是看到我们的封面图发现其实我们是有序的，我们如何实现这个功能呢， 那么很明显我们需要在获取文字的时候，按顺序返回文字，但是呢，不同列之间是顺序不同的，我们需要参考最开始对不同列高度差异之间的形式，定义一个数组记录所有列当前的绘制次数，从而按顺序拿到文字，就可以让其看起来更有意思了</p>
<p>更多好玩的东西可以自己思考....</p>
<h3 data-id="heading-7">在线体验</h3>
<p>结合以上所有内容，这里提供完整版的代码，大家快来体验吧</p>
<p><span href="https://code.juejin.cn/pen/7144016493138608160" target="_blank" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7144016493138608160" data-src="https://code.juejin.cn/pen/7144016493138608160" style="display: none" loading="lazy"></iframe></span></p></div>  
</div>
            