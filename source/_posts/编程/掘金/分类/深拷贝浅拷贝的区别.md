
---
title: '深拷贝浅拷贝的区别'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://picsum.photos/400/300?random=116'
author: 掘金
comments: false
date: Sun, 11 Jul 2021 08:13:50 GMT
thumbnail: 'https://picsum.photos/400/300?random=116'
---

<div>   
<div class="markdown-body"><style>.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333&#125;.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6&#123;line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px&#125;.markdown-body h1&#123;font-size:30px;margin-bottom:5px&#125;.markdown-body h2&#123;padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h3&#123;font-size:18px;padding-bottom:0&#125;.markdown-body h4&#123;font-size:16px&#125;.markdown-body h5&#123;font-size:15px&#125;.markdown-body h6&#123;margin-top:5px&#125;.markdown-body p&#123;line-height:inherit;margin-top:22px;margin-bottom:22px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px&#125;.markdown-body code&#123;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8&#125;.markdown-body a&#123;text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff&#125;.markdown-body a:active,.markdown-body a:hover&#123;color:#275b8c&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6&#125;.markdown-body thead&#123;background:#f6f6f6;color:#000;text-align:left&#125;.markdown-body tr:nth-child(2n)&#123;background-color:#fcfcfc&#125;.markdown-body td,.markdown-body th&#123;padding:12px 7px;line-height:24px&#125;.markdown-body td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:3px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body .contains-task-list&#123;padding-left:0&#125;.markdown-body .task-list-item&#123;list-style:none&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><h2 data-id="heading-0">一.浅拷贝</h2>
<h4 data-id="heading-1">浅拷贝指的是创建新的数据，这个数据有着原始数据属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值。如果属性是引用类型，拷贝的就是内存地址。</h4>
<h4 data-id="heading-2">在js中，浅拷贝的方法有以下几种：<br></h4>
<p>Object.assign</p>
<pre><code class="copyable">var obj=&#123;
    age:18,
    names:&#123;
      name1:'lixi',
      name2:'xixi'
   &#125;,
   hobby:['sing','shopping']
&#125;
var newObj = Object.assign(&#123;&#125;,fxObj)
<span class="copy-code-btn">复制代码</span></code></pre>
<p>slice()</p>
<pre><code class="copyable">  const fxArr = ['One','Two','Three']
  const fxArrs = fxArr.slice(0)
  fxArrs[1] = 'love'
  console.log(fxArr)  // ['One','Two','Three']
  console.log(fxArrs)  //['One','love','Three']
<span class="copy-code-btn">复制代码</span></code></pre>
<p>concat()</p>
<pre><code class="copyable">  const fxArr = ['One','Two','Three']
  const fxArrs = fxArr.concat()
  fxArrs[1] = 'love';
  console.log(fxArr) // ['One', 'Two', 'Three']
  console.log(fxArrs) // ['One', 'love', 'Three']
<span class="copy-code-btn">复制代码</span></code></pre>
<p>拓展运算符</p>
<pre><code class="copyable">    const fxArr = ["One", "Two", "Three"]
    const fxArrs = [...fxArr]
    fxArrs[1] = "love";
    console.log(fxArr) // ["One", "Two", "Three"]
    console.log(fxArrs) // ["One", "love", "Three"]
<span class="copy-code-btn">复制代码</span></code></pre>
<h2 data-id="heading-3">二、深拷贝</h2>
<h4 data-id="heading-4">深拷贝开辟一个新的栈，两个对象属性完全相同，但是对应不同的地址，修改一个对象的属性，另一个对象的属性不会变。</h4>
<h4 data-id="heading-5">常见的深拷贝的方法有以下几种：<br></h4>
<p>_.cloneDeep()</p>
<pre><code class="copyable">    const _ = require('lodash');
    const obj1 = &#123;
        a: 1,
        b: &#123; f: &#123; g: 1 &#125; &#125;,
        c: [1, 2, 3]
    &#125;;
    const obj2 = _.cloneDeep(obj1);
    console.log(obj1.b.f === obj2.b.f);// false
<span class="copy-code-btn">复制代码</span></code></pre>
<p>jQuery.extend()</p>
<pre><code class="copyable">    const $ = require('lodash');
    const obj1 = &#123;
        a: 1,
        b: &#123; f: &#123; g: 1 &#125; &#125;,
        c: [1, 2, 3]
    &#125;;
    const obj2 =$.extend(true, &#123;&#125;, obj1);
    console.log(obj1.b.f === obj2.b.f);// false
<span class="copy-code-btn">复制代码</span></code></pre>
<p>JSON.stringify()</p>
<pre><code class="copyable">const obj2=JSON.parse(JSON.stringify(obj1));
<span class="copy-code-btn">复制代码</span></code></pre>
<ul>
<li>但是这种方法，会忽略undefined、symbol和函数</li>
</ul>
<pre><code class="copyable">    const obj = &#123;
        name: 'A',
        name1: undefined,
        name3: function() &#123;&#125;,
        name4:  Symbol('A')
    &#125;
    const obj2 = JSON.parse(JSON.stringify(obj));
    console.log(obj2); // &#123;name: "A"&#125;
<span class="copy-code-btn">复制代码</span></code></pre></div>  
</div>
            