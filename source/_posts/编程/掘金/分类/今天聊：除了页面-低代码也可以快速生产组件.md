
---
title: '今天聊：除了页面-低代码也可以快速生产组件'
categories: 
 - 编程
 - 掘金
 - 分类
headimg: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/365259abffa149929c01ff24c9477445~tplv-k3u1fbpfcp-watermark.image'
author: 掘金
comments: false
date: Wed, 02 Jun 2021 03:23:42 GMT
thumbnail: 'https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/365259abffa149929c01ff24c9477445~tplv-k3u1fbpfcp-watermark.image'
---

<div>   
<div class="markdown-body"><style>@charset "UTF-8";.markdown-body&#123;word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:#353535&#125;.markdown-body h1&#123;padding-bottom:4px;font-size:30px&#125;.markdown-body h1,.markdown-body h2&#123;margin-top:36px;margin-bottom:10px;line-height:1.5;color:#005bb7&#125;.markdown-body h2&#123;position:relative;padding-left:16px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid #ececec&#125;.markdown-body h2:before&#123;content:"「";position:absolute;top:-6px;left:-10px&#125;.markdown-body h2:after&#123;content:"」";position:absolute;top:6px;right:auto&#125;.markdown-body h3&#123;position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h3:before&#123;content:"»";padding-right:6px;color:#2196f3&#125;.markdown-body h4&#123;margin-top:24px;font-size:16px&#125;.markdown-body h4,.markdown-body h5&#123;padding-bottom:0;margin-bottom:10px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body h5&#123;margin-top:18px;font-size:14px&#125;.markdown-body h6&#123;padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:#005bb7;padding-left:6px&#125;.markdown-body p&#123;line-height:inherit;margin-top:16px;margin-bottom:16px&#125;.markdown-body img&#123;max-width:100%&#125;.markdown-body hr&#123;position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#007fff,rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),#007fff);border-width:0;overflow:visible&#125;.markdown-body hr:after&#123;content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center&#125;.markdown-body code&#123;padding:.065em .4em;font-size:.87em;color:#c2185b;word-break:break-word;overflow-x:auto;background-color:#fff4f4;border-radius:2px&#125;.markdown-body code,.markdown-body pre&#123;font-family:Menlo,Monaco,Consolas,Courier New,monospace&#125;.markdown-body pre&#123;overflow:auto;position:relative;line-height:1.75&#125;.markdown-body pre>code&#123;display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8&#125;.markdown-body pre>code::-webkit-scrollbar&#123;width:4px;height:4px&#125;.markdown-body pre>code::-webkit-scrollbar-track&#123;background-color:#bedcff&#125;.markdown-body pre>code::-webkit-scrollbar-thumb&#123;background-color:#2196f3;border-radius:10px&#125;.markdown-body a&#123;position:relative;text-decoration:none;color:#3da8f5;border-bottom:1px solid #bedcff&#125;.markdown-body a:hover&#123;color:#007fff;border-bottom-color:#007fff&#125;.markdown-body a:active&#123;color:#007fff&#125;.markdown-body a:after&#123;position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid #bedcff;transition:top .3s,opacity .3s;transform:translateZ(0)&#125;.markdown-body a:hover:after&#123;top:0;opacity:1;border-bottom-color:#007fff&#125;.markdown-body table&#123;display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #c3e0fd;border-spacing:0;border-collapse:collapse&#125;.markdown-body table thead&#123;color:#000;text-align:left;font-size:14px;background:#f6f6f6&#125;.markdown-body table tr:nth-child(2n)&#123;background-color:#f7fbff&#125;.markdown-body table tr:hover&#123;background-color:#e0edf7&#125;.markdown-body table td,.markdown-body table th&#123;padding:12px 8px;line-height:24px;border:1px solid #c3e0fd&#125;.markdown-body table th&#123;color:#005bb7;background-color:#dff0ff&#125;.markdown-body table td&#123;min-width:120px&#125;.markdown-body blockquote&#123;color:#8c8c8c;border-left:4px solid #2196f3;background-color:#f0fdff;padding:1px 20px;margin:22px 0&#125;.markdown-body blockquote:after&#123;display:block;content:""&#125;.markdown-body blockquote>p&#123;margin:10px 0&#125;.markdown-body b,.markdown-body blockquote>b,.markdown-body blockquote>strong,.markdown-body strong&#123;color:#2196f3&#125;.markdown-body em,.markdown-body i&#123;color:#4fc3f7&#125;.markdown-body del&#123;color:#ccc&#125;.markdown-body ol,.markdown-body ul&#123;padding-left:28px&#125;.markdown-body ol li,.markdown-body ul li&#123;margin-bottom:0;list-style:inherit&#125;.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item&#123;list-style:none&#125;.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul&#123;margin-top:0&#125;.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul&#123;margin-top:4px&#125;.markdown-body ol li&#123;padding-left:6px&#125;.markdown-body details>summary&#123;outline:none;color:#005bb7;font-size:20px;font-weight:bolder;border-bottom:1px solid #bedcff;cursor:pointer&#125;.markdown-body details>p&#123;padding:10px 20px;margin:10px 0 0;color:#666;background-color:#f0fdff;border:2px dashed #2196f3&#125;.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection&#123;color:#005bb7;background-color:rgba(160,200,255,.15)&#125;.markdown-body p::selection&#123;color:#c80000&#125;.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection&#123;background-color:transparent&#125;.markdown-body code::selection&#123;background-color:#ffeaeb&#125;.markdown-body pre>code::selection&#123;background-color:rgba(160,200,255,.25)&#125;.markdown-body ol ::selection,.markdown-body ul ::selection&#123;background-color:rgba(160,200,255,.15)&#125;.markdown-body .contains-task-list&#123;padding-left:14px;list-style:none&#125;.markdown-body .contains-task-list input[type=checkbox]&#123;position:relative&#125;.markdown-body .contains-task-list input[type=checkbox]:before&#123;content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1&#125;.markdown-body .contains-task-list input[type=checkbox]:checked:after&#123;content:"✓";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2&#125;@media (max-width:720px)&#123;.markdown-body h1&#123;font-size:24px&#125;.markdown-body h2&#123;font-size:20px&#125;.markdown-body h3&#123;font-size:18px&#125;&#125;</style><p>前端早早聊大会，与掘金联合举办。加 codingdreamer 进大会技术群，赢在新的起跑线。</p>
<hr>
<p>第二十七届|前端 Flutter 专场，了解 Web 渲染引擎|UI 框架|性能优化，6-5 下午直播，6 位讲师(京东/满帮/闲鱼等)，<a href="https://www.huodongxing.com/go/tl27" target="_blank" rel="nofollow noopener noreferrer">点我上车👉 (报名地址)：</a></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/365259abffa149929c01ff24c9477445~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>所有往期都有全程录播，<strong><a href="https://www.huodongxing.com/go/2021" target="_blank" rel="nofollow noopener noreferrer">上手年票一次性解锁全部</a></strong></p>
<hr>
<h2 data-id="heading-0">正文如下</h2>
<blockquote>
<p>本文是第十六届 - 前端早早聊组件化专场，也是早早聊第 115 场，来自 1688-度城 的分享。</p>
</blockquote>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b6158c5111e14b7696b2de7e9e301322~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h2 data-id="heading-1">一、自我介绍</h2>
<p>大家好，我是来自 CBU 体验技术部度城。今天来给大家分享一下《如何用低代码开发组件》。</p>
<h2 data-id="heading-2">二、前言</h2>
<h4 data-id="heading-3">名词解释</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/daa3bacafb5746ba8c8006b13334d2df~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>首先来介绍一个概念<strong>低代码</strong>。大家可能在一些其他的渠道或者说在其他的一些站点上面了解过，它并不是一个非常新的一个概念，相反它是一个比较老的概念。所谓低代码 <strong>LowCode</strong> 可理解为它的代码量会比较少一点。我们在正常开发的时候，我们大部分都是用的是源码，即将所有逻辑代码敲出来，但是我们想希望用另外一种方式把一部分代码写出来，一部分通过其他方式来替代。源码方式 <strong>ProCode</strong>，还有一种方式叫 <strong>NoCode</strong> 就是一点代码都没有，主要在一些搭建的场景，它不需要有代码，就可以把一个页面或者说把一个组件搭出来。<strong>ProCode</strong> 就是我们之前的源码方式。</p>
<h4 data-id="heading-4">方案比较</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/14f069ca585648f48f04794d910254e6~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这三者之间有什么区别的？我们把除了代码以外的另外一种开发的方式，我们把它叫做<strong>可视化的开发方式</strong>。什么叫可视化的开发方式呢？<strong>可视化</strong>就是除了代码以外的 UI 视图设置、GUI 的配置、产品化的配置方案、一些细节的高效抽象等。我们把代码跟可视化设成两个比例：</p>
<ul>
<li>NoCode 全部都是可视化，没有任何一行代码；</li>
<li>ProCode 全部都是代码；</li>
<li>LowCode 一部分是代码，一部分是可视化，可同时兼顾效率和灵活性。</li>
</ul>
<p>这里有这样一个箭头，从上到下来说：</p>
<ul>
<li>NoCode 效率上是最高的，因为不需要去写代码，可能去采用一些可视化的这种方式比如拖拽这种形式就可以生成。</li>
<li>ProCode 是最灵活的，大家知道那个代码是非常灵活的，可以写很多逻辑。</li>
<li>LowCode 是有两者之间混合的。现在汽车有新能源车、有燃油车。新能源车它里面又分纯电动车和混动车，混动的车是一部分燃油，一部分通过电动的，它是结合这两种的优势，在现阶段里面是这样看的。</li>
</ul>
<h4 data-id="heading-5">LowCode 本质</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6c53ad8b81b4acb9d8d077089fc9902~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这边是我的一个总结：LowCode 是采用一种<strong>产品化</strong>或者<strong>可视化</strong>的方案来开发我们日常的开发，比方说 UI、一些配置等等，来降低开发成本和门槛，同时来提升一些开发效率。写代码需要有一些专业的程序员开发，但低代码产品，在体验做的非常棒的情况下，不需要有非常多的开发经验，普通的一些业务人员，也可以通过这个工具去完成它需要的一个产品的开发。</p>
<p>这个左边是一个可视化。目前来说，代码它是可以解决很多一些业务逻辑的问题，我们在一些特殊的场景或环节，还是需要通过代码来进行一些业务的开发，所以我们会在整个平台上面嵌入了一个小型的 Web IDE <strong>在线编码</strong>的方式来提升整体的一个灵活性和适应性。</p>
<h4 data-id="heading-6">低代码开发平台价值</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6dd80b74d9e3425ca0c618ea728cd61f~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>今天讲的主题是怎么去做组件，我们希望能够通过低代码方式能<strong>多快好省</strong>的去做一些组件。什么叫多快好省？就是我们的<strong>产量高</strong>、<strong>效率高</strong>、<strong>质量好</strong>和<strong>投入人少</strong>，是非常理想的一个状态。并不是说我们不需要去写代码，因为我们发现 LowCode 里面的代码量会比较少一点，我们只希望去少写一些低效、重复的代码。</p>
<h4 data-id="heading-7">案例</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c1424ade467f4ff5b54da8f4ffc13e7c~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>低代码在很多场景是可以去应用的，比如中后台场景，大家在市面上可以看到很多低代码的产品，像微软、阿里的宜搭，如果不知道低代码的一个具体应用，也可以去看一下。我今天来讲的是导购场景，一个 1688 的无线场景去做这样的一个低代码的应用。</p>
<h2 data-id="heading-8">三、1688 前台场景业务背景</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/278800dff8b04c3ba5902ec6be121888~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>大家可以根据我这个 Case 看看有什么启发，在自己的一些应用场景可以用这种方式去做一些事情。先大致介绍一下 1688 前台场景业务：我们可以简单理解为 B 类的淘宝，批发商需要去采购商品可以在一些工厂或者二级的批发商那里去采购。整体业务的分配比例是无线的用户会比较多一点，所以今天讲的比较多的是在无线场景这块的一个应用。大致的一个链路是这样，中间有一些导购的场景，我们有很多的产品，通过这些导购的场景去给到不同端，不同端又有不同人群。</p>
<h4 data-id="heading-9">从开发页面到搭建页面</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7a165698a29146d28c27afb6b4358347~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>在做任何技术平台之前，产品或宣传需要有一个场景，通常是直接手动去开发一个页面去满足这样的一个需求。后面会发现页面上有很多组件是差不多的，业务的每个页面有些是一样的，有些又是不一样，需要有这样一个组合的关系，所以就会产生<strong>搭建平台</strong>。搭建平台是用来把不同的组件来产生一个页面，这里有一个比较简短的演示，上面有很多组件，这些组件是可以配置参数或数据源就会生成一个页面。这里可以看到两个组件就可以把它搭起来，搭起来后，就生成了一个全新的页面。所以我们开发的小伙伴就不用每次去开发这样的页面了，他就会把精力放在组件上去。搭建平台是由产品或运营去搭建，这样可以把开发小伙伴给释放出来，解决了一些业务组件的复用问题、增加了一些页面的灵活性和产出效率。既然平台可搭建页面了，那可以把开发小伙伴的精力重点放到开发组件上去。也就是说通过组件开发，然后在搭建平台使用，就可以生成一个页面，所以我们的精力主要是去开发组件。</p>
<h4 data-id="heading-10">业务场景 - UI 多样的前台场景组件</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38ae3deffc1f477c9ade1f8dbfa8f8fd~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>来看一下整体前台导购场景这样的一个 Case，大家可以看到导购场景的组件样式、排版是非常多的，UI 的展示也是非常多的。</p>
<h2 data-id="heading-11">四、面临问题</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb9927a18e43421fbb378433a8bfcb4c~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这里就会出现两个问题：</p>
<ul>
<li>一是 UI 这么复杂多变。由于人员是比较有限的，或者说投入的精力是比较有限的，我们如何在一些固定的、少量的人力投入下，来构建足够多的一些 UI 组件。</li>
<li>二是有很多端的需求。手机端怎么去面对各种各样的 APP、怎么通过一套代码来完成跨端的需求。</li>
</ul>
<h4 data-id="heading-12">如何在有限的人力下构建多变的 UI 组件</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88afaa0d9b0849aeb7dd4d7746035729~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-13">如何快速构建多变的 UI</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/413ed9d3bf1a4f2fb9b4909b1f3d6402~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>左边是典型的导购卡片，我们怎么来去做一些提效，最开始想到的是把组件模板提取出来，相当于左边的样式、排版把它固定下来。但最后我们发现组件它在不同的 UI 里有不同的展示，大家看下左边，发现组件模板是很难把它沉淀下来的，UI 是没法进行收敛的。接下来就得想办法怎么去构建 UI 进行提效，既然组件模板没法收敛，我们会在开发层面想办法怎么去提效。</p>
<p>UI 主要是由两部分组成：<strong>节点</strong>和<strong>样式</strong>。形容下面的一些代码片段一样，这个是它的一个节点。我们希望能够把片段之前采用手动的方式去把它构建出来，接下来我们希望通过一些工具，也就是通过半自动的方式，能通过机器的形式把它构建出来。有两个方式，第一个方式就是说这个节点可以<strong>通过可视化拖拽把它生成出来</strong>，第二个方式更加直接的，UED 一般会有视觉稿，我们是不是可以直接<strong>通过视觉稿来进行导出</strong>，这样的话我们就可以跨过 UI 开发这个过程。</p>
<h5 data-id="heading-14">快读构建视图 - 物料线上化</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a43517c391bf4956bd5a8b285aedf747~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>先来重点讲一下可视化 UI 拖拽这种形式。左边是一个常见的列表，对于这个列表进行拆解，我们把它每一部分叫做物料，有导航、文字、图片和容器列表，我们需要能够把这些物料线上化。这就需要通过一个协议，通俗来说就是通过一个 JSON 描述，把上面的一些物料属性记录下来。比方拿这个图片来举例，我们就会分成两个属性：一个是属性值，比方说图片地址、渲染方式等；还有一种是样式，比方说高度、宽度和边距等等。有了这些属性了后，可通过这些属性及物料注册到线上，通过产品的方式，把刚才的图片地址、渲染方式，通过一些可视化 UI 的方式进行展现。可以看到上面右边那张图上，图片链接、属性和布局样式。</p>
<p>来看一下简单的一个事例：左边是正常的一张营销卡片，这个时候我们可以去设置它的宽和高，设置后继续生效，可以去改变图片地址和边距，这是在编排模式下。在预览模式下，它可以正常的展示，这个就是刚才保存修改过的一个值。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7730be77944d41b4814bd1b29e6125c7~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<h5 data-id="heading-15">节点拖拽实现原理解析</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82f15c4c95f9446fbc414a9e8c8de703~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>原理是有一个编排拖拽面板和一个预览面板，是通过 Schema 协议的方式把它串起来。这是刚才每个物料的属性，下面是它的样式的描述。有了这个协议后，在拖拽时把这些物料接入进来，通过物料的属性面板，对每个物料进行调整，在渲染时把物料导入进来，通过 react create element 直接把它转成虚拟 DOM 进行渲染。</p>
<h5 data-id="heading-16">快速构建视图 - Sketch 导出</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c472aac291e646cbb7e0aae279f60af8~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>还有一种更简单的方式就是直接通过视觉稿进行构建。我们美术同学或者 UED 同学，通过 Sketch 设计的一个视觉稿，可以通过视觉稿的插件把它导出，然后通过一些机器学习的一些算法，可以把它的 UI 样式和结构直接还原出来。最后需要经过一些少量的调整，二次加工了后，就可以把整个 UI 直接可以展现出来。在这里我们再来看一下简单的一个 Case，这里我们已经把它导出来，导出完了后，我们在面板里进行导入。大家可以看到导入的时候它是一个 Schema，这个时候它已经在我们的系统里面，我们可以对它进行二次编辑。但这里有个要求，视觉稿需要有一定的规范，需要 UED 同学按照一定规范去做。这一套工具的叫 imgcook。大家也可以去搜索它，去用这个工具，它是可以把一些 PS 格式或 Sketch 格式的一些 UI 直接导入出来，进行代码的一些识别。</p>
<h5 data-id="heading-17">验证可行性 开发 AB 实验</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fb2ad6c57a8049128faa21e846202890~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>刚才也讲了，怎么去还原这些 UI、怎么通过工具的形式去做一些 UI，在尝试着用这个方案的时候，我们也去跟我们之前传统的编码方式进行了一些比较。我们做了两组实验，来看一下通过这种方式是否能够加快 UI 的开发速度。第二种就是我们传统的一些编码跟样式的一些开发。我们发现一旦掌握了可视化的开发以后，我们在后面的一些组件开发时间上大幅度的下降。这个是我们做的一些测试后得出的一个结论：它能有效的提升我们 UI 的构建效率。</p>
<h5 data-id="heading-18">将数据和事件与可视化 UI 结合</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3cfc46654576464fbcaf98b257a257f0~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>刚才我们看到了在场前台场景需要展示一个组件，光展示 UI 是不行的。很多时候我们需要有一些数据，这个是非常必须的，我们怎么去展现它里面的数据是什么。还有一些事件，UI 点击了以后，它触发什么样的一个事件，比如说去领个红包或者发一个请求等等。正常的一个组件它需要有这三个元素进行一些交互和融合，最后才能成为一个完整的组件。</p>
<h5 data-id="heading-19">数据源低代码设计</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/23fec9b980a045c3b0a2d96c23978256~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>我们再来看一下低代码，这个平台里面它们是如何把三个元素进行结合。刚才我们也看了 UI 是怎么进行产生的，我们现在来看一下我们的一个请求，我们这里叫一个数据源。这里是我们的一个请求，有请求地址、请求入参、请求方法等等，通过一个面板把几个元素属性整合起来。填写请求地址，比方 JSONP、GET 或 POST，下面就是具体的一些参数，在请求时我们会有一些比较特定的处理，比如回调函数的一些处理。这个时候通过面板的方式是非常去难以去解决的，所以我们在里面嵌入了一个小的代码编辑器，这里面它是可以去处理一些回调的一些逻辑等等，我们可以把一些东西填在这里。这个逻辑是怎么去执行的呢？我们填完了以后，在线的会把它源码转换成 ES5 的语法，在执行的时候，这是个 String，我们直接 <code>new Function()</code> 就可以去执行了，这个原理也是比较简单的。</p>
<h5 data-id="heading-20">在线代码转化/执行</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4290ece5eca7442baec35ce386595cea~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>最后，我们需要把我们请求的数据挂载到 UI 上面。我们需要通过把字段的直接可视化的挂载挂载在 UI 上面，比方说刚才请求了一个列表，那列表里面我要展示一张图片，我要把图片字段要挂在特定的一个 UI 的一个展示上。还是以刚才那个 Case，拿这个数据去做一个展示，这里是请求的一个数据，你可以理解成是一个列表，这个列表里面我会我们会把这个数据挂在右边的列表的这样一个容器上面。有了这个数据，接下来刷出来的结构，就会有一个一个列表的数据。但是这个列表你可以发现它图片都是一模一样的，因为我们图片现在默认是一张静态图，我们接下来需要把这张静态图替换成一个动态的图片，这里我们会有一个绑定变量。在绑定变量里面，因为是一个循环体，这里每一个循环的 key，我们把它设置为一个 <code>item</code>，这里取的是 <code>item</code> 的一个字段，这个 <code>item</code> 就是数据的一个字段，这就叫 <code>image</code> 字段，我们把它绑定上了以后，这个时候我们重新刷一下，我们会发现案例表的数据已经发生了变化，已经是变成我们数据的真实的一个值。</p>
<h5 data-id="heading-21">数据挂载 UI</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b0bddb79c7bf4e69a70c64bd6ceb9328~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>可视化开发还有一个好处，我们经常会去做二次开发，比如一个组件开发完了以后，过了一段时间，另外一个同学去接手做这个事。这个时候可能他要去迭代一个需求，需求也很简单，比如改一个字段或增加一些小的逻辑等等。正常的情况下，我们需要把之前的代码通读一遍，知道它具体改的地方在哪里，具体它的逻辑在哪，但是我们通过可视化左边的展示，会非常直观，比方说我要改一个文字，我就选择文字，把文字绑定的一个变量做一个改动，或者说我做一个逻辑变动。这个在可视化的一个产品里面，我们是可以非常方便的去做一些二次迭代的，这也是整个低代码平台对后面维护的一个好处。</p>
<h4 data-id="heading-22">如何面对跨端的需求</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3248dda4e3c4bd2a78fbf088fb0ed18~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>第二点我们再来讲一下如何去做一些跨端的需求。</p>
<h5 data-id="heading-23">多端能力支持</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/472decc920ec4e77a4d81a417f964aeb~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>我们现在有很多端，比方说 Web 端、在阿里内部的一些 APP 里还会有一些 Weex 端，其他的一些端上，比方说它要支持一些小程序等等，阿里内部有一个 Rax 框架，这个框架它是可以把它转成 Weex 端、Web 端。Rax 框架它也可以通过转码这种形式去支持小程序。我们怎么去把我们把低代码 Scheme 实现类似 Rax 转码，我们也是通过 AST 的这种转码的方式。因为 Schema 是一个跟代码无关、跟 DSL 无关的这样一个逻辑性的描述。比方说你可以把 Schema 转成 React 形式、Rax 形式、甚至 Vue 的形式都可以。但是我最初的 Schema 是不会有任何变化。比方说你后面再过一段时间，可能有另外一种 DSL 产生的，或者说另外一种更高级的 DSL 产生，我照样也是可以将 Schema 通过一定的转换逻辑把它转出来的。所以通过 Schema 的好处就是说它可以非常简单的去收拢各种 DSL 的这样一个能力。</p>
<h5 data-id="heading-24">Schema 转码方案</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8a8b829bf78474ebcceece28961ac79~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>具体怎么去通过 Schema 去转，我们会把 Schema 里面会进行一些拆解，Schema 里面有很多的节点，比方说有一些专门负责做视图描述的节点，它告诉你这个结构是怎么样的。还有一些数据请求节点，告诉你这个请求地址、请求参数和请求类型等。还会有一些生命周期的参数，还会有一些交互事件的一些函数，我们把它进行一些拆解，拆解了以后，通过 AST Babel 插件进行一个解构，把它转成形如这样的一个目标的 DSL 的代码。</p>
<h5 data-id="heading-25">CBU 无线场景 LowCode 落地数据</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9d9a6c197a44409ea2a7673a0a985bbd~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这个是我们自己的一个落地数据，我们用了这个产品以后，我们发现内部的提效也是非常明显的，提效了 400%。很多时候我们需要去写，但是我们用了这种开发方式后会发现可能需要一个简单的拖拽就可以了。</p>
<h4 data-id="heading-26">收敛技术，高效协同</h4>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43bf6904b2bc4a33849eb38a1b9e30c9~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>最后来讲一个问题，就是技术收敛跟高效协同的问题。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76cad18dbb7642e9a25fb3650ac12e49~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>在一个团队开发的过程中，经常会出现一些问题，比方说我需要用哪个组件、我不知道哪个组件能用、我的组件构建发布它是怎么去处理的、很多文档比较散不大好找和刚才说的二次开发的问题（去看别人代码，程序员最怕看别人代码非常累）。这就是我们原先线下的开发方式，因为它是每个人自己去执行的，很难收口，规范也很难执行。当然我们也可以通过一些特定的规范，比方说工程的这种方式来做一些收敛，这也是一种方式。我们可以把这种方式搬到线上，工程也好其他方式也好，把它线上化，大家入口是一样的，大家进去都是一个入口。我可以在这个平台里面我可以满足我做任何的事情，线上的话我可以非常好的去管控你，非常好的去规范，比方发布构建和代码的质量，可以把它全部收拢起来，只要看一个文档就行，不需要去管其他的东西。这种比较适合一些对技术要求不是特别高的，但是它又要满足它的一些业务的整个场景的推进。因为是一个线上的，所以它是可以通过 Web 平台做一个统一的收拢，对使用者来说，只要体验好这个产品，就可以完成一些开发任务。</p>
<h5 data-id="heading-27">整合开发链路</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f71da54828c14d878a11da2d79c38941~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这个是传统的开发链路，它有很多构建、搭建环境等等。但是我们通过线上化后，都是采用云构建、云预发和部署的方式，它没有这种环境这种概念，因为它都是在 Web 上面，所以只需要做一些开发调试、接口调试等基础工作就行，其他的工作都是通过平台或者产品的方式把它包装好就行了。因为步骤开发少了、链路少了，开发效率肯定也会提升。</p>
<h5 data-id="heading-28">构建与发布</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/66d23a3a2b2b43d2920f934044646057~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>我们还经常会有一些发布构建的问题。比方说我们需要建仓库，不同的部门、不同的公司建仓的脚手化等等都是不太一样。新人都需要把流程全部走一遍，可能还会有一些其他杂七杂八的细节，比如说安装依赖、调试方式等等。我们通过产品的方式、低代码的方式，怎么去做呢？新建仓库或叫初始化，通过在 Web 上去新建一个组件，在组件里面把一些逻辑写在后台，或者调试的时候，通过实时的预览，只要按调试按纽，就可以把预览界面展示出来，不需要去写什么其他的一些命令，或者是装其他库等等。</p>
<p>这个是我们新人注册的时候，只要填一些信息就行。调试的时候我们会把这些包全部都会拉下来，这个是调试的这样一个逻辑。我们还会有一些本地开发和构建的问题，如果有线上线下的构建，我们需要去做一些分支，或者说做一些发布部署等等。通过云构建的方式，可以把这写东西全部放在后台，前台只要发一个命令或请求，可以在云服务器上把这些东西做了。</p>
<h5 data-id="heading-29">传统开发与低代码开发对比</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f31d338c97c94f88b66f648ba4faf11c~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>还有一些传统的开发方式，比方文档、组件库，代码的开发风格大家都是因人而异的，每个人的开发方式写法都不一样。通过平台的方式，有统一文档，物料也是在线的，大家在面板里面有多少物料，大家可以自己选，反正有就有了，没有的话我们就提需求，大家再去扩充，这样是一个非常统一的。最后转出来的代码都是一样的，因为大家都是用机器转的，风格是完全统一的。对整个团队或者说对一个技术团队有一个非常好的收敛。</p>
<h5 data-id="heading-30">低代码开发平台的目前存在的问题</h5>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a1134e1247c4bd19c1a945540ffbe7a~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>低代码也有自己问题，并不是说特别牛逼的。</p>
<ul>
<li>但相比传统的开发体验而言，它需要有一定的学习成本，对于一些特别是一些开发习惯来上来讲，因为有些开发同学他习惯了手写代码，突然有一天对他说不用手写代码，只需要拖拽用产品这种可视化方式，他可能不太习惯，这有一个成本习惯去调整的，这是一个问题。</li>
<li>有些产品特别是一些中后台的产品，它的逻辑非常复杂，可能有几千行，他有各种交互，这个时候你把这个东西放到可视化的产品来说，它本身对低代码平台产品的体验来说是非常高的，需要有一个更好的这样的体验，才能把这些逻辑通过 UI、通过产品、通过可视化去把它搭建起来，不然维护起来会非常麻烦，可能比你单独写代码还麻烦一点。</li>
<li>是不是可以跟现有的一些源码模式能够有一个更好的互通。比方说组件的形式，能不能把一些已经写好的组件导入进来，我做完的组件也能够跟其他的一些源码组件不一致，我都是一样的，大家都是可以在一个大的一个容器里面去用，能够跟现有的源码体系做一个更好的结合。</li>
</ul>
<h2 data-id="heading-31">五、未来规划</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3df6dbd613b497aa6037c4ee13e3152~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>这是我们未来的一些规划，我们这个引擎目前用的是阿里自己写的一个低代码引擎，我们也努力的去把它完善，后续还会把它做得更加好用，现在只是一个能用的方式。我们希望后面能够输出一些通用的引擎，可能我们在以后会把引擎进行开源，大家可以把所有的业务，只要你用 React 或者 Vue 的产品，这种框架我都可以用引擎去解决一些业务上的一些问题，甚至我可以在一个引擎上面进行二次开发，形成自己在业务、公司或部门上的比较业务化的这样一个平台，这个引擎就像一个框架一样，去解决一些问题。</p>
<h2 data-id="heading-32">六、总结</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1ffb3bfe65bc44f491aa9e83fcd17448~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>总结一下，主要讲了两大问题。第一个是说我们怎么通过低代码有限的方式来构建的一些 UI 组件，这里我们讲到了是通过一些智能导出，通过可视化拖拽的形式来替代手写快速实现 UI 开发。我们怎么来进行一个跨端需求，比方说多 DSL 的需求，我们可以把 Schema 作为一个中间态，这个 Schema 跟 DSL 无关，通过一些转换的方式，这里写的是用 AST 方式去转成不同的端。最后我们也讲到了一个我们怎么样通过云平台方式去做一些技术收敛，通过在线的开发方式来解决我们之前线下开发方式的一些问题。</p>
<h2 data-id="heading-33">七、团队介绍</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8097f9bcb46b4bda848290477e6943c7~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>介绍一下我们的团队，就是我们这边的一个 CBU，我是属于 CBU 搜索广告团队的，我这里打个广告，我们整个团队的话是负责做 CBU 搜索，Web 无线的，还有 CBU 大流量广告这两块业务。我们的核心的技术也用了很多大流量的 Node BFF 的应用，包括我们刚才讲到的低代码的一些开发方式，在我们业务里面已经全面启用了，我们也有很多一些前端加智能算法，智能算法在我们的业务里面去用。有兴趣的同学、想投简历、想跟我聊一些低代码相关的一些同学也可以加我一下我的微信，后续我们进一步进行沟通。</p>
<h2 data-id="heading-34">八、推荐书籍</h2>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b53907d3a1794ddaaf69037793c3396a~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<p>我推荐的书是一些老书，大家可能都听过，但是不一定大家都看过，但我觉得这些书是一些比较基础的比较经典的书，大家可以有时间的话可以去看一下。</p>
<h2 data-id="heading-35">九、QA</h2>
<blockquote>
<p>Schema 里面包含了 onClick 函数的字符串，那怎么处理作用域呢？或者跳转页面这些操作应该要怎么处理？</p>
</blockquote>
<p>在 Schema 会有函数，首先实例化。低代码是以组件或者页面维度，所以在实例化这个函数的时候，我们会把容器的一些对象、函数的 this 对象和函数的 target 对象等等，我们会把它们注入进来，我们会把一些父元素的一些节点、一些变量我们会把它注入进来。这样在函数里面使用 this 或其他属性的时候，是可以去用到这些对象。</p>
<p>如果是正常的页面跳转的话，是可以在我们物料上面去配一个链接地址，去做一些页面的跳转，我们整个低代码也是可以以页面纬度做去做页面的。你可以在整个系统里面去配置一个路由，去处理一些页面跳转关系。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3eb974deb95540568b21a29e166f546d~tplv-k3u1fbpfcp-zoom-1.image" alt loading="lazy" referrerpolicy="no-referrer"></p>
<hr>
<p>别忘了 6-5 下午直播哦，<a href="https://www.huodongxing.com/go/tl27" target="_blank" rel="nofollow noopener noreferrer">点我上车👉 (报名地址)：</a></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/365259abffa149929c01ff24c9477445~tplv-k3u1fbpfcp-watermark.image" alt="image.png" loading="lazy" referrerpolicy="no-referrer"></p>
<p>所有往期都有全程录播，<strong><a href="https://www.huodongxing.com/go/2021" target="_blank" rel="nofollow noopener noreferrer">上手年票一次性解锁全部</a></strong></p>
<hr>
<p>期待更多文章，点个赞</p></div>  
</div>
            