
---
title: '阿里云中间件首席架构师李小平：企业为什么需要云原生？'
categories: 
 - 编程
 - Dockone
 - 周报
headimg: 'https://ucc.alicdn.com/pic/developer-ecology/7ab34a63bdf444b3a9a283ec338ab954.png'
author: Dockone
comments: false
date: 2021-06-22 13:20:08
thumbnail: 'https://ucc.alicdn.com/pic/developer-ecology/7ab34a63bdf444b3a9a283ec338ab954.png'
---

<div>   
<br><img src="https://ucc.alicdn.com/pic/developer-ecology/7ab34a63bdf444b3a9a283ec338ab954.png" alt="1.png" referrerpolicy="no-referrer"><br>
<br>    作者｜李小平<br>
<br>前天我参加了信通院的云原生产业大会，参加会议的企业非常多，并且来自于各行各业，我在会场上非常感慨。我想起 2019 年的时候，我在搜索引擎上搜索“云原生”这个词，那时的搜索频率还比较低，而 2019 年又是云原生在国内开始飞速发展的一年。而今年的云原生会场上，已经有非常多的企业来参加，这些企业在技术、产品、生态中都在应用云原生，所以说，整个云原生已经从最开始的技术变成了行业，现在发展成了比较大的产业，并且这个产业的规模每年以非常快的速度在增长。<br>
​<br>
<br>在今天，可能有很多咨询机构、企业，或者是个人开发者都在解读云原生，也许很多人对云原生都有比较深入的认识了。大家都可以认同的是，云原生肯定与云有关，但是它改变了什么，为企业带来什么价值呢？最核心的点应该是可以改变企业的应用架构；还有一种可能是不改变应用架构，只是把整个运维体系基于云原生进行重塑。但所有的这些，背后的目的都是为了加速企业的价值创造过程，<strong>简单的说，和制造企业改良生产线是一样的，核心点就是改良我们作为软件企业的生产线。</strong><br>
​<br>
<br>阿里在云原生的实践从 2006 年就开始了。我们在做云原生的过程中积累了很多经验，我们认为，今天云原生对于企业数字创新主要提供了多个价值：<br>
​<br>
<br>一是<strong>资源弹性</strong>。弹性这个词大家很容易理解，实际上弹性有不同的层面。比如说基于虚拟机的弹性，提供的弹性能力是分钟级的。如果基于这些技术的应用是毫秒级的，那么分钟级只解决了资源弹性问题，整个应用高可用问题还需要进一步解决。如果说弹性到了应用的层面，到了毫秒级，高可用问题也得到一定程度的解决。<br>
​<br>
<br>除此以外，系统的<strong>稳定性</strong>也是大家非常关注的方面。云原生就是把整个软件构造过程中非功能性特性拉出来放到云原生产品上去，帮助应用开发从非功能性处理过程中解脱出来，更多的专注在功能性。同样的，云原生有很多工具理念，可以让我们变得更好，整个软件开发从代码到上线的时间大幅缩短。同样的，今天在基于云原生可观测性上面我们会积累非常多的数据，这些数据可以结合机器学习这些能力，帮助我们改善企业的用户体验。这些对于业务来讲会带来比较大的价值。<br>
​<br>
<img src="https://ucc.alicdn.com/pic/developer-ecology/669e076cc9c14fb1b46e31e06134ae86.png" alt="2.png" referrerpolicy="no-referrer"><br>
<br><h1>阿里云原生的实践历程</h1>​<br>
今天，云原生在 CNCF、国内相关的开源、还有三方组织的推动下，可以使得一家企业在做技术选型的时候有非常多的选项。大家通常会面临一个问题，在这么多选择里面，要真正达到生产可用的目的到底选谁？特别是当我们的业务需要在非常短的时间内就上线，在业务高速发展的阶段，我们应该选什么样的架构，选什么样的开源开放的产品，这个是摆在广大企业技术决策者以及架构师面前的难题。<br>
​<br>
在云原生领域中，阿里云是相对比较早开始做自研的。从 2006 年到 2009 年互联网的中间件开始发展，到阿里云正式成立，整个过程中我们通过云原生解决很多业务问题。通过应用云原生相关技术，从早期很好地支持了淘宝的高速发展，到了 2015 年以后很好地支持了阿里的中台建设，以及到今天随着阿里巴巴整个生产系统、核心系统全部 100% 上云，这个过程中我们运用的云原生技术，像容器技术、微服务技术支持的规模都是百万级以上。<br>
​<br>
相关调研显示，这样的云原生落地规模在全球范围内都是非常领先的。实际上，对于很多企业来讲，也许用不到这些规模，但是阿里通过解决这样的大规模下的性能、稳定性问题，积累了非常多的硬核技术，最终能够把这些技术转变成了产品，通过阿里云对外输出，服务于各行各业的广大客户。<br>
<br><img src="https://ucc.alicdn.com/pic/developer-ecology/f7433b81d8924fc68c2353dba7ec01a3.png" alt="3.png" referrerpolicy="no-referrer"><br>
<br>我们认为，云原生对于整个软件的改变，或者对软件公司的开发流程的改变是非常深刻的。首先 K8s 已经变成了软件交付的标准界面，它改变的不止是运维，而是从 CICD 到后续发布上线整个生产链条。由于所有生产流程得到改变，以及很多企业通过云原生技术重塑了软件架构，使得软件架构从传统架构变成了新的、我们称之为现代化的应用架构，因此云原生可以通过这种生产工具的改良进一步改变企业的生产关系，最终影响企业，使得企业在软件开发过程中得到了极大的提速。<br>
​<br>
阿里云在云原生实践过程中，积累了很强的技术竞争力，体现在这些方面：<br>
​<br>
一、我们有非常多领先的技术解决云原生领域里面的稳定性问题、可靠性问题，大规模下的高并发问题等。同时，我们会把所有的这些技术通过开源开放的形式输出。我们知道，在云原生的世界，企业需要的是开源开放的技术，而不是被像阿里这样单独一个厂商所锁定的技术。这个过程中我们基于开源开放技术标准积累了很多产品的硬核能力。在产品上，除了大家看到的基于云原生应用架构里，还包括云原生数据库、云原生大数据等。<br>
​<br>
<img src="https://ucc.alicdn.com/pic/developer-ecology/837a7291878b40b1a9007dc7ff89985c.png" alt="4.png" referrerpolicy="no-referrer"><br>
<br>在云原生相关的领域有比较多的测评，在这些测评里，<strong>例如阿里云容器产品 ACK，在去年 Gartner 评测中拿到满分，全球厂商中只有两个厂商拿到满分，阿里云是其中之一。今年，阿里云再次入选 Gartner 容器竞争格局。在新兴的计算形态领域中，今年阿里云进入 Forrester FaaS 领导者象限，函数计算获得了全球 FaaS 产品最高分。</strong><br>
​<br>
在可观测性里，阿里云代表国内云厂商进入 Gartner APM 象限。所有这些三方评估从另外一个层面反映了阿里云产品的能力。容器架构上，我们基于开源开放的 K8s 技术体系，基于阿里云的硬件做深度的优化，在比较多的领域和场景里为广大 K8s 应用提供服务。我们把在 K8s 集群里面超大规模集群管理的能力输出到 ACK 产品里面，使得阿里云的客户在管理集群的时候，可以摆脱大规模集群的管理复杂性问题。<br>
​<br>
比如完美日记，作为美妆行业的独角兽公司，他们的业务发展速度非常快，但在业务快速发展过程中，他们面临的问题就是在大促的场景中怎么更好地预留资源，以及在大促时怎么样比较好地解决新上线的功能，以及需求的稳定性问题。在这个过程中，他们利用 PTS 作为压测，所有应用跑在 ACK 平台上面，通过压测模拟大促的流量，从而能够把整个大促从需要投入较大的状态提升到具备可以常态化的做大促压测的能力，也通过这个能力使得系统稳定性相关问题得到快速收敛。<br>
​<br>
<h1>云原生中间件</h1>​<br>
从微服务、消息到各种应用工具以外，根据企业常见的 IT 场景，云原生中间件也提供了很多解决方案。阿里云中间件诞生于集团内的大规模调用场景，同时兼容开源，并且融入了更多产品能力，例如在整个大促过程中表现优异的可观测性、高可用能力等，都属于云原生中间件产品体系。<br>
​<br>
同样在中间件领域里，我们也和较多企业客户有相应的合作。畅捷通是一家做 SaaS 的企业，迄今已经为超过四百万的小微企业做了云管。ToB 类型的应用复杂度较高，最大的问题就是整个软件的发布频率是非常快的，怎么样在高频软件发布下面能够比较好的解决软件的各种 BUG，或者解决设计上的不足带来的稳定性的问题，这是在前期探讨过程中畅捷通提出来的关注点。<strong>通过应用云原生中间件，不仅解决了整个应用的可观测性问题，并且让应用具备 360 度无死角可观测能力，通过应用探测能够快速发现在整个压测过程中各种可能的不稳定风险，从而使得相应风险得到快速的收敛。</strong><br>
<strong>​</strong><br>
<br><h1>Serverless</h1>​<br>
很多学术机构在 Serverless 领域深入研究，我们预感 Serverless 极有可能会成为下一代主流技术趋势。阿里云在 Serverless 领域里做到业界领先的毫秒级计费，以及在整个阿里云底层做深度优化，使客户的应用真正达到了智能的弹性、极致的运维和大幅提升开发效率。阿里云也和许多企业客户达成深度合作，进行 Serverless 落地实践，通过帮助客户将应用迁到 Serverless 技术体系上，达到比较快的应用部署；同时，把应用的稳定性问题、运维都委托给 Serverless 这样的云产品去解决。<br>
​<br>
<h1>解决方案</h1>​<br>
云原生在快速发展过程中，只有通过不断的技术创新、产品创新，才有可能使得云原生技术更好的服务于广大的企业客户。今天，<strong>阿里云对外发布四大解决方案：全链路压测解决方案、异地多活解决方案、资源混部解决方案、可观测解决方案</strong>。这些解决方案可以高效地解决在传统领域里还没有很好解决的问题。比如全链路压测，大家都知道全链路压测是个好东西，比较大的问题是在应用压测过程中使应用改造最小，甚至不要做改造，所以这次阿里云升级的全链路压测就可以帮助企业应用解决这些问题。<br>
​<br>
今天企业在不断深入地使用云以后，不管公有云还是专有云上，都会碰到整体 CPU 利用率不高的问题，混部就使得各种离线任务和在线任务可以部署在一起，各自享用资源调度的优势，使得整体机房的 CPU 利用率得到比较大的提升。在这个过程中要解决混部之后带来的稳定性问题、资源占用问题。阿里是比较早地应用大规模的混部，像支撑电商双十一的云原生产品。今天我们也是把混部能力变成解决方案对外输出。<br>
​<br>
大家都知道，阿里是比较早实现了单元化的架构，通过单元化架构实现了多活。今天我们把单元化整体的架构能力作为多活的解决方案。同时，这样的多活不仅可以支持自有数据中心、私有云的场景，也能够支持公有云和混合云场景实现整个应用的多活。<br>
​<br>
可观测性一直都是大家特别关注的话题，因为通过可观测性使得我们可以主动发现在系统的运行过程中可能出现的各类风险。今天，阿里云升级的可观测性方案包括从拨测到各种前端的性能监控，一直延伸到后端应用，甚至延伸到云服务里。<br>
​<br>
<h1>产品升级</h1>​<br>
除了解决方案的创新以外，我们在相应的云原生产品上面也做了比较多的升级。容器  ACK 备份容灾中心全新发布，为容器用户提供集群、应用和数据的完整性保护：<br>
​<br>
1、支持自动分析应用依赖的元数据及存储，实现秒级创建应用+数据的一致性快照；<br>
2、支持创建备份计划，自动按预设时间点创建备份；<br>
3、完全兼容 Kubernetes，并支持多集群、多地域、跨数据中心进行备份和恢复。<br>
<br>容器镜像 ACR 发布企业级 Serverless 构建服务，大幅提升云原生制品的构建效率和体验：<br>
​<br>
1、支持多操作系统、多架构镜像的矩阵构建，支持大规模并发任务构建。<br>
2、支持多级缓存的构建加速，平均构建提速 30%。<br>
3、支持自动构建加速镜像，实现 AI 等大镜像秒级按需加载，平均启动时间减少 60 %。<br>
<br><img src="https://ucc.alicdn.com/pic/developer-ecology/8303eeba85174cbcb5f947cd95ce7815.png" alt="5.png" referrerpolicy="no-referrer"><br>
<br>在微服务领域，越来越多的应用考虑采用服务网格技术。用户希望服务网格在开源技术之上有更强的微服务治理能力，因此阿里云推出专业版 ASM Pro，具备增强多协议支持，提升动态扩展能力，精细化服务治理，完善零信任安全体系。专业版相比去年发布的普通版，在性能及规模上均有显著提升，与开源的差异化竞争力进一步增强，降低用户在生产环境落地服务网格的门槛。<br>
​<br>
<img src="https://ucc.alicdn.com/pic/developer-ecology/157ccad1fbba4ab99f740bc70f508ce7.png" alt="6.png" referrerpolicy="no-referrer"><br>
<br>Gartner 预测，未来事件驱动将成为业务开发的主流架构。企业客户上云过程中对于低代码、无服务器弹性应用架构，如何轻量集成众多异构云服务的数据流有着明确的痛点和诉求。基于此趋势，阿里云发布了事件总线 EventBridge 这款产品，其目标在于统一阿里云云服务、第三方 SaaS 厂商、用户自定义的事件标准，通过标准、弹性、轻量的核心能力帮助用户快速低成本获取并处理海量事件，驱动业务开发。<br>
​<br>
在过去的一段时间，我们对 EventBridge 的产品能力做了进一步的扩充和升级：<br>
​<br>
- 在事件生态集成的规模方面，新增 60+ 云产品官方事件源接入，涵盖计算、存储、网络、数据库等主流云产品；<br>
- 在事件触达和处理方式上，内置了十多种过滤匹配转换逻辑，并且新增了跨网络、跨地域、跨账号等深度触达方式，方便企业大客户做深层次的安全、隔离等定制；<br>
- 在此基础上，阿里云 EventBridge 首次推出事件驱动应用中心，内置常见的事件驱动应用模板，用户无需代码和部署即可简单配置完成常见的事件 ETL 处理、数据同步等场景功能。<br>
<br><img src="https://ucc.alicdn.com/pic/developer-ecology/4274d5c870af4d129d88b052903aeda0.png" alt="7.png" referrerpolicy="no-referrer"><br>
<br>阿里云拥有最广泛的云原生客户群体。随着更多的企业客户上云，将有更多复杂的场景，对于云原生技术、产品以及云原生理念提出更高的要求。阿里云希望跟社会各界的朋友一起在云原生领域里面做更多的探索，希望通过云原生技术，真正为企业带来更多的业务价值，助力企业整体的业务创新。
                                
                                                              
</div>
            