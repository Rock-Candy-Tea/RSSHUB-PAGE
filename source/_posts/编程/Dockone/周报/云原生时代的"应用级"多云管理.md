
---
title: '云原生时代的"应用级"多云管理'
categories: 
 - 编程
 - Dockone
 - 周报
headimg: 'https://s2.loli.net/2021/12/05/xRXM3eucaFWTs64.png'
author: Dockone
comments: false
date: 2021-12-07 02:32:48
thumbnail: 'https://s2.loli.net/2021/12/05/xRXM3eucaFWTs64.png'
---

<div>   
<br><blockquote><br>作者：张齐</blockquote>当前云计算有多种形态公有云、私有云、边缘云、虚拟机等，如何高效管理多云是当前面临的问题，在云原生时代，又该如何利用云原生技术实现多云管理？本文将讲解通过 <a href="https://www.rainbond.com/?channel=dockone">Rainbond</a>实现“应用级”多云管理。<br>
<br><h3>多云痛点</h3><ul><li><br><strong>多云环境的统一监控和运维管理：</strong>：<br>
<br>企业使用多云增加了统一运维管理的复杂性，对于单云架构，可使用云服务商提供的管理工具，但对于多云架构，如何使用统一平台进行运维管理，进而提升 IT 服务交付效率、增加资源利用率，降低运维成本，成为值得关注的问题。</li><li><br><strong>多云环境下的应用管理：</strong><br>
<br>单机环境下，应用的部署、管理相对简单，对于多云的分布式环境，应用的部署、运维、标准化管理成为难点，同时，传统的应用、基于微服务架构的应用、以及近来发展迅猛的 Serverless 应用，不同类型的应用也为一站式应用管理增加了难度。</li><li><br><strong>多云环境中核心业务迁移和部署：</strong><br>
<br>使用多云后，无法避免数据的跨云迁移，在异构的云、数据中心之间进行数据迁移，如何保证数据的一致性及低时延，又成为了新的挑战。</li></ul><br>
<br><h3>多云应用管理平台Rainbond</h3>企业除了资源管理之外，其实应用程序管理是更贴近于企业的需求，应用有多种类型，包括传统的应用，像Mysql、Tomcat、Nginx，还有基于微服务架构的应用、以及Serverless 应用等。<br>
<br>企业需要一个可以管理各类计算资源和各类应用程序的一站式管理平台 ——— <strong>Rainbond应运而生</strong>。<br>
<br> <a href="https://www.rainbond.com/?channel=dockone">Rainbond</a>是“以应用为中心“的多云应用管理平台，提供的容器多云和混合云的解决方案，为您提供跨云的多集群统一管理、应用在多云环境下的统一部署和管理。基于 Rainbond 上开发的任何运行的应用，都能够交付给任何基于 Rainbond 的应用管理平台上去使用，也就是基于 Rainbond 可以将任何应用以任何规模部署到任何云上面，对开发者来说就是 只需构建一次，即可随时随地运行。<br>
<br><h3>Rainbond与CMP对比</h3><img src="https://s2.loli.net/2021/12/05/xRXM3eucaFWTs64.png" alt="image-20211205122115319" referrerpolicy="no-referrer"><br>
<br>上图中简述的绘画了 Rainbond与传统CMP的对比，可以很直观看出Rainbond关注的是应用层面，CMP关注的是底层计算资源。<br>
<br>CMP是基于“资源”的多云管理，可以实现多云下所有资源的统一管理。例如：在CMP中可开通某云厂商的虚拟机，包括订单的管理等。但CMP对于应用的管理就相对来说弱一些，无法将多个云上的应用进行统一运维、管理。<br>
<br>Rainbond是“应用级”的多云管理，通过统一的应用模型，应用可以透明在多云上运行和迁移。例如：应用在物理服务器上开发和测试，不用任何改动就可以部署到各类公有云或客户的私有云上。<br>
<br><h3>多云应用管理的四个典型场景</h3>在 <a href="https://www.rainbond.com/?channel=dockone">Rainbond</a>中实现多云目前有以下四个典型场景：<br>
<ul><li><br><strong>开发和生产环境分离：</strong><br>
<br>在CI/CD的场景中，一些用户出于安全的考虑，希望开发环境和测试环境部署在本地的私有云集群，生产环境部署在公有云上。通过Rainbond可以将开发环境、测试环境和生产环境的集群统一管理，配合容器开发流水线，完成业务上线流水化作业，提高企业代码交付和部署的效率。</li><li><br><strong>多云应用统一管理：</strong><br>
<br>通过Rainbond对接和管理多云，统一管理多云下的所有应用，通过拓扑图查看业务的状态，管理应用的全生命周期，提高应用运维的效率。</li><li><br><strong>通过应用市场实现多云应用交付：</strong><br>
<br>在行业云或ISV场景中，应用需要交付到各种客户场景，Rainbond的应用市场，可以将应用以模版的形式存放到应用市场，根据需要一键交付到客户环境，根据需要还能按需升级。</li><li><br><strong>多云应用备份和迁移：</strong><br>
<br>通过Rainbond实现应用从一个云备份和迁移到其他云。</li></ul><br>
<br><h3>具体实现</h3><strong>1、通过Rainbond对接多云</strong><br>
<br>首先需拥有可用的 <a href="https://www.rainbond.com/docs/quick-start/quick-install?channel=dockone">Rainbond</a> 。<br>
<br>完成Rainbond控制台的安装后，进入Rainbond控制台 <strong>企业视图</strong> >> <strong>集群</strong> >>  <strong>添加集群</strong>，在公有云或私有云的服务器上安装 <a href="https://www.rainbond.com/docs/user-operations/deploy?channel=dockone">Rainbond集群端</a> ，可添加并对接多个集群。<br>
<br>多集群对接后效果图:point_down: <br>
<br><img src="<a href="https://pic.imgdb.cn/item/61a5d0802ab3f51d91d5afc2.png%22" rel="nofollow" target="_blank">https://pic.imgdb.cn/item/61a5 ... ot%3B</a> alt="image-20211118142459214"  /><br>
<br><strong>2、多云应用统一管理</strong><br>
<br>当Rainbond对接多集群后，在Rainbond上可以创建和管理多团队，并为每个团队在多集群中分配资源，在团队空间中就可以管理应用全生命周期。<br>
<br>多云应用管理参考文档：<br>
* <a href="https://www.rainbond.com/docs/get-start/team-management-and-multi-tenancy?channel=dockone">团队管理</a><br>
* <a href="https://mp.weixin.qq.com/s/Dt6FjAyRvJHQhm9p4--ceQ">复杂组织结构的团队管理</a><br>
* <a href="https://www.rainbond.com/docs/component-create/creation-process?channel=dockone">应用构建</a><br>
* <a href="https://www.rainbond.com/docs/user-manual/component-op?channel=dockone">服务运维</a><br>
* <a href="https://www.rainbond.com/docs/user-manual/app-manage?channel=dockone">应用运维</a><br>
<br><strong>3、开发环境和生产环境分离</strong><br>
<br><strong>A云上做测试/开发，B云上进行生产</strong> 是最常见的环境分离。一般是在云上做测试/开发，在本地进行生产。但有时候可能颠倒过来，因为你可能需要<strong>云的多区域能力</strong>或者像CDN这种高级功能来为<strong>生产环境加速</strong>。<br>
<br><strong>例如：</strong>在私有云环境中，部署开发环境，快速复制出测试、生产环境。快速复制支持跨团队、跨集群。<br>
<br><img src="<a href="https://i.loli.net/2021/11/11/aGVgxeTIq1Uyrcu.png%22" rel="nofollow" target="_blank">https://i.loli.net/2021/11/11/ ... ot%3B</a> alt="image-20211111174506912"  /><br>
<br>具体操作过程可以参考文档：<br>
* <a href="https://www.rainbond.com/docs/user-manual/component-dev/app_copy?channel=dockone">多云应用复制</a><br>
* <a href="https://www.rainbond.com/docs/practices/app-dev/update-rollback?channel=dockone">一键上线和回滚</a><br>
<br><strong>4、通过应用市场实现多云应用交付：</strong><br>
<br>用户可将已部署的业务通过Rainbond 应用发布 功能一键发布到内部应用商店，可通过应用模板对应用进行版本管理以及应用详情介绍。也可通过应用模板可在多云环境中一键部署。<br>
<img src="<a href="https://pic.imgdb.cn/item/61a5d0942ab3f51d91d5bf1c.png%22" rel="nofollow" target="_blank">https://pic.imgdb.cn/item/61a5 ... ot%3B</a> alt="image-20211118144714895"  /><br>
<br><img src="https://s2.loli.net/2021/12/05/so8LfOTVtPb5EiD.png" alt="image-20211205122143246" referrerpolicy="no-referrer"><br>
<br>具体操作过程可以参考文档：<br>
* <a href="https://www.rainbond.com/docs/user-manual/app-manage/share-app?channel=dockone">应用发布</a> <br>
* <a href="https://www.rainbond.com/docs/enterprise-manager/enterprise/appcenter/application-template?channel=dockone">应用模板</a><br>
* <a href="https://www.rainbond.com/docs/get-start/release-to-market?channel=dockone">制作应用模版</a><br>
* <a href="https://www.rainbond.com/docs/enterprise-manager/enterprise/appcenter/add-app?channel=dockone">基于应用市场的多云交付</a><br>
<br><strong>5、多云应用备份和迁移</strong><br>
<br>Rainbond目前提供了两种<a href="https://www.rainbond.com/docs/user-manual/app-manage/app-backup?channel=dockone">备份</a>方式，分别是本地备份及云端备份：<br>
<ul><li><br>本地备份：备份后可将应用进行跨团队的迁移，将应用完整迁移到其他团队</li><li><br>云端备份：支持对接 <code class="prettyprint">阿里云OSS</code> 、 <code class="prettyprint">标准S3</code>，备份后应用可进行跨集群的迁移，在任何具有Rainbond平台的地方均可进行恢复，可实现应用的快速迁移。</li></ul><br>
<br>进入 <strong>应用视图</strong>  >>  <strong>备份</strong> >> <strong>新增备份</strong>，备份操作分为 <code class="prettyprint">本地备份</code> 和 <code class="prettyprint">云端备份</code> 两种，选择后将进行自动备份。<br>
<br>备份完成后，当云环境不可用时，可在另外的云环境中通过备份快速恢复环境。<br>
<br>----<br>
<br><a href="https://www.rainbond.com/?channel=dockone"><strong>Rainbond</strong></a> 是完全开源的企业级，面向应用的云原生 DevOps， 开发、测试、生产运维一体化平台，不要求开发者掌握容器、Kubernetes 等复杂能力，面向开发者友好；提供从源码或简单镜像持续构建云原生应用的能力，对源码无侵入，业务持续发布到云端；高效的自动化运维，帮助开发者高效管理高可用的、安全的且去中心化的业务系统。<br>
<br><img src="https://grstatic.oss-cn-shanghai.aliyuncs.com/images/%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BA%8C%E7%BB%B4%E7%A0%81.gif" alt referrerpolicy="no-referrer">
                                
                                                              
</div>
            