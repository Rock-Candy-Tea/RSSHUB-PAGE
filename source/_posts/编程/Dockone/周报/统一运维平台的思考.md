
---
title: '统一运维平台的思考'
categories: 
 - 编程
 - Dockone
 - 周报
headimg: 'https://cors.zfour.workers.dev/?http://dockone.io/uploads/article/20210505/6353fa2731773fbf19b85da331f2c01e.png'
author: Dockone
comments: false
date: 2021-05-07 04:07:07
thumbnail: 'https://cors.zfour.workers.dev/?http://dockone.io/uploads/article/20210505/6353fa2731773fbf19b85da331f2c01e.png'
---

<div>   
<br>云原生的赛道拉开后，大公司都忙着不断引领潮流，小公司因为公有云的普及也可以紧跟潮流，反观当前最难受的是那些中型公司，不断思考云原生时代的转型，由于历史的包袱以及公司已经稳定的业务，通常都要开始进行内部统一平台的建设，今天首先简单给大家分享下，整个系统会做成一个系列分享给大家<br>
<h3>要解决的问题</h3>由于工作职责的分工不同，在中型互联网公司中，通常每个部门就只负责一块单独的功能，因此相关的平台的建设通常也都是由组内的运维或者研发搞定，这种在早期会非常快，首先因为熟悉业务，其次都是在一个组内所以平台开发起来，从功能角度完成度会比较高，但是会存在下面几个问题。<br>
<h4>数据孤岛</h4>由于每个系统都是独立建设数据就只存在自己的系统里面，研发想知道自己究竟用了那些数据，做了哪些配置都找不到一个地方，有人说这事CMDB能解，前提是有一个类似蓝鲸或者easyops的CMDB，或者一个大家一起来玩Kubernetes吧。其次由于数据相互之间没有任何关联，当在需要些关联关系分析的时候就扒瞎了。<br>
<h4>自助服务困难</h4>很多系统通常都有不愿意直接开放给用户用，美其名曰是有安全风险，需要保障稳定性。大多数的时候，我都在想一个问题，为什么一个操作可以给运维，而不能给研发？如果有明确的风险点，应该从系统内部解决，如果不能明确，运维和研发操作的本质区别是啥？<br>
<h4>操作手册多</h4>研发究竟要看多少操作手册、问多少人才能搞定一个操作？不同的平台操作手册不同，流程不同，需要注意的都不通，用户的操作其实通常并不多，为什么没有一个通用的平台？<br>
<h4>权限系统</h4>系统通常都会有相关的权限控制，但是随着公司平台的增多，通常每个平台都会搞一套自己的权限，最终就导致用户苦逼，比如来一个新人，可能需要到各个平台来进行各种权限的开通，才能让一个新人后续能正常的开发<br>
<br>这些问题其实有时候看是问题，有时候看又不是问题，本质上是人的角度与职责的不同，相对于上一代运维平台的开发，下一代基于云和云原生运维平台的建设，应以新的思路来进行建设，这里给大家分享爱因斯坦说过的一句话：<br>
<br>Problems cannot be solved at the same level of awareness that created them  <br>
<br>但是也给大家提个醒，每当我们做一个平台的时候都要不断的思考要解决那些问题，最终的结果就是两个：1）提出的问题被解决 2) 提出问题的人被解决，希望大家都是第一种。<br>
<h3>系统架构</h3><div class="aw-upload-img-list active">
<a href="http://dockone.io/uploads/article/20210505/6353fa2731773fbf19b85da331f2c01e.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="https://cors.zfour.workers.dev/?http://dockone.io/uploads/article/20210505/6353fa2731773fbf19b85da331f2c01e.png" class="img-polaroid" title="1.png" alt="1.png" referrerpolicy="no-referrer"></a>
</div>
<br>
为了解决之前提到的问题，运维控制台主要是通过两个核心模块：应用管理、资源管理。<br>
<h4>资源管理：成本分摊、基础资源管理</h4>资源管理主要是通过服务目录对公司的各种基础服务进行整合，用户通过服务目录选择对应的服务，然后创建服务。由运维控制台来对接各种基础平台实现各种资源的交付，在过程中运维控制台会沉淀相关的元数据和交付流程数据，实现流程透明化，数据统一存储。<br>
<br>通过沉淀的数据，运维控制台采用了类似图的模型，通过对沉淀的元数据相互建立关系，从而实现各种资源的关联，为计费系统提供相关的元数据。<br>
<h4>应用运维：全生命周期管理、权限管理</h4>应用运维模块首先提供应用全生命周期管理的相关功能，然后通过整合上面的资源管理，实现用户自助化，然后以应用为中心为用户提供资源的统一的视图，并且建立以应用为中心的权限管理体系。<br>
<h3>用户功能</h3>用户功能汇总：<a href="https://www.processon.com/view/link/607c4cd87d9c08283dd189d0" rel="nofollow" target="_blank">https://www.processon.com/view ... 189d0</a><br>
<div class="aw-upload-img-list active">
<a href="http://dockone.io/uploads/article/20210505/8952106e1317b104e79c80a5bccfba4f.png" target="_blank" data-fancybox-group="thumb" rel="lightbox"><img src="https://cors.zfour.workers.dev/?http://dockone.io/uploads/article/20210505/8952106e1317b104e79c80a5bccfba4f.png" class="img-polaroid" title="2.png" alt="2.png" referrerpolicy="no-referrer"></a>
</div>
<br>
<br>原文链接：<a href="https://mp.weixin.qq.com/s/mLnqR2kwGNiFLL39g-Ml8Q" rel="nofollow" target="_blank">https://mp.weixin.qq.com/s/mLnqR2kwGNiFLL39g-Ml8Q</a>
                                                                <div class="aw-upload-img-list">
                                                                                                                                                                                                </div>
                                
                                                                <ul class="aw-upload-file-list">
                                                                                                                                                                                                                    </ul>
                                                              
</div>
            