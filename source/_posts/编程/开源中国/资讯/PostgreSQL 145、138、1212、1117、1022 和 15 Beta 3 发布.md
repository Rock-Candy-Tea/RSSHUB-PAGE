
---
title: 'PostgreSQL 14.5、13.8、12.12、11.17、10.22 和 15 Beta 3 发布'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=3220'
author: 开源中国
comments: false
date: Tue, 16 Aug 2022 07:39:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=3220'
---

<div>   
<div class="content">
                                                                                            <p><span style="background-color:#ffffff; color:#333333">PostgreSQL 全球开发组针对当前所有被支持版本<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fabout%2Fnews%2Fpostgresql-145-138-1212-1117-1022-and-15-beta-3-released-2496%2F" target="_blank">发布了一次更新</a>，版本包括：</span><span style="background-color:#ffffff; color:#0d0a0b">14.5、13.8、12.12、11.17 和 10.22，以及 PostgreSQL 15 的第三个 beta 版本。此版本关闭了一个安全漏洞并修复了过去三个月报告的 40 多个错误。</span></p> 
<h4><strong>PostgreSQL 10 EOL Upcoming</strong></h4> 
<p>PostgreSQL 10 将于 2022 年 11 月 10 日停止接收修复。对于在生产环境中运行 PostgreSQL 10 的用户，官方强烈建议升级到更新的、受支持的 PostgreSQL 版本，以便可以继续接收错误和安全修复。可参阅<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fsupport%2Fversioning%2F" target="_blank">版本控制政策</a>以获取更多信息。</p> 
<h4><strong><span style="color:#000000"><span style="background-color:#ffffff">安全问题</span></span></strong></h4> 
<p style="margin-left:0px; margin-right:0px; text-align:left"><strong><span style="background-color:#ffffff"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fsupport%2Fsecurity%2FCVE-2022-2625%2F" target="_blank"><span style="color:#2980b9">CVE-2022-2625</span></a><span style="color:#2980b9">：扩展脚本替换不属于扩展的对象</span></span></strong></p> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>受影响的版本：10 - 14。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="background-color:#ffffff; color:#0d0a0b">安全团队通常不会测试不受支持的版本，但</span><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>这是一个相当古老的问题。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>一些扩展使用<code>CREATE OR REPLACE</code>或<code>CREATE IF NOT EXISTS</code>命令。但是，有些人不遵守 documented rule，只针对已知为扩展成员的对象。攻击需要在至少一个模式中创建非临时对象的权限，能够诱使或等待管理员在该模式中创建或更新受影响的扩展，以及诱使或等待受害者使用<code>CREATE OR REPLACE</code>或<code>CREATE IF NOT EXISTS</code>中的 object targeted。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>鉴于所有三个先决条件，攻击者可以作为受害者角色（可能是超级用户）运行任意代码。已知受影响的扩展包括 PostgreSQL 捆绑和非捆绑扩展。PostgreSQL 在核心服务器中阻止了这种攻击，因此无需修改单个扩展。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<h4><strong>关于 PostgreSQL 15 Beta 的说明</strong></h4> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>此版本标志着 PostgreSQL 15 的第三个 beta 版本，并使社区在第三季度末左右暂时向一般可用性迈进了一步。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>本着开源 PostgreSQL 社区的精神，官方强烈建议用户在系统上测试 PostgreSQL 15 的新功能，以帮助消除可能存在的错误或其他问题。虽然不建议在生产环境中运行 PostgreSQL 15 Beta 3，但鼓励找到针对此 Beta 版本运行典型应用程序工作负载的方法。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<ul> 
 <li><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdeveloper%2Fbeta%2F" target="_blank">https://www.postgresql.org/developer/beta/</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li> 
 <li><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2F15%2Frelease-15.html" target="_blank">https://www.postgresql.org/docs/15/release-15.html</a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li> 
</ul> 
<h4><span style="color:#000000"><strong><span style="background-color:#ffffff">错误修复和改进</span></strong></span></h4> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>此更新修复了过去几个月报告的 40 多个错误。下面列出的问题会影响 PostgreSQL 14，其中一些问题也可能会影响其他受支持的 PostgreSQL 版本：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<ul> 
 <li>修复了在遇到 missing tablespace directory 时，在备用服务器上重放<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-createdatabase.html" target="_blank"><code>CREATE DATABASE</code></a>write-ahead log (WAL) 的问题 。</li> 
 <li>添加对作为普通目录的 tablespaces 的支持，而不是对其他目录的符号链接。</li> 
 <li>修复<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-createindex.html" target="_blank"><code>CREATE INDEX</code></a> 中的权限检查以使用用户的权限。这修复了依赖于修复 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fsupport%2Fsecurity%2FCVE-2022-1552%2F" target="_blank">CVE-2022-1552</a> 之前的行为的损坏转储/恢复场景。</li> 
 <li>修复扩展统计的不正确的权限检查代码。</li> 
 <li>修复扩展统计机制以处理布尔值表达式的最常见值 ( MCV ) 类型的统计信息。</li> 
 <li>修复<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-altertable.html" target="_blank"><code>ALTER TABLE ... ENABLE/DISABLE TRIGGER</code></a> 以处理分区表上触发器的递归。</li> 
 <li>拒绝<code>ROW()</code>的表达式和<code>FROM</code>中超过 1600 列的函数。</li> 
 <li>修复逻辑复制订阅者中的内存泄漏。</li> 
 <li>安排在<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fspi-spi-commit.html" target="_blank"><code>SPI_commit()</code></a>中清理 commit-time errors，而不是期望 callers 这样做。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fplpython.html" target="_blank">这包括对 PL/Python</a> 中相同场景的修复，该场景报告了 Python 3.11 的崩溃和旧版本的 Python 3 的内存泄漏。</li> 
 <li>改进 libpq 中对 pipeline mode 下空闲状态的处理。</li> 
 <li>修复<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fpgupgrade.html" target="_blank"><code>pg_upgrade</code></a>以检测接受<code>anyarray</code>参数的函数的 non-upgradable usages。</li> 
 <li>一些<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fpostgres-fdw.html" target="_blank"><code>postgres_fdw</code></a> 修复，包括在存在<code>WITH CHECK OPTION</code>约束时防止批量插入。</li> 
 <li>......</li> 
</ul> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>有关可用更改的完整列表，可查看 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Frelease%2F" target="_blank">发行说明</a>。</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p> 
<p>下载地址：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdownload%2F" target="_blank">https://www.postgresql.org/download/</a></p>
                                        </div>
                                      
</div>
            