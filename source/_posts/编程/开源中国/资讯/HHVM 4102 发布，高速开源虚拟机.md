
---
title: 'HHVM 4.102 发布，高速开源虚拟机'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=4182'
author: 开源中国
comments: false
date: Thu, 25 Mar 2021 07:12:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=4182'
---

<div>   
<div class="content">
                                                                                            <p>HHVM 4.102 正式发布，这个版本的发布就标志着对 4.96 的支持已经结束。HHVM 4.97-4.101 以及 4.56 LTS 和 4.80 LTS 版本仍然受到支持。</p> 
<h3>重大变化</h3> 
<ul> 
 <li>现在在接口上声明的方法上能够正确地强制使用<code><<__Override>></code> （以前只在类和 traits 中声明的方法上执行）。如果属性被用于接口方法上，而该方法并未在任何接口的父接口上声明，则类型检查器将引发一个错误；</li> 
 <li>如果在 trait 中声明的 <code>protected</code> 方法被从无效的上下文中调用，typechecker 现在会正确地引发一个错误。以前，类型检查器存在一个 bug，即允许从任何使用相同 trait 的类中调用 <code>protected</code> 方法，即使它不是目标类的子类或父类。这样的调用会导致运行时错误，但以前类型检查器不会发现。</li> 
</ul> 
<h3>未来的变化</h3> 
<ul> 
 <li>今后，对非数值类型（除 <code>int</code> 和 <code>float</code> 以外的所有类型）的值使用任何算术运算符(+, -, *, /, %, )，都会导致在运行时抛出异常。所有这些情况都会引起类型检查器错误。 
  <ul> 
   <li>同样的规则也适用于各自的赋值运算符（ <code>+=</code> 、 <code>*=</code> 等）;</li> 
   <li>INI 选项 <code>hhvm.notice_on_coerce_for_math=2</code> 现在可以用来启用的未来行为（设置为 <code>1</code> 会引发一个通知而不是抛出一个异常）;</li> 
   <li>类似的限制也适用于增量和减量运算符 ( <code>$i++</code>, <code>-$i</code>)。INI 选项 <code>hhvm.notice_on_coerce_for_inc_dec</code> 可以用来启用这些未来的行为（设置为 <code>1</code> 表示通知， <code>2</code> 表示异常）。</li> 
  </ul> </li> 
</ul> 
<p>更多详情可查看：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhhvm.com%2Fblog%2F2021%2F03%2F23%2Fhhvm-4.102.html" target="_blank">https://hhvm.com/blog/2021/03/23/hhvm-4.102.html</a></p>
                                        </div>
                                      
</div>
            