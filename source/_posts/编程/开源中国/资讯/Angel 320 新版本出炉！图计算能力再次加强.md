
---
title: 'Angel 3.2.0 新版本出炉！图计算能力再次加强'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://oscimg.oschina.net/oscnet/58417417-d211-47a0-952f-75c73edc97cb.png'
author: 开源中国
comments: false
date: Tue, 03 Aug 2021 15:28:00 GMT
thumbnail: 'https://oscimg.oschina.net/oscnet/58417417-d211-47a0-952f-75c73edc97cb.png'
---

<div>   
<div class="content">
                                                                                            <p><strong>Angel项目的3.2.0版本发布啦！</strong></p> 
<p>Angel是腾讯首个AI开源项目，经过多个版本迭代，于2019年在Linux基金会顺利毕业。作为面向机器学习的第三代高性能计算平台，<strong>Angel提供了全栈的机器学习能力，并致力于解决高维稀疏大模型训练以及大规模分布式图计算的问题</strong>。</p> 
<p> </p> 
<p> </p> 
<p><img src="https://oscimg.oschina.net/oscnet/58417417-d211-47a0-952f-75c73edc97cb.png" referrerpolicy="no-referrer"></p> 
<p> </p> 
<p>在3.1.0的版本中，Angel首次引入了图计算能力，提供了大量开箱即用的图算法，得到了业界广泛的关注和使用。本次版本发布，<strong>Angel继续加强了图计算的能力</strong>，相较于上个版本，我们做了很多优化并提供了一些新的特性，感兴趣的话就赶紧下载体验吧，期待你的反馈哦。</p> 
<p><strong>主要新特性如下：</strong></p> 
<p><strong>图计算分层抽象与灵活扩展</strong></p> 
<p>Angel3.1.0版本提供了大量开箱即用的图算法，但在使用过程中，部分用户反馈需要根据自己的业务场景做定制化的二次开发以及新算法的研发。因此我们对图计算框架做了系统性的三层抽象：图计算引擎层、图操作算子层以及图算法层，并在图操作算子层提供了常用的十几种算子抽象如init、get、walker、sample等以及自定义算子接口。基于上述抽象，用户可以快速、灵活地在算法层扩展或实现自定义图算法。</p> 
<p><strong>参数服务器与MPI混合运行模式</strong></p> 
<p>图算法种类繁多，主要可分为三大类：传统图挖掘算法、图表示学习算法和图神经网络算法，每一种算法都有着不同的计算流程，对计算平台的要求也不一样，这导致图计算解决方案非常的碎片化，很难在一个平台中支持所有类型的算法。Angel是一个基于参数服务器模式的计算平台，在过去的版本中，我们对参数服务器做了大量的优化和功能上的增强：例如算法流程上的优化、自定义PS函数和计算下推等，使得Angel能够同时支撑这三大类算法，并且大部分算法都有着良好的性能，但仍然有少部分算法计算不够高效，这主要受限于参数服务器模式的一些局限性：例如数据交互不够直接、重复存储浪费内存空间、大规模任务连接数爆炸，稠密模型聚合效率不是最优等。鉴于以上原因，我们在3.2.0版本中开始探索下一代图计算框架，尝试将参数服务器模式和MPI模式优势结合起来，具体做法是将Angel PS以嵌入式的方式启动在Worker（或Executor）中，并优化网络通信拓扑，节点之间可以根据算法特征采用最高效的通信方式，在一个模型中可以同时使用PS模式和MPI常见的环状通信拓扑等。这个功能特性目前还处在expermental阶段，3.2.0版本将会首先在游走类算法上做一些尝试。</p> 
<p><strong>自适应的模型分区方式</strong></p> 
<p>模型的分区路由一般有range和hash两种方式，它们有各自的优缺点，比如range分区方式占用内存少，计算快但是容易造成计算上的负载不均衡且往往需要节点id是数值类型且编码在连续的空间才会比较高效，需要在图训练之前就提前做一些预处理的操作。而hash分区方式能够解决负载不均衡问题，且能支持任意类型的节点id，不需要对图做编码预处理的工作，该分区方式图算法的增量训练也很容易支持，但是其内存占用较多。我们对参数服务器模型分区路由方式做了优化，能够同时支持range和hash的分区，在实际的图算法训练过程中可以根据不同的算法计算特性自适应地选择合适的模型分区方式，有效解决图训练预处理、存储和计算上的负载不均衡以及增量训练等问题。</p> 
<p><strong>支持复杂异构 </strong><strong>Graph Embedding</strong></p> 
<p>现实很多业务场景中图网络往往是复杂异构的，一些常见的同构GNN算法很难学到有效的表达，因此需要更加复杂的异构Graph Embedding来解决问题。而图计算平台支持复杂异构GNN算法往往面临着多重挑战：比如复杂异构网络存储问题，网络中可能存在多种不同类型的节点，每个节点又可能有多种属性，每个节点对还可能有多种类型的边以及边有多种属性; 又比如复杂异构网络的计算问题，由于存在多种不同类型的节点、边以及属性，需要提供多种能够支撑复杂操作的算子及其组合进行计算。我们丰富和拓展了图的存储结构和计算模式，针对复杂操作提供灵活的自定义ps func接口，能够良好的支持复杂异构图网络的存储和计算，并且能够支持高维稀疏的图节点特征，可以很容易地进行异构图的表征学习。同时我们也新增了HAN、异构GAT、异构GraphSage、IGMC边预测以及异构Bipartite GraphSage等5个开箱即用的异构图神经网络算法。</p> 
<p><strong>千亿边大图的高性能优化</strong></p> 
<p>大规模图算法在容错和计算性能上相对的要求也更高，我们针对千亿边大图训练做了专门的性能优化并在现网的共享集群做了性能测试，在K-core和common friends两个算法的测试结果为在内存消耗降低30%的同时，计算性能还有3倍的提升。</p> 
<p><img src="https://oscimg.oschina.net/oscnet/0257c5ed-89e6-414b-a333-d1971104f1ed.png" referrerpolicy="no-referrer"></p> 
<p><strong>机器学习算法库丰富</strong></p> 
<p>新增十几种特征工程方法以及1个多任务学习算法esmm</p> 
<p>想了解更多细节，请参考官方 release notes：</p> 
<p>https://github.com/Angel-ML/angel/releases/tag/Release-3.2.0</p> 
<p>[请复制链接到浏览器，或点击阅读原文查看]</p>
                                        </div>
                                      
</div>
            