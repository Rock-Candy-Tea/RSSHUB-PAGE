
---
title: 'HHVM 4.126 发布，高速开源虚拟机'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=1677'
author: 开源中国
comments: false
date: Wed, 08 Sep 2021 23:33:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=1677'
---

<div>   
<div class="content">
                                                                                            <p>HHVM 4.126 现已发布。这个版本的发布标志着对 4.120 版本的支持已经结束，HHVM 4.120-4.123、以及 4.80 和 4.102 LTS 版本还会继续得到支持。HHVM 4.125 因候选发布版本的问题而被取消。</p> 
<p>HHVM 4.126 更新内容如下：</p> 
<p><strong>Highlights</strong></p> 
<ul> 
 <li><code>hh_client --lint FILE</code>现已得到支持，包括几个 type-aware linters。</li> 
 <li>支持 Debian 11 (Bullseye)。</li> 
 <li>更新到较新版本的 Timelib，修复对较新时区数据库的支持；在某些环境中，将缺少一些 transitions。</li> 
 <li>is/as checks 现在会在需要时调用自动加载器而不是失败。</li> 
 <li>改进了运行时间使用的 Hack 组件（例如解析器）的构建系统可靠性和性能。</li> 
 <li>添加了<code>HH\Lib\Locale</code>命名空间，提供： 
  <ul> 
   <li><code>Locale\create(string $locale)[]: Locale\Locale</code></li> 
   <li><code>Locale\modified(Locale\Locale $base, Locale\Category $cat, string $new): Locale</code></li> 
   <li><code>Locale\c()[]: Locale\Locale</code>（可能改名为<code>Locale\bytes()</code>)</li> 
   <li><code>Locale\get_native(): Locale\Locale</code></li> 
   <li><code>Locale\set_native(Locale\Locale $locale): void</code></li> 
   <li><code>Locale\from_environment(): Locale\Locale</code></li> 
  </ul> </li> 
</ul> 
<p>新的 Locale\ functions 旨在替代 setlocale() 内置函数，并与 Str\ namespace 的未来变化相互配合。</p> 
<p>在大多数情况下，官方不鼓励更改 native locale（无论是用 setlocale() 还是用新的 Locale/set_native()）。因为它可能会产生意想不到的结果，比如改变Str\format()的输出，或者翻译一些 builtins 引发的异常信息。</p> 
<p><strong>Breaking Changes</strong></p> 
<ul> 
 <li>Ubuntu 20.10 (Groovy) 已不再被支持。</li> 
</ul> 
<p><strong>Future Changes</strong></p> 
<ul> 
 <li>当无效的偏移量或长度被传递时，Str\ HSL functions 将开始抛出 InvalidArgumentException 而不是 InvariantException。官方强烈建议不要捕捉这两种异常。</li> 
 <li>在未来的版本中，对大多数形式的对象进行迭代将是一个错误；现在可以用 hhvm.throw_on_iteration_over_objects INI 设置来测试。如果设置为 1，就会发出通知；如果设置为 2，就会出现错误。</li> 
</ul> 
<p>更新说明：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhhvm.com%2Fblog%2F2021%2F09%2F07%2Fhhvm-4.126.html" target="_blank">https://hhvm.com/blog/2021/09/07/hhvm-4.126.html</a></p>
                                        </div>
                                      
</div>
            