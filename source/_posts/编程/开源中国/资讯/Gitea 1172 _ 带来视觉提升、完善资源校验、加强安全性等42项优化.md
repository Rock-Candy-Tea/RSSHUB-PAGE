
---
title: 'Gitea 1.17.2 _ 带来视觉提升、完善资源校验、加强安全性等42项优化'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=7332'
author: 开源中国
comments: false
date: Wed, 07 Sep 2022 12:59:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=7332'
---

<div>   
<div class="content">
                                                                                            <p>Gitea 1.17.2 合并了 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpulls%3Fq%3Dis%253Apr%2Bmilestone%253A1.17.2%2Bis%253Amerged" target="_blank">42</a> 个 Pull Request，现已正式发布，我们建议所有用户升级到此版本。</p> 
<!-- Security Thanks! --> 
<p>致谢：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgitea.com%2Fzeripath" target="_blank">@zeripath</a> 为 Gitea 贡献了诸多安全补丁！</p> 
<p>您可以从<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdl.gitea.io%2Fgitea%2F1.17.2%2F" target="_blank">下载页面</a>下载预编译的二进制文件，请注意选择正确的操作系统。关于如何安装，还请参考<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdocs.gitea.io%2Fen-us%2Finstall-from-binary%2F" target="_blank">安装手册</a>。</p> 
<blockquote> 
 <p>Gitea 中文文档：<code>https://docs.gitea.io/zh-cn/</code></p> 
</blockquote> 
<p>在此，我们感谢所有在 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fopencollective.com%2Fgitea" target="_blank">Open Collective</a> 给予我们资金支持的贡献者。</p> 
<h2>Changelog</h2> 
<h2><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Freleases%2Ftag%2Fv1.17.2" target="_blank">1.17.2</a> - 2022-09-06</h2> 
<!-- Changelog Details --> 
<ul> 
 <li>SECURITY 
  <ul> 
   <li>Double check CloneURL is acceptable (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20869" target="_blank">#20869</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20892" target="_blank">#20892</a>)</li> 
   <li>Add more checks in migration code (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21011" target="_blank">#21011</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21050" target="_blank">#21050</a>)</li> 
  </ul> </li> 
 <li>ENHANCEMENTS 
  <ul> 
   <li>Fix hard-coded timeout and error panic in API archive download endpoint (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20925" target="_blank">#20925</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21051" target="_blank">#21051</a>)</li> 
   <li>Improve arc-green code theme (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21039" target="_blank">#21039</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21042" target="_blank">#21042</a>)</li> 
   <li>Enable contenthash in filename for dynamic assets (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20813" target="_blank">#20813</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20932" target="_blank">#20932</a>)</li> 
   <li>Don't open new page for ext wiki on same repository (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20725" target="_blank">#20725</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20910" target="_blank">#20910</a>)</li> 
   <li>Disable doctor logging on panic (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20847" target="_blank">#20847</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20898" target="_blank">#20898</a>)</li> 
   <li>Remove calls to load Mirrors in user.Dashboard (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20855" target="_blank">#20855</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20897" target="_blank">#20897</a>)</li> 
   <li>Update codemirror to 5.65.8 (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20875" target="_blank">#20875</a>)</li> 
   <li>Rework repo buttons (#20602, <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20718" target="_blank">#20718</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20719" target="_blank">#20719</a>)</li> 
  </ul> </li> 
 <li>BUGFIXES 
  <ul> 
   <li>Ensure delete user deletes all comments (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21067" target="_blank">#21067</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21068" target="_blank">#21068</a>)</li> 
   <li>Delete unreferenced packages when deleting a package version (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20977" target="_blank">#20977</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21060" target="_blank">#21060</a>)</li> 
   <li>Redirect if user does not exist on admin pages (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20981" target="_blank">#20981</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21059" target="_blank">#21059</a>)</li> 
   <li>Set uploadpack.allowFilter etc on gitea serv to enable partial clones with ssh (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20902" target="_blank">#20902</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21058" target="_blank">#21058</a>)</li> 
   <li>Fix 500 on time in timeline API (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21052" target="_blank">#21052</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21057" target="_blank">#21057</a>)</li> 
   <li>Fill the specified ref in webhook test payload (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20961" target="_blank">#20961</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21055" target="_blank">#21055</a>)</li> 
   <li>Add another index for Action table on postgres (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21033" target="_blank">#21033</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21054" target="_blank">#21054</a>)</li> 
   <li>Fix broken insecureskipverify handling in redis connection uris (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20967" target="_blank">#20967</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21053" target="_blank">#21053</a>)</li> 
   <li>Add Dev, Peer and Optional dependencies to npm PackageMetadataVersion (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21017" target="_blank">#21017</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21044" target="_blank">#21044</a>)</li> 
   <li>Do not add links to Posters or Assignees with ID < 0 (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20577" target="_blank">#20577</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21037" target="_blank">#21037</a>)</li> 
   <li>Fix modified due date message (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20388" target="_blank">#20388</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21032" target="_blank">#21032</a>)</li> 
   <li>Fix missed sort bug (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21006" target="_blank">#21006</a>)</li> 
   <li>Fix input.value attr for RequiredClaimName/Value (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20946" target="_blank">#20946</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F21001" target="_blank">#21001</a>)</li> 
   <li>Change review buttons to icons to make space for text (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20934" target="_blank">#20934</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20978" target="_blank">#20978</a>)</li> 
   <li>Fix download archiver of a commit (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20962" target="_blank">#20962</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20971" target="_blank">#20971</a>)</li> 
   <li>Return 404 NotFound if requested attachment does not exist (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20886" target="_blank">#20886</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20941" target="_blank">#20941</a>)</li> 
   <li>Set no-tags in git fetch on compare (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20893" target="_blank">#20893</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20936" target="_blank">#20936</a>)</li> 
   <li>Allow multiple metadata files for Maven packages (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20674" target="_blank">#20674</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20916" target="_blank">#20916</a>)</li> 
   <li>Increase Content field size of gpg_key and public_key to MEDIUMTEXT (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20896" target="_blank">#20896</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20911" target="_blank">#20911</a>)</li> 
   <li>Fix mirror address setting not working (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20850" target="_blank">#20850</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20904" target="_blank">#20904</a>)</li> 
   <li>Fix push mirror address backend get error Address cause setting page display error (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20593" target="_blank">#20593</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20901" target="_blank">#20901</a>)</li> 
   <li>Fix panic when an invalid oauth2 name is passed (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20820" target="_blank">#20820</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20900" target="_blank">#20900</a>)</li> 
   <li>In PushMirrorsIterate and MirrorsIterate if limit is negative do not set it (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20837" target="_blank">#20837</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20899" target="_blank">#20899</a>)</li> 
   <li>Ensure that graceful start-up is informed of unused SSH listener (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20877" target="_blank">#20877</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20888" target="_blank">#20888</a>)</li> 
   <li>Pad GPG Key ID with preceding zeroes (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20878" target="_blank">#20878</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20885" target="_blank">#20885</a>)</li> 
   <li>Fix SQL Query for <code>SearchTeam</code> (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20844" target="_blank">#20844</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20872" target="_blank">#20872</a>)</li> 
   <li>Fix the mode of custom dir to 0700 in docker-rootless (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20861" target="_blank">#20861</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20867" target="_blank">#20867</a>)</li> 
   <li>Fix UI mis-align for PR commit history (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20845" target="_blank">#20845</a>) (<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgo-gitea%2Fgitea%2Fpull%2F20859" target="_blank">#20859</a>)</li> 
  </ul> </li> 
</ul>
                                        </div>
                                      
</div>
            