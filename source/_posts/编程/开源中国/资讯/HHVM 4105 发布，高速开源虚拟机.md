
---
title: 'HHVM 4.105 发布，高速开源虚拟机'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=2151'
author: 开源中国
comments: false
date: Fri, 16 Apr 2021 07:11:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=2151'
---

<div>   
<div class="content">
                                                                    
                                                        <p>HHVM 4.105 已经正式发布了，这个版本的发布就标志着对 4.99 版本支持已经结束；HHVM 4.100-4.104，以及 4.80 LTS 版本还会继续得到支持。</p> 
<p>HHVM 4.105 更新内容如下：</p> 
<h3>亮点</h3> 
<ul> 
 <li>Rust组件现在使用 Rust 1.51.0 构建；</li> 
 <li>修正了新的 <code>enum class</code> 功能中的几个错误；</li> 
 <li>改进了当传递给 closure 的参数过多时的运行时错误信息：函数现在被报告为 <code>Closure$func#num()</code> 而不是 <code>__invoke()</code> ；</li> 
 <li>方法覆盖现在可以指定一个比原始方法定义更严格的上下文；</li> 
 <li>Hack 集合方法中的函数现在有了定义的 coeffects；</li> 
 <li><code>hh_server</code> 的压缩模型可以通过设置 <code>sharedmem_compression</code> <code>.hhconfig</code> 选项为 ZSTD 压缩级别来改变为 ZSTD；3 是 ZSTD 的默认值。这本质上是 CPU 与内存的权衡——大型项目可能希望试验这个选项；</li> 
 <li>接口类型常量现在可以通过实现类来覆盖；</li> 
</ul> 
<h3>重大变化：</h3> 
<ul> 
 <li>删除了未被记录的 <code><<__ConstFun>></code> 属性；</li> 
</ul> 
<h3>未来的变化：</h3> 
<ul> 
 <li>在未来的版本中，将会逐步移除 <code>json_last_error()</code>、 <code>json_last_error_msg()</code> 和 <code>preg_last_error()</code> ；</li> 
 <li>所有 json/preg 函数的 <code>_with_error</code> 后缀变体已经被添加，并且应该用于错误检查。例如 <code>json_encode()</code> 有 <code>json_encode_with_error()</code> 以及 <code>preg_match()</code> 有 <code>preg_match_with_error()</code> 。</li> 
</ul> 
<p>更多详情可查看：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fhhvm.com%2Fblog%2F2021%2F04%2F14%2Fhhvm-4.105.html" target="_blank">https://hhvm.com/blog/2021/04/14/hhvm-4.105.html</a></p>
                                        </div>
                                      
</div>
            