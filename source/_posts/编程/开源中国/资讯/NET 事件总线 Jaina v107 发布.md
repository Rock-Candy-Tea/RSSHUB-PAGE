
---
title: '.NET äº‹ä»¶æ€»çº¿ Jaina v1.0.7 å‘å¸ƒ'
categories: 
 - ç¼–ç¨‹
 - å¼€æºä¸­å›½
 - èµ„è®¯
headimg: 'https://img.shields.io/badge/license-MulanPSL--2.0-orange?cacheSeconds=10800'
author: å¼€æºä¸­å›½
comments: false
date: Fri, 29 Oct 2021 12:47:00 GMT
thumbnail: 'https://img.shields.io/badge/license-MulanPSL--2.0-orange?cacheSeconds=10800'
---

<div>   
<div class="content">
                                                                                            <h1 style="margin-left:0px; margin-right:0px; text-align:left">Jaina</h1> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/dotnetchina/Jaina/blob/master/LICENSE"><img alt="license" src="https://img.shields.io/badge/license-MulanPSL--2.0-orange?cacheSeconds=10800" referrerpolicy="no-referrer"></a><span>Â </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nuget.org%2Fpackages%2FJaina" target="_blank"><img alt="nuget" src="https://img.shields.io/nuget/v/Jaina.svg?cacheSeconds=10800" referrerpolicy="no-referrer"></a><span>Â </span><a href="https://gitee.com/dotnetchina"><img alt="dotNET China" src="https://img.shields.io/badge/organization-dotNET%20China-yellow?cacheSeconds=10800" referrerpolicy="no-referrer"></a></p> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">.NET äº‹ä»¶æ€»çº¿ï¼Œç®€åŒ–é¡¹ç›®ã€ç±»åº“ã€çº¿ç¨‹ã€æœåŠ¡ç­‰ä¹‹é—´çš„é€šä¿¡ï¼Œä»£ç æ›´å°‘ï¼Œè´¨é‡æ›´å¥½ã€‚â€</p> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><img alt="Jaina.drawio" src="https://gitee.com/dotnetchina/Jaina/raw/master/drawio/Jaina.drawio.png" referrerpolicy="no-referrer"></p> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/dotnetchina/Jaina/blob/master/PRINCIPLE.md">æºç è§£æ</a></p> 
<h2 style="margin-left:0; margin-right:0; text-align:left">ç‰¹æ€§</h2> 
<ul> 
 <li>ç®€åŒ–ç»„ä»¶ä¹‹é—´é€šä¿¡ 
  <ul> 
   <li>æ”¯æŒäº‹ä»¶ç›‘è§†å™¨</li> 
   <li>æ”¯æŒåŠ¨ä½œæ‰§è¡Œå™¨</li> 
   <li>æ”¯æŒè‡ªå®šä¹‰æ¶ˆæ¯å­˜å‚¨ç»„ä»¶</li> 
   <li>æ”¯æŒè‡ªå®šä¹‰ç­–ç•¥æ‰§è¡Œ</li> 
   <li>æ”¯æŒå•æ¶ˆè´¹ã€å¤šæ¶ˆè´¹æ¶ˆæ¯</li> 
   <li>æ”¯æŒæ¶ˆæ¯å¹‚ç­‰æ€§å¤„ç†</li> 
  </ul> </li> 
 <li>é«˜å†…èšï¼Œä½è€¦åˆï¼Œä½¿ä»£ç æ›´ç®€å•</li> 
 <li>éå¸¸å¿«é€Ÿï¼Œæ¯ç§’å¯å¤„ç†<span>Â </span><code>30000 +</code><span>Â </span>æ¶ˆæ¯</li> 
 <li>å¾ˆå°ï¼Œä»…<span>Â </span><code>10KB</code></li> 
 <li>æ— ç¬¬ä¸‰æ–¹ä¾èµ–</li> 
 <li>å¯åœ¨<span>Â </span><code>Windows/Linux/MacOS</code><span>Â </span>å®ˆæŠ¤è¿›ç¨‹éƒ¨ç½²</li> 
 <li>æ”¯æŒåˆ†å¸ƒå¼ã€é›†ç¾¤</li> 
 <li>é«˜è´¨é‡ä»£ç å’Œè‰¯å¥½å•å…ƒæµ‹è¯•</li> 
</ul> 
<h2 style="margin-left:0; margin-right:0; text-align:left">å®‰è£…</h2> 
<ul> 
 <li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nuget.org%2Fpackages%2FJaina" target="_blank">Package Manager</a></li> 
</ul> 
<div style="text-align:left"> 
 <div> 
  <pre><span><span>Install-Package</span><span style="color:#bbbbbb"> </span><span>Jaina</span></span></pre> 
 </div> 
</div> 
<ul> 
 <li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.nuget.org%2Fpackages%2FJaina" target="_blank">.NET CLI</a></li> 
</ul> 
<div style="text-align:left"> 
 <div> 
  <pre><span><span>dotnet</span><span style="color:#bbbbbb"> </span><span>add</span><span style="color:#bbbbbb"> </span><span>package</span><span style="color:#bbbbbb"> </span><span>Jaina</span></span></pre> 
 </div> 
</div> 
<h2 style="margin-left:0; margin-right:0; text-align:left">å¿«é€Ÿå…¥é—¨</h2> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">æˆ‘ä»¬åœ¨<a href="https://gitee.com/dotnetchina/Jaina/blob/master/samples">ä¸»é¡µ</a>ä¸Šæœ‰ä¸å°‘ä¾‹å­ï¼Œè¿™æ˜¯è®©æ‚¨å…¥é—¨çš„ç¬¬ä¸€ä¸ªï¼š</p> 
<ol> 
 <li>å®šä¹‰äº‹ä»¶è®¢é˜…è€…<span>Â </span><code>ToDoEventSubscriber</code>ï¼š</li> 
</ol> 
<div style="text-align:left"> 
 <div> 
  <pre><span><span style="color:#888888">// å®ç° IEventSubscriber æ¥å£</span></span>
<span><strong style="color:#000000">public</strong> <strong style="color:#000000">class</strong> <strong style="color:#445588">ToDoEventSubscriber</strong> <span>:</span> <span>IEventSubscriber</span></span>
<span><span>&#123;</span></span>
<span>    <strong style="color:#000000">private</strong> <strong style="color:#000000">readonly</strong> <span>ILogger</span><span><</span><span>ToDoEventSubscriber</span><span>></span> <span>_logger</span><span>;</span></span>
<span>    <strong style="color:#000000">public</strong> <strong style="color:#990000">ToDoEventSubscriber</strong><span>(</span><span>ILogger</span><span><</span><span>ToDoEventSubscriber</span><span>></span> <span>logger</span><span>)</span></span>
<span>    <span>&#123;</span></span>
<span>        <span>_logger</span> <span>=</span> <span>logger</span><span>;</span></span>
<span>    <span>&#125;</span></span>

<span>    <span>[</span><strong style="color:#990000">EventSubscribe</strong><span>(</span><span style="color:#dd2200">"ToDo:Create"</span><span>)]</span> <span style="color:#888888">// æ”¯æŒå¤šä¸ª</span></span>
<span>    <strong style="color:#000000">public</strong> <strong style="color:#000000">async</strong> <span>Task</span> <strong style="color:#990000">CreateToDo</strong><span>(</span><span>EventHandlerExecutingContext</span> <span>context</span><span>)</span></span>
<span>    <span>&#123;</span></span>
<span>        <strong style="color:#445588">var</strong> <span>todo</span> <span>=</span> <span>context</span><span>.</span><span>Source</span><span>;</span></span>
<span>        <span>_logger</span><span>.</span><strong style="color:#990000">LogInformation</strong><span>(</span><span style="color:#dd2200">"åˆ›å»ºä¸€ä¸ª ToDoï¼š&#123;Name&#125;"</span><span>,</span> <span>todo</span><span>.</span><span>Payload</span><span>);</span></span>
<span>        <strong style="color:#000000">await</strong> <span>Task</span><span>.</span><span>CompletedTask</span><span>;</span></span>
<span>    <span>&#125;</span></span>
<span><span>&#125;</span></span></pre> 
 </div> 
</div> 
<ol start="2"> 
 <li>åˆ›å»ºæ§åˆ¶å™¨<span>Â </span><code>ToDoController</code>ï¼Œä¾èµ–æ³¨å…¥<span>Â </span><code>IEventPublisher</code><span>Â </span>æœåŠ¡ï¼š</li> 
</ol> 
<div style="text-align:left"> 
 <div> 
  <pre><span><strong style="color:#000000">public</strong> <strong style="color:#000000">class</strong> <strong style="color:#445588">ToDoController</strong> <span>:</span> <span>ControllerBase</span></span>
<span><span>&#123;</span></span>
<span>    <span style="color:#888888">// ä¾èµ–æ³¨å…¥äº‹ä»¶å‘å¸ƒè€… IEventPublisher</span></span>
<span>    <strong style="color:#000000">private</strong> <strong style="color:#000000">readonly</strong> <span>IEventPublisher</span> <span>_eventPublisher</span><span>;</span></span>
<span>    <strong style="color:#000000">public</strong> <strong style="color:#990000">ToDoController</strong><span>(</span><span>IEventPublisher</span> <span>eventPublisher</span><span>)</span></span>
<span>    <span>&#123;</span></span>
<span>        <span>_eventPublisher</span> <span>=</span> <span>eventPublisher</span><span>;</span></span>
<span>    <span>&#125;</span></span>

<span>    <span style="color:#888888">// å‘å¸ƒ ToDo:Create æ¶ˆæ¯</span></span>
<span>    <strong style="color:#000000">public</strong> <strong style="color:#000000">async</strong> <span>Task</span> <strong style="color:#990000">CreateDoTo</strong><span>(</span><strong style="color:#445588">string</strong> <span>name</span><span>)</span></span>
<span>    <span>&#123;</span></span>
<span>        <strong style="color:#000000">await</strong> <span>_eventPublisher</span><span>.</span><strong style="color:#990000">PublishAsync</strong><span>(</span><strong style="color:#000000">new</strong> <strong style="color:#990000">ChannelEventSource</strong><span>(</span><span style="color:#dd2200">"ToDo:Create"</span><span>,</span> <span>name</span><span>));</span></span>
<span>    <span>&#125;</span></span>
<span><span>&#125;</span></span></pre> 
 </div> 
</div> 
<ol start="3"> 
 <li>åœ¨<span>Â </span><code>Startup.cs</code><span>Â </span>æ³¨å†Œ<span>Â </span><code>EventBus</code><span>Â </span>æœåŠ¡ï¼š</li> 
</ol> 
<div style="text-align:left"> 
 <div> 
  <pre><span><span style="color:#888888">// æ³¨å†Œ EventBus æœåŠ¡</span></span>
<span><span>services</span><span>.</span><strong style="color:#990000">AddEventBus</strong><span>(</span><span>buidler</span> <span>=></span></span>
<span><span>&#123;</span></span>
<span>    <span style="color:#888888">// æ³¨å†Œ ToDo äº‹ä»¶è®¢é˜…è€…</span></span>
<span>    <span>buidler</span><span>.</span><span>AddSubscriber</span><span><</span><span>ToDoEventSubscriber</span><span>>();</span></span>
<span><span>&#125;);</span></span></pre> 
 </div> 
</div> 
<ol start="4"> 
 <li>è¿è¡Œé¡¹ç›®ï¼š</li> 
</ol> 
<div style="text-align:left"> 
 <div> 
  <pre><span>info: Jaina.Samples.ToDoEventSubscriber[0]</span>
<span>      åˆ›å»ºä¸€ä¸ª ToDoï¼šJaina</span></pre> 
 </div> 
</div> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left"><a href="https://gitee.com/dotnetchina/Jaina/blob/master/docs">æ›´å¤šæ–‡æ¡£</a></p> 
<h2 style="margin-left:0; margin-right:0; text-align:left">æ–‡æ¡£</h2> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">æ‚¨å¯ä»¥åœ¨<a href="https://gitee.com/dotnetchina/Jaina/blob/master/docs">ä¸»é¡µ</a>æ‰¾åˆ° Jaina æ–‡æ¡£ã€‚</p> 
<h2 style="margin-left:0; margin-right:0; text-align:left">è´¡çŒ®</h2> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">è¯¥å­˜å‚¨åº“çš„ä¸»è¦ç›®çš„æ˜¯ç»§ç»­å‘å±• Jaina æ ¸å¿ƒï¼Œä½¿å…¶æ›´å¿«ã€æ›´æ˜“äºä½¿ç”¨ã€‚Jaina çš„å¼€å‘åœ¨<span>Â </span><a href="https://gitee.com/dotnetchina/Jaina">Gitee</a><span>Â </span>ä¸Šå…¬å¼€è¿›è¡Œï¼Œæˆ‘ä»¬æ„Ÿè°¢ç¤¾åŒºè´¡çŒ®é”™è¯¯ä¿®å¤å’Œæ”¹è¿›ã€‚</p> 
<h2 style="margin-left:0; margin-right:0; text-align:left">è®¸å¯è¯</h2> 
<p style="color:#40485b; margin-left:0; margin-right:0; text-align:left">Jaina é‡‡ç”¨<span>Â </span><a href="https://gitee.com/dotnetchina/Jaina/blob/master/LICENSE">MulanPSL-2.0</a><span>Â </span>å¼€æºè®¸å¯è¯ã€‚</p> 
<div style="text-align:left"> 
 <div> 
  <pre><span>Copyright (c) 2020-2021 ç™¾å°åƒ§, Baiqian Co.,Ltd.</span>
<span>Jaina is licensed under Mulan PSL v2.</span>
<span>You can use this software according to the terms andconditions of the Mulan PSL v2.</span>
<span>You may obtain a copy of Mulan PSL v2 at:</span>
<span>            https://gitee.com/dotnetchina/Jaina/blob/master/LICENSE</span>
<span>THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUTWARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED,INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.</span>
<span>See the Mulan PSL v2 for more details.</span></pre> 
 </div> 
</div> 
<h3>ğŸ”” æœ¬æœŸæ›´æ–°</h3> 
<blockquote> 
 <ul> 
  <li>[ä¿®å¤] å–æ¶ˆå¼‚æ­¥ä»»åŠ¡å¯¼è‡´<span>Â </span><code>EventBus</code><span>Â </span>æœåŠ¡åœæ­¢</li> 
  <li>[ä¿®å¤] ç©ºäº‹ä»¶æºæˆ–ç©ºäº‹ä»¶<span>Â </span><code>Id</code><span>Â </span>å¯¼è‡´ç©ºå¼•ç”¨å¼‚å¸¸</li> 
  <li>[ä¿®å¤] å–æ¶ˆä»»åŠ¡ä¹‹åï¼Œå…¶ä»–å…³è”ä»»åŠ¡ä¾æ—§æ‰§è¡Œ</li> 
 </ul> 
</blockquote>
                                        </div>
                                      
</div>
            