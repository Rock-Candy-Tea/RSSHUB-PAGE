
---
title: 'Git 2.35 发布'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=8365'
author: 开源中国
comments: false
date: Tue, 25 Jan 2022 07:56:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=8365'
---

<div>   
<div class="content">
                                                                                            <p>Git 2.35 发布了，该版本包含来自超过 93 个贡献者的特性和错误修复，其中 35 个是新贡献者。</p> 
<p>该版本的亮眼功能如下：</p> 
<ul> 
 <li><code>git stash</code>拥有新的<code>--staged</code>模式，可以很容易地把放在暂存区的更改隐藏起来，以供以后复用。--staged 支持使用任何工具选择要隐藏的更改。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F9b96d91e94dabe32627eb1bf17edf057c6ef8e5c...a8a6e0682d1749b646aabbaad571ee5dc3634026" target="_blank">【源代码】</a></li> 
 <li><code>git log</code> 有一组丰富的 <code>--format</code> 选项，可以使用它们来自定义 git log 的输出。在修饰终端时会很方便，对于围绕 git log 的输出编写脚本更有帮助。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F832ec72c3e15820c3b728b3a56398655d7bb7cb3...eccd97d0b02a87db0b0e828dd4f0b441c5462a9c" target="_blank">【源代码】</a></li> 
 <li>对 <a href="https://www.oschina.net/news/169103/git-2-34-released"><strong>Git 2.34 </strong></a><strong>中引入的 SSH 密匙功能作了一些增强，</strong>Git 2.35 版本可以利用 OpenSSH 的 valid-before 和 valid-after 指令，确保正在验证的对象使用有效的签名进行签名。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F3770c21be99a1e387794ec21e9bfeb3c640376b6...50992f96c546ebdc0c149660f6baa948739888d9" target="_blank">【源代码】</a> 此外，Git 2.35 还支持 <code>user.signingKey</code> 配置中的新密钥类型，比如可以使用不以“ssh-”开头的密钥类型指定文字 SSH 密钥（如 ECDSA 密钥）。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fd2f0b7275998ebeaa15e48ce0180c466e1d77ec4...3b4b5a793a36d1e92114ff929eb7d15d55d45a96" target="_blank">【源代码】</a></li> 
 <li>在 Git 2.35 中，<code>--histogram</code>性能得到了很好的提升。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcomprae%2F69a9c10c95e28df457e33b3c7400b16caf2e2962...1e45db12141789c084e96a46adcf70858f05a1bc" target="_blank">【源代码】</a></li> 
 <li>优化了用于处理合并冲突的的 <code>merge.conflictStyle</code> 设置，之前它有 “merge” 和 “diff3” 两种模式，Git 2.35 引入了一种<strong>新模式 “zdiff3”</strong> ，这个模式会将冲突部分前后相同的代码行移走。举个例子：</li> 
</ul> 
<p><span style="color:#2f363d">假设有一个带有占位符注释的列表，我们合并了两个分支，每个分支都添加不同的内容来填充占位符：</span></p> 
<pre><code>1,
foo,
bar,
<<<<<<< HEAD
=======
quux,
woot,
>>>>>>> side
baz,
3,</code></pre> 
<p><span style="background-color:#ffffff; color:#2f363d">使用 diff3 模式的冲突标记会则会显示合并基础和双方的全部内容：</span></p> 
<pre><code>1,
<<<<<<< HEAD
foo,
bar,
baz,
||||||| 60c6bd0
# add more here
=======
foo,
bar,
quux,
woot,
baz,
>>>>>>> side
3,</code></pre> 
<p>请注意，双方都在开头添加“foo”和“bar”，在末尾添加“baz”。那么，当我们使用 zdiff3 模式的冲突标记，则会将“foo”和“bar”完全移出冲突区域，让合并结果更准确（包括合并基础）也更简洁（处理了合并冲突的冗余部分）</p> 
<p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F62329d336f5d427d8f08035798bf62cd7d8fd847...ddfc44a898a58311392a5329687a1813d6b94779" target="_blank">【源代码】</a></p> 
<ul> 
 <li style="text-align:left"><span><span><span><span style="color:#2f363d"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>在 Git 2.35 中，<code>git jump merge</code>学习了如何使用路径规范来缩小合并冲突的范围。因此，如果你正在解决一个大的合并冲突，但只想处理特定部分，可以运行：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></li> 
</ul> 
<pre style="text-align:left"><span><span><span><span><span><span><span style="background-color:#f6f8fa"><span style="color:#24292e"><span><span><span><span><span><span><span><span><span><span><span><span><code class="language-ShellSession">$ git jump merge -- foo</code></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></pre> 
<p><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fa9c84980d0e55fa7802be4b02b12801ed7cd06d6...67ba13e5a4b27785391a0e1673d71e506edae13b" target="_blank">【源代码】</a></p> 
<ul> 
 <li>Git 2.35 继续努力标准化正确的<code>size_t</code>类型来表示对象长度，使得过滤器可以处理大于 4GB 的文件。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fad1260b6c994f7c0f9c259bd39f39979f7f4ecc2...596b5e77c960cc57ad2e68407b298411ec5e8cb8" target="_blank">【源代码】</a></li> 
 <li>可以使用 --empty=<stop|drop|keep> ，指定 git am 在遇到空提交时的行为方式。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fda81d473fcfa67dfbcf0504d2b5225885e51e532...9e7e41bf19ed10469f9adb60669b1699c81b8ea6" target="_blank">【源代码】</a></li> 
 <li>在 Git 2.34 中，稀疏索引被集成到少数命令中，包括 git status、git add 和 git commit。 在 2.35 中，对稀疏索引的命令支持增加到包括 git reset、git diff、git blame、git fetch、git pull 和新模式 git ls-files 的集成。<span style="background-color:#ffffff; color:#2f363d">[</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F4ee5cacc16ee7779017f207e496eeb75b0fa5721...f2a454e0a5e26c0f7b840970f69d195c37b16565" target="_blank">source</a><span style="background-color:#ffffff; color:#2f363d">,<span> </span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2F3f9d5059c66f45ac75dd701b0798d3891150c1e7...add4c864b60766174ad4f74ba7be17e66d61ef16" target="_blank">source</a><span style="background-color:#ffffff; color:#2f363d">,<span> </span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fcompare%2Fb48c69c3c8a0e6e44f31c70677ac40658d8f3439...408c51f0b4b5f978ab3676a7dc8efaffe459bdee" target="_blank">source</a><span style="background-color:#ffffff; color:#2f363d">]</span></li> 
 <li>Reftable 提高具有大量引用的存储库的读写性能。将 reftable 的实现引入 Git 的工作已经进行了很长时间，Git 2.35 附带了 reftable 后端的初始导入，但因为<span style="background-color:#ffffff; color:#2f363d">新的后端还没有与 refs 集成，所以还不能开始使用 reftable。</span></li> 
</ul> 
<p>除上述改动外，Git 2.35 还包含其他更新项，可在<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fgit%2Fgit%2Fblob%2Fv2.35.0%2FDocumentation%2FRelNotes%2F2.35.0.txt" target="_blank">更新公告</a>中查看更多细节。 </p>
                                        </div>
                                      
</div>
            