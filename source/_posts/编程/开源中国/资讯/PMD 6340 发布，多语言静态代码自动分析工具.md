
---
title: 'PMD 6.34.0 发布，多语言静态代码自动分析工具'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=552'
author: 开源中国
comments: false
date: Mon, 26 Apr 2021 07:16:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=552'
---

<div>   
<div class="content">
                                                                    
                                                        <p>PMD 是一个代码分析器，能够帮助发现常见的编程问题，比如未使用的变量、空的 catch 块、不必要的对象创建等等。最初仅支持 Java 代码，目前还可支持 JavaScript、<a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fsalesforce.com%2F">Salesforce.com</a> Apex 和 Visualforce、PLSQL、Apache Velocity、XML 和 XSL 。</p> 
<p>PMD 6.34.0 正式发布，本次更新内容如下：</p> 
<p>新规则</p> 
<ul> 
 <li>新的 Java 规则 <code>UseStandardCharsets</code> 可以查看 <code>Charset.forName.</code> 的使用情况，因此可以使用 <code>StandardCharsets</code> 来代替，该规则也是 Java 快速启动规则集（ <code>rulesets/java/quickstart.xml</code>）的一部分；</li> 
 <li>新的 Java 规则 <code>UnnecessaryImport</code> 取代了以下规则 <code>UnusedImports</code>、 <code>DuplicateImports</code>、 <code>ImportFromSamePackage</code> 和 <code>DontImportJavaLang</code>，该规则也是 Java 快速启动规则集（ <code>rulesets/java/quickstart.xml</code>）的一部分；</li> 
</ul> 
<p>修改后的规则</p> 
<ul> 
 <li>Apex 规则 <code>ApexCRUDViolation</code> 不再忽略 getters，并且还标记了 SOQL/SOSL/DML 操作在 getters 中没有访问许可检查。这对于 VF getter 方法将产生误报，但我们无法可靠地检测一个 getter 是否是 VF getter。在这种情况下，违规行为应该被制止。</li> 
</ul> 
<p>废弃的规则</p> 
<ul> 
 <li>java-bestpractices 
  <ul> 
   <li><code>UnusedImports</code>: 使用 <code>UnnecessaryImport</code> 规则代替</li> 
  </ul> </li> 
 <li>java-codestyle 
  <ul> 
   <li><code>DuplicateImports</code>：使用 <code>UnnecessaryImport</code> 规则来代替。</li> 
   <li><code>DontImportJavaLang</code>：使用 <code>UnnecessaryImport</code> 规则来代替。</li> 
  </ul> </li> 
 <li>java-errorprone 
  <ul> 
   <li><code>ImportFromSamePackage</code>：使用 <code>UnnecessaryImport</code> 规则来代替。</li> 
  </ul> </li> 
</ul> 
<p>修正的问题</p> 
<ul> 
 <li>apex-performance 
  <ul> 
   <li>OperationWithLimitsInLoopRule: 支持更多限制消耗的静态方法调用</li> 
  </ul> </li> 
 <li>apex-security 
  <ul> 
   <li>ApexCRUDViolationRule 未能报告 COUNT() 查询中的 CRUD 违规情况；</li> 
   <li>ApexCRUDViolationRule 在非 VF getter 上误报；</li> 
  </ul> </li> 
 <li>java-bestpractices 
  <ul> 
   <li>使用 <code>StandardCharsets</code> 而不是 <code>Charset.forName</code>；</li> 
   <li>UnusedAssignment 在有嵌套记录时崩溃；</li> 
  </ul> </li> 
 <li>java-codestyle 
  <ul> 
   <li>新规则 UnnecessaryImport，弃用 DuplicateImports、 ImportFromSamePackage、UnusedImports；</li> 
  </ul> </li> 
 <li>java-errorprone 
  <ul> 
   <li>CloseResource: 支持 Lombok 注解；</li> 
   <li>CheckSkipResult: 使用模式绑定时的 NPE；</li> 
  </ul> </li> 
</ul> 
<p>更多详情可查看：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgithub.com%2Fpmd%2Fpmd%2Freleases%2Ftag%2Fpmd_releases%252F6.34.0" target="_blank">https://github.com/pmd/pmd/releases/tag/pmd_releases%2F6.34.0</a></p>
                                        </div>
                                      
</div>
            