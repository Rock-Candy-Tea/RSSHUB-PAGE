
---
title: '苞米豆-多数据源 3.4.0 发布：本地多数据源事务优化'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=7356'
author: 开源中国
comments: false
date: Thu, 10 Jun 2021 12:33:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=7356'
---

<div>   
<div class="content">
                                                                    
                                                        <p><span style="background-color:#ffffff; color:#333333">dynamic-datasource是一款极其简单的基于spring-boot的多数据源组件，可以方便快速的让你的系统支持多数据源。</span></p> 
<p><a href="https://gitee.com/baomidou/dynamic-datasource-spring-boot-starter">https://gitee.com/baomidou/dynamic-datasource-spring-boot-starter</a></p> 
<h1 style="text-align:left">特性</h1> 
<ul> 
 <li>支持 <strong>数据源分组</strong> ，适用于多种场景 纯粹多库 读写分离 一主多从 混合模式。</li> 
 <li>支持数据库敏感配置信息 <strong>加密</strong> ENC()。</li> 
 <li>支持每个数据库独立初始化表结构schema和数据库database。</li> 
 <li>支持无数据源启动，支持懒加载数据源（需要的时候再创建连接）。</li> 
 <li>支持 <strong>自定义注解</strong> ，需继承DS(3.2.0+)。</li> 
 <li>提供并简化对Druid，HikariCp，BeeCp,Dbcp2的快速集成。</li> 
 <li>提供对Mybatis-Plus，Quartz，ShardingJdbc，P6sy，Jndi等组件的集成方案。</li> 
 <li>提供 <strong>自定义数据源来源</strong> 方案（如全从数据库加载）。</li> 
 <li>提供项目启动后 <strong>动态增加移除数据源</strong> 方案。</li> 
 <li>提供Mybatis环境下的 <strong>纯读写分离</strong> 方案。</li> 
 <li>提供使用 <strong>spel动态参数</strong> 解析数据源方案。内置spel，session，header，支持自定义。</li> 
 <li>支持 <strong>多层数据源嵌套切换</strong> 。（ServiceA >>> ServiceB >>> ServiceC）。</li> 
 <li>提供 <strong>基于seata的分布式事务方案。</strong> 附：不支持原生spring事务。</li> 
 <li>提供 <strong>本地多数据源事务方案。</strong> 附：不支持原生spring事务。</li> 
</ul> 
<h1 style="text-align:start">v3.4.0</h1> 
<ul> 
 <li>fix: 修复非默认连接池创建器创建的数据源关闭失败问题。</li> 
 <li>fix: 修复连接池创建器创建的数据源lazy空指针问题。</li> 
 <li>fix: 修复本地事务，使用默认数据源不加DS空指针问题。</li> 
 <li>feat: 新增一个DynamicDataSourcePropertiesCustomizer 以支持参数扩展。</li> 
 <li>feat: breake change，支持同时从多个来源初始化数据源。</li> 
 <li>feat: 新增一个DynamicDatasourceNamedInterceptor 以支持手动配置切面。</li> 
</ul> 
<h1 style="text-align:start">v3.3.6 (稳定版建议使用)</h1> 
<ul> 
 <li>fix: 部分用户反馈强依赖DBCP。</li> 
 <li>feat: beecp和dbcp的创建根据反射重构。</li> 
 <li>style: 移除没用的stringUtils。</li> 
 <li>style: 增加些许注释。</li> 
</ul> 
<h1 style="text-align:start">v3.3.5</h1> 
<ul> 
 <li>fix: 修复上个版本BeeCp判断存在误用HIkaricp地址的错误。</li> 
 <li>feat: 新增dbcp2连接池支持。</li> 
 <li>fix: ItemDataSource的wrap修复，获得真实连接。</li> 
 <li>style: 移除HIkaricp无用的配置。</li> 
</ul> 
<h1 style="text-align:start">v3.3.4</h1> 
<ul> 
 <li>fix: 修复上个版本更改Advisor引起的数据源不能切换严重错误。</li> 
 <li>feat: 新增beecp连接池支持。</li> 
 <li>fix: ItemDataSource的wrap修复，获得真实连接。</li> 
</ul> 
<h1 style="text-align:start">v3.3.3 严重BUG版本不能使用</h1> 
<ul> 
 <li>feat:重要更新-Druid不用再手动排除。</li> 
 <li>spel解析新增beanFactory。</li> 
</ul> 
<h1 style="text-align:start">v3.3.2 (稳定版建议使用)</h1> 
<ul> 
 <li>feat:重要更新-支持无数据源启动，支持配置懒启动数据源。</li> 
 <li>refactor:重要更新-Druid不再默认启动wall的filter。</li> 
 <li>refactor:重要更新-DataSourceCreator移除含有publicKey的方法，由DefaultDataSourceCreator传递。</li> 
 <li>refactor:DefaultDataSourceCreator独立不继承DataSourceCreator。</li> 
 <li>refactor:简化本地事务ThreadLocal。</li> 
 <li>feat: 健康检查优化。</li> 
 <li>style:license format。</li> 
 <li>chore:remove travis</li> 
</ul>
                                        </div>
                                      
</div>
            