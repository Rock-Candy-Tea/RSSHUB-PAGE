
---
title: 'PostgreSQL 14.2, 13.6, 12.10, 11.15 和 10.20 发布'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://picsum.photos/400/300?random=4006'
author: 开源中国
comments: false
date: Sun, 13 Feb 2022 07:37:00 GMT
thumbnail: 'https://picsum.photos/400/300?random=4006'
---

<div>   
<div class="content">
                                                                                            <p>PostgreSQL 全球开发组针对当前所有被支持版本发布了一次更新，版本包括：PostgreSQL 14.2, 13.6, 12.10, 11.15 和 10.20。此次更新修复了超过 55 个错误，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fabout%2Fnews%2Fpostgresql-142-136-1210-1115-and-1020-released-2402%2F" target="_blank">可查看发行说明</a>获取完整变更列表。</p> 
<p>下面的列出的问题会影响 PostgreSQL 14，其中一些问题也可能会影响其他受支持的 PostgreSQL 版本：</p> 
<ul> 
 <li>修复了在<code>VACUUM</code>期间 HOT<span style="background-color:#ffffff; color:#0d0a0b"><span> </span>(</span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fgit.postgresql.org%2Fgitweb%2F%3Fp%3Dpostgresql.git%3Ba%3Dblob%3Bf%3Dsrc%2Fbackend%2Faccess%2Fheap%2FREADME.HOT%3Bhb%3DHEAD" target="_blank">heap-only tuple</a><span style="background-color:#ffffff; color:#0d0a0b">) </span>链改变状态时索引损坏的低概率问题。虽然遇到这种问题的可能性不大，但如果担心，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-reindex.html" target="_blank">可考虑重新索引</a>。</li> 
 <li>修复在 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fstorage-toast.html" target="_blank">TOAST</a> 表索引上使用<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-reindex.html" target="_blank"><code>REINDEX CONCURRENTLY</code></a>以防止损坏的问题，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-reindex.html" target="_blank">可通过再次重新索引</a>它们来修复任何 TOAST 索引 。</li> 
 <li><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fapp-psql.html" target="_blank"><code>psql</code></a><span style="background-color:#ffffff; color:#0d0a0b"><span> </span></span><code>\password</code>命令现在默认为 CURRENT_USER 所定义的角色设置密码。此外，角色名称现在包括在密码提示中。</li> 
 <li>为分区表构建扩展统计信息。如果之前向分区表添加了扩展统计信息，则应该在这些表上运行<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-analyze.html" target="_blank"><code>ANALYZE</code></a>。由于<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Froutine-vacuuming.html%23AUTOVACUUM" target="_blank"><code>autovacuum</code></a>目前不处理分区表，因此必须定期在任何分区表上运行<code>ANALYZE</code>以更新其统计信息。</li> 
 <li>修复当统计对象同时被删除时<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-alterstatistics.html" target="_blank"><code>ALTER STATISTICS</code></a>的崩溃。</li> 
 <li>修复提取可变长度数据类型时<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Frangetypes.html" target="_blank">多范围崩溃的问题。</a></li> 
 <li>对导致不正确查询结果的查询计划器的若干修复。</li> 
 <li>对 <span style="background-color:#ffffff; color:#0d0a0b">query plan<span> </span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fruntime-config-query.html%23GUC-ENABLE-MEMOIZE" target="_blank">memoization</a><span style="color:#0d0a0b"> 的若干修复</span></li> 
 <li>修复物理副本的启动以容忍事务 ID 环绕</li> 
 <li>使用逻辑复制时，当发布包括子表和父表时，避免重复传输分区表的数据。</li> 
 <li>当分区表的行类型在别处用作复合类型时，不允许更改分区表列的数据类型。</li> 
 <li>不允许<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-altertable.html" target="_blank"><code>ALTER TABLE ... DROP NOT NULL</code></a>作为副本标识索引一部分的列。</li> 
 <li>多个缓存修复，可纠正逻辑复制行为并提高性能。</li> 
 <li>修复更新表达式索引时的内存泄漏。</li> 
 <li>避免在<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fsql-reassign-owned.html" target="_blank"><code>REASSIGN OWNED BY</code></a>操作中泄漏内存，这些操作重新分配了许多对象的所有权。</li> 
 <li>修复出现在<code>INSERT ... VALUES</code>规则中的整行变量的显示。</li> 
 <li>修复可能导致无法本地化在多线程使用 libpq 或 ecpglib 中早期报告的错误消息的竞争条件。</li> 
 <li>修复用于识别父触发器的命令<span style="background-color:#ffffff; color:#0d0a0b"><span> </span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fapp-psql.html" target="_blank"><code>psql</code></a><span style="background-color:#ffffff; color:#0d0a0b"><span> </span></span><code>\d</code></li> 
 <li>修复使用终端作为数据源或目标时 Windows 上的故障。这影响了 psql<code>\copy</code>命令和使用用 <a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fapp-pgrecvlogical.html" target="_blank"><code>pg_recvlogical</code></a> with <code>-f -</code>。</li> 
 <li>修复<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fapp-pgdump.html" target="_blank"><code>pg_dump</code></a><span style="background-color:#ffffff; color:#0d0a0b"><span> </span></span><code>--inserts</code><span style="background-color:#ffffff; color:#0d0a0b"><span> 和</span><span> </span></span><code>--column-inserts</code>模式以处理包含生成和删除列的表。</li> 
 <li>修正<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdocs%2Fcurrent%2Fpostgres-fdw.html" target="_blank"><code>postgres_fdw</code></a>处理异步查询的边缘情况。这些错误可能导致崩溃或在试图运行外域表的并行扫描时出现不正确的结果。</li> 
</ul> 
<p style="text-align:left"><span><span><span style="color:#0d0a0b"><span><span><span><span><span><span><span><span><span><span><span><span style="background-color:#ffffff"><span><span><span>下载地址：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.postgresql.org%2Fdownload%2F" target="_blank">https://www.postgresql.org/download/</a></p>
                                        </div>
                                      
</div>
            