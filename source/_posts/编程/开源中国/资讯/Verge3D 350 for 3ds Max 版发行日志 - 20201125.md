
---
title: 'Verge3D 3.5.0 for 3ds Max 版发行日志 - 2020.11.25'
categories: 
 - 编程
 - 开源中国
 - 资讯
headimg: 'https://cdn.funjoy.tech/web/blog/arcade-racing-small.jpg'
author: 开源中国
comments: false
date: Sat, 11 Dec 2021 23:41:00 GMT
thumbnail: 'https://cdn.funjoy.tech/web/blog/arcade-racing-small.jpg'
---

<div>   
<div class="content">
                                                                                            <h1 style="margin-left:0px; margin-right:0px; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3Dverge3d-350-for-3ds-max%25e7%2589%2588%25e5%258f%2591%25e8%25a1%258c%25e6%2597%25a5%25e5%25bf%2597" target="_blank"><span style="color:#34495e">Verge3D 3.5.0 for 3ds Max版发行日志</span></a></h1> 
<blockquote> 
 <p style="margin-left:0; margin-right:0">发布日期：2020-11-25</p> 
</blockquote> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">期待已久的Verge 3.5 for 3ds Max版本发布了。这是一个添加了无数新功能的大版本更新：其中最重要的包括Verge3D插件系统、柔体模拟、物理约束、镜面反射工作流、融球、高级鼠标控制，以及许多用户要求的新拼图等。我们还在此次发行版中随附了一个新的游戏案例。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e8%25a1%2597%25e6%259c%25ba%25e8%25b5%259b%25e8%25bd%25a6" target="_blank"><span style="color:#34495e">街机赛车</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">Arcade Racing案例充分展示了Verge3D物理引擎的特性，这是一个复古风的游戏，具备完整的世界交互与高级车辆物理特性，适配了移动端的控制与音效。<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcdn.soft8soft.com%2Fdemo%2Fapplications%2Farcade_racing%2Farcade_racing.html" target="_blank">点击这里体验！</a></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/arcade-racing-small.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">查看下文，了解关于物理引擎的诸多特性详细介绍。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3Dverge3d%25e6%258f%2592%25e4%25bb%25b6" target="_blank"><span style="color:#34495e">Verge3D插件</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">您现在可以为Verge3D添加新的功能，并将其转换为拼图以方便调用。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/verge3d-plugins-puzzle-example.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">添加您自己的拼图是最直接的方式。首先，您需要在<span> </span><strong style="color:#2c3e50">puzzles/plugins</strong><span> </span>目录下创建一个新的文件夹，并在其中放置一个名为<span> </span><code>init.plug</code><span> </span>的XML文件。这样，您的拼图编辑器的工具箱里就有了一个新的拼图类目。</p> 
<pre style="margin-left:0; margin-right:0; text-align:start"><code><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252"><</span>category</span> <span style="color:#2973b7">name</span><span style="color:var(--theme-color,#42b983)"><span style="color:#525252">=</span><span style="color:#525252">"</span>My Puzzles<span style="color:#525252">"</span></span> <span style="color:#2973b7">colour</span><span style="color:var(--theme-color,#42b983)"><span style="color:#525252">=</span><span style="color:#525252">"</span>green<span style="color:#525252">"</span></span><span style="color:#525252">></span></span>
    <span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252"><</span>block</span> <span style="color:#2973b7">type</span><span style="color:var(--theme-color,#42b983)"><span style="color:#525252">=</span><span style="color:#525252">"</span>printHelloWorld<span style="color:#525252">"</span></span><span style="color:#525252">></span></span><span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">
     <!--</span-->block</span><span style="color:#525252">></span></span>
<span style="color:#2973b7"><span style="color:#2973b7"><span style="color:#525252">
      <!--</span-->category</span><span style="color:#525252">></span></span> </span></span></code><span>Copy to clipboard</span><span>Error</span><span>Copied</span></pre> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在同一目录下，您可以为每一个拼图创建一个JavaScript文件以实现其功能，比如，<code>printHelloWorld.block</code>由此，拼图编辑器中将自动拾取这些文件，并插入到工具栏中对应的新类目中。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为帮助您了解并熟悉创建Verge3D插件的方式，我们将“E-commerce” 类目下的四个拼图重置为插件文件（此插件为安装程序中的可选项）。请在此目录<span> </span><strong style="color:#2c3e50">puzzles/plugins/E-commerce</strong><span> </span>下查看。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">请查阅<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fpuzzles%2FPlugins.html" target="_blank">用户手册</a><span> </span>中有关创建Verge3D插件的详细介绍。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e6%259f%2594%25e4%25bd%2593%25e7%2589%25a9%25e7%2590%2586%25e7%2589%25b9%25e6%2580%25a7" target="_blank"><span style="color:#34495e">柔体物理特性</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在之前实现的<span> </span><em>刚体模拟</em><span> </span>的基础上，我们又新实现了<span> </span><em>柔体模拟</em><span> </span>。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为开始使用柔体物理特性，您必须启用<span> </span><strong style="color:#2c3e50">create physics world(创建物理世界)</strong><span> </span>拼图中对应的选项。这样，您就可以通过<span> </span><strong style="color:#2c3e50">create soft body(创建柔体)</strong><span> </span>拼图来改变对应的物体为柔体了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzles-soft-body-physics.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">目前可创建3种类型的柔体——<strong style="color:#2c3e50">ropes</strong>（绳子，任何可延长的，弹性物体）,<span> </span><strong style="color:#2c3e50">patches</strong>（曲面，比如服饰），以及<span> </span><strong style="color:#2c3e50">volumes</strong>（体积，任何可压缩的物体）。此外，柔体也可以使用<span> </span><strong style="color:#2c3e50">anchor soft body(锚定柔体)</strong><span> </span>拼图固定在刚体上，可以实现诸如挂在绳子上的球体这样的案例。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-anchor-soft-body.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">您可以在Verge3D最近更新的官方案<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcdn.soft8soft.com%2FAROAJSY2GOEHMOFUVPIOE%3A27395daced%2Fapplications%2Fphysics%2Fphysics.html" target="_blank">Physics</a><span> </span>中看到柔体模拟的效果。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e7%2589%25a9%25e7%2590%2586%25e7%25ba%25a6%25e6%259d%259f" target="_blank"><span style="color:#34495e">物理约束</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">物理引擎中另一个可用的重要特性是<span> </span><em>约束(constraints)</em><span> </span>。通过使用约束，您可以限制刚体的移动来创造出许多有趣的案例，例如铰链、弹簧、钟摆等。我们也实现了一个用于取消约束的拼图。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-add-constraint-hinge.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在<span> </span><strong style="color:#2c3e50">create rigid body（创建刚体）</strong><span> </span>拼图中增加了空对象碰撞形状（以前称为<span> </span><strong style="color:#2c3e50">create physics body</strong>，创建物理体）。可以通过它来实现用不可见对象实现约束。例如，先创建一个不可见点，再使用铰链约束将刚体附着到此点。再比如，用不可见的点来固定柔体。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-create-rigid-body-empty.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">由上述拼图创建的约束也可以通过JavaScript进行访问，例如：</p> 
<pre style="margin-left:0; margin-right:0; text-align:start"><code>v3d.puzzles.physics.constraints\\['Suzanne'\\]\\['Axis'\\];</code><span>Copy to clipboard</span><span>Error</span><span>Copied</span></pre> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为防止混淆，之前版本中<span> </span><strong style="color:#2c3e50">Physics | 物理</strong><span> </span>类目下的非物理性拼图，已经移到了<span> </span><strong style="color:#2c3e50">Animation | 动画</strong><span> </span>类目下。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">您可以体验<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fcdn.soft8soft.com%2FAROAJSY2GOEHMOFUVPIOE%3A27395daced%2Fapplications%2Fphysics%2Fphysics.html" target="_blank">Physics demo（物理引擎案例）</a><span> </span>来实际体验其中的一些约束。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D_3ds-max%25e9%259b%2586%25e6%2588%2590" target="_blank"><span style="color:#34495e">3ds Max集成</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">添加了禁用摄影机控件的选项。此外，不可用的选项现在显示为灰色。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-camera-settings-disable-controls.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong style="color:#2c3e50">Offset(偏移)</strong>,<strong style="color:#2c3e50">Tilling(平铺)**和</strong>Angle(角度)**设置现在支持凹凸纹理。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-bump-map-settings.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">**Filter color(过滤颜色)**属性现在可以在Verge3D中使用了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-photometric-light-filter-color.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">正交摄影机的Verge3D设置增加了<span> </span><strong style="color:#2c3e50">Min Zoom（最小缩放）</strong><span> </span>和<span> </span><strong style="color:#2c3e50">Max Zoom（最大缩放）</strong>。这些设置对应了透视摄影机中的距离限制。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-camera-ortho-zoom.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">我们还修正了当一个自由（无目标）正射摄影机出现在场景时导出器崩溃的情况。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">添加了禁用抗锯齿的选项。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-export-settings-AA-none.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><strong style="color:#2c3e50">OSL Blackbody</strong>贴图可以被Verge3D支持了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-osl-map-blackbody.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">增加了一个可以从所有场景中清除Verge3D设置的按钮。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/max-verge3d-cleanup-scene.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">此外，卸载过程的更稳定了，可执行插件路径、Verge3D菜单和脚本的清理工作。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">最后，我们修复了由于动画对象缺少自定义Verge3D属性而导致的导出崩溃（谢谢<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Ftopic%2Fexport-error-3dsmax-verge-3-4%2F" target="_blank">反馈</a>）。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e9%25bc%25a0%25e6%25a0%2587%25e6%258e%25a7%25e5%2588%25b6" target="_blank"><span style="color:#34495e">鼠标控制</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">双击、左/中/右键点击检车以及添加到<span> </span><strong style="color:#2c3e50">when clicked（当点击时）</strong><span> </span>拼图中。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-when-clicked-mouse-event-options.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">此外，在拼图<span> </span><strong style="color:#2c3e50">when clicked（当点击时）</strong><span> </span>和<span> </span><strong style="color:#2c3e50">when hovered（当悬停时）</strong><span> </span>的选项中添加了 x-ray 选项。如果启用，这些拼图将可以与其他对象重叠的对象交互。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzles-when-clicked-when-dragged-xray.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">当被点击或悬停的对象位于半透明表面的后面，或在被渲染为贴花或不按通常的渲染顺序的对象后面时，这个功能可能会派上用场。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e6%258b%25bc%25e5%259b%25be%25e7%259a%2584%25e5%258f%25af%25e7%2594%25a8%25e6%2580%25a7%25e6%2594%25b9%25e8%25bf%259b" target="_blank"><span style="color:#34495e">拼图的可用性改进</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为选择器拼图添加了一些有趣的图标——对象、材质、组、动画、声音和视频——这样就更容易一眼看明白对象的类别了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzles-selectors-icons.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为大部分拼图添加了默认的“影子”输入节点，以减少您打开工具箱拖拽拼图的频率。但您依然可以用任何适合的拼图来替换这些“影子”。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzles-input-types.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在Advanced(高级)类目中，新增了一个用来作为代码注释的拼图块 Commentaries(注释) 。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-comment.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">除了让您的拼图场景更加清楚，这些拼图块将被转换为实际的JavaScript代码代码以方便调试时阅读。此外，Advanced(高级)类目的颜色更改为蓝色。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">减小了<span> </span><strong style="color:#2c3e50">multi-line(多行)</strong><span> </span>拼图的最大高度，以适应大多数屏幕的分辨率。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e6%2596%25b0%25e6%258b%25bc%25e5%259b%25be" target="_blank"><span style="color:#34495e">新拼图</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">新增了拼图块：<strong style="color:#2c3e50">in list check occurrence of item(在列表中检查项目的出现情况)</strong><span> </span>。通过此拼图您可以轻松找到列表中是否包含某项目。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-list-check-occurence.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">另一个新拼图块是：<strong style="color:#2c3e50">get animation frame(获取动画帧)</strong><span> </span>。您可以使用它来从动画中获取当前播放的帧。例如，当您想将动画从某一帧暂停，然后再反向播放时，这个拼图将会非常有用。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-get-anim-frame.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">新增了控制灯光的拼图：<strong style="color:#2c3e50">get light param(获取灯光参数)</strong><span> </span>和 **set light param(设置灯光参数)**。您可以用它们来取回及改变灯光的颜色和强度。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzles-set-get-light-param.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">新增了一个用于加快或降低音、视频片段回放速度的拼图。此外，这个拼图还可以用来模拟赛车游戏中的汽车引擎加速。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-set-playback-rate.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">Advanced(高级)类目中新增了 JavaScript object(JavaScript对象) 的拼图：顶层的<span> </span><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWindow" target="_blank">窗口</a></em><span> </span>对象，内置的<span> </span><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FFunctions%2Farguments" target="_blank">arguments</a></em><span> </span>数组和<span> </span><em><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FJavaScript%2FReference%2FOperators%2Fthis" target="_blank">this</a></em><span> </span>关键字。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-javascript-object.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">参见<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fpuzzles%2FAdvanced.html%23javascript_object" target="_blank">参考页面</a><span> </span>了解用法和示例。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3Dhtml%25e6%258b%25bc%25e5%259b%25be" target="_blank"><span style="color:#34495e">HTML拼图</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">新增<span> </span><strong style="color:#2c3e50">create CSS rule(创建CSS规则)</strong><span> </span>拼图。特别是，你可以用这个拼图创建新的类，把它们应用于HTML元素。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-create-CSS-rule.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">拼图 add HTML element(添加HTML元素) 不再自动设置<span> </span><strong style="color:#2c3e50">position(位置)</strong><span> </span>为<span> </span><strong style="color:#2c3e50">absolute(绝对值)</strong><span> </span>。如果您依赖此功能，请仔细检查应用。我们还为这个拼图的输入添加了一个默认的<span> </span><strong style="color:#2c3e50">文本</strong>（见上方截图）。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">拼图对<span> </span><strong style="color:#2c3e50">set/get attr(设置/获取属性)</strong><span> </span>被重新命名为<span> </span><strong style="color:#2c3e50">set/get prop(设置/获取属性)</strong><span> </span>，以匹配相应的JavaScript方法（请参见上方截图）。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">HTML拼图<span> </span><strong style="color:#2c3e50">get event property(获取事件属性)</strong><span> </span>在下拉列表中新增选项：<strong style="color:#2c3e50">touches.length</strong>,<span> </span><strong style="color:#2c3e50">touches[0].pageX</strong>,<span> </span><strong style="color:#2c3e50">touches[0].pageY</strong>,<span> </span><strong style="color:#2c3e50">touches[1].pageX</strong>, 和<span> </span><strong style="color:#2c3e50">touches[1].pageY</strong><span> </span>。您可以使用这些选项来实现多点触摸控制，如同在本次更新中新增的案例赛车游戏中所示。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-get-event-property-touches.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">此拼图也增加了<span> </span><strong style="color:#2c3e50">code(代码)</strong><span> </span>属性，它是实现键盘控件的现代方法。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-get-event-property-key-code.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">您可以访问<span> </span><a href="https://www.oschina.net/action/GoToLink?url=http%3A%2F%2Fkeycode.info%2F" target="_blank">keycode.info</a><span> </span>网站，按键查看对应代码。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/keycode_info_website.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为<span> </span><strong style="color:#2c3e50">event</strong><span> </span>拼图增加了<span> </span><strong style="color:#2c3e50">focus</strong><span> </span>和<span> </span><strong style="color:#2c3e50">blur</strong><span> </span>事件。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-html-event-blur-focus.jpg" referrerpolicy="no-referrer"></p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e5%2585%25b6%25e4%25bb%2596%25e6%258b%25bc%25e5%259b%25be%25e6%2594%25b9%25e8%25bf%259b" target="_blank"><span style="color:#34495e">其他拼图改进</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为<span> </span><strong style="color:#2c3e50">set object direction(设置对象方向)</strong><span> </span>拼图添加了<span> </span><strong style="color:#2c3e50">point(点)</strong><span> </span>复选框。默认情况下，它是被启用的，以重现旧有的行为。如果禁用此复选框，则该拼图将改为使用方向向量。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-set-obj-direction.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">拼图<span> </span><strong style="color:#2c3e50">clone object(克隆对象)</strong><span> </span>现在可以与<span> </span><strong style="color:#2c3e50">Text(文本)</strong><span> </span>拼图连接了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">现在<span> </span><strong style="color:#2c3e50">performance info(性能信息)</strong><span> </span>拼图中会打印视窗分辨率。这使你能够估计正在处理的实际像素量。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-print-performance-info.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在<span> </span><strong style="color:#2c3e50">get all objects(获取所有对象)</strong><span> </span>拼图中支持选择骨头和空对象了。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-get-objects-bone-empty.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">在<span> </span><strong style="color:#2c3e50">Init | 初始化</strong><span> </span>选项卡中，可以使用<span> </span><strong style="color:#2c3e50">get date time(获取日期时间)</strong>,<span> </span><strong style="color:#2c3e50">open web page(打开网页)</strong>,<span> </span><strong style="color:#2c3e50">social share link(社交分享链接)</strong>,<span> </span><strong style="color:#2c3e50">gamepad index(手戏手柄索引)</strong>,<span> </span><strong style="color:#2c3e50">get gamepad prop(获取游戏手柄属性)</strong><span> </span>拼图了。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3Djavascript%25e6%2596%25b9%25e6%25b3%2595%25e5%2592%258c%25e9%259b%2586%25e6%2588%2590" target="_blank"><span style="color:#34495e">JavaScript方法和集成</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">为App类增加了<span> </span><strong style="color:#2c3e50">onBeforeRender</strong><span> </span>和<span> </span><strong style="color:#2c3e50">onAfterRender</strong><span> </span>事件。因此，您可以注册事件侦听器来检测这些事件，并在每个帧中执行各种操作。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/verge3d-event-on-before-render.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><code>OrbitControls.inTween</code><span> </span>属性现在可以检测或禁用过程性摄影机动画。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/verge3d-controls-in-tween.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">此外，如果摄影机的向上向量不是严格向上的，轨道控制现在也可以正常工作。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">如果与HTML覆盖相关的鼠标控件出现任何问题，现在可以调用了</p> 
<pre style="margin-left:0; margin-right:0; text-align:start"><code>app.controls.forceMouseUp();</code><span>Copy to clipboard</span><span>Error</span><span>Copied</span></pre> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">我们显著地简化了在<span> </span><em>React.js</em><span> </span>和<span> </span><em>Vue.js</em><span> </span>中使用Verge3D的流程，尤其是拼图。还有，<code>V3DApp.createApp()</code><span> </span>方法现在返回一个JavaScript _Promise。_在React中，Verge3D应用现在作为一个单独的组件实现。有关上述更改的更多详细信息，请参阅<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fprogrammers_guide%2FIntegration-with-Reactjs-Vuejs.html" target="_blank">文档</a><span> </span>。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">gltf导出器功能包含在引擎核心和公开的API类<span> </span><code>v3d.GLTFExporter</code><span> </span>中以便更好地与引擎内部集成。因此，在相应的拼图中，可见性(visibility)的问题得到了修复（感谢<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Ftopic%2Fdownload-gltf-puzzle-not-working-with-visibility%2F" target="_blank">反馈</a>）。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e6%259b%25b4%25e5%25a4%259a%25e7%2589%25a9%25e7%2590%2586%25e7%25b3%25bb%25e7%25bb%259f%25e5%258a%259f%25e8%2583%25bd" target="_blank"><span style="color:#34495e">更多物理系统功能</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">我们引入了一个新的物理系统拼图：<strong style="color:#2c3e50">apply body param(应用实体参数)</strong><span> </span>。它取代了旧的<span> </span><strong style="color:#2c3e50">physics body params(物理实体参数)</strong><span> </span>和<span> </span><strong style="color:#2c3e50">apply vector(应用向量)</strong><span> </span>拼图。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/puzzle-physics-apply-param.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">新的拼图可以使用数字或向量。与旧的拼图不同，您可以设置需要更改的单个参数，而不必设置所有参数。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">我们还增加了另一个有用的拼图——<strong style="color:#2c3e50">get body param</strong>(<strong style="color:#2c3e50">获取实体参数</strong>)——用于从与指定对象相关的实体中获取一个参数。此功能可能的用途之一是角色跳跃。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">另一个重要的特性是可以从JavaScript代码访问使用拼图初始化的物理系统世界和实体，例如：</p> 
<pre style="margin-left:0; margin-right:0; text-align:start"><code>v3d.puzzles.physics.world;
v3d.puzzles.physics.bodies;</code><span>Copy to clipboard</span><span>Error</span><span>Copied</span></pre> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">这允许您通过JavaScript代码（如车辆物理系统等）将更多的高级物理系统应用到您的场景中。在下面的简单示例中，您可以将脉冲应用于立方体：</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/verge3d-physics-from-code.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">接下来，引入了新的JavaScript API，用于将自定义物理系统模拟与图形同步：</p> 
<pre style="margin-left:0; margin-right:0; text-align:start"><code>// add obj / body to the sync list
// the type can be 'DYNAMIC', 'KINEMATIC', 'STATIC', 'GHOST', or 'SOFT\\_BODY'
v3d.puzzles.physics.addToSyncList(obj, body, 'DYNAMIC');
 
// remove obj / body from the sync list
v3d.puzzles.physics.removeFromSyncList(obj, body);</code><span>Copy to clipboard</span><span>Error</span><span>Copied</span></pre> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">例如，这些方法可用于实现车辆物理系统。请在<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fpuzzles%2FPhysics.html%23extending_with_javascript" target="_blank">本页</a><span> </span>查看更多详细信息。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">最后，我们更新了Verge3D的物理系统运行时<strong style="color:#2c3e50">AMMO.JS</strong>，包括上游存储库中的最新改进。物理系统引擎可用的内存数量增加到128 Mb，以允许更复杂的物理模拟。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e5%2585%25b6%25e4%25bb%2596%25e6%2594%25b9%25e8%25bf%259b" target="_blank"><span style="color:#34495e">其他改进</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">现在可以为标注指定自定义CSS类。在之前，添加的类会立即被Verge3D重写。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start"><img alt src="https://cdn.funjoy.tech/web/blog/verge3d-annotation-add-class.jpg" referrerpolicy="no-referrer"></p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">我们对以下示例进行了更新和改进：“Elearning”, “Load Unload”, “Augmented Reality”.</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">更新及进一步扩展了以下用户手册页：<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fintroduction%2FFeatures.html" target="_blank">功能特性</a>，<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fblender%2FGLTF-Materials.html" target="_blank">glTF材质</a>和各种拼图参考页面。还有，应用管理器<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fintroduction%2FApp-Manager.html%23App_Manager_Settings" target="_blank">设置</a><span> </span>和<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fintroduction%2FApp-Manager.html%23Templates" target="_blank">模板</a><span> </span>功能被完整地记录在案。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e9%2594%2599%25e8%25af%25af%25e4%25bf%25ae%25e5%25a4%258d" target="_blank"><span style="color:#34495e">错误修复</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">修复了<span> </span><strong style="color:#2c3e50">append scene(附加场景)</strong><span> </span>拼图在某些情况下崩溃的问题。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">修复了一个阻止构建Verge3D旗舰版安装程序的问题。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">修复了拼图编辑器中由多个包含VARS变量代码的<span> </span><strong style="color:#2c3e50">exec script(执行脚本)</strong><span> </span>拼图。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">修复了<span> </span><strong style="color:#2c3e50">detect collision(检测碰撞)</strong><span> </span>拼图对群组对象不起作用的问题。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">拼图<span> </span><strong style="color:#2c3e50">set object direction(设置对象方向)</strong><span> </span>现在可以与多个对象一起工作（感谢<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Ftopic%2Fimproper-display-of-ar-objects-containing-group-dependencies%2F" target="_blank">反馈</a>）。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">修复了物理系统拼图<span> </span><strong style="color:#2c3e50">create rigid body(创造刚体)</strong><span> </span>不适用于运动网格的bug（感谢<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Ftopic%2Fnew-physics-also-changed-the-behavior%2F" target="_blank">反馈</a>）。</p> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">拼图<span> </span><strong style="color:#2c3e50">set factor(设置因子)</strong><span> </span>，<span> </span><strong style="color:#2c3e50">set material value(设定材质值)</strong><span> </span>和<span> </span><strong style="color:#2c3e50">set morph factor(设定变形因子)</strong><span> </span>现在在输入文本值时可用了，如基于HTML的滑块（感谢<a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Ftopic%2Fcontrolling-3d-model-dimensions-with-sliders%2F" target="_blank">反馈</a>）。</p> 
<h2 style="margin-left:.8rem; margin-right:0; text-align:start"><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Ffunjoytech.github.io%2Fverge3d.cn%2F%23%2Freleases_notes%2Fverge3d-3-5-for-max-released%3Fid%3D%25e8%258e%25b7%25e5%258f%2596verge3d-35" target="_blank"><span style="color:#34495e">获取Verge3D 3.5</span></a></h2> 
<p style="color:#34495e; margin-left:0; margin-right:0; text-align:start">欢迎<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fget-verge3d%2F" target="_blank">下载</a><span> </span>新版本并<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fdocs%2Fmanual%2Fzh%2Fintroduction%2FApp-Manager.html%23Update" target="_blank">更新</a><span> </span>您的应用程序！我们很乐意在<span> </span><a href="https://www.oschina.net/action/GoToLink?url=https%3A%2F%2Fwww.soft8soft.com%2Fforums%2F" target="_blank">论坛</a><span> </span>回答您的问题。</p>
                                        </div>
                                      
</div>
            